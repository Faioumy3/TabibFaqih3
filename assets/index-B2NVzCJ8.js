(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function SI(){if(z_)return nu;z_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var B_;function AI(){return B_||(B_=1,Rp.exports=SI()),Rp.exports}var C=AI(),Np={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function xI(){if(q_)return Oe;q_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=T&&H[T]||H["@@iterator"],typeof H=="function"?H:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function z(H,ie,b){this.props=H,this.context=ie,this.refs=L,this.updater=b||k}z.prototype.isReactComponent={},z.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},z.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function K(){}K.prototype=z.prototype;function Y(H,ie,b){this.props=H,this.context=ie,this.refs=L,this.updater=b||k}var le=Y.prototype=new K;le.constructor=Y,U(le,z.prototype),le.isPureReactComponent=!0;var he=Array.isArray;function $(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(H,ie,b){var pe=b.ref;return{$$typeof:t,type:H,key:ie,ref:pe!==void 0?pe:null,props:b}}function O(H,ie){return R(H.type,ie,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(b){return ie[b]})}var P=/\/+/g;function ye(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):ie.toString(36)}function me(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Q(H,ie,b,pe,Ie){var Ce=typeof H;(Ce==="undefined"||Ce==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Ce){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case y:return Ve=H._init,Q(Ve(H._payload),ie,b,pe,Ie)}}if(Ve)return Ie=Ie(H),Ve=pe===""?"."+ye(H,0):pe,he(Ie)?(b="",Ve!=null&&(b=Ve.replace(P,"$&/")+"/"),Q(Ie,ie,b,"",function(pn){return pn})):Ie!=null&&(V(Ie)&&(Ie=O(Ie,b+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(P,"$&/")+"/")+Ve)),ie.push(Ie)),1;Ve=0;var at=pe===""?".":pe+":";if(he(H))for(var tt=0;tt<H.length;tt++)pe=H[tt],Ce=at+ye(pe,tt),Ve+=Q(pe,ie,b,Ce,Ie);else if(tt=A(H),typeof tt=="function")for(H=tt.call(H),tt=0;!(pe=H.next()).done;)pe=pe.value,Ce=at+ye(pe,tt++),Ve+=Q(pe,ie,b,Ce,Ie);else if(Ce==="object"){if(typeof H.then=="function")return Q(me(H),ie,b,pe,Ie);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function X(H,ie,b){if(H==null)return H;var pe=[],Ie=0;return Q(H,pe,"","",function(Ce){return ie.call(b,Ce,Ie++)}),pe}function de(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(b){(H._status===0||H._status===-1)&&(H._status=1,H._result=b)},function(b){(H._status===0||H._status===-1)&&(H._status=2,H._result=b)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var Ee=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},F={map:X,forEach:function(H,ie,b){X(H,function(){ie.apply(this,arguments)},b)},count:function(H){var ie=0;return X(H,function(){ie++}),ie},toArray:function(H){return X(H,function(ie){return ie})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Oe.Activity=E,Oe.Children=F,Oe.Component=z,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},Oe.cache=function(H){return function(){return H.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(H,ie,b){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pe=U({},H.props),Ie=H.key;if(ie!=null)for(Ce in ie.key!==void 0&&(Ie=""+ie.key),ie)!D.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(pe[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)pe.children=b;else if(1<Ce){for(var Ve=Array(Ce),at=0;at<Ce;at++)Ve[at]=arguments[at+2];pe.children=Ve}return R(H.type,Ie,pe)},Oe.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Oe.createElement=function(H,ie,b){var pe,Ie={},Ce=null;if(ie!=null)for(pe in ie.key!==void 0&&(Ce=""+ie.key),ie)D.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ie[pe]=ie[pe]);var Ve=arguments.length-2;if(Ve===1)Ie.children=b;else if(1<Ve){for(var at=Array(Ve),tt=0;tt<Ve;tt++)at[tt]=arguments[tt+2];Ie.children=at}if(H&&H.defaultProps)for(pe in Ve=H.defaultProps,Ve)Ie[pe]===void 0&&(Ie[pe]=Ve[pe]);return R(H,Ce,Ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(H){return{$$typeof:f,render:H}},Oe.isValidElement=V,Oe.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:de}},Oe.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},Oe.startTransition=function(H){var ie=M.T,b={};M.T=b;try{var pe=H(),Ie=M.S;Ie!==null&&Ie(b,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then($,Ee)}catch(Ce){Ee(Ce)}finally{ie!==null&&b.types!==null&&(ie.types=b.types),M.T=ie}},Oe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Oe.use=function(H){return M.H.use(H)},Oe.useActionState=function(H,ie,b){return M.H.useActionState(H,ie,b)},Oe.useCallback=function(H,ie){return M.H.useCallback(H,ie)},Oe.useContext=function(H){return M.H.useContext(H)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(H,ie){return M.H.useDeferredValue(H,ie)},Oe.useEffect=function(H,ie){return M.H.useEffect(H,ie)},Oe.useEffectEvent=function(H){return M.H.useEffectEvent(H)},Oe.useId=function(){return M.H.useId()},Oe.useImperativeHandle=function(H,ie,b){return M.H.useImperativeHandle(H,ie,b)},Oe.useInsertionEffect=function(H,ie){return M.H.useInsertionEffect(H,ie)},Oe.useLayoutEffect=function(H,ie){return M.H.useLayoutEffect(H,ie)},Oe.useMemo=function(H,ie){return M.H.useMemo(H,ie)},Oe.useOptimistic=function(H,ie){return M.H.useOptimistic(H,ie)},Oe.useReducer=function(H,ie,b){return M.H.useReducer(H,ie,b)},Oe.useRef=function(H){return M.H.useRef(H)},Oe.useState=function(H){return M.H.useState(H)},Oe.useSyncExternalStore=function(H,ie,b){return M.H.useSyncExternalStore(H,ie,b)},Oe.useTransition=function(){return M.H.useTransition()},Oe.version="19.2.3",Oe}var H_;function sg(){return H_||(H_=1,Np.exports=xI()),Np.exports}var Ne=sg();const CI=ld(Ne);var Mp={exports:{}},iu={},Dp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function wI(){return G_||(G_=1,(function(t){function e(Q,X){var de=Q.length;Q.push(X);e:for(;0<de;){var Ee=de-1>>>1,F=Q[Ee];if(0<o(F,X))Q[Ee]=X,Q[de]=F,de=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var X=Q[0],de=Q.pop();if(de!==X){Q[0]=de;e:for(var Ee=0,F=Q.length,H=F>>>1;Ee<H;){var ie=2*(Ee+1)-1,b=Q[ie],pe=ie+1,Ie=Q[pe];if(0>o(b,de))pe<F&&0>o(Ie,b)?(Q[Ee]=Ie,Q[pe]=de,Ee=pe):(Q[Ee]=b,Q[ie]=de,Ee=ie);else if(pe<F&&0>o(Ie,de))Q[Ee]=Ie,Q[pe]=de,Ee=pe;else break e}}return X}function o(Q,X){var de=Q.sortIndex-X.sortIndex;return de!==0?de:Q.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,E=null,T=3,A=!1,k=!1,U=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(Q){for(var X=n(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=Q)i(d),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(d)}}function he(Q){if(U=!1,le(Q),!k)if(n(p)!==null)k=!0,$||($=!0,B());else{var X=n(d);X!==null&&me(he,X.startTime-Q)}}var $=!1,M=-1,D=5,R=-1;function O(){return L?!0:!(t.unstable_now()-R<D)}function V(){if(L=!1,$){var Q=t.unstable_now();R=Q;var X=!0;try{e:{k=!1,U&&(U=!1,K(M),M=-1),A=!0;var de=T;try{t:{for(le(Q),E=n(p);E!==null&&!(E.expirationTime>Q&&O());){var Ee=E.callback;if(typeof Ee=="function"){E.callback=null,T=E.priorityLevel;var F=Ee(E.expirationTime<=Q);if(Q=t.unstable_now(),typeof F=="function"){E.callback=F,le(Q),X=!0;break t}E===n(p)&&i(p),le(Q)}else i(p);E=n(p)}if(E!==null)X=!0;else{var H=n(d);H!==null&&me(he,H.startTime-Q),X=!1}}break e}finally{E=null,T=de,A=!1}X=void 0}}finally{X?B():$=!1}}}var B;if(typeof Y=="function")B=function(){Y(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ye=P.port2;P.port1.onmessage=V,B=function(){ye.postMessage(null)}}else B=function(){z(V,0)};function me(Q,X){M=z(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var de=T;T=X;try{return Q()}finally{T=de}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=T;T=Q;try{return X()}finally{T=de}},t.unstable_scheduleCallback=function(Q,X,de){var Ee=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=de+F,Q={id:y++,callback:X,priorityLevel:Q,startTime:de,expirationTime:F,sortIndex:-1},de>Ee?(Q.sortIndex=de,e(d,Q),n(p)===null&&Q===n(d)&&(U?(K(M),M=-1):U=!0,me(he,de-Ee))):(Q.sortIndex=F,e(p,Q),k||A||(k=!0,$||($=!0,B()))),Q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Q){var X=T;return function(){var de=T;T=X;try{return Q.apply(this,arguments)}finally{T=de}}}})(kp)),kp}var Y_;function II(){return Y_||(Y_=1,Dp.exports=wI()),Dp.exports}var Pp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function bI(){if(J_)return Cn;J_=1;var t=sg();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,d,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},Cn.flushSync=function(p){var d=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=y,i.d.f()}},Cn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},Cn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Cn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},Cn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin);i.d.L(p,y,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},Cn.requestFormReset=function(p){i.d.r(p)},Cn.unstable_batchedUpdates=function(p,d){return p(d)},Cn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var $_;function RI(){if($_)return Pp.exports;$_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pp.exports=bI(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function NI(){if(K_)return iu;K_=1;var t=II(),e=sg(),n=RI();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,c=s;;){var v=a.return;if(v===null)break;var _=v.alternate;if(_===null){if(c=v.return,c!==null){a=c;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===a)return p(v),r;if(_===c)return p(v),s;_=_.sibling}throw Error(i(188))}if(a.return!==c.return)a=v,c=_;else{for(var x=!1,I=v.child;I;){if(I===a){x=!0,a=v,c=_;break}if(I===c){x=!0,c=v,a=_;break}I=I.sibling}if(!x){for(I=_.child;I;){if(I===a){x=!0,a=_,c=v;break}if(I===c){x=!0,c=_,a=v;break}I=I.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case he:return"Suspense";case $:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case Y:return r.displayName||"Context";case K:return(r._context.displayName||"Context")+".Consumer";case le:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case D:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],F=-1;function H(r){return{current:r}}function ie(r){0>F||(r.current=Ee[F],Ee[F]=null,F--)}function b(r,s){F++,Ee[F]=r.current,r.current=s}var pe=H(null),Ie=H(null),Ce=H(null),Ve=H(null);function at(r,s){switch(b(Ce,s),b(Ie,r),b(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?u_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=u_(s),r=c_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(pe),b(pe,r)}function tt(){ie(pe),ie(Ie),ie(Ce)}function pn(r){r.memoizedState!==null&&b(Ve,r);var s=pe.current,a=c_(s,r.type);s!==a&&(b(Ie,r),b(pe,a))}function Mn(r){Ie.current===r&&(ie(pe),ie(Ie)),Ve.current===r&&(ie(Ve),Wa._currentValue=de)}var Li,er;function mn(r){if(Li===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Li=s&&s[1]||"",er=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+r+er}var Xn=!1;function fi(r,s){if(!r||Xn)return"";Xn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){ee=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),x=_[0],I=_[1];if(x&&I){var q=x.split(`
`),Z=I.split(`
`);for(v=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(c===q.length||v===Z.length)for(c=q.length-1,v=Z.length-1;1<=c&&0<=v&&q[c]!==Z[v];)v--;for(;1<=c&&0<=v;c--,v--)if(q[c]!==Z[v]){if(c!==1||v!==1)do if(c--,v--,0>v||q[c]!==Z[v]){var re=`
`+q[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=v);break}}}finally{Xn=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?mn(a):""}function di(r,s){switch(r.tag){case 26:case 27:case 5:return mn(r.type);case 16:return mn("Lazy");case 13:return r.child!==s&&s!==null?mn("Suspense Fallback"):mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return fi(r.type,!1);case 11:return fi(r.type.render,!1);case 1:return fi(r.type,!0);case 31:return mn("Activity");default:return""}}function Ir(r){try{var s="",a=null;do s+=di(r,a),a=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ht=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Dn=t.unstable_cancelCallback,br=t.unstable_shouldYield,Yt=t.unstable_requestPaint,It=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,oe=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,qe=t.unstable_LowPriority,Je=t.unstable_IdlePriority,rn=t.log,xn=t.unstable_setDisableYieldValue,kt=null,At=null;function Lt(r){if(typeof rn=="function"&&xn(r),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(kt,r)}catch{}}var $e=Math.clz32?Math.clz32:Ps,jn=Math.log,an=Math.LN2;function Ps(r){return r>>>=0,r===0?32:31-(jn(r)/an|0)|0}var pi=256,Rr=262144,Ut=4194304;function mi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gi(r,s,a){var c=r.pendingLanes;if(c===0)return 0;var v=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var I=c&134217727;return I!==0?(c=I&~_,c!==0?v=mi(c):(x&=I,x!==0?v=mi(x):a||(a=I&~r,a!==0&&(v=mi(a))))):(I=c&~_,I!==0?v=mi(I):x!==0?v=mi(x):a||(a=c&~r,a!==0&&(v=mi(a)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,a=s&-s,_>=a||_===32&&(a&4194048)!==0)?s:v}function kn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ra(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vs(){var r=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),r}function yi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ui(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Ls(r,s,a,c,v,_){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var I=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(a=x&~a;0<a;){var re=31-$e(a),ue=1<<re;I[re]=0,q[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var ne=ee[re];ne!==null&&(ne.lane&=-536870913)}a&=~ue}c!==0&&ae(r,c,0),_!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function ae(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-$e(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Ye(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-$e(a),v=1<<c;v&s|r[c]&s&&(r[c]|=s),a&=~v}}function zt(r,s){var a=s&-s;return a=(a&42)!==0?1:vi(a),(a&(r.suspendedLanes|s))!==0?0:a}function vi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function to(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:k_(r.type))}function Fi(r,s){var a=X.p;try{return X.p=r,s()}finally{X.p=a}}var zi=Math.random().toString(36).slice(2),Jt="__reactFiber$"+zi,un="__reactProps$"+zi,tr="__reactContainer$"+zi,Us="__reactEvents$"+zi,Vd="__reactListeners$"+zi,Hu="__reactHandles$"+zi,Gu="__reactResources$"+zi,nr="__reactMarker$"+zi;function Os(r){delete r[Jt],delete r[un],delete r[Us],delete r[Vd],delete r[Hu]}function ir(r){var s=r[Jt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[tr]||a[Jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=y_(r);r!==null;){if(a=r[Jt])return a;r=y_(r)}return s}r=a,a=r.parentNode}return null}function _i(r){if(r=r[Jt]||r[tr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Wn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function rr(r){var s=r[Gu];return s||(s=r[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(r){r[nr]=!0}var oa=new Set,sa={};function or(r,s){sr(r,s),sr(r+"Capture",s)}function sr(r,s){for(sa[r]=s,r=0;r<s.length;r++)oa.add(s[r])}var la=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aa={},ua={};function Yu(r){return ht.call(ua,r)?!0:ht.call(aa,r)?!1:la.test(r)?ua[r]=!0:(aa[r]=!0,!1)}function Fs(r,s,a){if(Yu(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function Zn(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Kt(r,s,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+c)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function no(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ca(r,s,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(x){a=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function pt(r){if(!r._valueTracker){var s=no(r)?"checked":"value";r._valueTracker=ca(r,s,""+r[s])}}function jo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=no(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function lr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Wo=/[\n"\\]/g;function On(r){return r.replace(Wo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zs(r,s,a,c,v,_,x,I){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?fa(r,x,cn(s)):a!=null?fa(r,x,cn(a)):c!=null&&r.removeAttribute("value"),v==null&&_!=null&&(r.defaultChecked=!!_),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+cn(I):r.removeAttribute("name")}function Ju(r,s,a,c,v,_,x,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){pt(r);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,I||s===r.value||(r.value=s),r.defaultValue=s}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=I?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),pt(r)}function fa(r,s,a){s==="number"&&lr(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function io(r,s,a,c){if(r=r.options,s){s={};for(var v=0;v<a.length;v++)s["$"+a[v]]=!0;for(a=0;a<r.length;a++)v=s.hasOwnProperty("$"+r[a].value),r[a].selected!==v&&(r[a].selected=v),v&&c&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,v=0;v<r.length;v++){if(r[v].value===a){r[v].selected=!0,c&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function $u(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function ro(r,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),pt(r)}function Fn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function da(r,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,a):typeof a!="number"||a===0||Ku.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function ha(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var v in s)c=s[v],s.hasOwnProperty(v)&&a[v]!==c&&da(r,v,c)}else for(var _ in s)s.hasOwnProperty(_)&&da(r,_,s[_])}function Bs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(r){return oo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Bi(){}var pa=null;function Ei(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var so=null,ar=null;function Zo(r){var s=_i(r);if(s&&(r=s.stateNode)){var a=r[un]||null;e:switch(r=s.stateNode,s.type){case"input":if(zs(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+On(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var v=c[un]||null;if(!v)throw Error(i(90));zs(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===r.form&&jo(c)}break e;case"textarea":$u(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&io(r,!!a.multiple,s,!1)}}}var Hs=!1;function lo(r,s,a){if(Hs)return r(s,a);Hs=!0;try{var c=r(s);return c}finally{if(Hs=!1,(so!==null||ar!==null)&&(qc(),so&&(s=so,r=ar,ar=so=null,Zo(s),r)))for(s=0;s<r.length;s++)Zo(r[s])}}function qi(r,s){var a=r.stateNode;if(a===null)return null;var c=a[un]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=!1;if(Ti)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){es=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{es=!1}var ur=null,ma=null,ts=null;function ga(){if(ts)return ts;var r,s=ma,a=s.length,c,v="value"in ur?ur.value:ur.textContent,_=v.length;for(r=0;r<a&&s[r]===v[r];r++);var x=a-r;for(c=1;c<=x&&s[a-c]===v[_-c];c++);return ts=v.slice(r,1<c?1-c:void 0)}function ns(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Nr(){return!0}function Hi(){return!1}function gn(r){function s(a,c,v,_,x){this._reactName=a,this._targetInst=v,this.type=c,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Nr:Hi,this.isPropagationStopped=Hi,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){},isPersistent:Nr}),s}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=gn(Mr),ao=E({},Mr,{view:0,detail:0}),ya=gn(ao),uo,Gs,fr,Ys=E({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fr&&(fr&&r.type==="mousemove"?(uo=r.screenX-fr.screenX,Gs=r.screenY-fr.screenY):Gs=uo=0,fr=r),uo)},movementY:function(r){return"movementY"in r?r.movementY:Gs}}),va=gn(Ys),is=E({},Ys,{dataTransfer:0}),Xu=gn(is),ju=E({},ao,{relatedTarget:0}),rs=gn(ju),_a=E({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Wu=gn(_a),Js=E({},Mr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zu=gn(Js),ec=E({},Mr,{data:0}),dr=gn(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ic[r])?!!s[r]:!1}function co(){return rc}var Pn=E({},ao,{key:function(r){if(r.key){var s=tc[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?nc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oc=gn(Pn),sc=E({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dr=gn(sc),g=E({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),S=gn(g),w=E({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=gn(w),j=E({},Ys,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=gn(j),_e=E({},Mr,{newState:0,oldState:0}),ze=gn(_e),Bt=[9,13,27,32],ut=Ti&&"CompositionEvent"in window,Mt=null;Ti&&"documentMode"in document&&(Mt=document.documentMode);var Si=Ti&&"TextEvent"in window&&!Mt,hr=Ti&&(!ut||Mt&&8<Mt&&11>=Mt),Gi=" ",Yi=!1;function os(r,s){switch(r){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $s(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ks=!1;function J1(r,s){switch(r){case"compositionend":return $s(s);case"keypress":return s.which!==32?null:(Yi=!0,Gi);case"textInput":return r=s.data,r===Gi&&Yi?null:r;default:return null}}function $1(r,s){if(Ks)return r==="compositionend"||!ut&&os(r,s)?(r=ga(),ts=ma=ur=null,Ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hr&&s.locale!=="ko"?null:s.data;default:return null}}var K1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ey(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!K1[r.type]:s==="textarea"}function Ty(r,s,a,c){so?ar?ar.push(c):ar=[c]:so=c,s=Qc(s,"onChange"),0<s.length&&(a=new cr("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ea=null,Ta=null;function Q1(r){i_(r,0)}function lc(r){var s=Wn(r);if(jo(s))return r}function Sy(r,s){if(r==="change")return s}var Ay=!1;if(Ti){var Ld;if(Ti){var Ud="oninput"in document;if(!Ud){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Ud=typeof xy.oninput=="function"}Ld=Ud}else Ld=!1;Ay=Ld&&(!document.documentMode||9<document.documentMode)}function Cy(){Ea&&(Ea.detachEvent("onpropertychange",wy),Ta=Ea=null)}function wy(r){if(r.propertyName==="value"&&lc(Ta)){var s=[];Ty(s,Ta,r,Ei(r)),lo(Q1,s)}}function X1(r,s,a){r==="focusin"?(Cy(),Ea=s,Ta=a,Ea.attachEvent("onpropertychange",wy)):r==="focusout"&&Cy()}function j1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lc(Ta)}function W1(r,s){if(r==="click")return lc(s)}function Z1(r,s){if(r==="input"||r==="change")return lc(s)}function ew(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ei=typeof Object.is=="function"?Object.is:ew;function Sa(r,s){if(ei(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var v=a[c];if(!ht.call(s,v)||!ei(r[v],s[v]))return!1}return!0}function Iy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function by(r,s){var a=Iy(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Iy(a)}}function Ry(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ry(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ny(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=lr(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=lr(r.document)}return s}function Od(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var tw=Ti&&"documentMode"in document&&11>=document.documentMode,Qs=null,Fd=null,Aa=null,zd=!1;function My(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zd||Qs==null||Qs!==lr(c)||(c=Qs,"selectionStart"in c&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Aa&&Sa(Aa,c)||(Aa=c,c=Qc(Fd,"onSelect"),0<c.length&&(s=new cr("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Qs)))}function ss(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Xs={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Bd={},Dy={};Ti&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ls(r){if(Bd[r])return Bd[r];if(!Xs[r])return r;var s=Xs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Dy)return Bd[r]=s[a];return r}var ky=ls("animationend"),Py=ls("animationiteration"),Vy=ls("animationstart"),nw=ls("transitionrun"),iw=ls("transitionstart"),rw=ls("transitioncancel"),Ly=ls("transitionend"),Uy=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function Ji(r,s){Uy.set(r,s),or(s,[r])}var ac=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ai=[],js=0,Hd=0;function uc(){for(var r=js,s=Hd=js=0;s<r;){var a=Ai[s];Ai[s++]=null;var c=Ai[s];Ai[s++]=null;var v=Ai[s];Ai[s++]=null;var _=Ai[s];if(Ai[s++]=null,c!==null&&v!==null){var x=c.pending;x===null?v.next=v:(v.next=x.next,x.next=v),c.pending=v}_!==0&&Oy(a,v,_)}}function cc(r,s,a,c){Ai[js++]=r,Ai[js++]=s,Ai[js++]=a,Ai[js++]=c,Hd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Gd(r,s,a,c){return cc(r,s,a,c),fc(r)}function as(r,s){return cc(r,null,null,s),fc(r)}function Oy(r,s,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var v=!1,_=r.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(v=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,v&&s!==null&&(v=31-$e(a),r=_.hiddenUpdates,c=r[v],c===null?r[v]=[s]:c.push(s),s.lane=a|536870912),_):null}function fc(r){if(50<Ya)throw Ya=0,Zh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ws={};function ow(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(r,s,a,c){return new ow(r,s,a,c)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function kr(r,s){var a=r.alternate;return a===null?(a=ti(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Fy(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function dc(r,s,a,c,v,_){var x=0;if(c=r,typeof r=="function")Yd(r)&&(x=1);else if(typeof r=="string")x=cI(r,a,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=ti(31,a,s,v),r.elementType=R,r.lanes=_,r;case U:return us(a.children,v,_,s);case L:x=8,v|=24;break;case z:return r=ti(12,a,s,v|2),r.elementType=z,r.lanes=_,r;case he:return r=ti(13,a,s,v),r.elementType=he,r.lanes=_,r;case $:return r=ti(19,a,s,v),r.elementType=$,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:x=10;break e;case K:x=9;break e;case le:x=11;break e;case M:x=14;break e;case D:x=16,c=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=ti(x,a,s,v),s.elementType=r,s.type=c,s.lanes=_,s}function us(r,s,a,c){return r=ti(7,r,c,s),r.lanes=a,r}function Jd(r,s,a){return r=ti(6,r,null,s),r.lanes=a,r}function zy(r){var s=ti(18,null,null,0);return s.stateNode=r,s}function $d(r,s,a){return s=ti(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var By=new WeakMap;function xi(r,s){if(typeof r=="object"&&r!==null){var a=By.get(r);return a!==void 0?a:(s={value:r,source:s,stack:Ir(s)},By.set(r,s),s)}return{value:r,source:s,stack:Ir(s)}}var Zs=[],el=0,hc=null,xa=0,Ci=[],wi=0,fo=null,pr=1,mr="";function Pr(r,s){Zs[el++]=xa,Zs[el++]=hc,hc=r,xa=s}function qy(r,s,a){Ci[wi++]=pr,Ci[wi++]=mr,Ci[wi++]=fo,fo=r;var c=pr;r=mr;var v=32-$e(c)-1;c&=~(1<<v),a+=1;var _=32-$e(s)+v;if(30<_){var x=v-v%5;_=(c&(1<<x)-1).toString(32),c>>=x,v-=x,pr=1<<32-$e(s)+v|a<<v|c,mr=_+r}else pr=1<<_|a<<v|c,mr=r}function Kd(r){r.return!==null&&(Pr(r,1),qy(r,1,0))}function Qd(r){for(;r===hc;)hc=Zs[--el],Zs[el]=null,xa=Zs[--el],Zs[el]=null;for(;r===fo;)fo=Ci[--wi],Ci[wi]=null,mr=Ci[--wi],Ci[wi]=null,pr=Ci[--wi],Ci[wi]=null}function Hy(r,s){Ci[wi++]=pr,Ci[wi++]=mr,Ci[wi++]=fo,pr=s.id,mr=s.overflow,fo=r}var yn=null,bt=null,et=!1,ho=null,Ii=!1,Xd=Error(i(519));function po(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(xi(s,r)),Xd}function Gy(r){var s=r.stateNode,a=r.type,c=r.memoizedProps;switch(s[Jt]=r,s[un]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<$a.length;a++)Qe($a[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Ju(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),ro(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||l_(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Bi),s=!0):s=!1,s||po(r,!0)}function Yy(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 31:case 13:Ii=!1;return;case 27:case 3:Ii=!0;return;default:yn=yn.return}}function tl(r){if(r!==yn)return!1;if(!et)return Yy(r),et=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||pp(r.type,r.memoizedProps)),a=!a),a&&bt&&po(r),Yy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=g_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=g_(r)}else s===27?(s=bt,bo(r.type)?(r=_p,_p=null,bt=r):bt=s):bt=yn?Ri(r.stateNode.nextSibling):null;return!0}function cs(){bt=yn=null,et=!1}function jd(){var r=ho;return r!==null&&(Hn===null?Hn=r:Hn.push.apply(Hn,r),ho=null),r}function Ca(r){ho===null?ho=[r]:ho.push(r)}var Wd=H(null),fs=null,Vr=null;function mo(r,s,a){b(Wd,s._currentValue),s._currentValue=a}function Lr(r){r._currentValue=Wd.current,ie(Wd)}function Zd(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function eh(r,s,a,c){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){var x=v.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=v;for(var q=0;q<s.length;q++)if(I.context===s[q]){_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Zd(_.return,a,r),c||(x=null);break e}_=I.next}}else if(v.tag===18){if(x=v.return,x===null)throw Error(i(341));x.lanes|=a,_=x.alternate,_!==null&&(_.lanes|=a),Zd(x,a,r),x=null}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===r){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}}function nl(r,s,a,c){r=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var x=v.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var I=v.type;ei(v.pendingProps.value,x.value)||(r!==null?r.push(I):r=[I])}}else if(v===Ve.current){if(x=v.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Wa):r=[Wa])}v=v.return}r!==null&&eh(s,r,a,c),s.flags|=262144}function pc(r){for(r=r.firstContext;r!==null;){if(!ei(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ds(r){fs=r,Vr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return Jy(fs,r)}function mc(r,s){return fs===null&&ds(r),Jy(r,s)}function Jy(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Vr===null){if(r===null)throw Error(i(308));Vr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Vr=Vr.next=s;return a}var sw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},lw=t.unstable_scheduleCallback,aw=t.unstable_NormalPriority,Qt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new sw,data:new Map,refCount:0}}function wa(r){r.refCount--,r.refCount===0&&lw(aw,function(){r.controller.abort()})}var Ia=null,nh=0,il=0,rl=null;function uw(r,s){if(Ia===null){var a=Ia=[];nh=0,il=op(),rl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return nh++,s.then($y,$y),s}function $y(){if(--nh===0&&Ia!==null){rl!==null&&(rl.status="fulfilled");var r=Ia;Ia=null,il=0,rl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function cw(r,s){var a=[],c={status:"pending",value:null,reason:null,then:function(v){a.push(v)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var v=0;v<a.length;v++)(0,a[v])(s)},function(v){for(c.status="rejected",c.reason=v,v=0;v<a.length;v++)(0,a[v])(void 0)}),c}var Ky=Q.S;Q.S=function(r,s){Mv=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&uw(r,s),Ky!==null&&Ky(r,s)};var hs=H(null);function ih(){var r=hs.current;return r!==null?r:Tt.pooledCache}function gc(r,s){s===null?b(hs,hs.current):b(hs,s.pool)}function Qy(){var r=ih();return r===null?null:{parent:Qt._currentValue,pool:r}}var ol=Error(i(460)),rh=Error(i(474)),yc=Error(i(542)),vc={then:function(){}};function Xy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function jy(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Bi,Bi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Zy(r),r;default:if(typeof s.status=="string")s.then(Bi,Bi);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=c}},function(c){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Zy(r),r}throw ms=s,ol}}function ps(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ms=a,ol):a}}var ms=null;function Wy(){if(ms===null)throw Error(i(459));var r=ms;return ms=null,r}function Zy(r){if(r===ol||r===yc)throw Error(i(483))}var sl=null,ba=0;function _c(r){var s=ba;return ba+=1,sl===null&&(sl=[]),jy(sl,r,s)}function Ra(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Ec(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function e0(r){function s(J,G){if(r){var W=J.deletions;W===null?(J.deletions=[G],J.flags|=16):W.push(G)}}function a(J,G){if(!r)return null;for(;G!==null;)s(J,G),G=G.sibling;return null}function c(J){for(var G=new Map;J!==null;)J.key!==null?G.set(J.key,J):G.set(J.index,J),J=J.sibling;return G}function v(J,G){return J=kr(J,G),J.index=0,J.sibling=null,J}function _(J,G,W){return J.index=W,r?(W=J.alternate,W!==null?(W=W.index,W<G?(J.flags|=67108866,G):W):(J.flags|=67108866,G)):(J.flags|=1048576,G)}function x(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function I(J,G,W,se){return G===null||G.tag!==6?(G=Jd(W,J.mode,se),G.return=J,G):(G=v(G,W),G.return=J,G)}function q(J,G,W,se){var Re=W.type;return Re===U?re(J,G,W.props.children,se,W.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&ps(Re)===G.type)?(G=v(G,W.props),Ra(G,W),G.return=J,G):(G=dc(W.type,W.key,W.props,null,J.mode,se),Ra(G,W),G.return=J,G)}function Z(J,G,W,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=$d(W,J.mode,se),G.return=J,G):(G=v(G,W.children||[]),G.return=J,G)}function re(J,G,W,se,Re){return G===null||G.tag!==7?(G=us(W,J.mode,se,Re),G.return=J,G):(G=v(G,W),G.return=J,G)}function ue(J,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Jd(""+G,J.mode,W),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return W=dc(G.type,G.key,G.props,null,J.mode,W),Ra(W,G),W.return=J,W;case k:return G=$d(G,J.mode,W),G.return=J,G;case D:return G=ps(G),ue(J,G,W)}if(me(G)||B(G))return G=us(G,J.mode,W,null),G.return=J,G;if(typeof G.then=="function")return ue(J,_c(G),W);if(G.$$typeof===Y)return ue(J,mc(J,G),W);Ec(J,G)}return null}function ee(J,G,W,se){var Re=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:I(J,G,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return W.key===Re?q(J,G,W,se):null;case k:return W.key===Re?Z(J,G,W,se):null;case D:return W=ps(W),ee(J,G,W,se)}if(me(W)||B(W))return Re!==null?null:re(J,G,W,se,null);if(typeof W.then=="function")return ee(J,G,_c(W),se);if(W.$$typeof===Y)return ee(J,G,mc(J,W),se);Ec(J,W)}return null}function ne(J,G,W,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return J=J.get(W)||null,I(G,J,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return J=J.get(se.key===null?W:se.key)||null,q(G,J,se,Re);case k:return J=J.get(se.key===null?W:se.key)||null,Z(G,J,se,Re);case D:return se=ps(se),ne(J,G,W,se,Re)}if(me(se)||B(se))return J=J.get(W)||null,re(G,J,se,Re,null);if(typeof se.then=="function")return ne(J,G,W,_c(se),Re);if(se.$$typeof===Y)return ne(J,G,W,mc(G,se),Re);Ec(G,se)}return null}function xe(J,G,W,se){for(var Re=null,ot=null,we=G,He=G=0,je=null;we!==null&&He<W.length;He++){we.index>He?(je=we,we=null):je=we.sibling;var st=ee(J,we,W[He],se);if(st===null){we===null&&(we=je);break}r&&we&&st.alternate===null&&s(J,we),G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st,we=je}if(He===W.length)return a(J,we),et&&Pr(J,He),Re;if(we===null){for(;He<W.length;He++)we=ue(J,W[He],se),we!==null&&(G=_(we,G,He),ot===null?Re=we:ot.sibling=we,ot=we);return et&&Pr(J,He),Re}for(we=c(we);He<W.length;He++)je=ne(we,J,He,W[He],se),je!==null&&(r&&je.alternate!==null&&we.delete(je.key===null?He:je.key),G=_(je,G,He),ot===null?Re=je:ot.sibling=je,ot=je);return r&&we.forEach(function(ko){return s(J,ko)}),et&&Pr(J,He),Re}function De(J,G,W,se){if(W==null)throw Error(i(151));for(var Re=null,ot=null,we=G,He=G=0,je=null,st=W.next();we!==null&&!st.done;He++,st=W.next()){we.index>He?(je=we,we=null):je=we.sibling;var ko=ee(J,we,st.value,se);if(ko===null){we===null&&(we=je);break}r&&we&&ko.alternate===null&&s(J,we),G=_(ko,G,He),ot===null?Re=ko:ot.sibling=ko,ot=ko,we=je}if(st.done)return a(J,we),et&&Pr(J,He),Re;if(we===null){for(;!st.done;He++,st=W.next())st=ue(J,st.value,se),st!==null&&(G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st);return et&&Pr(J,He),Re}for(we=c(we);!st.done;He++,st=W.next())st=ne(we,J,He,st.value,se),st!==null&&(r&&st.alternate!==null&&we.delete(st.key===null?He:st.key),G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st);return r&&we.forEach(function(TI){return s(J,TI)}),et&&Pr(J,He),Re}function Et(J,G,W,se){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case A:e:{for(var Re=W.key;G!==null;){if(G.key===Re){if(Re=W.type,Re===U){if(G.tag===7){a(J,G.sibling),se=v(G,W.props.children),se.return=J,J=se;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&ps(Re)===G.type){a(J,G.sibling),se=v(G,W.props),Ra(se,W),se.return=J,J=se;break e}a(J,G);break}else s(J,G);G=G.sibling}W.type===U?(se=us(W.props.children,J.mode,se,W.key),se.return=J,J=se):(se=dc(W.type,W.key,W.props,null,J.mode,se),Ra(se,W),se.return=J,J=se)}return x(J);case k:e:{for(Re=W.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){a(J,G.sibling),se=v(G,W.children||[]),se.return=J,J=se;break e}else{a(J,G);break}else s(J,G);G=G.sibling}se=$d(W,J.mode,se),se.return=J,J=se}return x(J);case D:return W=ps(W),Et(J,G,W,se)}if(me(W))return xe(J,G,W,se);if(B(W)){if(Re=B(W),typeof Re!="function")throw Error(i(150));return W=Re.call(W),De(J,G,W,se)}if(typeof W.then=="function")return Et(J,G,_c(W),se);if(W.$$typeof===Y)return Et(J,G,mc(J,W),se);Ec(J,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(a(J,G.sibling),se=v(G,W),se.return=J,J=se):(a(J,G),se=Jd(W,J.mode,se),se.return=J,J=se),x(J)):a(J,G)}return function(J,G,W,se){try{ba=0;var Re=Et(J,G,W,se);return sl=null,Re}catch(we){if(we===ol||we===yc)throw we;var ot=ti(29,we,null,J.mode);return ot.lanes=se,ot.return=J,ot}finally{}}}var gs=e0(!0),t0=e0(!1),go=!1;function oh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function yo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function vo(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var v=c.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),c.pending=s,s=fc(r),Oy(r,null,a),s}return cc(r,c,s,a),fc(r)}function Na(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ye(r,a)}}function lh(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var v=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?v=_=x:_=_.next=x,a=a.next}while(a!==null);_===null?v=_=s:_=_.next=s}else v=_=s;a={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var ah=!1;function Ma(){if(ah){var r=rl;if(r!==null)throw r}}function Da(r,s,a,c){ah=!1;var v=r.updateQueue;go=!1;var _=v.firstBaseUpdate,x=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var q=I,Z=q.next;q.next=null,x===null?_=Z:x.next=Z,x=q;var re=r.alternate;re!==null&&(re=re.updateQueue,I=re.lastBaseUpdate,I!==x&&(I===null?re.firstBaseUpdate=Z:I.next=Z,re.lastBaseUpdate=q))}if(_!==null){var ue=v.baseState;x=0,re=Z=q=null,I=_;do{var ee=I.lane&-536870913,ne=ee!==I.lane;if(ne?(Xe&ee)===ee:(c&ee)===ee){ee!==0&&ee===il&&(ah=!0),re!==null&&(re=re.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var xe=r,De=I;ee=s;var Et=a;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ue=xe.call(Et,ue,ee);break e}ue=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,ee=typeof xe=="function"?xe.call(Et,ue,ee):xe,ee==null)break e;ue=E({},ue,ee);break e;case 2:go=!0}}ee=I.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},re===null?(Z=re=ne,q=ue):re=re.next=ne,x|=ee;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);re===null&&(q=ue),v.baseState=q,v.firstBaseUpdate=Z,v.lastBaseUpdate=re,_===null&&(v.shared.lanes=0),Ao|=x,r.lanes=x,r.memoizedState=ue}}function n0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function i0(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)n0(a[r],s)}var ll=H(null),Tc=H(0);function r0(r,s){r=Yr,b(Tc,r),b(ll,s),Yr=r|s.baseLanes}function uh(){b(Tc,Yr),b(ll,ll.current)}function ch(){Yr=Tc.current,ie(ll),ie(Tc)}var ni=H(null),bi=null;function _o(r){var s=r.alternate;b(qt,qt.current&1),b(ni,r),bi===null&&(s===null||ll.current!==null||s.memoizedState!==null)&&(bi=r)}function fh(r){b(qt,qt.current),b(ni,r),bi===null&&(bi=r)}function o0(r){r.tag===22?(b(qt,qt.current),b(ni,r),bi===null&&(bi=r)):Eo()}function Eo(){b(qt,qt.current),b(ni,ni.current)}function ii(r){ie(ni),bi===r&&(bi=null),ie(qt)}var qt=H(0);function Sc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yp(a)||vp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ur=0,Be=null,vt=null,Xt=null,Ac=!1,al=!1,ys=!1,xc=0,ka=0,ul=null,fw=0;function Ot(){throw Error(i(321))}function dh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!ei(r[a],s[a]))return!1;return!0}function hh(r,s,a,c,v,_){return Ur=_,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=r===null||r.memoizedState===null?q0:bh,ys=!1,_=a(c,v),ys=!1,al&&(_=l0(s,a,c,v)),s0(r),_}function s0(r){Q.H=La;var s=vt!==null&&vt.next!==null;if(Ur=0,Xt=vt=Be=null,Ac=!1,ka=0,ul=null,s)throw Error(i(300));r===null||jt||(r=r.dependencies,r!==null&&pc(r)&&(jt=!0))}function l0(r,s,a,c){Be=r;var v=0;do{if(al&&(ul=null),ka=0,al=!1,25<=v)throw Error(i(301));if(v+=1,Xt=vt=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=H0,_=s(a,c)}while(al);return _}function dw(){var r=Q.H,s=r.useState()[0];return s=typeof s.then=="function"?Pa(s):s,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(Be.flags|=1024),s}function ph(){var r=xc!==0;return xc=0,r}function mh(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function gh(r){if(Ac){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ac=!1}Ur=0,Xt=vt=Be=null,al=!1,ka=xc=0,ul=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Be.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function Ht(){if(vt===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=Xt===null?Be.memoizedState:Xt.next;if(s!==null)Xt=s,vt=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Xt===null?Be.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(r){var s=ka;return ka+=1,ul===null&&(ul=[]),r=jy(ul,r,s),s=Be,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?q0:bh),r}function wc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pa(r);if(r.$$typeof===Y)return vn(r)}throw Error(i(438,String(r)))}function yh(r){var s=null,a=Be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Cc(),Be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),c=0;c<r;c++)a[c]=O;return s.index++,a}function Or(r,s){return typeof s=="function"?s(r):s}function Ic(r){var s=Ht();return vh(s,vt,r)}function vh(r,s,a){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var v=r.baseQueue,_=c.pending;if(_!==null){if(v!==null){var x=v.next;v.next=_.next,_.next=x}s.baseQueue=v=_,c.pending=null}if(_=r.baseState,v===null)r.memoizedState=_;else{s=v.next;var I=x=null,q=null,Z=s,re=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(Xe&ue)===ue:(Ur&ue)===ue){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===il&&(re=!0);else if((Ur&ee)===ee){Z=Z.next,ee===il&&(re=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ue,x=_):q=q.next=ue,Be.lanes|=ee,Ao|=ee;ue=Z.action,ys&&a(_,ue),_=Z.hasEagerState?Z.eagerState:a(_,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ee,x=_):q=q.next=ee,Be.lanes|=ue,Ao|=ue;Z=Z.next}while(Z!==null&&Z!==s);if(q===null?x=_:q.next=I,!ei(_,r.memoizedState)&&(jt=!0,re&&(a=rl,a!==null)))throw a;r.memoizedState=_,r.baseState=x,r.baseQueue=q,c.lastRenderedState=_}return v===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function _h(r){var s=Ht(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var c=a.dispatch,v=a.pending,_=s.memoizedState;if(v!==null){a.pending=null;var x=v=v.next;do _=r(_,x.action),x=x.next;while(x!==v);ei(_,s.memoizedState)||(jt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),a.lastRenderedState=_}return[_,c]}function a0(r,s,a){var c=Be,v=Ht(),_=et;if(_){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!ei((vt||v).memoizedState,a);if(x&&(v.memoizedState=a,jt=!0),v=v.queue,Sh(f0.bind(null,c,v,r),[r]),v.getSnapshot!==s||x||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,cl(9,{destroy:void 0},c0.bind(null,c,v,a,s),null),Tt===null)throw Error(i(349));_||(Ur&127)!==0||u0(c,s,a)}return a}function u0(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s=Cc(),Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function c0(r,s,a,c){s.value=a,s.getSnapshot=c,d0(s)&&h0(r)}function f0(r,s,a){return a(function(){d0(s)&&h0(r)})}function d0(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!ei(r,a)}catch{return!0}}function h0(r){var s=as(r,2);s!==null&&Gn(s,r,2)}function Eh(r){var s=Vn();if(typeof r=="function"){var a=r;if(r=a(),ys){Lt(!0);try{a()}finally{Lt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:r},s}function p0(r,s,a,c){return r.baseState=a,vh(r,vt,typeof c=="function"?c:Or)}function hw(r,s,a,c,v){if(Nc(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};Q.T!==null?a(!0):_.isTransition=!1,c(_),a=s.pending,a===null?(_.next=s.pending=_,m0(s,_)):(_.next=a.next,s.pending=a.next=_)}}function m0(r,s){var a=s.action,c=s.payload,v=r.state;if(s.isTransition){var _=Q.T,x={};Q.T=x;try{var I=a(v,c),q=Q.S;q!==null&&q(x,I),g0(r,s,I)}catch(Z){Th(r,s,Z)}finally{_!==null&&x.types!==null&&(_.types=x.types),Q.T=_}}else try{_=a(v,c),g0(r,s,_)}catch(Z){Th(r,s,Z)}}function g0(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){y0(r,s,c)},function(c){return Th(r,s,c)}):y0(r,s,a)}function y0(r,s,a){s.status="fulfilled",s.value=a,v0(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,m0(r,a)))}function Th(r,s,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,v0(s),s=s.next;while(s!==c)}r.action=null}function v0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function _0(r,s){return s}function E0(r,s){if(et){var a=Tt.formState;if(a!==null){e:{var c=Be;if(et){if(bt){t:{for(var v=bt,_=Ii;v.nodeType!==8;){if(!_){v=null;break t}if(v=Ri(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){bt=Ri(v.nextSibling),c=v.data==="F!";break e}}po(c)}c=!1}c&&(s=a[0])}}return a=Vn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_0,lastRenderedState:s},a.queue=c,a=F0.bind(null,Be,c),c.dispatch=a,c=Eh(!1),_=Ih.bind(null,Be,!1,c.queue),c=Vn(),v={state:s,dispatch:null,action:r,pending:null},c.queue=v,a=hw.bind(null,Be,v,_,a),v.dispatch=a,c.memoizedState=r,[s,a,!1]}function T0(r){var s=Ht();return S0(s,vt,r)}function S0(r,s,a){if(s=vh(r,s,_0)[0],r=Ic(Or)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Pa(s)}catch(x){throw x===ol?yc:x}else c=s;s=Ht();var v=s.queue,_=v.dispatch;return a!==s.memoizedState&&(Be.flags|=2048,cl(9,{destroy:void 0},pw.bind(null,v,a),null)),[c,_,r]}function pw(r,s){r.action=s}function A0(r){var s=Ht(),a=vt;if(a!==null)return S0(s,a,r);Ht(),s=s.memoizedState,a=Ht();var c=a.queue.dispatch;return a.memoizedState=r,[s,c,!1]}function cl(r,s,a,c){return r={tag:r,create:a,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=Cc(),Be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r),r}function x0(){return Ht().memoizedState}function bc(r,s,a,c){var v=Vn();Be.flags|=r,v.memoizedState=cl(1|s,{destroy:void 0},a,c===void 0?null:c)}function Rc(r,s,a,c){var v=Ht();c=c===void 0?null:c;var _=v.memoizedState.inst;vt!==null&&c!==null&&dh(c,vt.memoizedState.deps)?v.memoizedState=cl(s,_,a,c):(Be.flags|=r,v.memoizedState=cl(1|s,_,a,c))}function C0(r,s){bc(8390656,8,r,s)}function Sh(r,s){Rc(2048,8,r,s)}function mw(r){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=Cc(),Be.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function w0(r){var s=Ht().memoizedState;return mw({ref:s,nextImpl:r}),function(){if((ct&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function I0(r,s){return Rc(4,2,r,s)}function b0(r,s){return Rc(4,4,r,s)}function R0(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function N0(r,s,a){a=a!=null?a.concat([r]):null,Rc(4,4,R0.bind(null,s,r),a)}function Ah(){}function M0(r,s){var a=Ht();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&dh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function D0(r,s){var a=Ht();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&dh(s,c[1]))return c[0];if(c=r(),ys){Lt(!0);try{r()}finally{Lt(!1)}}return a.memoizedState=[c,s],c}function xh(r,s,a){return a===void 0||(Ur&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=kv(),Be.lanes|=r,Ao|=r,a)}function k0(r,s,a,c){return ei(a,s)?a:ll.current!==null?(r=xh(r,a,c),ei(r,s)||(jt=!0),r):(Ur&42)===0||(Ur&1073741824)!==0&&(Xe&261930)===0?(jt=!0,r.memoizedState=a):(r=kv(),Be.lanes|=r,Ao|=r,s)}function P0(r,s,a,c,v){var _=X.p;X.p=_!==0&&8>_?_:8;var x=Q.T,I={};Q.T=I,Ih(r,!1,s,a);try{var q=v(),Z=Q.S;if(Z!==null&&Z(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var re=cw(q,c);Va(r,s,re,si(r))}else Va(r,s,c,si(r))}catch(ue){Va(r,s,{then:function(){},status:"rejected",reason:ue},si())}finally{X.p=_,x!==null&&I.types!==null&&(x.types=I.types),Q.T=x}}function gw(){}function Ch(r,s,a,c){if(r.tag!==5)throw Error(i(476));var v=V0(r).queue;P0(r,v,s,de,a===null?gw:function(){return L0(r),a(c)})}function V0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:de},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function L0(r){var s=V0(r);s.next===null&&(s=r.alternate.memoizedState),Va(r,s.next.queue,{},si())}function wh(){return vn(Wa)}function U0(){return Ht().memoizedState}function O0(){return Ht().memoizedState}function yw(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=si();r=yo(a);var c=vo(s,r,a);c!==null&&(Gn(c,s,a),Na(c,s,a)),s={cache:th()},r.payload=s;return}s=s.return}}function vw(r,s,a){var c=si();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(r)?z0(s,a):(a=Gd(r,s,a,c),a!==null&&(Gn(a,r,c),B0(a,s,c)))}function F0(r,s,a){var c=si();Va(r,s,a,c)}function Va(r,s,a,c){var v={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(r))z0(s,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,I=_(x,a);if(v.hasEagerState=!0,v.eagerState=I,ei(I,x))return cc(r,s,v,0),Tt===null&&uc(),!1}catch{}finally{}if(a=Gd(r,s,v,c),a!==null)return Gn(a,r,c),B0(a,s,c),!0}return!1}function Ih(r,s,a,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nc(r)){if(s)throw Error(i(479))}else s=Gd(r,a,c,2),s!==null&&Gn(s,r,2)}function Nc(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function z0(r,s){al=Ac=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function B0(r,s,a){if((a&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ye(r,a)}}var La={readContext:vn,use:wc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};La.useEffectEvent=Ot;var q0={readContext:vn,use:wc,useCallback:function(r,s){return Vn().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:C0,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,bc(4194308,4,R0.bind(null,s,r),a)},useLayoutEffect:function(r,s){return bc(4194308,4,r,s)},useInsertionEffect:function(r,s){bc(4,2,r,s)},useMemo:function(r,s){var a=Vn();s=s===void 0?null:s;var c=r();if(ys){Lt(!0);try{r()}finally{Lt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(r,s,a){var c=Vn();if(a!==void 0){var v=a(s);if(ys){Lt(!0);try{a(s)}finally{Lt(!1)}}}else v=s;return c.memoizedState=c.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},c.queue=r,r=r.dispatch=vw.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=Vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Eh(r);var s=r.queue,a=F0.bind(null,Be,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Vn();return xh(a,r,s)},useTransition:function(){var r=Eh(!1);return r=P0.bind(null,Be,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var c=Be,v=Vn();if(et){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Tt===null)throw Error(i(349));(Xe&127)!==0||u0(c,s,a)}v.memoizedState=a;var _={value:a,getSnapshot:s};return v.queue=_,C0(f0.bind(null,c,_,r),[r]),c.flags|=2048,cl(9,{destroy:void 0},c0.bind(null,c,_,a,s),null),a},useId:function(){var r=Vn(),s=Tt.identifierPrefix;if(et){var a=mr,c=pr;a=(c&~(1<<32-$e(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=xc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=fw++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:wh,useFormState:E0,useActionState:E0,useOptimistic:function(r){var s=Vn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ih.bind(null,Be,!0,a),a.dispatch=s,[r,s]},useMemoCache:yh,useCacheRefresh:function(){return Vn().memoizedState=yw.bind(null,Be)},useEffectEvent:function(r){var s=Vn(),a={impl:r};return s.memoizedState=a,function(){if((ct&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},bh={readContext:vn,use:wc,useCallback:M0,useContext:vn,useEffect:Sh,useImperativeHandle:N0,useInsertionEffect:I0,useLayoutEffect:b0,useMemo:D0,useReducer:Ic,useRef:x0,useState:function(){return Ic(Or)},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Ht();return k0(a,vt.memoizedState,r,s)},useTransition:function(){var r=Ic(Or)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pa(r),s]},useSyncExternalStore:a0,useId:U0,useHostTransitionStatus:wh,useFormState:T0,useActionState:T0,useOptimistic:function(r,s){var a=Ht();return p0(a,vt,r,s)},useMemoCache:yh,useCacheRefresh:O0};bh.useEffectEvent=w0;var H0={readContext:vn,use:wc,useCallback:M0,useContext:vn,useEffect:Sh,useImperativeHandle:N0,useInsertionEffect:I0,useLayoutEffect:b0,useMemo:D0,useReducer:_h,useRef:x0,useState:function(){return _h(Or)},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Ht();return vt===null?xh(a,r,s):k0(a,vt.memoizedState,r,s)},useTransition:function(){var r=_h(Or)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pa(r),s]},useSyncExternalStore:a0,useId:U0,useHostTransitionStatus:wh,useFormState:A0,useActionState:A0,useOptimistic:function(r,s){var a=Ht();return vt!==null?p0(a,vt,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:O0};H0.useEffectEvent=w0;function Rh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Nh={enqueueSetState:function(r,s,a){r=r._reactInternals;var c=si(),v=yo(c);v.payload=s,a!=null&&(v.callback=a),s=vo(r,v,c),s!==null&&(Gn(s,r,c),Na(s,r,c))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=si(),v=yo(c);v.tag=1,v.payload=s,a!=null&&(v.callback=a),s=vo(r,v,c),s!==null&&(Gn(s,r,c),Na(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=si(),c=yo(a);c.tag=2,s!=null&&(c.callback=s),s=vo(r,c,a),s!==null&&(Gn(s,r,a),Na(s,r,a))}};function G0(r,s,a,c,v,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,_,x):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,c)||!Sa(v,_):!0}function Y0(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Nh.enqueueReplaceState(s,s.state,null)}function vs(r,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(r=r.defaultProps){a===s&&(a=E({},a));for(var v in r)a[v]===void 0&&(a[v]=r[v])}return a}function J0(r){ac(r)}function $0(r){console.error(r)}function K0(r){ac(r)}function Mc(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Q0(r,s,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Mh(r,s,a){return a=yo(a),a.tag=3,a.payload={element:null},a.callback=function(){Mc(r,s)},a}function X0(r){return r=yo(r),r.tag=3,r}function j0(r,s,a,c){var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;r.payload=function(){return v(_)},r.callback=function(){Q0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Q0(s,a,c),typeof v!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function _w(r,s,a,c,v){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&nl(s,a,v,!0),a=ni.current,a!==null){switch(a.tag){case 31:case 13:return bi===null?Hc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=v,c===vc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),np(r,c,v)),!1;case 22:return a.flags|=65536,c===vc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),np(r,c,v)),!1}throw Error(i(435,a.tag))}return np(r,c,v),Hc(),!1}if(et)return s=ni.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,c!==Xd&&(r=Error(i(422),{cause:c}),Ca(xi(r,a)))):(c!==Xd&&(s=Error(i(423),{cause:c}),Ca(xi(s,a))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,c=xi(c,a),v=Mh(r.stateNode,c,v),lh(r,v),Ft!==4&&(Ft=2)),!1;var _=Error(i(520),{cause:c});if(_=xi(_,a),Ga===null?Ga=[_]:Ga.push(_),Ft!==4&&(Ft=2),s===null)return!0;c=xi(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=v&-v,a.lanes|=r,r=Mh(a.stateNode,c,r),lh(a,r),!1;case 1:if(s=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(xo===null||!xo.has(_))))return a.flags|=65536,v&=-v,a.lanes|=v,v=X0(v),j0(v,r,a,c),lh(a,v),!1}a=a.return}while(a!==null);return!1}var Dh=Error(i(461)),jt=!1;function _n(r,s,a,c){s.child=r===null?t0(s,null,a,c):gs(s,r.child,a,c)}function W0(r,s,a,c,v){a=a.render;var _=s.ref;if("ref"in c){var x={};for(var I in c)I!=="ref"&&(x[I]=c[I])}else x=c;return ds(s),c=hh(r,s,a,x,_,v),I=ph(),r!==null&&!jt?(mh(r,s,v),Fr(r,s,v)):(et&&I&&Kd(s),s.flags|=1,_n(r,s,c,v),s.child)}function Z0(r,s,a,c,v){if(r===null){var _=a.type;return typeof _=="function"&&!Yd(_)&&_.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=_,ev(r,s,_,c,v)):(r=dc(a.type,null,c,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!zh(r,v)){var x=_.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(x,c)&&r.ref===s.ref)return Fr(r,s,v)}return s.flags|=1,r=kr(_,c),r.ref=s.ref,r.return=s,s.child=r}function ev(r,s,a,c,v){if(r!==null){var _=r.memoizedProps;if(Sa(_,c)&&r.ref===s.ref)if(jt=!1,s.pendingProps=c=_,zh(r,v))(r.flags&131072)!==0&&(jt=!0);else return s.lanes=r.lanes,Fr(r,s,v)}return kh(r,s,a,c,v)}function tv(r,s,a,c){var v=c.children,_=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,r!==null){for(c=s.child=r.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~_}else c=0,s.child=null;return nv(r,s,_,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&gc(s,_!==null?_.cachePool:null),_!==null?r0(s,_):uh(),o0(s);else return c=s.lanes=536870912,nv(r,s,_!==null?_.baseLanes|a:a,a,c)}else _!==null?(gc(s,_.cachePool),r0(s,_),Eo(),s.memoizedState=null):(r!==null&&gc(s,null),uh(),Eo());return _n(r,s,v,a),s.child}function Ua(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function nv(r,s,a,c,v){var _=ih();return _=_===null?null:{parent:Qt._currentValue,pool:_},s.memoizedState={baseLanes:a,cachePool:_},r!==null&&gc(s,null),uh(),o0(s),r!==null&&nl(r,s,c,!0),s.childLanes=v,null}function Dc(r,s){return s=Pc({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function iv(r,s,a){return gs(s,r.child,null,a),r=Dc(s,s.pendingProps),r.flags|=2,ii(s),s.memoizedState=null,r}function Ew(r,s,a){var c=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(et){if(c.mode==="hidden")return r=Dc(s,c),s.lanes=536870912,Ua(null,r);if(fh(s),(r=bt)?(r=m_(r,Ii),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:fo!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},a=zy(r),a.return=s,s.child=a,yn=s,bt=null)):r=null,r===null)throw po(s);return s.lanes=536870912,null}return Dc(s,c)}var _=r.memoizedState;if(_!==null){var x=_.dehydrated;if(fh(s),v)if(s.flags&256)s.flags&=-257,s=iv(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(jt||nl(r,s,a,!1),v=(a&r.childLanes)!==0,jt||v){if(c=Tt,c!==null&&(x=zt(c,a),x!==0&&x!==_.retryLane))throw _.retryLane=x,as(r,x),Gn(c,r,x),Dh;Hc(),s=iv(r,s,a)}else r=_.treeContext,bt=Ri(x.nextSibling),yn=s,et=!0,ho=null,Ii=!1,r!==null&&Hy(s,r),s=Dc(s,c),s.flags|=4096;return s}return r=kr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function kc(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function kh(r,s,a,c,v){return ds(s),a=hh(r,s,a,c,void 0,v),c=ph(),r!==null&&!jt?(mh(r,s,v),Fr(r,s,v)):(et&&c&&Kd(s),s.flags|=1,_n(r,s,a,v),s.child)}function rv(r,s,a,c,v,_){return ds(s),s.updateQueue=null,a=l0(s,c,a,v),s0(r),c=ph(),r!==null&&!jt?(mh(r,s,_),Fr(r,s,_)):(et&&c&&Kd(s),s.flags|=1,_n(r,s,a,_),s.child)}function ov(r,s,a,c,v){if(ds(s),s.stateNode===null){var _=Ws,x=a.contextType;typeof x=="object"&&x!==null&&(_=vn(x)),_=new a(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Nh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},oh(s),x=a.contextType,_.context=typeof x=="object"&&x!==null?vn(x):Ws,_.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Rh(s,a,x,c),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Nh.enqueueReplaceState(_,_.state,null),Da(s,c,_,v),Ma(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){_=s.stateNode;var I=s.memoizedProps,q=vs(a,I);_.props=q;var Z=_.context,re=a.contextType;x=Ws,typeof re=="object"&&re!==null&&(x=vn(re));var ue=a.getDerivedStateFromProps;re=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Z!==x)&&Y0(s,_,c,x),go=!1;var ee=s.memoizedState;_.state=ee,Da(s,c,_,v),Ma(),Z=s.memoizedState,I||ee!==Z||go?(typeof ue=="function"&&(Rh(s,a,ue,c),Z=s.memoizedState),(q=go||G0(s,a,q,c,ee,Z,x))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),_.props=c,_.state=Z,_.context=x,c=q):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,sh(r,s),x=s.memoizedProps,re=vs(a,x),_.props=re,ue=s.pendingProps,ee=_.context,Z=a.contextType,q=Ws,typeof Z=="object"&&Z!==null&&(q=vn(Z)),I=a.getDerivedStateFromProps,(Z=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ue||ee!==q)&&Y0(s,_,c,q),go=!1,ee=s.memoizedState,_.state=ee,Da(s,c,_,v),Ma();var ne=s.memoizedState;x!==ue||ee!==ne||go||r!==null&&r.dependencies!==null&&pc(r.dependencies)?(typeof I=="function"&&(Rh(s,a,I,c),ne=s.memoizedState),(re=go||G0(s,a,re,c,ee,ne,q)||r!==null&&r.dependencies!==null&&pc(r.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,q)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),_.props=c,_.state=ne,_.context=q,c=re):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return _=c,kc(r,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&c?(s.child=gs(s,r.child,null,v),s.child=gs(s,null,a,v)):_n(r,s,a,v),s.memoizedState=_.state,r=s.child):r=Fr(r,s,v),r}function sv(r,s,a,c){return cs(),s.flags|=256,_n(r,s,a,c),s.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(r){return{baseLanes:r,cachePool:Qy()}}function Lh(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=oi),r}function lv(r,s,a){var c=s.pendingProps,v=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),x&&(v=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(et){if(v?_o(s):Eo(),(r=bt)?(r=m_(r,Ii),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:fo!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},a=zy(r),a.return=s,s.child=a,yn=s,bt=null)):r=null,r===null)throw po(s);return vp(r)?s.lanes=32:s.lanes=536870912,null}var I=c.children;return c=c.fallback,v?(Eo(),v=s.mode,I=Pc({mode:"hidden",children:I},v),c=us(c,v,a,null),I.return=s,c.return=s,I.sibling=c,s.child=I,c=s.child,c.memoizedState=Vh(a),c.childLanes=Lh(r,x,a),s.memoizedState=Ph,Ua(null,c)):(_o(s),Uh(s,I))}var q=r.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(_)s.flags&256?(_o(s),s.flags&=-257,s=Oh(r,s,a)):s.memoizedState!==null?(Eo(),s.child=r.child,s.flags|=128,s=null):(Eo(),I=c.fallback,v=s.mode,c=Pc({mode:"visible",children:c.children},v),I=us(I,v,a,null),I.flags|=2,c.return=s,I.return=s,c.sibling=I,s.child=c,gs(s,r.child,null,a),c=s.child,c.memoizedState=Vh(a),c.childLanes=Lh(r,x,a),s.memoizedState=Ph,s=Ua(null,c));else if(_o(s),vp(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var Z=x.dgst;x=Z,c=Error(i(419)),c.stack="",c.digest=x,Ca({value:c,source:null,stack:null}),s=Oh(r,s,a)}else if(jt||nl(r,s,a,!1),x=(a&r.childLanes)!==0,jt||x){if(x=Tt,x!==null&&(c=zt(x,a),c!==0&&c!==q.retryLane))throw q.retryLane=c,as(r,c),Gn(x,r,c),Dh;yp(I)||Hc(),s=Oh(r,s,a)}else yp(I)?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,bt=Ri(I.nextSibling),yn=s,et=!0,ho=null,Ii=!1,r!==null&&Hy(s,r),s=Uh(s,c.children),s.flags|=4096);return s}return v?(Eo(),I=c.fallback,v=s.mode,q=r.child,Z=q.sibling,c=kr(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?I=kr(Z,I):(I=us(I,v,a,null),I.flags|=2),I.return=s,c.return=s,c.sibling=I,s.child=c,Ua(null,c),c=s.child,I=r.child.memoizedState,I===null?I=Vh(a):(v=I.cachePool,v!==null?(q=Qt._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=Qy(),I={baseLanes:I.baseLanes|a,cachePool:v}),c.memoizedState=I,c.childLanes=Lh(r,x,a),s.memoizedState=Ph,Ua(r.child,c)):(_o(s),a=r.child,r=a.sibling,a=kr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=a,s.memoizedState=null,a)}function Uh(r,s){return s=Pc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Pc(r,s){return r=ti(22,r,null,s),r.lanes=0,r}function Oh(r,s,a){return gs(s,r.child,null,a),r=Uh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function av(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Zd(r.return,s,a)}function Fh(r,s,a,c,v,_){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:v,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=v,x.treeForkCount=_)}function uv(r,s,a){var c=s.pendingProps,v=c.revealOrder,_=c.tail;c=c.children;var x=qt.current,I=(x&2)!==0;if(I?(x=x&1|2,s.flags|=128):x&=1,b(qt,x),_n(r,s,c,a),c=et?xa:0,!I&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&av(r,a,s);else if(r.tag===19)av(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(a=s.child,v=null;a!==null;)r=a.alternate,r!==null&&Sc(r)===null&&(v=a),a=a.sibling;a=v,a===null?(v=s.child,s.child=null):(v=a.sibling,a.sibling=null),Fh(s,!1,v,a,_,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Sc(r)===null){s.child=v;break}r=v.sibling,v.sibling=a,a=v,v=r}Fh(s,!0,a,null,_,c);break;case"together":Fh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Fr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Ao|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(nl(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=kr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=kr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function zh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&pc(r)))}function Tw(r,s,a){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),mo(s,Qt,r.memoizedState.cache),cs();break;case 27:case 5:pn(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:mo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(_o(s),s.flags|=128,null):(a&s.child.childLanes)!==0?lv(r,s,a):(_o(s),r=Fr(r,s,a),r!==null?r.sibling:null);_o(s);break;case 19:var v=(r.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(nl(r,s,a,!1),c=(a&s.childLanes)!==0),v){if(c)return uv(r,s,a);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),b(qt,qt.current),c)break;return null;case 22:return s.lanes=0,tv(r,s,a,s.pendingProps);case 24:mo(s,Qt,r.memoizedState.cache)}return Fr(r,s,a)}function cv(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)jt=!0;else{if(!zh(r,a)&&(s.flags&128)===0)return jt=!1,Tw(r,s,a);jt=(r.flags&131072)!==0}else jt=!1,et&&(s.flags&1048576)!==0&&qy(s,xa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=ps(s.elementType),s.type=r,typeof r=="function")Yd(r)?(c=vs(r,c),s.tag=1,s=ov(null,s,r,c,a)):(s.tag=0,s=kh(null,s,r,c,a));else{if(r!=null){var v=r.$$typeof;if(v===le){s.tag=11,s=W0(null,s,r,c,a);break e}else if(v===M){s.tag=14,s=Z0(null,s,r,c,a);break e}}throw s=ye(r)||r,Error(i(306,s,""))}}return s;case 0:return kh(r,s,s.type,s.pendingProps,a);case 1:return c=s.type,v=vs(c,s.pendingProps),ov(r,s,c,v,a);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var _=s.memoizedState;v=_.element,sh(r,s),Da(s,c,null,a);var x=s.memoizedState;if(c=x.cache,mo(s,Qt,c),c!==_.cache&&eh(s,[Qt],a,!0),Ma(),c=x.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=sv(r,s,c,a);break e}else if(c!==v){v=xi(Error(i(424)),s),Ca(v),s=sv(r,s,c,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=Ri(r.firstChild),yn=s,et=!0,ho=null,Ii=!0,a=t0(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cs(),c===v){s=Fr(r,s,a);break e}_n(r,s,c,a)}s=s.child}return s;case 26:return kc(r,s),r===null?(a=T_(s.type,null,s.pendingProps,null))?s.memoizedState=a:et||(a=s.type,r=s.pendingProps,c=Xc(Ce.current).createElement(a),c[Jt]=s,c[un]=r,En(c,a,r),$t(c),s.stateNode=c):s.memoizedState=T_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return pn(s),r===null&&et&&(c=s.stateNode=v_(s.type,s.pendingProps,Ce.current),yn=s,Ii=!0,v=bt,bo(s.type)?(_p=v,bt=Ri(c.firstChild)):bt=v),_n(r,s,s.pendingProps.children,a),kc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&et&&((v=c=bt)&&(c=jw(c,s.type,s.pendingProps,Ii),c!==null?(s.stateNode=c,yn=s,bt=Ri(c.firstChild),Ii=!1,v=!0):v=!1),v||po(s)),pn(s),v=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,c=_.children,pp(v,_)?c=null:x!==null&&pp(v,x)&&(s.flags|=32),s.memoizedState!==null&&(v=hh(r,s,dw,null,null,a),Wa._currentValue=v),kc(r,s),_n(r,s,c,a),s.child;case 6:return r===null&&et&&((r=a=bt)&&(a=Ww(a,s.pendingProps,Ii),a!==null?(s.stateNode=a,yn=s,bt=null,r=!0):r=!1),r||po(s)),null;case 13:return lv(r,s,a);case 4:return at(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=gs(s,null,c,a):_n(r,s,c,a),s.child;case 11:return W0(r,s,s.type,s.pendingProps,a);case 7:return _n(r,s,s.pendingProps,a),s.child;case 8:return _n(r,s,s.pendingProps.children,a),s.child;case 12:return _n(r,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,mo(s,s.type,c.value),_n(r,s,c.children,a),s.child;case 9:return v=s.type._context,c=s.pendingProps.children,ds(s),v=vn(v),c=c(v),s.flags|=1,_n(r,s,c,a),s.child;case 14:return Z0(r,s,s.type,s.pendingProps,a);case 15:return ev(r,s,s.type,s.pendingProps,a);case 19:return uv(r,s,a);case 31:return Ew(r,s,a);case 22:return tv(r,s,a,s.pendingProps);case 24:return ds(s),c=vn(Qt),r===null?(v=ih(),v===null&&(v=Tt,_=th(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=a),v=_),s.memoizedState={parent:c,cache:v},oh(s),mo(s,Qt,v)):((r.lanes&a)!==0&&(sh(r,s),Da(s,null,null,a),Ma()),v=r.memoizedState,_=s.memoizedState,v.parent!==c?(v={parent:c,cache:c},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),mo(s,Qt,c)):(c=_.cache,mo(s,Qt,c),c!==v.cache&&eh(s,[Qt],a,!0))),_n(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function zr(r){r.flags|=4}function Bh(r,s,a,c,v){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(Uv())r.flags|=8192;else throw ms=vc,rh}else r.flags&=-16777217}function fv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!w_(s))if(Uv())r.flags|=8192;else throw ms=vc,rh}function Vc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Vs():536870912,r.lanes|=s,pl|=s)}function Oa(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function Sw(r,s,a){var c=s.pendingProps;switch(Qd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Rt(s),null;case 3:return a=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Lr(Qt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(tl(s)?zr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jd())),Rt(s),null;case 26:var v=s.type,_=s.memoizedState;return r===null?(zr(s),_!==null?(Rt(s),fv(s,_)):(Rt(s),Bh(s,v,null,c,a))):_?_!==r.memoizedState?(zr(s),Rt(s),fv(s,_)):(Rt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&zr(s),Rt(s),Bh(s,v,r,c,a)),null;case 27:if(Mn(s),a=Ce.current,v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&zr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}r=pe.current,tl(s)?Gy(s):(r=v_(v,c,a),s.stateNode=r,zr(s))}return Rt(s),null;case 5:if(Mn(s),v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&zr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}if(_=pe.current,tl(s))Gy(s);else{var x=Xc(Ce.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?x.createElement(v,{is:c.is}):x.createElement(v)}}_[Jt]=s,_[un]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;e:switch(En(_,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&zr(s)}}return Rt(s),Bh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&zr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ce.current,tl(s)){if(r=s.stateNode,a=s.memoizedProps,c=null,v=yn,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||l_(r.nodeValue,a)),r||po(s,!0)}else r=Xc(r).createTextNode(c),r[Jt]=s,s.stateNode=r}return Rt(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(c=tl(s),a!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Jt]=s}else cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),r=!1}else a=jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?(ii(s),s):(ii(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Rt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=tl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Jt]=s}else cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),v=!1}else v=jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(ii(s),s):(ii(s),null)}return ii(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=s.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==v&&(c.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),Vc(s,s.updateQueue),Rt(s),null);case 4:return tt(),r===null&&up(s.stateNode.containerInfo),Rt(s),null;case 10:return Lr(s.type),Rt(s),null;case 19:if(ie(qt),c=s.memoizedState,c===null)return Rt(s),null;if(v=(s.flags&128)!==0,_=c.rendering,_===null)if(v)Oa(c,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Sc(r),_!==null){for(s.flags|=128,Oa(c,!1),r=_.updateQueue,s.updateQueue=r,Vc(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Fy(a,r),a=a.sibling;return b(qt,qt.current&1|2),et&&Pr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&It()>zc&&(s.flags|=128,v=!0,Oa(c,!1),s.lanes=4194304)}else{if(!v)if(r=Sc(_),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,Vc(s,r),Oa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!et)return Rt(s),null}else 2*It()-c.renderingStartTime>zc&&a!==536870912&&(s.flags|=128,v=!0,Oa(c,!1),s.lanes=4194304);c.isBackwards?(_.sibling=s.child,s.child=_):(r=c.last,r!==null?r.sibling=_:s.child=_,c.last=_)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=It(),r.sibling=null,a=qt.current,b(qt,v?a&1|2:a&1),et&&Pr(s,c.treeForkCount),r):(Rt(s),null);case 22:case 23:return ii(s),ch(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),a=s.updateQueue,a!==null&&Vc(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),r!==null&&ie(hs),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Lr(Qt),Rt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Aw(r,s){switch(Qd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Lr(Qt),tt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Mn(s),null;case 31:if(s.memoizedState!==null){if(ii(s),s.alternate===null)throw Error(i(340));cs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ii(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(qt),null;case 4:return tt(),null;case 10:return Lr(s.type),null;case 22:case 23:return ii(s),ch(),r!==null&&ie(hs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Lr(Qt),null;case 25:return null;default:return null}}function dv(r,s){switch(Qd(s),s.tag){case 3:Lr(Qt),tt();break;case 26:case 27:case 5:Mn(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&ii(s);break;case 13:ii(s);break;case 19:ie(qt);break;case 10:Lr(s.type);break;case 22:case 23:ii(s),ch(),r!==null&&ie(hs);break;case 24:Lr(Qt)}}function Fa(r,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var v=c.next;a=v;do{if((a.tag&r)===r){c=void 0;var _=a.create,x=a.inst;c=_(),x.destroy=c}a=a.next}while(a!==v)}}catch(I){gt(s,s.return,I)}}function To(r,s,a){try{var c=s.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var _=v.next;c=_;do{if((c.tag&r)===r){var x=c.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,v=s;var q=a,Z=I;try{Z()}catch(re){gt(v,q,re)}}}c=c.next}while(c!==_)}}catch(re){gt(s,s.return,re)}}function hv(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{i0(s,a)}catch(c){gt(r,r.return,c)}}}function pv(r,s,a){a.props=vs(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){gt(r,s,c)}}function za(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(v){gt(r,s,v)}}function gr(r,s){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(v){gt(r,s,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(v){gt(r,s,v)}else a.current=null}function mv(r){var s=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(v){gt(r,r.return,v)}}function qh(r,s,a){try{var c=r.stateNode;Yw(c,r.type,a,s),c[un]=s}catch(v){gt(r,r.return,v)}}function gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bo(r.type)||r.tag===4}function Hh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bi));else if(c!==4&&(c===27&&bo(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Gh(r,s,a),r=r.sibling;r!==null;)Gh(r,s,a),r=r.sibling}function Lc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(c===27&&bo(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Lc(r,s,a),r=r.sibling;r!==null;)Lc(r,s,a),r=r.sibling}function yv(r){var s=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);En(s,c,a),s[Jt]=r,s[un]=a}catch(_){gt(r,r.return,_)}}var Br=!1,Wt=!1,Yh=!1,vv=typeof WeakSet=="function"?WeakSet:Set,fn=null;function xw(r,s){if(r=r.containerInfo,dp=rf,r=Ny(r),Od(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var v=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var x=0,I=-1,q=-1,Z=0,re=0,ue=r,ee=null;t:for(;;){for(var ne;ue!==a||v!==0&&ue.nodeType!==3||(I=x+v),ue!==_||c!==0&&ue.nodeType!==3||(q=x+c),ue.nodeType===3&&(x+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===r)break t;if(ee===a&&++Z===v&&(I=x),ee===_&&++re===c&&(q=x),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}a=I===-1||q===-1?null:{start:I,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(hp={focusedElem:r,selectionRange:a},rf=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,_=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)v=r[a],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,a=s,v=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var xe=vs(a.type,v);r=c.getSnapshotBeforeUpdate(xe,_),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){gt(a,a.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)gp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function _v(r,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Hr(r,a),c&4&&Fa(5,a);break;case 1:if(Hr(r,a),c&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(x){gt(a,a.return,x)}else{var v=vs(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(v,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){gt(a,a.return,x)}}c&64&&hv(a),c&512&&za(a,a.return);break;case 3:if(Hr(r,a),c&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{i0(r,s)}catch(x){gt(a,a.return,x)}}break;case 27:s===null&&c&4&&yv(a);case 26:case 5:Hr(r,a),s===null&&c&4&&mv(a),c&512&&za(a,a.return);break;case 12:Hr(r,a);break;case 31:Hr(r,a),c&4&&Sv(r,a);break;case 13:Hr(r,a),c&4&&Av(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=kw.bind(null,a),Zw(r,a))));break;case 22:if(c=a.memoizedState!==null||Br,!c){s=s!==null&&s.memoizedState!==null||Wt,v=Br;var _=Wt;Br=c,(Wt=s)&&!_?Gr(r,a,(a.subtreeFlags&8772)!==0):Hr(r,a),Br=v,Wt=_}break;case 30:break;default:Hr(r,a)}}function Ev(r){var s=r.alternate;s!==null&&(r.alternate=null,Ev(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Os(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,zn=!1;function qr(r,s,a){for(a=a.child;a!==null;)Tv(r,s,a),a=a.sibling}function Tv(r,s,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:Wt||gr(a,s),qr(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wt||gr(a,s);var c=Dt,v=zn;bo(a.type)&&(Dt=a.stateNode,zn=!1),qr(r,s,a),Qa(a.stateNode),Dt=c,zn=v;break;case 5:Wt||gr(a,s);case 6:if(c=Dt,v=zn,Dt=null,qr(r,s,a),Dt=c,zn=v,Dt!==null)if(zn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(_){gt(a,s,_)}else try{Dt.removeChild(a.stateNode)}catch(_){gt(a,s,_)}break;case 18:Dt!==null&&(zn?(r=Dt,h_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Sl(r)):h_(Dt,a.stateNode));break;case 4:c=Dt,v=zn,Dt=a.stateNode.containerInfo,zn=!0,qr(r,s,a),Dt=c,zn=v;break;case 0:case 11:case 14:case 15:To(2,a,s),Wt||To(4,a,s),qr(r,s,a);break;case 1:Wt||(gr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&pv(a,s,c)),qr(r,s,a);break;case 21:qr(r,s,a);break;case 22:Wt=(c=Wt)||a.memoizedState!==null,qr(r,s,a),Wt=c;break;default:qr(r,s,a)}}function Sv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Sl(r)}catch(a){gt(s,s.return,a)}}}function Av(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Sl(r)}catch(a){gt(s,s.return,a)}}function Cw(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new vv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new vv),s;default:throw Error(i(435,r.tag))}}function Uc(r,s){var a=Cw(r);s.forEach(function(c){if(!a.has(c)){a.add(c);var v=Pw.bind(null,r,c);c.then(v,v)}})}function Bn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var v=a[c],_=r,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(bo(I.type)){Dt=I.stateNode,zn=!1;break e}break;case 5:Dt=I.stateNode,zn=!1;break e;case 3:case 4:Dt=I.stateNode.containerInfo,zn=!0;break e}I=I.return}if(Dt===null)throw Error(i(160));Tv(_,x,v),Dt=null,zn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)xv(s,r),s=s.sibling}var $i=null;function xv(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Bn(s,r),qn(r),c&4&&(To(3,r,r.return),Fa(3,r),To(5,r,r.return));break;case 1:Bn(s,r),qn(r),c&512&&(Wt||a===null||gr(a,a.return)),c&64&&Br&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var v=$i;if(Bn(s,r),qn(r),c&512&&(Wt||a===null||gr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":_=v.getElementsByTagName("title")[0],(!_||_[nr]||_[Jt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(c),v.head.insertBefore(_,v.querySelector("head > title"))),En(_,c,a),_[Jt]=r,$t(_),c=_;break e;case"link":var x=x_("link","href",v).get(c+(a.href||""));if(x){for(var I=0;I<x.length;I++)if(_=x[I],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(I,1);break t}}_=v.createElement(c),En(_,c,a),v.head.appendChild(_);break;case"meta":if(x=x_("meta","content",v).get(c+(a.content||""))){for(I=0;I<x.length;I++)if(_=x[I],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(I,1);break t}}_=v.createElement(c),En(_,c,a),v.head.appendChild(_);break;default:throw Error(i(468,c))}_[Jt]=r,$t(_),c=_}r.stateNode=c}else C_(v,r.type,r.stateNode);else r.stateNode=A_(v,c,r.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?C_(v,r.type,r.stateNode):A_(v,c,r.memoizedProps)):c===null&&r.stateNode!==null&&qh(r,r.memoizedProps,a.memoizedProps)}break;case 27:Bn(s,r),qn(r),c&512&&(Wt||a===null||gr(a,a.return)),a!==null&&c&4&&qh(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Bn(s,r),qn(r),c&512&&(Wt||a===null||gr(a,a.return)),r.flags&32){v=r.stateNode;try{Fn(v,"")}catch(xe){gt(r,r.return,xe)}}c&4&&r.stateNode!=null&&(v=r.memoizedProps,qh(r,v,a!==null?a.memoizedProps:v)),c&1024&&(Yh=!0);break;case 6:if(Bn(s,r),qn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(xe){gt(r,r.return,xe)}}break;case 3:if(Zc=null,v=$i,$i=jc(s.containerInfo),Bn(s,r),$i=v,qn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(s.containerInfo)}catch(xe){gt(r,r.return,xe)}Yh&&(Yh=!1,Cv(r));break;case 4:c=$i,$i=jc(r.stateNode.containerInfo),Bn(s,r),qn(r),$i=c;break;case 12:Bn(s,r),qn(r);break;case 31:Bn(s,r),qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Uc(r,c)));break;case 13:Bn(s,r),qn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fc=It()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Uc(r,c)));break;case 22:v=r.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,Z=Br,re=Wt;if(Br=Z||v,Wt=re||q,Bn(s,r),Wt=re,Br=Z,qn(r),c&8192)e:for(s=r.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(a===null||q||Br||Wt||_s(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){q=a=s;try{if(_=q.stateNode,v)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(xe){gt(q,q.return,xe)}}}else if(s.tag===6){if(a===null){q=s;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(xe){gt(q,q.return,xe)}}}else if(s.tag===18){if(a===null){q=s;try{var ne=q.stateNode;v?p_(ne,!0):p_(q.stateNode,!1)}catch(xe){gt(q,q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Uc(r,a))));break;case 19:Bn(s,r),qn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Uc(r,c)));break;case 30:break;case 21:break;default:Bn(s,r),qn(r)}}function qn(r){var s=r.flags;if(s&2){try{for(var a,c=r.return;c!==null;){if(gv(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var v=a.stateNode,_=Hh(r);Lc(r,_,v);break;case 5:var x=a.stateNode;a.flags&32&&(Fn(x,""),a.flags&=-33);var I=Hh(r);Lc(r,I,x);break;case 3:case 4:var q=a.stateNode.containerInfo,Z=Hh(r);Gh(r,Z,q);break;default:throw Error(i(161))}}catch(re){gt(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Cv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Cv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Hr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_v(r,s.alternate,s),s=s.sibling}function _s(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:To(4,s,s.return),_s(s);break;case 1:gr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&pv(s,s.return,a),_s(s);break;case 27:Qa(s.stateNode);case 26:case 5:gr(s,s.return),_s(s);break;case 22:s.memoizedState===null&&_s(s);break;case 30:_s(s);break;default:_s(s)}r=r.sibling}}function Gr(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,v=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Gr(v,_,a),Fa(4,_);break;case 1:if(Gr(v,_,a),c=_,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){gt(c,c.return,Z)}if(c=_,v=c.updateQueue,v!==null){var I=c.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)n0(q[v],I)}catch(Z){gt(c,c.return,Z)}}a&&x&64&&hv(_),za(_,_.return);break;case 27:yv(_);case 26:case 5:Gr(v,_,a),a&&c===null&&x&4&&mv(_),za(_,_.return);break;case 12:Gr(v,_,a);break;case 31:Gr(v,_,a),a&&x&4&&Sv(v,_);break;case 13:Gr(v,_,a),a&&x&4&&Av(v,_);break;case 22:_.memoizedState===null&&Gr(v,_,a),za(_,_.return);break;case 30:break;default:Gr(v,_,a)}s=s.sibling}}function Jh(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&wa(a))}function $h(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wa(r))}function Ki(r,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)wv(r,s,a,c),s=s.sibling}function wv(r,s,a,c){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(r,s,a,c),v&2048&&Fa(9,s);break;case 1:Ki(r,s,a,c);break;case 3:Ki(r,s,a,c),v&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wa(r)));break;case 12:if(v&2048){Ki(r,s,a,c),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,I=_.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){gt(s,s.return,q)}}else Ki(r,s,a,c);break;case 31:Ki(r,s,a,c);break;case 13:Ki(r,s,a,c);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Ki(r,s,a,c):Ba(r,s):_._visibility&2?Ki(r,s,a,c):(_._visibility|=2,fl(r,s,a,c,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Jh(x,s);break;case 24:Ki(r,s,a,c),v&2048&&$h(s.alternate,s);break;default:Ki(r,s,a,c)}}function fl(r,s,a,c,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=r,x=s,I=a,q=c,Z=x.flags;switch(x.tag){case 0:case 11:case 15:fl(_,x,I,q,v),Fa(8,x);break;case 23:break;case 22:var re=x.stateNode;x.memoizedState!==null?re._visibility&2?fl(_,x,I,q,v):Ba(_,x):(re._visibility|=2,fl(_,x,I,q,v)),v&&Z&2048&&Jh(x.alternate,x);break;case 24:fl(_,x,I,q,v),v&&Z&2048&&$h(x.alternate,x);break;default:fl(_,x,I,q,v)}s=s.sibling}}function Ba(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,c=s,v=c.flags;switch(c.tag){case 22:Ba(a,c),v&2048&&Jh(c.alternate,c);break;case 24:Ba(a,c),v&2048&&$h(c.alternate,c);break;default:Ba(a,c)}s=s.sibling}}var qa=8192;function dl(r,s,a){if(r.subtreeFlags&qa)for(r=r.child;r!==null;)Iv(r,s,a),r=r.sibling}function Iv(r,s,a){switch(r.tag){case 26:dl(r,s,a),r.flags&qa&&r.memoizedState!==null&&fI(a,$i,r.memoizedState,r.memoizedProps);break;case 5:dl(r,s,a);break;case 3:case 4:var c=$i;$i=jc(r.stateNode.containerInfo),dl(r,s,a),$i=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=qa,qa=16777216,dl(r,s,a),qa=c):dl(r,s,a));break;default:dl(r,s,a)}}function bv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ha(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,Nv(c,r)}bv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(r),r=r.sibling}function Rv(r){switch(r.tag){case 0:case 11:case 15:Ha(r),r.flags&2048&&To(9,r,r.return);break;case 3:Ha(r);break;case 12:Ha(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Oc(r)):Ha(r);break;default:Ha(r)}}function Oc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,Nv(c,r)}bv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:To(8,s,s.return),Oc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(s));break;default:Oc(s)}r=r.sibling}}function Nv(r,s){for(;fn!==null;){var a=fn;switch(a.tag){case 0:case 11:case 15:To(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wa(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,fn=c;else e:for(a=r;fn!==null;){c=fn;var v=c.sibling,_=c.return;if(Ev(c),c===a){fn=null;break e}if(v!==null){v.return=_,fn=v;break e}fn=_}}}var ww={getCacheForType:function(r){var s=vn(Qt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return vn(Qt).controller.signal}},Iw=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,Ke=null,Xe=0,mt=0,ri=null,So=!1,hl=!1,Kh=!1,Yr=0,Ft=0,Ao=0,Es=0,Qh=0,oi=0,pl=0,Ga=null,Hn=null,Xh=!1,Fc=0,Mv=0,zc=1/0,Bc=null,xo=null,on=0,Co=null,ml=null,Jr=0,jh=0,Wh=null,Dv=null,Ya=0,Zh=null;function si(){return(ct&2)!==0&&Xe!==0?Xe&-Xe:Q.T!==null?op():to()}function kv(){if(oi===0)if((Xe&536870912)===0||et){var r=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),oi=r}else oi=536870912;return r=ni.current,r!==null&&(r.flags|=32),oi}function Gn(r,s,a){(r===Tt&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(gl(r,0),wo(r,Xe,oi,!1)),Ui(r,a),((ct&2)===0||r!==Tt)&&(r===Tt&&((ct&2)===0&&(Es|=a),Ft===4&&wo(r,Xe,oi,!1)),yr(r))}function Pv(r,s,a){if((ct&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&r.expiredLanes)===0||kn(r,s),v=c?Nw(r,s):tp(r,s,!0),_=c;do{if(v===0){hl&&!c&&wo(r,s,0,!1);break}else{if(a=r.current.alternate,_&&!bw(a)){v=tp(r,s,!1),_=!1;continue}if(v===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=r;v=Ga;var q=I.current.memoizedState.isDehydrated;if(q&&(gl(I,x).flags|=256),x=tp(I,x,!1),x!==2){if(Kh&&!q){I.errorRecoveryDisabledLanes|=_,Es|=_,v=4;break e}_=Hn,Hn=v,_!==null&&(Hn===null?Hn=_:Hn.push.apply(Hn,_))}v=x}if(_=!1,v!==2)continue}}if(v===1){gl(r,0),wo(r,s,0,!0);break}e:{switch(c=r,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:wo(c,s,oi,!So);break e;case 2:Hn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Fc+300-It(),10<v)){if(wo(c,s,oi,!So),gi(c,0,!0)!==0)break e;Jr=s,c.timeoutHandle=f_(Vv.bind(null,c,a,Hn,Bc,Xh,s,oi,Es,pl,So,_,"Throttled",-0,0),v);break e}Vv(c,a,Hn,Bc,Xh,s,oi,Es,pl,So,_,null,-0,0)}}break}while(!0);yr(r)}function Vv(r,s,a,c,v,_,x,I,q,Z,re,ue,ee,ne){if(r.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},Iv(s,_,ue);var xe=(_&62914560)===_?Fc-It():(_&4194048)===_?Mv-It():0;if(xe=dI(ue,xe),xe!==null){Jr=_,r.cancelPendingCommit=xe(Hv.bind(null,r,s,_,a,c,v,x,I,q,re,ue,null,ee,ne)),wo(r,_,x,!Z);return}}Hv(r,s,_,a,c,v,x,I,q)}function bw(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var v=a[c],_=v.getSnapshot;v=v.value;try{if(!ei(_(),v))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function wo(r,s,a,c){s&=~Qh,s&=~Es,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var v=s;0<v;){var _=31-$e(v),x=1<<_;c[_]=-1,v&=~x}a!==0&&ae(r,a,s)}function qc(){return(ct&6)===0?(Ja(0),!1):!0}function ep(){if(Ke!==null){if(mt===0)var r=Ke.return;else r=Ke,Vr=fs=null,gh(r),sl=null,ba=0,r=Ke;for(;r!==null;)dv(r.alternate,r),r=r.return;Ke=null}}function gl(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,Kw(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Jr=0,ep(),Tt=r,Ke=a=kr(r.current,null),Xe=s,mt=0,ri=null,So=!1,hl=kn(r,s),Kh=!1,pl=oi=Qh=Es=Ao=Ft=0,Hn=Ga=null,Xh=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var v=31-$e(c),_=1<<v;s|=r[v],c&=~_}return Yr=s,uc(),a}function Lv(r,s){Be=null,Q.H=La,s===ol||s===yc?(s=Wy(),mt=3):s===rh?(s=Wy(),mt=4):mt=s===Dh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ri=s,Ke===null&&(Ft=1,Mc(r,xi(s,r.current)))}function Uv(){var r=ni.current;return r===null?!0:(Xe&4194048)===Xe?bi===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===bi:!1}function Ov(){var r=Q.H;return Q.H=La,r===null?La:r}function Fv(){var r=Q.A;return Q.A=ww,r}function Hc(){Ft=4,So||(Xe&4194048)!==Xe&&ni.current!==null||(hl=!0),(Ao&134217727)===0&&(Es&134217727)===0||Tt===null||wo(Tt,Xe,oi,!1)}function tp(r,s,a){var c=ct;ct|=2;var v=Ov(),_=Fv();(Tt!==r||Xe!==s)&&(Bc=null,gl(r,s)),s=!1;var x=Ft;e:do try{if(mt!==0&&Ke!==null){var I=Ke,q=ri;switch(mt){case 8:ep(),x=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(s=!0);var Z=mt;if(mt=0,ri=null,yl(r,I,q,Z),a&&hl){x=0;break e}break;default:Z=mt,mt=0,ri=null,yl(r,I,q,Z)}}Rw(),x=Ft;break}catch(re){Lv(r,re)}while(!0);return s&&r.shellSuspendCounter++,Vr=fs=null,ct=c,Q.H=v,Q.A=_,Ke===null&&(Tt=null,Xe=0,uc()),x}function Rw(){for(;Ke!==null;)zv(Ke)}function Nw(r,s){var a=ct;ct|=2;var c=Ov(),v=Fv();Tt!==r||Xe!==s?(Bc=null,zc=It()+500,gl(r,s)):hl=kn(r,s);e:do try{if(mt!==0&&Ke!==null){s=Ke;var _=ri;t:switch(mt){case 1:mt=0,ri=null,yl(r,s,_,1);break;case 2:case 9:if(Xy(_)){mt=0,ri=null,Bv(s);break}s=function(){mt!==2&&mt!==9||Tt!==r||(mt=7),yr(r)},_.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Xy(_)?(mt=0,ri=null,Bv(s)):(mt=0,ri=null,yl(r,s,_,7));break;case 5:var x=null;switch(Ke.tag){case 26:x=Ke.memoizedState;case 5:case 27:var I=Ke;if(x?w_(x):I.stateNode.complete){mt=0,ri=null;var q=I.sibling;if(q!==null)Ke=q;else{var Z=I.return;Z!==null?(Ke=Z,Gc(Z)):Ke=null}break t}}mt=0,ri=null,yl(r,s,_,5);break;case 6:mt=0,ri=null,yl(r,s,_,6);break;case 8:ep(),Ft=6;break e;default:throw Error(i(462))}}Mw();break}catch(re){Lv(r,re)}while(!0);return Vr=fs=null,Q.H=c,Q.A=v,ct=a,Ke!==null?0:(Tt=null,Xe=0,uc(),Ft)}function Mw(){for(;Ke!==null&&!br();)zv(Ke)}function zv(r){var s=cv(r.alternate,r,Yr);r.memoizedProps=r.pendingProps,s===null?Gc(r):Ke=s}function Bv(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=rv(a,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=rv(a,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:gh(s);default:dv(a,s),s=Ke=Fy(s,Yr),s=cv(a,s,Yr)}r.memoizedProps=r.pendingProps,s===null?Gc(r):Ke=s}function yl(r,s,a,c){Vr=fs=null,gh(s),sl=null,ba=0;var v=s.return;try{if(_w(r,v,s,a,Xe)){Ft=1,Mc(r,xi(a,r.current)),Ke=null;return}}catch(_){if(v!==null)throw Ke=v,_;Ft=1,Mc(r,xi(a,r.current)),Ke=null;return}s.flags&32768?(et||c===1?r=!0:hl||(Xe&536870912)!==0?r=!1:(So=r=!0,(c===2||c===9||c===3||c===6)&&(c=ni.current,c!==null&&c.tag===13&&(c.flags|=16384))),qv(s,r)):Gc(s)}function Gc(r){var s=r;do{if((s.flags&32768)!==0){qv(s,So);return}r=s.return;var a=Sw(s.alternate,s,Yr);if(a!==null){Ke=a;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);Ft===0&&(Ft=5)}function qv(r,s){do{var a=Aw(r.alternate,r);if(a!==null){a.flags&=32767,Ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=a}while(r!==null);Ft=6,Ke=null}function Hv(r,s,a,c,v,_,x,I,q){r.cancelPendingCommit=null;do Yc();while(on!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Hd,Ls(r,a,_,x,I,q),r===Tt&&(Ke=Tt=null,Xe=0),ml=s,Co=r,Jr=a,jh=_,Wh=v,Dv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Vw(be,function(){return Kv(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,v=X.p,X.p=2,x=ct,ct|=4;try{xw(r,s,a)}finally{ct=x,X.p=v,Q.T=c}}on=1,Gv(),Yv(),Jv()}}function Gv(){if(on===1){on=0;var r=Co,s=ml,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var c=X.p;X.p=2;var v=ct;ct|=4;try{xv(s,r);var _=hp,x=Ny(r.containerInfo),I=_.focusedElem,q=_.selectionRange;if(x!==I&&I&&I.ownerDocument&&Ry(I.ownerDocument.documentElement,I)){if(q!==null&&Od(I)){var Z=q.start,re=q.end;if(re===void 0&&(re=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(re,I.value.length);else{var ue=I.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),xe=I.textContent.length,De=Math.min(q.start,xe),Et=q.end===void 0?De:Math.min(q.end,xe);!ne.extend&&De>Et&&(x=Et,Et=De,De=x);var J=by(I,De),G=by(I,Et);if(J&&G&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var W=ue.createRange();W.setStart(J.node,J.offset),ne.removeAllRanges(),De>Et?(ne.addRange(W),ne.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),ne.addRange(W))}}}}for(ue=[],ne=I;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ue.length;I++){var se=ue[I];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}rf=!!dp,hp=dp=null}finally{ct=v,X.p=c,Q.T=a}}r.current=s,on=2}}function Yv(){if(on===2){on=0;var r=Co,s=ml,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var c=X.p;X.p=2;var v=ct;ct|=4;try{_v(r,s.alternate,s)}finally{ct=v,X.p=c,Q.T=a}}on=3}}function Jv(){if(on===4||on===3){on=0,Yt();var r=Co,s=ml,a=Jr,c=Dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,ml=Co=null,$v(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(xo=null),Oi(a),s=s.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,v=X.p,X.p=2,Q.T=null;try{for(var _=r.onRecoverableError,x=0;x<c.length;x++){var I=c[x];_(I.value,{componentStack:I.stack})}}finally{Q.T=s,X.p=v}}(Jr&3)!==0&&Yc(),yr(r),v=r.pendingLanes,(a&261930)!==0&&(v&42)!==0?r===Zh?Ya++:(Ya=0,Zh=r):Ya=0,Ja(0)}}function $v(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wa(s)))}function Yc(){return Gv(),Yv(),Jv(),Kv()}function Kv(){if(on!==5)return!1;var r=Co,s=jh;jh=0;var a=Oi(Jr),c=Q.T,v=X.p;try{X.p=32>a?32:a,Q.T=null,a=Wh,Wh=null;var _=Co,x=Jr;if(on=0,ml=Co=null,Jr=0,(ct&6)!==0)throw Error(i(331));var I=ct;if(ct|=4,Rv(_.current),wv(_,_.current,x,a),ct=I,Ja(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(kt,_)}catch{}return!0}finally{X.p=v,Q.T=c,$v(r,s)}}function Qv(r,s,a){s=xi(a,s),s=Mh(r.stateNode,s,2),r=vo(r,s,2),r!==null&&(Ui(r,2),yr(r))}function gt(r,s,a){if(r.tag===3)Qv(r,r,a);else for(;s!==null;){if(s.tag===3){Qv(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(xo===null||!xo.has(c))){r=xi(a,r),a=X0(2),c=vo(s,a,2),c!==null&&(j0(a,c,s,r),Ui(c,2),yr(c));break}}s=s.return}}function np(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Iw;var v=new Set;c.set(s,v)}else v=c.get(s),v===void 0&&(v=new Set,c.set(s,v));v.has(a)||(Kh=!0,v.add(a),r=Dw.bind(null,r,s,a),s.then(r,r))}function Dw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(Xe&a)===a&&(Ft===4||Ft===3&&(Xe&62914560)===Xe&&300>It()-Fc?(ct&2)===0&&gl(r,0):Qh|=a,pl===Xe&&(pl=0)),yr(r)}function Xv(r,s){s===0&&(s=Vs()),r=as(r,s),r!==null&&(Ui(r,s),yr(r))}function kw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Xv(r,a)}function Pw(r,s){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,v=r.memoizedState;v!==null&&(a=v.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Xv(r,a)}function Vw(r,s){return St(r,s)}var Jc=null,vl=null,ip=!1,$c=!1,rp=!1,Io=0;function yr(r){r!==vl&&r.next===null&&(vl===null?Jc=vl=r:vl=vl.next=r),$c=!0,ip||(ip=!0,Uw())}function Ja(r,s){if(!rp&&$c){rp=!0;do for(var a=!1,c=Jc;c!==null;){if(r!==0){var v=c.pendingLanes;if(v===0)var _=0;else{var x=c.suspendedLanes,I=c.pingedLanes;_=(1<<31-$e(42|r)+1)-1,_&=v&~(x&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,e_(c,_))}else _=Xe,_=gi(c,c===Tt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||kn(c,_)||(a=!0,e_(c,_));c=c.next}while(a);rp=!1}}function Lw(){jv()}function jv(){$c=ip=!1;var r=0;Io!==0&&$w()&&(r=Io);for(var s=It(),a=null,c=Jc;c!==null;){var v=c.next,_=Wv(c,s);_===0?(c.next=null,a===null?Jc=v:a.next=v,v===null&&(vl=a)):(a=c,(r!==0||(_&3)!==0)&&($c=!0)),c=v}on!==0&&on!==5||Ja(r),Io!==0&&(Io=0)}function Wv(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-$e(_),I=1<<x,q=v[x];q===-1?((I&a)===0||(I&c)!==0)&&(v[x]=ra(I,s)):q<=s&&(r.expiredLanes|=I),_&=~I}if(s=Tt,a=Xe,a=gi(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===s&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Dn(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||kn(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(c!==null&&Dn(c),Oi(a)){case 2:case 8:a=ge;break;case 32:a=be;break;case 268435456:a=Je;break;default:a=be}return c=Zv.bind(null,r),a=St(a,c),r.callbackPriority=s,r.callbackNode=a,s}return c!==null&&c!==null&&Dn(c),r.callbackPriority=2,r.callbackNode=null,2}function Zv(r,s){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Yc()&&r.callbackNode!==a)return null;var c=Xe;return c=gi(r,r===Tt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Pv(r,c,s),Wv(r,It()),r.callbackNode!=null&&r.callbackNode===a?Zv.bind(null,r):null)}function e_(r,s){if(Yc())return null;Pv(r,s,!0)}function Uw(){Qw(function(){(ct&6)!==0?St(oe,Lw):jv()})}function op(){if(Io===0){var r=il;r===0&&(r=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Io=r}return Io}function t_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:qs(""+r)}function n_(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function Ow(r,s,a,c,v){if(s==="submit"&&a&&a.stateNode===v){var _=t_((v[un]||null).action),x=c.submitter;x&&(s=(s=x[un]||null)?t_(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var I=new cr("action","action",null,c,v);r.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Io!==0){var q=x?n_(v,x):new FormData(v);Ch(a,{pending:!0,data:q,method:v.method,action:_},null,q)}}else typeof _=="function"&&(I.preventDefault(),q=x?n_(v,x):new FormData(v),Ch(a,{pending:!0,data:q,method:v.method,action:_},_,q))},currentTarget:v}]})}}for(var sp=0;sp<qd.length;sp++){var lp=qd[sp],Fw=lp.toLowerCase(),zw=lp[0].toUpperCase()+lp.slice(1);Ji(Fw,"on"+zw)}Ji(ky,"onAnimationEnd"),Ji(Py,"onAnimationIteration"),Ji(Vy,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(nw,"onTransitionRun"),Ji(iw,"onTransitionStart"),Ji(rw,"onTransitionCancel"),Ji(Ly,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function i_(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],v=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var x=c.length-1;0<=x;x--){var I=c[x],q=I.instance,Z=I.currentTarget;if(I=I.listener,q!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(re){ac(re)}v.currentTarget=null,_=q}else for(x=0;x<c.length;x++){if(I=c[x],q=I.instance,Z=I.currentTarget,I=I.listener,q!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(re){ac(re)}v.currentTarget=null,_=q}}}}function Qe(r,s){var a=s[Us];a===void 0&&(a=s[Us]=new Set);var c=r+"__bubble";a.has(c)||(r_(s,r,2,!1),a.add(c))}function ap(r,s,a){var c=0;s&&(c|=4),r_(a,r,c,s)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function up(r){if(!r[Kc]){r[Kc]=!0,oa.forEach(function(a){a!=="selectionchange"&&(Bw.has(a)||ap(a,!1,r),ap(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Kc]||(s[Kc]=!0,ap("selectionchange",!1,s))}}function r_(r,s,a,c){switch(k_(s)){case 2:var v=mI;break;case 8:v=gI;break;default:v=xp}a=v.bind(null,s,a,r),v=void 0,!es||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),c?v!==void 0?r.addEventListener(s,a,{capture:!0,passive:v}):r.addEventListener(s,a,!0):v!==void 0?r.addEventListener(s,a,{passive:v}):r.addEventListener(s,a,!1)}function cp(r,s,a,c,v){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var I=c.stateNode.containerInfo;if(I===v)break;if(x===4)for(x=c.return;x!==null;){var q=x.tag;if((q===3||q===4)&&x.stateNode.containerInfo===v)return;x=x.return}for(;I!==null;){if(x=ir(I),x===null)return;if(q=x.tag,q===5||q===6||q===26||q===27){c=_=x;continue e}I=I.parentNode}}c=c.return}lo(function(){var Z=_,re=Ei(a),ue=[];e:{var ee=Uy.get(r);if(ee!==void 0){var ne=cr,xe=r;switch(r){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":ne=oc;break;case"focusin":xe="focus",ne=rs;break;case"focusout":xe="blur",ne=rs;break;case"beforeblur":case"afterblur":ne=rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S;break;case ky:case Py:case Vy:ne=Wu;break;case Ly:ne=N;break;case"scroll":case"scrollend":ne=ya;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Dr;break;case"toggle":case"beforetoggle":ne=ze}var De=(s&4)!==0,Et=!De&&(r==="scroll"||r==="scrollend"),J=De?ee!==null?ee+"Capture":null:ee;De=[];for(var G=Z,W;G!==null;){var se=G;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||J===null||(se=qi(G,J),se!=null&&De.push(Ka(G,se,W))),Et)break;G=G.return}0<De.length&&(ee=new ne(ee,xe,null,a,re),ue.push({event:ee,listeners:De}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&a!==pa&&(xe=a.relatedTarget||a.fromElement)&&(ir(xe)||xe[tr]))break e;if((ne||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(xe=a.relatedTarget||a.toElement,ne=Z,xe=xe?ir(xe):null,xe!==null&&(Et=l(xe),De=xe.tag,xe!==Et||De!==5&&De!==27&&De!==6)&&(xe=null)):(ne=null,xe=Z),ne!==xe)){if(De=va,se="onMouseLeave",J="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(De=Dr,se="onPointerLeave",J="onPointerEnter",G="pointer"),Et=ne==null?ee:Wn(ne),W=xe==null?ee:Wn(xe),ee=new De(se,G+"leave",ne,a,re),ee.target=Et,ee.relatedTarget=W,se=null,ir(re)===Z&&(De=new De(J,G+"enter",xe,a,re),De.target=W,De.relatedTarget=Et,se=De),Et=se,ne&&xe)t:{for(De=qw,J=ne,G=xe,W=0,se=J;se;se=De(se))W++;se=0;for(var Re=G;Re;Re=De(Re))se++;for(;0<W-se;)J=De(J),W--;for(;0<se-W;)G=De(G),se--;for(;W--;){if(J===G||G!==null&&J===G.alternate){De=J;break t}J=De(J),G=De(G)}De=null}else De=null;ne!==null&&o_(ue,ee,ne,De,!1),xe!==null&&Et!==null&&o_(ue,Et,xe,De,!0)}}e:{if(ee=Z?Wn(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var ot=Sy;else if(Ey(ee))if(Ay)ot=Z1;else{ot=j1;var we=X1}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Bs(Z.elementType)&&(ot=Sy):ot=W1;if(ot&&(ot=ot(r,Z))){Ty(ue,ot,a,re);break e}we&&we(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&fa(ee,"number",ee.value)}switch(we=Z?Wn(Z):window,r){case"focusin":(Ey(we)||we.contentEditable==="true")&&(Qs=we,Fd=Z,Aa=null);break;case"focusout":Aa=Fd=Qs=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,My(ue,a,re);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":My(ue,a,re)}var He;if(ut)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ks?os(r,a)&&(je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(hr&&a.locale!=="ko"&&(Ks||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ks&&(He=ga()):(ur=re,ma="value"in ur?ur.value:ur.textContent,Ks=!0)),we=Qc(Z,je),0<we.length&&(je=new dr(je,r,null,a,re),ue.push({event:je,listeners:we}),He?je.data=He:(He=$s(a),He!==null&&(je.data=He)))),(He=Si?J1(r,a):$1(r,a))&&(je=Qc(Z,"onBeforeInput"),0<je.length&&(we=new dr("onBeforeInput","beforeinput",null,a,re),ue.push({event:we,listeners:je}),we.data=He)),Ow(ue,r,Z,a,re)}i_(ue,s)})}function Ka(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Qc(r,s){for(var a=s+"Capture",c=[];r!==null;){var v=r,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=qi(r,a),v!=null&&c.unshift(Ka(r,v,_)),v=qi(r,s),v!=null&&c.push(Ka(r,v,_))),r.tag===3)return c;r=r.return}return[]}function qw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function o_(r,s,a,c,v){for(var _=s._reactName,x=[];a!==null&&a!==c;){var I=a,q=I.alternate,Z=I.stateNode;if(I=I.tag,q!==null&&q===c)break;I!==5&&I!==26&&I!==27||Z===null||(q=Z,v?(Z=qi(a,_),Z!=null&&x.unshift(Ka(a,Z,q))):v||(Z=qi(a,_),Z!=null&&x.push(Ka(a,Z,q)))),a=a.return}x.length!==0&&r.push({event:s,listeners:x})}var Hw=/\r\n?/g,Gw=/\u0000|\uFFFD/g;function s_(r){return(typeof r=="string"?r:""+r).replace(Hw,`
`).replace(Gw,"")}function l_(r,s){return s=s_(s),s_(r)===s}function _t(r,s,a,c,v,_){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Fn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Fn(r,""+c);break;case"className":Zn(r,"class",c);break;case"tabIndex":Zn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(r,a,c);break;case"style":ha(r,c,_);break;case"data":if(s!=="object"){Zn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=qs(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(s!=="input"&&_t(r,s,"name",v.name,v,null),_t(r,s,"formEncType",v.formEncType,v,null),_t(r,s,"formMethod",v.formMethod,v,null),_t(r,s,"formTarget",v.formTarget,v,null)):(_t(r,s,"encType",v.encType,v,null),_t(r,s,"method",v.method,v,null),_t(r,s,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=qs(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=Bi);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=qs(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Fs(r,"popover",c);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qu.get(a)||a,Fs(r,a,c))}}function fp(r,s,a,c,v,_){switch(a){case"style":ha(r,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof c=="string"?Fn(r,c):(typeof c=="number"||typeof c=="bigint")&&Fn(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(v=a.endsWith("Capture"),s=a.slice(2,v?a.length-7:void 0),_=r[un]||null,_=_!=null?_[a]:null,typeof _=="function"&&r.removeEventListener(s,_,v),typeof c=="function")){typeof _!="function"&&_!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,c,v);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):Fs(r,a,c)}}}function En(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,v=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var x=a[_];if(x!=null)switch(_){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:_t(r,s,_,x,a,null)}}v&&_t(r,s,"srcSet",a.srcSet,a,null),c&&_t(r,s,"src",a.src,a,null);return;case"input":Qe("invalid",r);var I=_=x=v=null,q=null,Z=null;for(c in a)if(a.hasOwnProperty(c)){var re=a[c];if(re!=null)switch(c){case"name":v=re;break;case"type":x=re;break;case"checked":q=re;break;case"defaultChecked":Z=re;break;case"value":_=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:_t(r,s,c,re,a,null)}}Ju(r,_,I,q,Z,x,v,!1);return;case"select":Qe("invalid",r),c=x=_=null;for(v in a)if(a.hasOwnProperty(v)&&(I=a[v],I!=null))switch(v){case"value":_=I;break;case"defaultValue":x=I;break;case"multiple":c=I;default:_t(r,s,v,I,a,null)}s=_,a=x,r.multiple=!!c,s!=null?io(r,!!c,s,!1):a!=null&&io(r,!!c,a,!0);return;case"textarea":Qe("invalid",r),_=v=c=null;for(x in a)if(a.hasOwnProperty(x)&&(I=a[x],I!=null))switch(x){case"value":c=I;break;case"defaultValue":v=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:_t(r,s,x,I,a,null)}ro(r,c,v,_);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:_t(r,s,q,c,a,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<$a.length;c++)Qe($a[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(c=a[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:_t(r,s,Z,c,a,null)}return;default:if(Bs(s)){for(re in a)a.hasOwnProperty(re)&&(c=a[re],c!==void 0&&fp(r,s,re,c,a,void 0));return}}for(I in a)a.hasOwnProperty(I)&&(c=a[I],c!=null&&_t(r,s,I,c,a,null))}function Yw(r,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,x=null,I=null,q=null,Z=null,re=null;for(ne in a){var ue=a[ne];if(a.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:c.hasOwnProperty(ne)||_t(r,s,ne,null,c,ue)}}for(var ee in c){var ne=c[ee];if(ue=a[ee],c.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":_=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":re=ne;break;case"value":x=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ue&&_t(r,s,ee,ne,c,ue)}}zs(r,x,I,q,Z,re,_,v);return;case"select":ne=x=I=ee=null;for(_ in a)if(q=a[_],a.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(_)||_t(r,s,_,null,c,q)}for(v in c)if(_=c[v],q=a[v],c.hasOwnProperty(v)&&(_!=null||q!=null))switch(v){case"value":ee=_;break;case"defaultValue":I=_;break;case"multiple":x=_;default:_!==q&&_t(r,s,v,_,c,q)}s=I,a=x,c=ne,ee!=null?io(r,!!a,ee,!1):!!c!=!!a&&(s!=null?io(r,!!a,s,!0):io(r,!!a,a?[]:"",!1));return;case"textarea":ne=ee=null;for(I in a)if(v=a[I],a.hasOwnProperty(I)&&v!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:_t(r,s,I,null,c,v)}for(x in c)if(v=c[x],_=a[x],c.hasOwnProperty(x)&&(v!=null||_!=null))switch(x){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&_t(r,s,x,v,c,_)}$u(r,ee,ne);return;case"option":for(var xe in a)if(ee=a[xe],a.hasOwnProperty(xe)&&ee!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:_t(r,s,xe,null,c,ee)}for(q in c)if(ee=c[q],ne=a[q],c.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:_t(r,s,q,ee,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!c.hasOwnProperty(De)&&_t(r,s,De,null,c,ee);for(Z in c)if(ee=c[Z],ne=a[Z],c.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:_t(r,s,Z,ee,c,ne)}return;default:if(Bs(s)){for(var Et in a)ee=a[Et],a.hasOwnProperty(Et)&&ee!==void 0&&!c.hasOwnProperty(Et)&&fp(r,s,Et,void 0,c,ee);for(re in c)ee=c[re],ne=a[re],!c.hasOwnProperty(re)||ee===ne||ee===void 0&&ne===void 0||fp(r,s,re,ee,c,ne);return}}for(var J in a)ee=a[J],a.hasOwnProperty(J)&&ee!=null&&!c.hasOwnProperty(J)&&_t(r,s,J,null,c,ee);for(ue in c)ee=c[ue],ne=a[ue],!c.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||_t(r,s,ue,ee,c,ne)}function a_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var v=a[c],_=v.transferSize,x=v.initiatorType,I=v.duration;if(_&&I&&a_(x)){for(x=0,I=v.responseEnd,c+=1;c<a.length;c++){var q=a[c],Z=q.startTime;if(Z>I)break;var re=q.transferSize,ue=q.initiatorType;re&&a_(ue)&&(q=q.responseEnd,x+=re*(q<I?1:(I-Z)/(q-Z)))}if(--c,s+=8*(_+x)/(v.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var dp=null,hp=null;function Xc(r){return r.nodeType===9?r:r.ownerDocument}function u_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function pp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mp=null;function $w(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,Kw=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(r){return d_.resolve(null).then(r).catch(Xw)}:f_;function Xw(r){setTimeout(function(){throw r})}function bo(r){return r==="head"}function h_(r,s){var a=s,c=0;do{var v=a.nextSibling;if(r.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(v),Sl(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Qa(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Qa(a);for(var _=a.firstChild;_;){var x=_.nextSibling,I=_.nodeName;_[nr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=x}}else a==="body"&&Qa(r.ownerDocument.body);a=v}while(a);Sl(s)}function p_(r,s){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function gp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gp(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function jw(r,s,a,c){for(;r.nodeType===1;){var v=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[nr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=Ri(r.nextSibling),r===null)break}return null}function Ww(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ri(r.nextSibling),r===null))return null;return r}function m_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Ri(r.nextSibling),r===null))return null;return r}function yp(r){return r.data==="$?"||r.data==="$~"}function vp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Zw(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ri(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var _p=null;function g_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return Ri(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function y_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function v_(r,s,a){switch(s=Xc(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qa(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Os(r)}var Ni=new Map,__=new Set;function jc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $r=X.d;X.d={f:eI,r:tI,D:nI,C:iI,L:rI,m:oI,X:lI,S:sI,M:aI};function eI(){var r=$r.f(),s=qc();return r||s}function tI(r){var s=_i(r);s!==null&&s.tag===5&&s.type==="form"?L0(s):$r.r(r)}var _l=typeof document>"u"?null:document;function E_(r,s,a){var c=_l;if(c&&typeof s=="string"&&s){var v=On(s);v='link[rel="'+r+'"][href="'+v+'"]',typeof a=="string"&&(v+='[crossorigin="'+a+'"]'),__.has(v)||(__.add(v),r={rel:r,crossOrigin:a,href:s},c.querySelector(v)===null&&(s=c.createElement("link"),En(s,"link",r),$t(s),c.head.appendChild(s)))}}function nI(r){$r.D(r),E_("dns-prefetch",r,null)}function iI(r,s){$r.C(r,s),E_("preconnect",r,s)}function rI(r,s,a){$r.L(r,s,a);var c=_l;if(c&&r&&s){var v='link[rel="preload"][as="'+On(s)+'"]';s==="image"&&a&&a.imageSrcSet?(v+='[imagesrcset="'+On(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(v+='[imagesizes="'+On(a.imageSizes)+'"]')):v+='[href="'+On(r)+'"]';var _=v;switch(s){case"style":_=El(r);break;case"script":_=Tl(r)}Ni.has(_)||(r=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Ni.set(_,r),c.querySelector(v)!==null||s==="style"&&c.querySelector(Xa(_))||s==="script"&&c.querySelector(ja(_))||(s=c.createElement("link"),En(s,"link",r),$t(s),c.head.appendChild(s)))}}function oI(r,s){$r.m(r,s);var a=_l;if(a&&r){var c=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+On(c)+'"][href="'+On(r)+'"]',_=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Tl(r)}if(!Ni.has(_)&&(r=E({rel:"modulepreload",href:r},s),Ni.set(_,r),a.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ja(_)))return}c=a.createElement("link"),En(c,"link",r),$t(c),a.head.appendChild(c)}}}function sI(r,s,a){$r.S(r,s,a);var c=_l;if(c&&r){var v=rr(c).hoistableStyles,_=El(r);s=s||"default";var x=v.get(_);if(!x){var I={loading:0,preload:null};if(x=c.querySelector(Xa(_)))I.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Ni.get(_))&&Ep(r,a);var q=x=c.createElement("link");$t(q),En(q,"link",r),q._p=new Promise(function(Z,re){q.onload=Z,q.onerror=re}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Wc(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:I},v.set(_,x)}}}function lI(r,s){$r.X(r,s);var a=_l;if(a&&r){var c=rr(a).hoistableScripts,v=Tl(r),_=c.get(v);_||(_=a.querySelector(ja(v)),_||(r=E({src:r,async:!0},s),(s=Ni.get(v))&&Tp(r,s),_=a.createElement("script"),$t(_),En(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function aI(r,s){$r.M(r,s);var a=_l;if(a&&r){var c=rr(a).hoistableScripts,v=Tl(r),_=c.get(v);_||(_=a.querySelector(ja(v)),_||(r=E({src:r,async:!0,type:"module"},s),(s=Ni.get(v))&&Tp(r,s),_=a.createElement("script"),$t(_),En(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function T_(r,s,a,c){var v=(v=Ce.current)?jc(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=El(a.href),a=rr(v).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=El(a.href);var _=rr(v).hoistableStyles,x=_.get(r);if(x||(v=v.ownerDocument||v,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=v.querySelector(Xa(r)))&&!_._p&&(x.instance=_,x.state.loading=5),Ni.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ni.set(r,a),_||uI(v,r,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tl(a),a=rr(v).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function El(r){return'href="'+On(r)+'"'}function Xa(r){return'link[rel="stylesheet"]['+r+"]"}function S_(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function uI(r,s,a,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),$t(s),r.head.appendChild(s))}function Tl(r){return'[src="'+On(r)+'"]'}function ja(r){return"script[async]"+r}function A_(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+On(a.href)+'"]');if(c)return s.instance=c,$t(c),c;var v=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),$t(c),En(c,"style",v),Wc(c,a.precedence,r),s.instance=c;case"stylesheet":v=El(a.href);var _=r.querySelector(Xa(v));if(_)return s.state.loading|=4,s.instance=_,$t(_),_;c=S_(a),(v=Ni.get(v))&&Ep(c,v),_=(r.ownerDocument||r).createElement("link"),$t(_);var x=_;return x._p=new Promise(function(I,q){x.onload=I,x.onerror=q}),En(_,"link",c),s.state.loading|=4,Wc(_,a.precedence,r),s.instance=_;case"script":return _=Tl(a.src),(v=r.querySelector(ja(_)))?(s.instance=v,$t(v),v):(c=a,(v=Ni.get(_))&&(c=E({},a),Tp(c,v)),r=r.ownerDocument||r,v=r.createElement("script"),$t(v),En(v,"link",c),r.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Wc(c,a.precedence,r));return s.instance}function Wc(r,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,_=v,x=0;x<c.length;x++){var I=c[x];if(I.dataset.precedence===s)_=I;else if(_!==v)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Zc=null;function x_(r,s,a){if(Zc===null){var c=new Map,v=Zc=new Map;v.set(a,c)}else v=Zc,c=v.get(a),c||(c=new Map,v.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),v=0;v<a.length;v++){var _=a[v];if(!(_[nr]||_[Jt]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var I=c.get(x);I?I.push(_):c.set(x,[_])}}return c}function C_(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function cI(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function w_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function fI(r,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=El(c.href),_=s.querySelector(Xa(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=ef.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=_,$t(_);return}_=s.ownerDocument||s,c=S_(c),(v=Ni.get(v))&&Ep(c,v),_=_.createElement("link"),$t(_);var x=_;x._p=new Promise(function(I,q){x.onload=I,x.onerror=q}),En(_,"link",c),a.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=ef.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sp=0;function dI(r,s){return r.stylesheets&&r.count===0&&nf(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&nf(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+s);0<r.imgBytes&&Sp===0&&(Sp=62500*Jw());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&nf(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>Sp?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var tf=null;function nf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,tf=new Map,s.forEach(hI,r),tf=null,ef.call(r))}function hI(r,s){if(!(s.state.loading&4)){var a=tf.get(r);if(a)var c=a.get(null);else{a=new Map,tf.set(r,a);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var x=v[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}v=s.instance,x=v.getAttribute("data-precedence"),_=a.get(x)||c,_===c&&a.set(null,v),a.set(x,v),this.count++,c=ef.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),_?_.parentNode.insertBefore(v,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),s.state.loading|=4}}var Wa={$$typeof:Y,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function pI(r,s,a,c,v,_,x,I,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function I_(r,s,a,c,v,_,x,I,q,Z,re,ue){return r=new pI(r,s,a,x,q,Z,re,ue,I),s=1,_===!0&&(s|=24),_=ti(3,null,null,s),r.current=_,_.stateNode=r,s=th(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:s},oh(_),r}function b_(r){return r?(r=Ws,r):Ws}function R_(r,s,a,c,v,_){v=b_(v),c.context===null?c.context=v:c.pendingContext=v,c=yo(s),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=vo(r,c,s),a!==null&&(Gn(a,r,s),Na(a,r,s))}function N_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ap(r,s){N_(r,s),(r=r.alternate)&&N_(r,s)}function M_(r){if(r.tag===13||r.tag===31){var s=as(r,67108864);s!==null&&Gn(s,r,67108864),Ap(r,67108864)}}function D_(r){if(r.tag===13||r.tag===31){var s=si();s=vi(s);var a=as(r,s);a!==null&&Gn(a,r,s),Ap(r,s)}}var rf=!0;function mI(r,s,a,c){var v=Q.T;Q.T=null;var _=X.p;try{X.p=2,xp(r,s,a,c)}finally{X.p=_,Q.T=v}}function gI(r,s,a,c){var v=Q.T;Q.T=null;var _=X.p;try{X.p=8,xp(r,s,a,c)}finally{X.p=_,Q.T=v}}function xp(r,s,a,c){if(rf){var v=Cp(c);if(v===null)cp(r,s,c,of,a),P_(r,c);else if(vI(v,r,s,a,c))c.stopPropagation();else if(P_(r,c),s&4&&-1<yI.indexOf(r)){for(;v!==null;){var _=_i(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=mi(_.pendingLanes);if(x!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var q=1<<31-$e(x);I.entanglements[1]|=q,x&=~q}yr(_),(ct&6)===0&&(zc=It()+500,Ja(0))}}break;case 31:case 13:I=as(_,2),I!==null&&Gn(I,_,2),qc(),Ap(_,2)}if(_=Cp(c),_===null&&cp(r,s,c,of,a),_===v)break;v=_}v!==null&&c.stopPropagation()}else cp(r,s,c,null,a)}}function Cp(r){return r=Ei(r),wp(r)}var of=null;function wp(r){if(of=null,r=ir(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=u(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return of=r,null}function k_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case oe:return 2;case ge:return 8;case be:case qe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Ip=!1,Ro=null,No=null,Mo=null,Za=new Map,eu=new Map,Do=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(r,s){switch(r){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Za.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function tu(r,s,a,c,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[v]},s!==null&&(s=_i(s),s!==null&&M_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function vI(r,s,a,c,v){switch(s){case"focusin":return Ro=tu(Ro,r,s,a,c,v),!0;case"dragenter":return No=tu(No,r,s,a,c,v),!0;case"mouseover":return Mo=tu(Mo,r,s,a,c,v),!0;case"pointerover":var _=v.pointerId;return Za.set(_,tu(Za.get(_)||null,r,s,a,c,v)),!0;case"gotpointercapture":return _=v.pointerId,eu.set(_,tu(eu.get(_)||null,r,s,a,c,v)),!0}return!1}function V_(r){var s=ir(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){r.blockedOn=s,Fi(r.priority,function(){D_(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,Fi(r.priority,function(){D_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Cp(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);pa=c,a.target.dispatchEvent(c),pa=null}else return s=_i(a),s!==null&&M_(s),r.blockedOn=a,!1;s.shift()}return!0}function L_(r,s,a){sf(r)&&a.delete(s)}function _I(){Ip=!1,Ro!==null&&sf(Ro)&&(Ro=null),No!==null&&sf(No)&&(No=null),Mo!==null&&sf(Mo)&&(Mo=null),Za.forEach(L_),eu.forEach(L_)}function lf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ip||(Ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_I)))}var af=null;function U_(r){af!==r&&(af=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){af===r&&(af=null);for(var s=0;s<r.length;s+=3){var a=r[s],c=r[s+1],v=r[s+2];if(typeof c!="function"){if(wp(c||a)===null)continue;break}var _=_i(a);_!==null&&(r.splice(s,3),s-=3,Ch(_,{pending:!0,data:v,method:a.method,action:c},c,v))}}))}function Sl(r){function s(q){return lf(q,r)}Ro!==null&&lf(Ro,r),No!==null&&lf(No,r),Mo!==null&&lf(Mo,r),Za.forEach(s),eu.forEach(s);for(var a=0;a<Do.length;a++){var c=Do[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Do.length&&(a=Do[0],a.blockedOn===null);)V_(a),a.blockedOn===null&&Do.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var v=a[c],_=a[c+1],x=v[un]||null;if(typeof _=="function")x||U_(a);else if(x){var I=null;if(_&&_.hasAttribute("formAction")){if(v=_,x=_[un]||null)I=x.formAction;else if(wp(v)!==null)continue}else I=x.action;typeof I=="function"?a[c+1]=I:(a.splice(c,3),c-=3),U_(a)}}}function O_(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return v=x})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function bp(r){this._internalRoot=r}uf.prototype.render=bp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=si();R_(a,c,r,s,null,null)},uf.prototype.unmount=bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;R_(r.current,2,null,r,null,null),qc(),s[tr]=null}};function uf(r){this._internalRoot=r}uf.prototype.unstable_scheduleHydration=function(r){if(r){var s=to();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Do.length&&s!==0&&s<Do[a].priority;a++);Do.splice(a,0,r),a===0&&V_(r)}};var F_=e.version;if(F_!=="19.2.3")throw Error(i(527,F_,"19.2.3"));X.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var EI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{kt=cf.inject(EI),At=cf}catch{}}return iu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,c="",v=J0,_=$0,x=K0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=I_(r,1,!1,null,null,a,c,null,v,_,x,O_),r[tr]=s.current,up(r),new bp(s)},iu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var c=!1,v="",_=J0,x=$0,I=K0,q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),s=I_(r,1,!0,s,a??null,c,v,q,_,x,I,O_),s.context=b_(null),a=s.current,c=si(),c=vi(c),v=yo(c),v.callback=null,vo(a,v,c),a=c,s.current.lanes=a,Ui(s,a),yr(s),r[tr]=s.current,up(r),new uf(s)},iu.version="19.2.3",iu}var Q_;function MI(){if(Q_)return Mp.exports;Q_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=NI(),Mp.exports}var DI=MI();const kI=ld(DI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),X_=t=>{const e=VI(t);return e.charAt(0).toUpperCase()+e.slice(1)},NA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),LI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>Ne.createElement("svg",{ref:p,...UI,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:NA("lucide",o),...!l&&!LI(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>Ne.createElement(d,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=Ne.forwardRef(({className:i,...o},l)=>Ne.createElement(OI,{ref:l,iconNode:e,className:NA(`lucide-${PI(X_(t))}`,`lucide-${t}`,i),...o}));return n.displayName=X_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zI=rt("arrow-left",FI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],qI=rt("arrow-right",BI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],GI=rt("book-open",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],JI=rt("book",YI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cl=rt("check",$I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],j_=rt("chevron-down",KI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],XI=rt("circle-alert",QI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WI=rt("circle-check-big",jI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vp=rt("circle-plus",ZI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W_=rt("circle-question-mark",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nb=rt("circle-x",tb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],rb=rt("code",ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],MA=rt("copy",ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Z_=rt("eye",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ab=rt("file-text",lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],cb=rt("gavel",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],db=rt("heart-pulse",fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],pb=rt("layout-dashboard",hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],um=rt("lightbulb",mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Lp=rt("list",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eE=rt("loader-circle",yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tE=rt("lock",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ff=rt("pencil",_b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tb=rt("refresh-cw",Eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ab=rt("save",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cm=rt("search",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wb=rt("send",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bb=rt("settings",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Nb=rt("share-2",Rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],lg=rt("sparkles",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],fm=rt("stethoscope",Db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Pb=rt("tag",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nE=rt("trash-2",Vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lf=rt("x",Lb);var Pt=(t=>(t.SURGERY="SURGERY",t.WOMEN_PREGNANCY="WOMEN_PREGNANCY",t.ICU_DEATH="ICU_DEATH",t.FASTING_MEDICINE="FASTING_MEDICINE",t.ETHICS="ETHICS",t.GENETICS_REPRODUCTION="GENETICS_REPRODUCTION",t.TATTOO_CORTISONE="TATTOO_CORTISONE",t.PRAYER_PURITY="PRAYER_PURITY",t.MEDICAL_EXPERIMENTS="MEDICAL_EXPERIMENTS",t.PHARMACY_DRUGS="PHARMACY_DRUGS",t.MISCELLANEOUS="MISCELLANEOUS",t))(Pt||{});const pu=[{id:Pt.SURGERY,name:" ",icon:"Scissors",color:"bg-blue-100 text-blue-600"},{id:Pt.WOMEN_PREGNANCY,name:"    ",icon:"Baby",color:"bg-pink-100 text-pink-600"},{id:Pt.ICU_DEATH,name:"     ",icon:"Activity",color:"bg-red-100 text-red-600"},{id:Pt.FASTING_MEDICINE,name:"   ",icon:"Moon",color:"bg-yellow-100 text-yellow-600"},{id:Pt.ETHICS,name:"  ",icon:"Heart",color:"bg-green-100 text-green-600"},{id:Pt.GENETICS_REPRODUCTION,name:"   ",icon:"Dna",color:"bg-purple-100 text-purple-600"},{id:Pt.TATTOO_CORTISONE,name:"      ",icon:"Zap",color:"bg-orange-100 text-orange-600"},{id:Pt.PRAYER_PURITY,name:"   ",icon:"BookOpen",color:"bg-indigo-100 text-indigo-600"},{id:Pt.MEDICAL_EXPERIMENTS,name:"      ",icon:"TestTube2",color:"bg-cyan-100 text-cyan-600"},{id:Pt.PHARMACY_DRUGS,name:"  ",icon:"Pill",color:"bg-lime-100 text-lime-600"},{id:Pt.MISCELLANEOUS,name:" ",icon:"MoreHorizontal",color:"bg-gray-100 text-gray-600"}],Ub=({quote:t})=>C.jsxs("div",{className:"relative bg-white border-r-4 border-r-teal-500 border-y border-l border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-300 w-full mb-1.5 overflow-hidden group mx-auto",children:[C.jsx("div",{className:"absolute -left-2 -top-1 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none group-hover:scale-110 transition-transform duration-500",children:'"'}),C.jsx("div",{className:"absolute -right-2 -bottom-2 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none rotate-180",children:""}),C.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[C.jsxs("p",{className:"text-gray-800 text-base font-bold leading-relaxed mb-1.5 font-amiri",children:['"',t.text,'"']}),C.jsx("div",{className:"w-full flex justify-center",children:C.jsxs("p",{className:"text-teal-700 text-[11px] font-bold bg-teal-50 px-2.5 py-0.5 rounded-full border border-teal-100 font-cairo",children:["- ",t.author]})})]})]});function Ob(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Fb=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,zb=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Bb={};function iE(t,e){return(Bb.jsx?zb:Fb).test(t)}const qb=/[ \t\n\f\r]/g;function Hb(t){return typeof t=="object"?t.type==="text"?rE(t.value):!1:rE(t)}function rE(t){return t.replace(qb,"")===""}class Pu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Pu.prototype.normal={};Pu.prototype.property={};Pu.prototype.space=void 0;function DA(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Pu(n,i,e)}function dm(t){return t.toLowerCase()}class Qn{constructor(e,n){this.attribute=n,this.property=e}}Qn.prototype.attribute="";Qn.prototype.booleanish=!1;Qn.prototype.boolean=!1;Qn.prototype.commaOrSpaceSeparated=!1;Qn.prototype.commaSeparated=!1;Qn.prototype.defined=!1;Qn.prototype.mustUseProperty=!1;Qn.prototype.number=!1;Qn.prototype.overloadedBoolean=!1;Qn.prototype.property="";Qn.prototype.spaceSeparated=!1;Qn.prototype.space=void 0;let Gb=0;const Ge=bs(),en=bs(),hm=bs(),ve=bs(),xt=bs(),kl=bs(),li=bs();function bs(){return 2**++Gb}const pm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:en,commaOrSpaceSeparated:li,commaSeparated:kl,number:ve,overloadedBoolean:hm,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),Up=Object.keys(pm);class ag extends Qn{constructor(e,n,i,o){let l=-1;if(super(e,n),oE(this,"space",o),typeof i=="number")for(;++l<Up.length;){const u=Up[l];oE(this,Up[l],(i&pm[u])===pm[u])}}}ag.prototype.defined=!0;function oE(t,e,n){n&&(t[e]=n)}function $l(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const l=new ag(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[dm(i)]=i,n[dm(l.attribute)]=i}return new Pu(e,n,t.space)}const kA=$l({properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:en,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:xt,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:ve,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:xt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:en,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function PA(t,e){return e in t?t[e]:e}function VA(t,e){return PA(t,e.toLowerCase())}const Yb=$l({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:kl,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:xt,autoFocus:Ge,autoPlay:Ge,blocking:xt,capture:null,charSet:null,checked:Ge,cite:null,className:xt,cols:ve,colSpan:null,content:null,contentEditable:en,controls:Ge,controlsList:xt,coords:ve|kl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:hm,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:xt,height:ve,hidden:hm,high:ve,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:xt,itemRef:xt,itemScope:Ge,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ve,pattern:null,ping:xt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:xt,required:Ge,reversed:Ge,rows:ve,rowSpan:ve,sandbox:xt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:en,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:VA}),Jb=$l({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:li,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:kl,g2:kl,glyphName:kl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:li,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:li,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:li,rev:li,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:li,requiredFeatures:li,requiredFonts:li,requiredFormats:li,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:li,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:li,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:li,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:PA}),LA=$l({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),UA=$l({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:VA}),OA=$l({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),$b={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Kb=/[A-Z]/g,sE=/-[a-z]/g,Qb=/^data[-\w.:]+$/i;function Xb(t,e){const n=dm(e);let i=e,o=Qn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Qb.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(sE,Wb);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!sE.test(l)){let u=l.replace(Kb,jb);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=ag}return new o(i,e)}function jb(t){return"-"+t.toLowerCase()}function Wb(t){return t.charAt(1).toUpperCase()}const Zb=DA([kA,Yb,LA,UA,OA],"html"),ug=DA([kA,Jb,LA,UA,OA],"svg");function eR(t){return t.join(" ").trim()}var Al={},Op,lE;function tR(){if(lE)return Op;lE=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,d="/",y="*",E="",T="comment",A="declaration";function k(L,z){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];z=z||{};var K=1,Y=1;function le(ye){var me=ye.match(e);me&&(K+=me.length);var Q=ye.lastIndexOf(p);Y=~Q?ye.length-Q:Y+ye.length}function he(){var ye={line:K,column:Y};return function(me){return me.position=new $(ye),R(),me}}function $(ye){this.start=ye,this.end={line:K,column:Y},this.source=z.source}$.prototype.content=L;function M(ye){var me=new Error(z.source+":"+K+":"+Y+": "+ye);if(me.reason=ye,me.filename=z.source,me.line=K,me.column=Y,me.source=L,!z.silent)throw me}function D(ye){var me=ye.exec(L);if(me){var Q=me[0];return le(Q),L=L.slice(Q.length),me}}function R(){D(n)}function O(ye){var me;for(ye=ye||[];me=V();)me!==!1&&ye.push(me);return ye}function V(){var ye=he();if(!(d!=L.charAt(0)||y!=L.charAt(1))){for(var me=2;E!=L.charAt(me)&&(y!=L.charAt(me)||d!=L.charAt(me+1));)++me;if(me+=2,E===L.charAt(me-1))return M("End of comment missing");var Q=L.slice(2,me-2);return Y+=2,le(Q),L=L.slice(me),Y+=2,ye({type:T,comment:Q})}}function B(){var ye=he(),me=D(i);if(me){if(V(),!D(o))return M("property missing ':'");var Q=D(l),X=ye({type:A,property:U(me[0].replace(t,E)),value:Q?U(Q[0].replace(t,E)):E});return D(u),X}}function P(){var ye=[];O(ye);for(var me;me=B();)me!==!1&&(ye.push(me),O(ye));return ye}return R(),P()}function U(L){return L?L.replace(f,E):E}return Op=k,Op}var aE;function nR(){if(aE)return Al;aE=1;var t=Al&&Al.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Al,"__esModule",{value:!0}),Al.default=n;const e=t(tR());function n(i,o){let l=null;if(!i||typeof i!="string")return l;const u=(0,e.default)(i),f=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:d,value:y}=p;f?o(d,y,p):y&&(l=l||{},l[d]=y)}),l}return Al}var ru={},uE;function iR(){if(uE)return ru;uE=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||t.test(d)},u=function(d,y){return y.toUpperCase()},f=function(d,y){return"".concat(y,"-")},p=function(d,y){return y===void 0&&(y={}),l(d)?d:(d=d.toLowerCase(),y.reactCompat?d=d.replace(o,f):d=d.replace(i,f),d.replace(e,u))};return ru.camelCase=p,ru}var ou,cE;function rR(){if(cE)return ou;cE=1;var t=ou&&ou.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(nR()),n=iR();function i(o,l){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(f,p){f&&p&&(u[(0,n.camelCase)(f,l)]=p)}),u}return i.default=i,ou=i,ou}var oR=rR();const sR=ld(oR),FA=zA("end"),cg=zA("start");function zA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function lR(t){const e=cg(t),n=FA(t);if(e&&n)return{start:e,end:n}}function mu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fE(t.position):"start"in t||"end"in t?fE(t):"line"in t||"column"in t?mm(t):""}function mm(t){return dE(t&&t.line)+":"+dE(t&&t.column)}function fE(t){return mm(t&&t.start)+"-"+mm(t&&t.end)}function dE(t){return t&&typeof t=="number"?t:1}class Nn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?o=e:!l.cause&&e&&(u=!0,o=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=f?f.line:void 0,this.name=mu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Nn.prototype.file="";Nn.prototype.name="";Nn.prototype.reason="";Nn.prototype.message="";Nn.prototype.stack="";Nn.prototype.column=void 0;Nn.prototype.line=void 0;Nn.prototype.ancestors=void 0;Nn.prototype.cause=void 0;Nn.prototype.fatal=void 0;Nn.prototype.place=void 0;Nn.prototype.ruleId=void 0;Nn.prototype.source=void 0;const fg={}.hasOwnProperty,aR=new Map,uR=/[A-Z]/g,cR=new Set(["table","tbody","thead","tfoot","tr"]),fR=new Set(["td","th"]),BA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function dR(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=ER(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=_R(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ug:Zb,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=qA(o,t,void 0);return l&&typeof l!="string"?l:o.create(t,o.Fragment,{children:l||void 0},void 0)}function qA(t,e,n){if(e.type==="element")return hR(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return pR(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return gR(t,e,n);if(e.type==="mdxjsEsm")return mR(t,e);if(e.type==="root")return yR(t,e,n);if(e.type==="text")return vR(t,e)}function hR(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=ug,t.schema=o),t.ancestors.push(e);const l=GA(t,e.tagName,!1),u=TR(t,e);let f=hg(t,e);return cR.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!Hb(p):!0})),HA(t,u,l,e),dg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function pR(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}xu(t,e.position)}function mR(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);xu(t,e.position)}function gR(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=ug,t.schema=o),t.ancestors.push(e);const l=e.name===null?t.Fragment:GA(t,e.name,!0),u=SR(t,e),f=hg(t,e);return HA(t,u,l,e),dg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function yR(t,e,n){const i={};return dg(i,hg(t,e)),t.create(e,t.Fragment,i,n)}function vR(t,e){return e.value}function HA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function dg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _R(t,e,n){return i;function i(o,l,u,f){const d=Array.isArray(u.children)?n:e;return f?d(l,u,f):d(l,u)}}function ER(t,e){return n;function n(i,o,l,u){const f=Array.isArray(l.children),p=cg(i);return e(o,l,u,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function TR(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&fg.call(e.properties,o)){const l=AR(t,o,e.properties[o]);if(l){const[u,f]=l;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&fR.has(e.tagName)?i=f:n[u]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function SR(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else xu(t,e.position);else{const o=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else xu(t,e.position);else l=i.value===null?!0:i.value;n[o]=l}return n}function hg(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:aR;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const d=o.get(p)||0;u=p+"-"+d,o.set(p,d+1)}}const f=qA(t,l,u);f!==void 0&&n.push(f)}return n}function AR(t,e,n){const i=Xb(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?Ob(n):eR(n)),i.property==="style"){let o=typeof n=="object"?n:xR(t,String(n));return t.stylePropertyNameCase==="css"&&(o=CR(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?$b[i.property]||i.property:i.attribute,n]}}function xR(t,e){try{return sR(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new Nn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=BA+"#cannot-parse-style-attribute",o}}function GA(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let l=-1,u;for(;++l<o.length;){const f=iE(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=u}else i=iE(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return fg.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);xu(t)}function xu(t,e){const n=new Nn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=BA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function CR(t){const e={};let n;for(n in t)fg.call(t,n)&&(e[wR(n)]=t[n]);return e}function wR(t){let e=t.replace(uR,IR);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function IR(t){return"-"+t.toLowerCase()}const Fp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bR={};function RR(t,e){const n=bR,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YA(t,i,o)}function YA(t,e,n){if(NR(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hE(t.children,e,n)}return Array.isArray(t)?hE(t,e,n):""}function hE(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=YA(t[o],e,n);return i.join("")}function NR(t){return!!(t&&typeof t=="object")}const pE=document.createElement("i");function pg(t){const e="&"+t+";";pE.innerHTML=e;const n=pE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Cr(t,e,n,i){const o=t.length;let l=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Mi(t,e){return t.length>0?(Cr(t,t.length,0,e),t):e}const mE={}.hasOwnProperty;function MR(t){const e={};let n=-1;for(;++n<t.length;)DR(e,t[n]);return e}function DR(t,e){let n;for(n in e){const o=(mE.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){mE.call(o,u)||(o[u]=[]);const f=l[u];kR(o[u],Array.isArray(f)?f:f?[f]:[])}}}function kR(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Cr(t,0,0,i)}function JA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Pl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Er=$o(/[A-Za-z]/),ai=$o(/[\dA-Za-z]/),PR=$o(/[#-'*+\--9=?A-Z^-~]/);function gm(t){return t!==null&&(t<32||t===127)}const ym=$o(/\d/),VR=$o(/[\dA-Fa-f]/),LR=$o(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Kn(t){return t!==null&&(t<0||t===32)}function ft(t){return t===-2||t===-1||t===32}const UR=$o(new RegExp("\\p{P}|\\p{S}","u")),OR=$o(/\s/);function $o(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Kl(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&ai(t.charCodeAt(n+1))&&ai(t.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function wt(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(p){return ft(p)?(t.enter(n),f(p)):e(p)}function f(p){return ft(p)&&l++<o?(t.consume(p),f):(t.exit(n),e(p))}}const FR={tokenize:zR};function zR(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),wt(t,e,"linePrefix")}function o(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Pe(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),u)}}const BR={tokenize:qR},gE={tokenize:HR};function qR(t){const e=this,n=[];let i=0,o,l,u;return f;function f(Y){if(i<n.length){const le=n[i];return e.containerState=le[1],t.attempt(le[0].continuation,p,d)(Y)}return d(Y)}function p(Y){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&K();const le=e.events.length;let he=le,$;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){$=e.events[he][1].end;break}z(i);let M=le;for(;M<e.events.length;)e.events[M][1].end={...$},M++;return Cr(e.events,he+1,0,e.events.slice(le)),e.events.length=M,d(Y)}return f(Y)}function d(Y){if(i===n.length){if(!o)return T(Y);if(o.currentConstruct&&o.currentConstruct.concrete)return k(Y);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(gE,y,E)(Y)}function y(Y){return o&&K(),z(i),T(Y)}function E(Y){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,k(Y)}function T(Y){return e.containerState={},t.attempt(gE,A,k)(Y)}function A(Y){return i++,n.push([e.currentConstruct,e.containerState]),T(Y)}function k(Y){if(Y===null){o&&K(),z(0),t.consume(Y);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),U(Y)}function U(Y){if(Y===null){L(t.exit("chunkFlow"),!0),z(0),t.consume(Y);return}return Pe(Y)?(t.consume(Y),L(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(Y),U)}function L(Y,le){const he=e.sliceStream(Y);if(le&&he.push(null),Y.previous=l,l&&(l.next=Y),l=Y,o.defineSkip(Y.start),o.write(he),e.parser.lazy[Y.start.line]){let $=o.events.length;for(;$--;)if(o.events[$][1].start.offset<u&&(!o.events[$][1].end||o.events[$][1].end.offset>u))return;const M=e.events.length;let D=M,R,O;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if(R){O=e.events[D][1].end;break}R=!0}for(z(i),$=M;$<e.events.length;)e.events[$][1].end={...O},$++;Cr(e.events,D+1,0,e.events.slice(M)),e.events.length=$}}function z(Y){let le=n.length;for(;le-- >Y;){const he=n[le];e.containerState=he[1],he[0].exit.call(e,t)}n.length=Y}function K(){o.write([null]),l=void 0,o=void 0,e.containerState._closeFlow=void 0}}function HR(t,e,n){return wt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yE(t){if(t===null||Kn(t)||OR(t))return 1;if(UR(t))return 2}function mg(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const l=t[o].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const vm={name:"attention",resolveAll:GR,tokenize:YR};function GR(t,e){let n=-1,i,o,l,u,f,p,d,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[i][1].end},T={...t[n][1].start};vE(E,-p),vE(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[i][1].end={...u.start},t[n][1].start={...f.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=Mi(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=Mi(d,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",l,e]]),d=Mi(d,mg(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=Mi(d,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,d=Mi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,Cr(t,i-1,n-i+3,d),n=i+d.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function YR(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=yE(i);let l;return u;function u(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const d=t.exit("attentionSequence"),y=yE(p),E=!y||y===2&&o||n.includes(p),T=!o||o===2&&y||n.includes(i);return d._open=!!(l===42?E:E&&(o||!T)),d._close=!!(l===42?T:T&&(y||!E)),e(p)}}function vE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const JR={name:"autolink",tokenize:$R};function $R(t,e,n){let i=0;return o;function o(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(A){return Er(A)?(t.consume(A),u):A===64?n(A):d(A)}function u(A){return A===43||A===45||A===46||ai(A)?(i=1,f(A)):d(A)}function f(A){return A===58?(t.consume(A),i=0,p):(A===43||A===45||A===46||ai(A))&&i++<32?(t.consume(A),f):(i=0,d(A))}function p(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):A===null||A===32||A===60||gm(A)?n(A):(t.consume(A),p)}function d(A){return A===64?(t.consume(A),y):PR(A)?(t.consume(A),d):n(A)}function y(A){return ai(A)?E(A):n(A)}function E(A){return A===46?(t.consume(A),i=0,y):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):T(A)}function T(A){if((A===45||ai(A))&&i++<63){const k=A===45?T:E;return t.consume(A),k}return n(A)}}const ad={partial:!0,tokenize:KR};function KR(t,e,n){return i;function i(l){return ft(l)?wt(t,o,"linePrefix")(l):o(l)}function o(l){return l===null||Pe(l)?e(l):n(l)}}const $A={continuation:{tokenize:XR},exit:jR,name:"blockQuote",tokenize:QR};function QR(t,e,n){const i=this;return o;function o(u){if(u===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ft(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function XR(t,e,n){const i=this;return o;function o(u){return ft(u)?wt(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt($A,e,n)(u)}}function jR(t){t.exit("blockQuote")}const KA={name:"characterEscape",tokenize:WR};function WR(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),o}function o(l){return LR(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const QA={name:"characterReference",tokenize:ZR};function ZR(t,e,n){const i=this;let o=0,l,u;return f;function f(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),p}function p(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),l=31,u=ai,y(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=VR,y):(t.enter("characterReferenceValue"),l=7,u=ym,y(E))}function y(E){if(E===59&&o){const T=t.exit("characterReferenceValue");return u===ai&&!pg(i.sliceSerialize(T))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&o++<l?(t.consume(E),y):n(E)}}const _E={partial:!0,tokenize:tN},EE={concrete:!0,name:"codeFenced",tokenize:eN};function eN(t,e,n){const i=this,o={partial:!0,tokenize:he};let l=0,u=0,f;return p;function p($){return d($)}function d($){const M=i.events[i.events.length-1];return l=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,f=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y($)}function y($){return $===f?(u++,t.consume($),y):u<3?n($):(t.exit("codeFencedFenceSequence"),ft($)?wt(t,E,"whitespace")($):E($))}function E($){return $===null||Pe($)?(t.exit("codeFencedFence"),i.interrupt?e($):t.check(_E,U,le)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T($))}function T($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E($)):ft($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),wt(t,A,"whitespace")($)):$===96&&$===f?n($):(t.consume($),T)}function A($){return $===null||Pe($)?E($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),k($))}function k($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E($)):$===96&&$===f?n($):(t.consume($),k)}function U($){return t.attempt(o,le,L)($)}function L($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),z}function z($){return l>0&&ft($)?wt(t,K,"linePrefix",l+1)($):K($)}function K($){return $===null||Pe($)?t.check(_E,U,le)($):(t.enter("codeFlowValue"),Y($))}function Y($){return $===null||Pe($)?(t.exit("codeFlowValue"),K($)):(t.consume($),Y)}function le($){return t.exit("codeFenced"),e($)}function he($,M,D){let R=0;return O;function O(me){return $.enter("lineEnding"),$.consume(me),$.exit("lineEnding"),V}function V(me){return $.enter("codeFencedFence"),ft(me)?wt($,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):B(me)}function B(me){return me===f?($.enter("codeFencedFenceSequence"),P(me)):D(me)}function P(me){return me===f?(R++,$.consume(me),P):R>=u?($.exit("codeFencedFenceSequence"),ft(me)?wt($,ye,"whitespace")(me):ye(me)):D(me)}function ye(me){return me===null||Pe(me)?($.exit("codeFencedFence"),M(me)):D(me)}}}function tN(t,e,n){const i=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const zp={name:"codeIndented",tokenize:iN},nN={partial:!0,tokenize:rN};function iN(t,e,n){const i=this;return o;function o(d){return t.enter("codeIndented"),wt(t,l,"linePrefix",5)(d)}function l(d){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?p(d):Pe(d)?t.attempt(nN,u,p)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Pe(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function p(d){return t.exit("codeIndented"),e(d)}}function rN(t,e,n){const i=this;return o;function o(u){return i.parser.lazy[i.now().line]?n(u):Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):wt(t,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Pe(u)?o(u):n(u)}}const oN={name:"codeText",previous:lN,resolve:sN,tokenize:aN};function sN(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function lN(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function aN(t,e,n){let i=0,o,l;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),f(E)}function f(E){return E===96?(t.consume(E),i++,f):(t.exit("codeTextSequence"),p(E))}function p(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),p):E===96?(l=t.enter("codeTextSequence"),o=0,y(E)):Pe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||Pe(E)?(t.exit("codeTextData"),p(E)):(t.consume(E),d)}function y(E){return E===96?(t.consume(E),o++,y):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(l.type="codeTextData",d(E))}}class uN{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&su(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),su(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),su(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);su(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);su(this.left,n.reverse())}}}function su(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function XA(t){const e={};let n=-1,i,o,l,u,f,p,d;const y=new uN(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,cN(y,n)),n=e[n],d=!0);else if(i[1]._container){for(l=n,o=void 0;l--;)if(u=y.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(y.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(i[1].end={...y.get(o)[1].start},f=y.slice(o,n),f.unshift(i),y.splice(o,n-o+1,f))}}return Cr(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!d}function cN(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,p=[],d={};let y,E,T=-1,A=n,k=0,U=0;const L=[U];for(;A;){for(;t.get(++o)[1]!==A;);l.push(o),A._tokenizer||(y=i.sliceStream(A),A.next||y.push(null),E&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=A,A=A.next}for(A=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(U=T+1,L.push(U),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):L.pop(),T=L.length;T--;){const z=f.slice(L[T],L[T+1]),K=l.pop();p.push([K,K+z.length-1]),t.splice(K,2,z)}for(p.reverse(),T=-1;++T<p.length;)d[k+p[T][0]]=k+p[T][1],k+=p[T][1]-p[T][0]-1;return d}const fN={resolve:hN,tokenize:pN},dN={partial:!0,tokenize:mN};function hN(t){return XA(t),t}function pN(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Pe(f)?t.check(dN,u,l)(f):(t.consume(f),o)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function mN(t,e,n){const i=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),wt(t,l,"linePrefix")}function l(u){if(u===null||Pe(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function jA(t,e,n,i,o,l,u,f,p){const d=p||Number.POSITIVE_INFINITY;let y=0;return E;function E(z){return z===60?(t.enter(i),t.enter(o),t.enter(l),t.consume(z),t.exit(l),T):z===null||z===32||z===41||gm(z)?n(z):(t.enter(i),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),U(z))}function T(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(o),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),A(z))}function A(z){return z===62?(t.exit("chunkString"),t.exit(f),T(z)):z===null||z===60||Pe(z)?n(z):(t.consume(z),z===92?k:A)}function k(z){return z===60||z===62||z===92?(t.consume(z),A):A(z)}function U(z){return!y&&(z===null||z===41||Kn(z))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(i),e(z)):y<d&&z===40?(t.consume(z),y++,U):z===41?(t.consume(z),y--,U):z===null||z===32||z===40||gm(z)?n(z):(t.consume(z),z===92?L:U)}function L(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function WA(t,e,n,i,o,l){const u=this;let f=0,p;return d;function d(A){return t.enter(i),t.enter(o),t.consume(A),t.exit(o),t.enter(l),y}function y(A){return f>999||A===null||A===91||A===93&&!p||A===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(A):A===93?(t.exit(l),t.enter(o),t.consume(A),t.exit(o),t.exit(i),e):Pe(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),E(A))}function E(A){return A===null||A===91||A===93||Pe(A)||f++>999?(t.exit("chunkString"),y(A)):(t.consume(A),p||(p=!ft(A)),A===92?T:E)}function T(A){return A===91||A===92||A===93?(t.consume(A),f++,E):E(A)}}function ZA(t,e,n,i,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(t.enter(i),t.enter(o),t.consume(T),t.exit(o),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(o),t.consume(T),t.exit(o),t.exit(i),e):(t.enter(l),d(T))}function d(T){return T===u?(t.exit(l),p(u)):T===null?n(T):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),wt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===u||T===null||Pe(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?E:y)}function E(T){return T===u||T===92?(t.consume(T),y):y(T)}}function gu(t,e){let n;return i;function i(o){return Pe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):ft(o)?wt(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const gN={name:"definition",tokenize:vN},yN={partial:!0,tokenize:_N};function vN(t,e,n){const i=this;let o;return l;function l(A){return t.enter("definition"),u(A)}function u(A){return WA.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function f(A){return o=Pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),p):n(A)}function p(A){return Kn(A)?gu(t,d)(A):d(A)}function d(A){return jA(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function y(A){return t.attempt(yN,E,E)(A)}function E(A){return ft(A)?wt(t,T,"whitespace")(A):T(A)}function T(A){return A===null||Pe(A)?(t.exit("definition"),i.parser.defined.push(o),e(A)):n(A)}}function _N(t,e,n){return i;function i(f){return Kn(f)?gu(t,o)(f):n(f)}function o(f){return ZA(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ft(f)?wt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Pe(f)?e(f):n(f)}}const EN={name:"hardBreakEscape",tokenize:TN};function TN(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),o}function o(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const SN={name:"headingAtx",resolve:AN,tokenize:xN};function AN(t,e){let n=t.length-2,i=3,o,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Cr(t,i,n-i+1,[["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e]])),t}function xN(t,e,n){let i=0;return o;function o(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(t.consume(y),u):y===null||Kn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Pe(y)?(t.exit("atxHeading"),e(y)):ft(y)?wt(t,f,"whitespace")(y):(t.enter("atxHeadingText"),d(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),f(y))}function d(y){return y===null||y===35||Kn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),d)}}const CN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],TE=["pre","script","style","textarea"],wN={concrete:!0,name:"htmlFlow",resolveTo:RN,tokenize:NN},IN={partial:!0,tokenize:DN},bN={partial:!0,tokenize:MN};function RN(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function NN(t,e,n){const i=this;let o,l,u,f,p;return d;function d(b){return y(b)}function y(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),E}function E(b){return b===33?(t.consume(b),T):b===47?(t.consume(b),l=!0,U):b===63?(t.consume(b),o=3,i.interrupt?e:F):Er(b)?(t.consume(b),u=String.fromCharCode(b),L):n(b)}function T(b){return b===45?(t.consume(b),o=2,A):b===91?(t.consume(b),o=5,f=0,k):Er(b)?(t.consume(b),o=4,i.interrupt?e:F):n(b)}function A(b){return b===45?(t.consume(b),i.interrupt?e:F):n(b)}function k(b){const pe="CDATA[";return b===pe.charCodeAt(f++)?(t.consume(b),f===pe.length?i.interrupt?e:B:k):n(b)}function U(b){return Er(b)?(t.consume(b),u=String.fromCharCode(b),L):n(b)}function L(b){if(b===null||b===47||b===62||Kn(b)){const pe=b===47,Ie=u.toLowerCase();return!pe&&!l&&TE.includes(Ie)?(o=1,i.interrupt?e(b):B(b)):CN.includes(u.toLowerCase())?(o=6,pe?(t.consume(b),z):i.interrupt?e(b):B(b)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(b):l?K(b):Y(b))}return b===45||ai(b)?(t.consume(b),u+=String.fromCharCode(b),L):n(b)}function z(b){return b===62?(t.consume(b),i.interrupt?e:B):n(b)}function K(b){return ft(b)?(t.consume(b),K):O(b)}function Y(b){return b===47?(t.consume(b),O):b===58||b===95||Er(b)?(t.consume(b),le):ft(b)?(t.consume(b),Y):O(b)}function le(b){return b===45||b===46||b===58||b===95||ai(b)?(t.consume(b),le):he(b)}function he(b){return b===61?(t.consume(b),$):ft(b)?(t.consume(b),he):Y(b)}function $(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),p=b,M):ft(b)?(t.consume(b),$):D(b)}function M(b){return b===p?(t.consume(b),p=null,R):b===null||Pe(b)?n(b):(t.consume(b),M)}function D(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Kn(b)?he(b):(t.consume(b),D)}function R(b){return b===47||b===62||ft(b)?Y(b):n(b)}function O(b){return b===62?(t.consume(b),V):n(b)}function V(b){return b===null||Pe(b)?B(b):ft(b)?(t.consume(b),V):n(b)}function B(b){return b===45&&o===2?(t.consume(b),Q):b===60&&o===1?(t.consume(b),X):b===62&&o===4?(t.consume(b),H):b===63&&o===3?(t.consume(b),F):b===93&&o===5?(t.consume(b),Ee):Pe(b)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(IN,ie,P)(b)):b===null||Pe(b)?(t.exit("htmlFlowData"),P(b)):(t.consume(b),B)}function P(b){return t.check(bN,ye,ie)(b)}function ye(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),me}function me(b){return b===null||Pe(b)?P(b):(t.enter("htmlFlowData"),B(b))}function Q(b){return b===45?(t.consume(b),F):B(b)}function X(b){return b===47?(t.consume(b),u="",de):B(b)}function de(b){if(b===62){const pe=u.toLowerCase();return TE.includes(pe)?(t.consume(b),H):B(b)}return Er(b)&&u.length<8?(t.consume(b),u+=String.fromCharCode(b),de):B(b)}function Ee(b){return b===93?(t.consume(b),F):B(b)}function F(b){return b===62?(t.consume(b),H):b===45&&o===2?(t.consume(b),F):B(b)}function H(b){return b===null||Pe(b)?(t.exit("htmlFlowData"),ie(b)):(t.consume(b),H)}function ie(b){return t.exit("htmlFlow"),e(b)}}function MN(t,e,n){const i=this;return o;function o(u){return Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function DN(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(ad,e,n)}}const kN={name:"htmlText",tokenize:PN};function PN(t,e,n){const i=this;let o,l,u;return f;function f(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),p}function p(F){return F===33?(t.consume(F),d):F===47?(t.consume(F),he):F===63?(t.consume(F),Y):Er(F)?(t.consume(F),D):n(F)}function d(F){return F===45?(t.consume(F),y):F===91?(t.consume(F),l=0,k):Er(F)?(t.consume(F),K):n(F)}function y(F){return F===45?(t.consume(F),A):n(F)}function E(F){return F===null?n(F):F===45?(t.consume(F),T):Pe(F)?(u=E,X(F)):(t.consume(F),E)}function T(F){return F===45?(t.consume(F),A):E(F)}function A(F){return F===62?Q(F):F===45?T(F):E(F)}function k(F){const H="CDATA[";return F===H.charCodeAt(l++)?(t.consume(F),l===H.length?U:k):n(F)}function U(F){return F===null?n(F):F===93?(t.consume(F),L):Pe(F)?(u=U,X(F)):(t.consume(F),U)}function L(F){return F===93?(t.consume(F),z):U(F)}function z(F){return F===62?Q(F):F===93?(t.consume(F),z):U(F)}function K(F){return F===null||F===62?Q(F):Pe(F)?(u=K,X(F)):(t.consume(F),K)}function Y(F){return F===null?n(F):F===63?(t.consume(F),le):Pe(F)?(u=Y,X(F)):(t.consume(F),Y)}function le(F){return F===62?Q(F):Y(F)}function he(F){return Er(F)?(t.consume(F),$):n(F)}function $(F){return F===45||ai(F)?(t.consume(F),$):M(F)}function M(F){return Pe(F)?(u=M,X(F)):ft(F)?(t.consume(F),M):Q(F)}function D(F){return F===45||ai(F)?(t.consume(F),D):F===47||F===62||Kn(F)?R(F):n(F)}function R(F){return F===47?(t.consume(F),Q):F===58||F===95||Er(F)?(t.consume(F),O):Pe(F)?(u=R,X(F)):ft(F)?(t.consume(F),R):Q(F)}function O(F){return F===45||F===46||F===58||F===95||ai(F)?(t.consume(F),O):V(F)}function V(F){return F===61?(t.consume(F),B):Pe(F)?(u=V,X(F)):ft(F)?(t.consume(F),V):R(F)}function B(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),o=F,P):Pe(F)?(u=B,X(F)):ft(F)?(t.consume(F),B):(t.consume(F),ye)}function P(F){return F===o?(t.consume(F),o=void 0,me):F===null?n(F):Pe(F)?(u=P,X(F)):(t.consume(F),P)}function ye(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Kn(F)?R(F):(t.consume(F),ye)}function me(F){return F===47||F===62||Kn(F)?R(F):n(F)}function Q(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function X(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),de}function de(F){return ft(F)?wt(t,Ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Ee(F)}function Ee(F){return t.enter("htmlTextData"),u(F)}}const gg={name:"labelEnd",resolveAll:ON,resolveTo:FN,tokenize:zN},VN={tokenize:BN},LN={tokenize:qN},UN={tokenize:HN};function ON(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Cr(t,0,t.length,n),t}function FN(t,e){let n=t.length,i=0,o,l,u,f;for(;n--;)if(o=t[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",p,e],["enter",d,e]],f=Mi(f,t.slice(l+1,l+i+3)),f=Mi(f,[["enter",y,e]]),f=Mi(f,mg(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),f=Mi(f,[["exit",y,e],t[u-2],t[u-1],["exit",d,e]]),f=Mi(f,t.slice(u+1)),f=Mi(f,[["exit",p,e]]),Cr(t,l,t.length,f),t}function zN(t,e,n){const i=this;let o=i.events.length,l,u;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){l=i.events[o][1];break}return f;function f(T){return l?l._inactive?E(T):(u=i.parser.defined.includes(Pl(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(VN,y,u?y:E)(T):T===91?t.attempt(LN,y,u?d:E)(T):u?y(T):E(T)}function d(T){return t.attempt(UN,y,E)(T)}function y(T){return e(T)}function E(T){return l._balanced=!0,n(T)}}function BN(t,e,n){return i;function i(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),o}function o(E){return Kn(E)?gu(t,l)(E):l(E)}function l(E){return E===41?y(E):jA(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return Kn(E)?gu(t,p)(E):y(E)}function f(E){return n(E)}function p(E){return E===34||E===39||E===40?ZA(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):y(E)}function d(E){return Kn(E)?gu(t,y)(E):y(E)}function y(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function qN(t,e,n){const i=this;return o;function o(f){return WA.call(i,t,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Pl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function HN(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),o}function o(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const GN={name:"labelStartImage",resolveAll:gg.resolveAll,tokenize:YN};function YN(t,e,n){const i=this;return o;function o(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const JN={name:"labelStartLink",resolveAll:gg.resolveAll,tokenize:$N};function $N(t,e,n){const i=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Bp={name:"lineEnding",tokenize:KN};function KN(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),wt(t,e,"linePrefix")}}const wf={name:"thematicBreak",tokenize:QN};function QN(t,e,n){let i=0,o;return l;function l(d){return t.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(t.enter("thematicBreakSequence"),p(d)):i>=3&&(d===null||Pe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function p(d){return d===o?(t.consume(d),i++,p):(t.exit("thematicBreakSequence"),ft(d)?wt(t,f,"whitespace")(d):f(d))}}const Yn={continuation:{tokenize:ZN},exit:tM,name:"list",tokenize:WN},XN={partial:!0,tokenize:nM},jN={partial:!0,tokenize:eM};function WN(t,e,n){const i=this,o=i.events[i.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(A){const k=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:ym(A)){if(i.containerState.type||(i.containerState.type=k,t.enter(k,{_container:!0})),k==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(wf,n,d)(A):d(A);if(!i.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(A)}return n(A)}function p(A){return ym(A)&&++u<10?(t.consume(A),p):(!i.interrupt||u<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),d(A)):n(A)}function d(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,t.check(ad,i.interrupt?n:y,t.attempt(XN,T,E))}function y(A){return i.containerState.initialBlankLine=!0,l++,T(A)}function E(A){return ft(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),T):n(A)}function T(A){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(A)}}function ZN(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(ad,o,l);function o(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,wt(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ft(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(jN,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,wt(t,t.attempt(Yn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function eM(t,e,n){const i=this;return wt(t,o,"listItemIndent",i.containerState.size+1);function o(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function tM(t){t.exit(this.containerState.type)}function nM(t,e,n){const i=this;return wt(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=i.events[i.events.length-1];return!ft(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const SE={name:"setextUnderline",resolveTo:iM,tokenize:rM};function iM(t,e){let n=t.length,i,o,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",l?(t.splice(o,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function rM(t,e,n){const i=this;let o;return l;function l(d){let y=i.events.length,E;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){E=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||E)?(t.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),ft(d)?wt(t,p,"lineSuffix")(d):p(d))}function p(d){return d===null||Pe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const oM={tokenize:sM};function sM(t){const e=this,n=t.attempt(ad,i,t.attempt(this.parser.constructs.flowInitial,o,wt(t,t.attempt(this.parser.constructs.flow,o,t.attempt(fN,o)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const lM={resolveAll:tx()},aM=ex("string"),uM=ex("text");function ex(t){return{resolveAll:tx(t==="text"?cM:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],l=n.attempt(o,u,f);return u;function u(y){return d(y)?l(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return d(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function d(y){if(y===null)return!0;const E=o[y];let T=-1;if(E)for(;++T<E.length;){const A=E[T];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function tx(t){return e;function e(n,i){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return t?t(n,i):n}}function cM(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let l=o.length,u=-1,f=0,p;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)p=!0,f++;else if(d!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const fM={42:Yn,43:Yn,45:Yn,48:Yn,49:Yn,50:Yn,51:Yn,52:Yn,53:Yn,54:Yn,55:Yn,56:Yn,57:Yn,62:$A},dM={91:gN},hM={[-2]:zp,[-1]:zp,32:zp},pM={35:SN,42:wf,45:[SE,wf],60:wN,61:SE,95:wf,96:EE,126:EE},mM={38:QA,92:KA},gM={[-5]:Bp,[-4]:Bp,[-3]:Bp,33:GN,38:QA,42:vm,60:[JR,kN],91:JN,92:[EN,KA],93:gg,95:vm,96:oN},yM={null:[vm,lM]},vM={null:[42,95]},_M={null:[]},EM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vM,contentInitial:dM,disable:_M,document:fM,flow:pM,flowInitial:hM,insideSpan:yM,string:mM,text:gM},Symbol.toStringTag,{value:"Module"}));function TM(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const p={attempt:M(he),check:M($),consume:K,enter:Y,exit:le,interrupt:M($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:U,events:[],now:k,parser:t,previous:null,sliceSerialize:T,sliceStream:A,write:E};let y=e.tokenize.call(d,p);return e.resolveAll&&l.push(e),d;function E(V){return u=Mi(u,V),L(),u[u.length-1]!==null?[]:(D(e,0),d.events=mg(l,d.events,d),d.events)}function T(V,B){return AM(A(V),B)}function A(V){return SM(u,V)}function k(){const{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}=i;return{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}}function U(V){o[V.line]=V.column,O()}function L(){let V;for(;i._index<u.length;){const B=u[i._index];if(typeof B=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<B.length;)z(B.charCodeAt(i._bufferIndex));else z(B)}}function z(V){y=y(V)}function K(V){Pe(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,O()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=V}function Y(V,B){const P=B||{};return P.type=V,P.start=k(),d.events.push(["enter",P,d]),f.push(P),P}function le(V){const B=f.pop();return B.end=k(),d.events.push(["exit",B,d]),B}function he(V,B){D(V,B.from)}function $(V,B){B.restore()}function M(V,B){return P;function P(ye,me,Q){let X,de,Ee,F;return Array.isArray(ye)?ie(ye):"tokenize"in ye?ie([ye]):H(ye);function H(Ce){return Ve;function Ve(at){const tt=at!==null&&Ce[at],pn=at!==null&&Ce.null,Mn=[...Array.isArray(tt)?tt:tt?[tt]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return ie(Mn)(at)}}function ie(Ce){return X=Ce,de=0,Ce.length===0?Q:b(Ce[de])}function b(Ce){return Ve;function Ve(at){return F=R(),Ee=Ce,Ce.partial||(d.currentConstruct=Ce),Ce.name&&d.parser.constructs.disable.null.includes(Ce.name)?Ie():Ce.tokenize.call(B?Object.assign(Object.create(d),B):d,p,pe,Ie)(at)}}function pe(Ce){return V(Ee,F),me}function Ie(Ce){return F.restore(),++de<X.length?b(X[de]):Q}}}function D(V,B){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&Cr(d.events,B,d.events.length-B,V.resolve(d.events.slice(B),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function R(){const V=k(),B=d.previous,P=d.currentConstruct,ye=d.events.length,me=Array.from(f);return{from:ye,restore:Q};function Q(){i=V,d.previous=B,d.currentConstruct=P,d.events.length=ye,f=me,O()}}function O(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function SM(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,l=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(i,l)];else{if(u=t.slice(n,o),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}l>0&&u.push(t[o].slice(0,l))}return u}function AM(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,i.push(u)}return i.join("")}function xM(t){const i={constructs:MR([EM,...(t||{}).extensions||[]]),content:o(FR),defined:[],document:o(BR),flow:o(oM),lazy:{},string:o(aM),text:o(uM)};return i;function o(l){return u;function u(f){return TM(i,l,f)}}}function CM(t){for(;!XA(t););return t}const AE=/[\0\t\n\r]/g;function wM(){let t=1,e="",n=!0,i;return o;function o(l,u,f){const p=[];let d,y,E,T,A;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),E=0,e="",n&&(l.charCodeAt(0)===65279&&E++,n=void 0);E<l.length;){if(AE.lastIndex=E,d=AE.exec(l),T=d&&d.index!==void 0?d.index:l.length,A=l.charCodeAt(T),!d){e=l.slice(E);break}if(A===10&&E===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),E<T&&(p.push(l.slice(E,T)),t+=T-E),A){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}E=T+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const IM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function bM(t){return t.replace(IM,RM)}function RM(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return JA(n.slice(l?2:1),l?16:10)}return pg(n)||t}const nx={}.hasOwnProperty;function NM(t,e,n){return typeof e!="string"&&(n=e,e=void 0),MM(n)(CM(xM(n).document().write(wM()(t,e,!0))))}function MM(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ht),autolinkProtocol:R,autolinkEmail:R,atxHeading:l(Xn),blockQuote:l(pn),characterEscape:R,characterReference:R,codeFenced:l(Mn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Mn,u),codeText:l(Li,u),codeTextData:R,data:R,codeFlowValue:R,definition:l(er),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(mn),hardBreakEscape:l(fi),hardBreakTrailing:l(fi),htmlFlow:l(di,u),htmlFlowData:R,htmlText:l(di,u),htmlTextData:R,image:l(Ir),label:u,link:l(ht),listItem:l(Dn),listItemValue:T,listOrdered:l(St,E),listUnordered:l(St),paragraph:l(br),reference:b,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Xn),strong:l(Yt),thematicBreak:l(hi)},exit:{atxHeading:p(),atxHeadingSequence:he,autolink:p(),autolinkEmail:tt,autolinkProtocol:at,blockQuote:p(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Ce,characterReference:Ve,codeFenced:p(L),codeFencedFence:U,codeFencedFenceInfo:A,codeFencedFenceMeta:k,codeFlowValue:O,codeIndented:p(z),codeText:p(me),codeTextData:O,data:O,definition:p(),definitionDestinationString:le,definitionLabelString:K,definitionTitleString:Y,emphasis:p(),hardBreakEscape:p(B),hardBreakTrailing:p(B),htmlFlow:p(P),htmlFlowData:O,htmlText:p(ye),htmlTextData:O,image:p(X),label:Ee,labelText:de,lineEnding:V,link:p(Q),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:pe,resourceDestinationString:F,resourceTitleString:H,resource:ie,setextHeading:p(D),setextHeadingLineSequence:M,setextHeadingText:$,strong:p(),thematicBreak:p()}};ix(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(oe){let ge={type:"root",children:[]};const be={stack:[ge],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:y,data:n},qe=[];let Je=-1;for(;++Je<oe.length;)if(oe[Je][1].type==="listOrdered"||oe[Je][1].type==="listUnordered")if(oe[Je][0]==="enter")qe.push(Je);else{const rn=qe.pop();Je=o(oe,rn,Je)}for(Je=-1;++Je<oe.length;){const rn=e[oe[Je][0]];nx.call(rn,oe[Je][1].type)&&rn[oe[Je][1].type].call(Object.assign({sliceSerialize:oe[Je][2].sliceSerialize},be),oe[Je][1])}if(be.tokenStack.length>0){const rn=be.tokenStack[be.tokenStack.length-1];(rn[1]||xE).call(be,void 0,rn[0])}for(ge.position={start:Po(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Po(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)ge=e.transforms[Je](ge)||ge;return ge}function o(oe,ge,be){let qe=ge-1,Je=-1,rn=!1,xn,kt,At,Lt;for(;++qe<=be;){const $e=oe[qe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Je++:Je--,Lt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(xn&&!Lt&&!Je&&!At&&(At=qe),Lt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lt=void 0}if(!Je&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Je===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(xn){let jn=qe;for(kt=void 0;jn--;){const an=oe[jn];if(an[1].type==="lineEnding"||an[1].type==="lineEndingBlank"){if(an[0]==="exit")continue;kt&&(oe[kt][1].type="lineEndingBlank",rn=!0),an[1].type="lineEnding",kt=jn}else if(!(an[1].type==="linePrefix"||an[1].type==="blockQuotePrefix"||an[1].type==="blockQuotePrefixWhitespace"||an[1].type==="blockQuoteMarker"||an[1].type==="listItemIndent"))break}At&&(!kt||At<kt)&&(xn._spread=!0),xn.end=Object.assign({},kt?oe[kt][1].start:$e[1].end),oe.splice(kt||qe,0,["exit",xn,$e[2]]),qe++,be++}if($e[1].type==="listItemPrefix"){const jn={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};xn=jn,oe.splice(qe,0,["enter",jn,$e[2]]),qe++,be++,At=void 0,Lt=!0}}}return oe[ge][1]._spread=rn,be}function l(oe,ge){return be;function be(qe){f.call(this,oe(qe),qe),ge&&ge.call(this,qe)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(oe,ge,be){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ge,be||void 0]),oe.position={start:Po(ge.start),end:void 0}}function p(oe){return ge;function ge(be){oe&&oe.call(this,be),d.call(this,be)}}function d(oe,ge){const be=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==oe.type&&(ge?ge.call(this,oe,qe[0]):(qe[1]||xE).call(this,oe,qe[0]));else throw new Error("Cannot close `"+oe.type+"` ("+mu({start:oe.start,end:oe.end})+"): its not open");be.position.end=Po(oe.end)}function y(){return RR(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function T(oe){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function A(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=oe}function k(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=oe}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe.replace(/(\r?\n|\r)$/g,"")}function K(oe){const ge=this.resume(),be=this.stack[this.stack.length-1];be.label=ge,be.identifier=Pl(this.sliceSerialize(oe)).toLowerCase()}function Y(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.title=oe}function le(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.url=oe}function he(oe){const ge=this.stack[this.stack.length-1];if(!ge.depth){const be=this.sliceSerialize(oe).length;ge.depth=be}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function M(oe){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function R(oe){const be=this.stack[this.stack.length-1].children;let qe=be[be.length-1];(!qe||qe.type!=="text")&&(qe=It(),qe.position={start:Po(oe.start),end:void 0},be.push(qe)),this.stack.push(qe)}function O(oe){const ge=this.stack.pop();ge.value+=this.sliceSerialize(oe),ge.position.end=Po(oe.end)}function V(oe){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ge.children[ge.children.length-1];be.position.end=Po(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(R.call(this,oe),O.call(this,oe))}function B(){this.data.atHardBreak=!0}function P(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function ye(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function me(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function Q(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ge,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function X(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ge,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function de(oe){const ge=this.sliceSerialize(oe),be=this.stack[this.stack.length-2];be.label=bM(ge),be.identifier=Pl(ge).toLowerCase()}function Ee(){const oe=this.stack[this.stack.length-1],ge=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const qe=oe.children;be.children=qe}else be.alt=ge}function F(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.url=oe}function H(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.title=oe}function ie(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function pe(oe){const ge=this.resume(),be=this.stack[this.stack.length-1];be.label=ge,be.identifier=Pl(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function Ie(oe){this.data.characterReferenceType=oe.type}function Ce(oe){const ge=this.sliceSerialize(oe),be=this.data.characterReferenceType;let qe;be?(qe=JA(ge,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=pg(ge);const Je=this.stack[this.stack.length-1];Je.value+=qe}function Ve(oe){const ge=this.stack.pop();ge.position.end=Po(oe.end)}function at(oe){O.call(this,oe);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(oe)}function tt(oe){O.call(this,oe);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(oe)}function pn(){return{type:"blockquote",children:[]}}function Mn(){return{type:"code",lang:null,meta:null,value:""}}function Li(){return{type:"inlineCode",value:""}}function er(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mn(){return{type:"emphasis",children:[]}}function Xn(){return{type:"heading",depth:0,children:[]}}function fi(){return{type:"break"}}function di(){return{type:"html",value:""}}function Ir(){return{type:"image",title:null,url:"",alt:null}}function ht(){return{type:"link",title:null,url:"",children:[]}}function St(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Dn(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function br(){return{type:"paragraph",children:[]}}function Yt(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function hi(){return{type:"thematicBreak"}}}function Po(t){return{line:t.line,column:t.column,offset:t.offset}}function ix(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?ix(t,i):DM(t,i)}}function DM(t,e){let n;for(n in e)if(nx.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function xE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+mu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+mu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+mu({start:e.start,end:e.end})+") is still open")}function kM(t){const e=this;e.parser=n;function n(i){return NM(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function PM(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function VM(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function LM(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function UM(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OM(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function FM(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Kl(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const d={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,d),t.applyData(e,d)}function zM(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BM(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function rx(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=i:o.push({type:"text",value:i}),o}function qM(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return rx(t,e);const o={src:Kl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,l),t.applyData(e,l)}function HM(t,e){const n={src:Kl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function GM(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function YM(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return rx(t,e);const o={href:Kl(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function JM(t,e){const n={href:Kl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function $M(t,e,n){const i=t.all(e),o=n?KM(n):ox(e),l={},u=[];if(typeof e.checked=="boolean"){const y=i[0];let E;y&&y.type==="element"&&y.tagName==="p"?E=y:(E={type:"element",tagName:"p",properties:{},children:[]},i.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(o||f!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!o?u.push(...y.children):u.push(y)}const p=i[i.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,d),t.applyData(e,d)}function KM(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=ox(n[i])}return e}function ox(t){const e=t.spread;return e??t.children.length>1}function QM(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const u=i[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function XM(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jM(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function WM(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZM(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=cg(e.children[1]),p=FA(e.children[e.children.length-1]);f&&p&&(u.position={start:f,end:p}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,l),t.applyData(e,l)}function e2(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let p=-1;const d=[];for(;++p<f;){const E=e.children[p],T={},A=u?u[p]:void 0;A&&(T.align=A);let k={type:"element",tagName:l,properties:T,children:[]};E&&(k.children=t.all(E),t.patch(E,k),k=t.applyData(E,k)),d.push(k)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,y),t.applyData(e,y)}function t2(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const CE=9,wE=32;function n2(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const l=[];for(;i;)l.push(IE(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return l.push(IE(e.slice(o),o>0,!1)),l.join("")}function IE(t,e,n){let i=0,o=t.length;if(e){let l=t.codePointAt(i);for(;l===CE||l===wE;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(o-1);for(;l===CE||l===wE;)o--,l=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function i2(t,e){const n={type:"text",value:n2(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function r2(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const o2={blockquote:PM,break:VM,code:LM,delete:UM,emphasis:OM,footnoteReference:FM,heading:zM,html:BM,imageReference:qM,image:HM,inlineCode:GM,linkReference:YM,link:JM,listItem:$M,list:QM,paragraph:XM,root:jM,strong:WM,table:ZM,tableCell:t2,tableRow:e2,text:i2,thematicBreak:r2,toml:df,yaml:df,definition:df,footnoteDefinition:df};function df(){}const sx=-1,ud=0,yu=1,Uf=2,yg=3,vg=4,_g=5,Eg=6,lx=7,ax=8,bE=typeof self=="object"?self:globalThis,s2=(t,e)=>{const n=(o,l)=>(t.set(l,o),o),i=o=>{if(t.has(o))return t.get(o);const[l,u]=e[o];switch(l){case ud:case sx:return n(u,o);case yu:{const f=n([],o);for(const p of u)f.push(i(p));return f}case Uf:{const f=n({},o);for(const[p,d]of u)f[i(p)]=i(d);return f}case yg:return n(new Date(u),o);case vg:{const{source:f,flags:p}=u;return n(new RegExp(f,p),o)}case _g:{const f=n(new Map,o);for(const[p,d]of u)f.set(i(p),i(d));return f}case Eg:{const f=n(new Set,o);for(const p of u)f.add(i(p));return f}case lx:{const{name:f,message:p}=u;return n(new bE[f](p),o)}case ax:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new bE[l](u),o)};return i},RE=t=>s2(new Map,t)(0),xl="",{toString:l2}={},{keys:a2}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[ud,e];const n=l2.call(t).slice(8,-1);switch(n){case"Array":return[yu,xl];case"Object":return[Uf,xl];case"Date":return[yg,xl];case"RegExp":return[vg,xl];case"Map":return[_g,xl];case"Set":return[Eg,xl];case"DataView":return[yu,n]}return n.includes("Array")?[yu,n]:n.includes("Error")?[lx,n]:[Uf,n]},hf=([t,e])=>t===ud&&(e==="function"||e==="symbol"),u2=(t,e,n,i)=>{const o=(u,f)=>{const p=i.push(u)-1;return n.set(f,p),p},l=u=>{if(n.has(u))return n.get(u);let[f,p]=lu(u);switch(f){case ud:{let y=u;switch(p){case"bigint":f=ax,y=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return o([sx],u)}return o([f,y],u)}case yu:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),o([p,[...T]],u)}const y=[],E=o([f,y],u);for(const T of u)y.push(l(T));return E}case Uf:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const y=[],E=o([f,y],u);for(const T of a2(u))(t||!hf(lu(u[T])))&&y.push([l(T),l(u[T])]);return E}case yg:return o([f,u.toISOString()],u);case vg:{const{source:y,flags:E}=u;return o([f,{source:y,flags:E}],u)}case _g:{const y=[],E=o([f,y],u);for(const[T,A]of u)(t||!(hf(lu(T))||hf(lu(A))))&&y.push([l(T),l(A)]);return E}case Eg:{const y=[],E=o([f,y],u);for(const T of u)(t||!hf(lu(T)))&&y.push(l(T));return E}}const{message:d}=u;return o([f,{name:p,message:d}],u)};return l},NE=(t,{json:e,lossy:n}={})=>{const i=[];return u2(!(e||n),!!e,new Map,i)(t),i},Of=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?RE(NE(t,e)):structuredClone(t):(t,e)=>RE(NE(t,e));function c2(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function f2(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function d2(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||c2,i=t.options.footnoteBackLabel||f2,o=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[p]);if(!d)continue;const y=t.all(d),E=String(d.identifier).toUpperCase(),T=Kl(E.toLowerCase());let A=0;const k=[],U=t.footnoteCounts.get(E);for(;U!==void 0&&++A<=U;){k.length>0&&k.push({type:"text",value:" "});let K=typeof n=="string"?n:n(p,A);typeof K=="string"&&(K={type:"text",value:K}),k.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,A),className:["data-footnote-backref"]},children:Array.isArray(K)?K:[K]})}const L=y[y.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const K=L.children[L.children.length-1];K&&K.type==="text"?K.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...k)}else y.push(...k);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(y,!0)};t.patch(d,z),f.push(z)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Of(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const ux=(function(t){if(t==null)return g2;if(typeof t=="function")return cd(t);if(typeof t=="object")return Array.isArray(t)?h2(t):p2(t);if(typeof t=="string")return m2(t);throw new Error("Expected function, string, or object as test")});function h2(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ux(t[n]);return cd(i);function i(...o){let l=-1;for(;++l<e.length;)if(e[l].apply(this,o))return!0;return!1}}function p2(t){const e=t;return cd(n);function n(i){const o=i;let l;for(l in t)if(o[l]!==e[l])return!1;return!0}}function m2(t){return cd(e);function e(n){return n&&n.type===t}}function cd(t){return e;function e(n,i,o){return!!(y2(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function g2(){return!0}function y2(t){return t!==null&&typeof t=="object"&&"type"in t}const cx=[],v2=!0,ME=!1,_2="skip";function E2(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const l=ux(o),u=i?-1:1;f(t,void 0,[])();function f(p,d,y){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const A=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(A?"<"+A+">":""))+")"})}return T;function T(){let A=cx,k,U,L;if((!e||l(p,d,y[y.length-1]||void 0))&&(A=T2(n(p,y)),A[0]===ME))return A;if("children"in p&&p.children){const z=p;if(z.children&&A[0]!==_2)for(U=(i?z.children.length:-1)+u,L=y.concat(z);U>-1&&U<z.children.length;){const K=z.children[U];if(k=f(K,U,L)(),k[0]===ME)return k;U=typeof k[1]=="number"?k[1]:U+u}}return A}}}function T2(t){return Array.isArray(t)?t:typeof t=="number"?[v2,t]:t==null?cx:[t]}function fx(t,e,n,i){let o,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,o=n):(l=e,u=n,o=i),E2(t,l,f,o);function f(p,d){const y=d[d.length-1],E=y?y.children.indexOf(p):void 0;return u(p,E,y)}}const _m={}.hasOwnProperty,S2={};function A2(t,e){const n=e||S2,i=new Map,o=new Map,l=new Map,u={...o2,...n.handlers},f={all:d,applyData:C2,definitionById:i,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:p,options:n,patch:x2,wrap:I2};return fx(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const E=y.type==="definition"?i:o,T=String(y.identifier).toUpperCase();E.has(T)||E.set(T,y)}}),f;function p(y,E){const T=y.type,A=f.handlers[T];if(_m.call(f.handlers,T)&&A)return A(f,y,E);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in y){const{children:U,...L}=y,z=Of(L);return z.children=f.all(y),z}return Of(y)}return(f.options.unknownHandler||w2)(f,y,E)}function d(y){const E=[];if("children"in y){const T=y.children;let A=-1;for(;++A<T.length;){const k=f.one(T[A],y);if(k){if(A&&T[A-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=DE(k.value)),!Array.isArray(k)&&k.type==="element")){const U=k.children[0];U&&U.type==="text"&&(U.value=DE(U.value))}Array.isArray(k)?E.push(...k):E.push(k)}}}return E}}function x2(t,e){t.position&&(e.position=lR(t))}function C2(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Of(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function w2(t,e){const n=e.data||{},i="value"in e&&!(_m.call(n,"hProperties")||_m.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function I2(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function DE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function kE(t,e){const n=A2(t,e),i=n.one(t,void 0),o=d2(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function b2(t,e){return t&&"run"in t?async function(n,i){const o=kE(n,{file:i,...e});await t.run(o,i)}:function(n,i){return kE(n,{file:i,...t||e})}}function PE(t){if(t)throw t}var qp,VE;function R2(){if(VE)return qp;VE=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},l=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var y=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!E)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},u=function(d,y){n&&y.name==="__proto__"?n(d,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):d[y.name]=y.newValue},f=function(d,y){if(y==="__proto__")if(t.call(d,y)){if(i)return i(d,y).value}else return;return d[y]};return qp=function p(){var d,y,E,T,A,k,U=arguments[0],L=1,z=arguments.length,K=!1;for(typeof U=="boolean"&&(K=U,U=arguments[1]||{},L=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});L<z;++L)if(d=arguments[L],d!=null)for(y in d)E=f(U,y),T=f(d,y),U!==T&&(K&&T&&(l(T)||(A=o(T)))?(A?(A=!1,k=E&&o(E)?E:[]):k=E&&l(E)?E:{},u(U,{name:y,newValue:p(K,k,T)})):typeof T<"u"&&u(U,{name:y,newValue:T}));return U},qp}var N2=R2();const Hp=ld(N2);function Em(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function M2(){const t=[],e={run:n,use:i};return e;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(p,...d){const y=t[++l];let E=-1;if(p){u(p);return}for(;++E<o.length;)(d[E]===null||d[E]===void 0)&&(d[E]=o[E]);o=d,y?D2(y,f)(...d):u(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function D2(t,e){let n;return i;function i(...u){const f=t.length>u.length;let p;f&&u.push(o);try{p=t.apply(this,u)}catch(d){const y=d;if(f&&n)throw y;return o(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,o):p instanceof Error?o(p):l(p))}function o(u,...f){n||(n=!0,e(u,...f))}function l(u){o(null,u)}}const vr={basename:k2,dirname:P2,extname:V2,join:L2,sep:"/"};function k2(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Vu(t);let n=0,i=-1,o=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else i<0&&(l=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,f=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(t.codePointAt(o)===e.codePointAt(f--)?f<0&&(i=o):(f=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function P2(t){if(Vu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function V2(t){Vu(t);let e=t.length,n=-1,i=0,o=-1,l=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?o<0?o=e:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function L2(...t){let e=-1,n;for(;++e<t.length;)Vu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":U2(n)}function U2(t){Vu(t);const e=t.codePointAt(0)===47;let n=O2(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function O2(t,e){let n="",i=0,o=-1,l=0,u=-1,f,p;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",i=0,o=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),i=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Vu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const F2={cwd:z2};function z2(){return"/"}function Tm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function B2(t){if(typeof t=="string")t=new URL(t);else if(!Tm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return q2(t)}function q2(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Gp=["history","path","basename","stem","extname","dirname"];class dx{constructor(e){let n;e?Tm(e)?n={path:e}:typeof e=="string"||H2(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":F2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Gp.length;){const l=Gp[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)Gp.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(e){Jp(e,"basename"),Yp(e,"basename"),this.path=vr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(e){LE(this.basename,"dirname"),this.path=vr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(e){if(Yp(e,"extname"),LE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Tm(e)&&(e=B2(e)),Jp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(e){Jp(e,"stem"),Yp(e,"stem"),this.path=vr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new Nn(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Yp(t,e){if(t&&t.includes(vr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vr.sep+"`")}function Jp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function LE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function H2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const G2=(function(t){const i=this.constructor.prototype,o=i[t],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),Y2={}.hasOwnProperty;class Tg extends G2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=M2()}copy(){const e=new Tg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Hp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Qp("data",this.frozen),this.namespace[e]=n,this):Y2.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Qp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=pf(e),i=this.parser||this.Parser;return $p("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),$p("process",this.parser||this.Parser),Kp("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=pf(e),p=i.parse(f);i.run(p,f,function(y,E,T){if(y||!E||!T)return d(y);const A=E,k=i.stringify(A,T);K2(k)?T.value=k:T.result=k,d(y,T)});function d(y,E){y||!E?u(y):l?l(E):n(void 0,E)}}}processSync(e){let n=!1,i;return this.freeze(),$p("processSync",this.parser||this.Parser),Kp("processSync",this.compiler||this.Compiler),this.process(e,o),OE("processSync","process",n),i;function o(l,u){n=!0,PE(l),i=u}}run(e,n,i){UE(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,f){const p=pf(n);o.run(e,p,d);function d(y,E,T){const A=E||e;y?f(y):u?u(A):i(void 0,A,T)}}}runSync(e,n){let i=!1,o;return this.run(e,n,l),OE("runSync","run",i),o;function l(u,f){PE(u),o=f,i=!0}}stringify(e,n){this.freeze();const i=pf(n),o=this.compiler||this.Compiler;return Kp("stringify",o),UE(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if(Qp("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[y,...E]=d;p(y,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=Hp(!0,o.settings,d.settings))}function f(d){let y=-1;if(d!=null)if(Array.isArray(d))for(;++y<d.length;){const E=d[y];l(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,y){let E=-1,T=-1;for(;++E<i.length;)if(i[E][0]===d){T=E;break}if(T===-1)i.push([d,...y]);else if(y.length>0){let[A,...k]=y;const U=i[T][1];Em(U)&&Em(A)&&(A=Hp(!0,U,A)),i[T]=[d,A,...k]}}}}const J2=new Tg().freeze();function $p(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Qp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function UE(t){if(!Em(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function OE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function pf(t){return $2(t)?t:new dx(t)}function $2(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function K2(t){return typeof t=="string"||Q2(t)}function Q2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const X2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",FE=[],zE={allowDangerousHtml:!0},j2=/^(https?|ircs?|mailto|xmpp)$/i,W2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function hx(t){const e=Z2(t),n=eD(t);return tD(e.runSync(e.parse(n),n),t)}function Z2(t){const e=t.rehypePlugins||FE,n=t.remarkPlugins||FE,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...zE}:zE;return J2().use(kM).use(n).use(b2,i).use(e)}function eD(t){const e=t.children||"",n=new dx;return typeof e=="string"&&(n.value=e),n}function tD(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,l=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||nD;for(const y of W2)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+X2+y.id,void 0);return fx(t,d),dR(t,{Fragment:C.Fragment,components:o,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function d(y,E,T){if(y.type==="raw"&&T&&typeof E=="number")return u?T.children.splice(E,1):T.children[E]={type:"text",value:y.value},E;if(y.type==="element"){let A;for(A in Fp)if(Object.hasOwn(Fp,A)&&Object.hasOwn(y.properties,A)){const k=y.properties[A],U=Fp[A];(U===null||U.includes(y.tagName))&&(y.properties[A]=p(String(k||""),A,y))}}if(y.type==="element"){let A=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!A&&i&&typeof E=="number"&&(A=!i(y,E,T)),A&&T&&typeof E=="number")return f&&y.children?T.children.splice(E,1,...y.children):T.children.splice(E,1),E}}}function nD(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||j2.test(t.slice(0,e))?t:""}const If=({fatwa:t,detailsMode:e=!1,onGoBack:n})=>{var L;const[i,o]=Ne.useState(!1),[l,u]=Ne.useState(!1),f=z=>{switch(z){case"PERMITTED":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"CONDITIONAL":return"bg-amber-50 text-amber-700 border-amber-200";case"FORBIDDEN":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=z=>{switch(z){case"PERMITTED":return" / ";case"CONDITIONAL":return"  /  ";case"FORBIDDEN":return" / ";default:return" "}},d=z=>{switch(z){case"PERMITTED":return C.jsx(WI,{className:"w-4 h-4"});case"CONDITIONAL":return C.jsx(XI,{className:"w-4 h-4"});case"FORBIDDEN":return C.jsx(nb,{className:"w-4 h-4"});default:return C.jsx(W_,{className:"w-4 h-4"})}},y=()=>`*${t.title}*

*:* ${t.question}

*:* ${t.ruling.substring(0,300)}${t.ruling.length>300?"...":""}

*:* ${t.source}

    " "`,E=()=>{navigator.clipboard.writeText(y()),o(!0),setTimeout(()=>o(!1),2e3)},T={whatsapp:`https://wa.me/?text=${encodeURIComponent(y())}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(t.title)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(y())}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.title)}&url=${encodeURIComponent(window.location.href)}`},A=((L=pu.find(z=>z.id===t.category))==null?void 0:L.name)||t.category,U=(z=>z?z.replace(//g,"****").split(/\n\n+/).map(Y=>Y.replace(/\n/g,`  
`)).join(`

`):"")(t.ruling);return C.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg mb-2 w-full mx-auto flex flex-col font-cairo animate-in fade-in duration-500"+(e?" max-w-4xl p-0 sm:p-8 gap-4 sm:gap-8 scale-[1.04] shadow-2xl min-h-[70vh]":" max-w-2xl p-2 sm:p-5 gap-4 sm:gap-5 h-full max-h-[85vh]"),style:{direction:"rtl"},children:[e&&n&&C.jsx("div",{className:"w-full bg-white border-b-2 border-teal-200 flex-shrink-0",children:C.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 text-teal-600 hover:text-teal-700 transition-colors font-bold text-base px-4 py-4 w-full",children:[C.jsx(qI,{className:"w-5 h-5"}),C.jsx("span",{children:"  "})]})}),C.jsx("div",{className:`bg-gradient-to-b from-gray-50 to-white border-b border-gray-100 flex-shrink-0 ${e?"p-3 sm:p-5":"p-5"}`,children:C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border flex items-center gap-1.5 w-fit shadow-sm ${f(t.verdict)}`,children:[d(t.verdict),p(t.verdict)]}),C.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 flex items-center gap-1",children:A})]}),C.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 leading-snug tracking-tight",children:t.title})]})}),C.jsxs("div",{className:`space-y-6 flex-1 overflow-y-auto custom-scrollbar ${e?"p-3 sm:p-5":"p-5"}`,children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-700",children:[C.jsx("div",{className:"bg-teal-50 p-1.5 rounded-lg",children:C.jsx(W_,{className:"w-4 h-4"})}),C.jsx("span",{className:"text-sm font-bold",children:":"})]}),C.jsx("p",{className:"text-gray-700 font-medium text-base leading-relaxed bg-gray-50/50 p-4 rounded-xl border border-gray-100",children:t.question})]}),t.medical_context&&C.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 p-3 rounded-xl border border-blue-100/50",children:[C.jsx("div",{className:"bg-blue-100 p-1.5 rounded-lg mt-0.5 shrink-0",children:C.jsx(fm,{className:"w-3.5 h-3.5 text-blue-600"})}),C.jsxs("div",{children:[C.jsx("span",{className:"text-xs font-bold text-blue-700 block mb-1",children:"   :"}),C.jsx("p",{className:"text-xs text-blue-800/80 font-mono leading-relaxed dir-ltr text-right",children:t.medical_context})]})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 border-b border-gray-100 pb-2 font-cairo",children:[C.jsx("div",{className:"bg-teal-100 p-1.5 rounded-lg",children:C.jsx(cb,{className:"w-4 h-4 text-teal-700"})}),C.jsx("span",{className:"font-bold text-base",children:"  :"})]}),C.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-loose",style:{fontFamily:"'Amiri', serif"},children:C.jsx(hx,{components:{p:({node:z,...K})=>C.jsx("p",{className:"mb-6",...K}),li:({node:z,...K})=>C.jsx("li",{className:"mb-2",...K}),h1:({node:z,...K})=>C.jsx("h1",{className:"text-2xl font-bold mb-4 mt-6 text-teal-900",...K}),h2:({node:z,...K})=>C.jsx("h2",{className:"text-xl font-bold mb-3 mt-5 text-teal-800",...K}),h3:({node:z,...K})=>C.jsx("h3",{className:"text-lg font-bold mb-2 mt-4 text-teal-700",...K}),strong:({node:z,...K})=>C.jsx("strong",{className:"font-bold text-teal-900",...K})},children:U})})]}),C.jsxs("div",{className:"pt-4 border-t border-dashed border-gray-200 flex flex-col gap-3 font-cairo",children:[C.jsxs("div",{className:"flex items-start gap-2",children:[C.jsx(JI,{className:"w-3.5 h-3.5 text-gray-400 mt-1 shrink-0"}),C.jsxs("div",{className:"text-xs text-gray-500",children:[C.jsx("span",{className:"font-bold text-gray-600",children:": "}),C.jsx("span",{className:"italic",children:t.source})]})]}),t.tags&&t.tags.length>0&&C.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[C.jsx(Pb,{className:"w-3.5 h-3.5 text-gray-300 shrink-0"}),C.jsx("div",{className:"flex gap-1.5",children:t.tags.map((z,K)=>C.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 whitespace-nowrap",children:["#",z]},K))})]})]})]}),C.jsx("div",{className:`bg-gray-50 border-t border-gray-100 flex-shrink-0 font-cairo ${e?"p-2 sm:p-3":"p-3"}`,children:l?C.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom-2 fade-in duration-300",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsx("span",{className:"text-xs font-bold text-gray-500",children:"  :"}),C.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1",children:C.jsx(Lf,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"flex gap-3 justify-center",children:[C.jsxs("a",{href:T.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#229ED9] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),C.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),C.jsx("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]})]})]}):C.jsxs("div",{className:"flex justify-between items-center gap-3",children:[C.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center gap-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 hover:text-teal-600 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[i?C.jsx(Cl,{className:"w-4 h-4"}):C.jsx(MA,{className:"w-4 h-4"}),i?" ":" "]}),C.jsxs("button",{onClick:()=>u(!0),className:"flex-1 flex items-center justify-center gap-2 text-white bg-teal-600 hover:bg-teal-700 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[C.jsx(Nb,{className:"w-4 h-4"})," "]})]})})]})};var iD={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let rD,oD;function sD(){return{geminiUrl:rD,vertexUrl:oD}}function lD(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const u=sD();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zr{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let d=0;d<p.length;d++){const y=p[d];m(y,e.slice(l+1),n[d])}else for(const d of p)m(d,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>h(f,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function aD(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),u=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const d=l[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}Sm(t,o,l,0,u)}}function Sm(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])Sm(p,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(d=>!d.startsWith("_")&&!o.has(d)),p={};for(const d of f)p[d]=u[d];for(const[d,y]of Object.entries(p)){const E=[];for(const T of n.slice(i))T==="*"?E.push(d):E.push(T);m(u,E,y)}for(const d of f)delete u[d]}}else{const u=t;l in u&&Sm(u[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uD(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function cD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],dD(u)),e}function fD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],hD(u)),e}function dD(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>pD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function hD(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>mD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function pD(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],TD(n)),e}function mD(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],SD(n)),e}function gD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function yD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function vD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],_D(u)),e}function _D(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function px(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],ED(u)),e}function ED(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function TD(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Sg(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function SD(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Sg(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var BE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(BE||(BE={}));var qE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qE||(qE={}));var HE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(HE||(HE={}));var ki;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ki||(ki={}));var GE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GE||(GE={}));var YE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(YE||(YE={}));var JE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(JE||(JE={}));var $E;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})($E||($E={}));var KE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(KE||(KE={}));var QE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(QE||(QE={}));var XE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(XE||(XE={}));var jE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(jE||(jE={}));var WE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(WE||(WE={}));var ZE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(ZE||(ZE={}));var eT;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(eT||(eT={}));var tT;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tT||(tT={}));var nT;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nT||(nT={}));var iT;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(iT||(iT={}));var rT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rT||(rT={}));var Ff;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ff||(Ff={}));var oT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(oT||(oT={}));var sT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sT||(sT={}));var lT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lT||(lT={}));var Am;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Am||(Am={}));var aT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(aT||(aT={}));var uT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(uT||(uT={}));var cT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cT||(cT={}));var fT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(fT||(fT={}));var dT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dT||(dT={}));var hT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hT||(hT={}));var pT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(pT||(pT={}));var mT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(mT||(mT={}));var gT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(gT||(gT={}));var yT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yT||(yT={}));var vT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vT||(vT={}));var _T;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(_T||(_T={}));var ET;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ET||(ET={}));var TT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(TT||(TT={}));var ST;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ST||(ST={}));var AT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(AT||(AT={}));var xT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(xT||(xT={}));var CT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(CT||(CT={}));var wT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(wT||(wT={}));var IT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(IT||(IT={}));var bT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(bT||(bT={}));var RT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(RT||(RT={}));var NT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(NT||(NT={}));var MT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(MT||(MT={}));var DT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(DT||(DT={}));var kT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(kT||(kT={}));var PT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PT||(PT={}));var VT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(VT||(VT={}));var LT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(LT||(LT={}));var UT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(UT||(UT={}));var OT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(OT||(OT={}));var Ml;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ml||(Ml={}));class xm{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class au{get text(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",y=!1;const E=[];for(const T of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[A,k]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(k!==null||k!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,d+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?d:void 0}get data(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const y=[];for(const E of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&y.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(d+=atob(E.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.output}}class FT{}class zT{}class AD{}class xD{}class CD{}class wD{}class BT{}class qT{}class HT{}class ID{}class zf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new zf;let o;const l=e;return n?o=fD(l):o=cD(l),Object.assign(i,o),i}}class GT{}class YT{}class JT{}class $T{}class bD{}class RD{}class ND{}class Ag{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ag,l=vD(e);return Object.assign(i,l),i}}class MD{}class DD{}class kD{}class KT{}class PD{get text(){var e,n,i;let o="",l=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(f))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class VD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new xg,l=px(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function mx(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function gx(t){return Array.isArray(t)?t.map(e=>Bf(e)):[Bf(t)]}function Bf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function yx(t){const e=Bf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function vx(t){const e=Bf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function QT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function _x(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>QT(e)):[QT(t)]}function Cm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function XT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function jT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rn(t){if(t==null)throw new Error("ContentUnion is required");return Cm(t)?t:{role:"user",parts:_x(t)}}function Cg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Rn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Rn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rn(n)):[Rn(e)]}function Pi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(XT(t)||jT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rn(t)]}const e=[],n=[],i=Cm(t[0]);for(const o of t){const l=Cm(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(XT(o)||jT(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:_x(n)}),e}function LD(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(ki).includes(n[0].toUpperCase())?n[0].toUpperCase():ki.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(ki).includes(i.toUpperCase())?i.toUpperCase():ki.TYPE_UNSPECIFIED})}}function Vl(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&LD(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(ki).includes(f.toUpperCase())?f.toUpperCase():ki.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Vl(f);else if(i.includes(u)){const p=[];for(const d of f){if(d.type=="null"){e.nullable=!0;continue}p.push(Vl(d))}e[u]=p}else if(o.includes(u)){const p={};for(const[d,y]of Object.entries(f))p[d]=Vl(y);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function wg(t){return Vl(t)}function Ig(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ql(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Vl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Vl(e.response));return t}function Xl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function UD(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function eo(t,e){if(typeof e!="string")throw new Error("name must be a string");return UD(t,e,"cachedContents")}function Ex(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Ko(t){return Sg(t)}function OD(t){return t!=null&&typeof t=="object"&&"name"in t}function FD(t){return t!=null&&typeof t=="object"&&"video"in t}function zD(t){return t!=null&&typeof t=="object"&&"uri"in t}function Tx(t){var e;let n;if(OD(t)&&(n=t.name),!(zD(t)&&(n=t.uri,n===void 0))&&!(FD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Sx(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ax(t){for(const e of["models","tunedModels","publisherModels"])if(BD(t,e))return t[e];return[]}function BD(t,e){return t!==null&&typeof t=="object"&&e in t}function qD(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function HD(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=qD(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function xx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function GD(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Cx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function jl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function wx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YD(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Ck(u))),m(e,["inlinedResponses"],l)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function JD(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function $D(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function bf(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],wx(o));const l=h(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=h(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&m(e,["dest"],YD(Cx(d))),e}function wm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["state"]);o!=null&&m(e,["state"],wx(o));const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const y=h(t,["model"]);y!=null&&m(e,["model"],y);const E=h(t,["inputConfig"]);E!=null&&m(e,["src"],KD(E));const T=h(t,["outputConfig"]);T!=null&&m(e,["dest"],JD(Cx(T)));const A=h(t,["completionStats"]);return A!=null&&m(e,["completionStats"],A),e}function KD(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function QD(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&m(n,["fileName"],i);const o=h(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>xk(t,u))),m(n,["requests","requests"],l)}return n}function XD(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function jD(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function WD(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function ZD(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function ek(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],tk(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function tk(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function Ix(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Dk(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function nk(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ik(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],$D(GD(o))),n}function WT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],QD(t,xx(t,o)));const l=h(e,["config"]);return l!=null&&nk(l,n),n}function rk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],XD(xx(t,o)));const l=h(e,["config"]);return l!=null&&ik(l,n),n}function ok(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function sk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],hk(t,o));const l=h(e,["config"]);return l!=null&&ok(l,n),n}function lk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function ak(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function uk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function ck(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function fk(t,e){const n={},i=h(e,["contents"]);if(i!=null){let l=Cg(t,i);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["requests[]","request","content"],l)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],dk(o,n)),aD(n,{"requests[].*":"requests[].request.*"})),n}function dk(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function hk(t,e){const n={},i=h(e,["fileName"]);i!=null&&m(n,["file_name"],i);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],fk(t,o)),n}function pk(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function mk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gk(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yk(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Ix(Rn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],wg(z));const K=h(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>kk(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=Xl(le);Array.isArray(P)&&(P=P.map(ye=>Vk(Ql(ye)))),m(n,["tools"],P)}const he=h(e,["toolConfig"]);if(n!==void 0&&he!=null&&m(n,["toolConfig"],Pk(he)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],eo(t,$));const M=h(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const D=h(e,["mediaResolution"]);D!=null&&m(i,["mediaResolution"],D);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],Ig(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&m(i,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],Ak(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function vk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>ek(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function _k(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function Ek(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function Tk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Sk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Ak(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["request","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let f=Pi(o);Array.isArray(f)&&(f=f.map(p=>Ix(p))),m(n,["request","contents"],f)}const l=h(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],yk(t,u,h(n,["request"],{}))),n}function Ck(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],vk(n));const i=h(t,["error"]);return i!=null&&m(e,["error"],i),e}function wk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Ik(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=h(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function bk(t){const e={},n=h(t,["config"]);return n!=null&&wk(n,e),e}function Rk(t){const e={},n=h(t,["config"]);return n!=null&&Ik(n,e),e}function Nk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>bf(u))),m(e,["batchJobs"],l)}return e}function Mk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>wm(u))),m(e,["batchJobs"],l)}return e}function Dk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],pk(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],mk(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],jD(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function kk(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Pk(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],gk(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function Vk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Tk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Sk(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Kr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Kr||(Kr={}));class Rs{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lk extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Kr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=WT(this.apiClient,e),i=n._url,o=Te("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,d=[];for(const y of p){const E=Object.assign({},y);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}d.push(E)}return f.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=rk(this.apiClient,e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>wm(y))}else{const d=WT(this.apiClient,e);return f=Te("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>bf(y))}}async createEmbeddingsInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=sk(this.apiClient,e);return l=Te("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>bf(p))}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Ek(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>wm(y))}else{const d=_k(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>bf(y))}}async cancel(e){var n,i,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const p=ZD(this.apiClient,e);u=Te("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=WD(this.apiClient,e);u=Te("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Rk(e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Mk(y),T=new KT;return Object.assign(T,E),T})}else{const d=bk(e);return f=Te("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Nk(y),T=new KT;return Object.assign(T,E),T})}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=ak(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>ck(y))}else{const d=lk(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>uk(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function ZT(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>sP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function Ok(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Pi(u);Array.isArray(y)&&(y=y.map(E=>ZT(E))),m(e,["contents"],y)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],ZT(Rn(f)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>aP(E))),m(e,["tools"],y)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],lP(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Fk(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let E=Pi(u);Array.isArray(E)&&(E=E.map(T=>T)),m(e,["contents"],E)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Rn(f));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>uP(T))),m(e,["tools"],E)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],d);const y=h(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function zk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],mx(t,i));const o=h(e,["config"]);return o!=null&&Ok(o,n),n}function Bk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],mx(t,i));const o=h(e,["config"]);return o!=null&&Fk(o,n),n}function qk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],eo(t,i)),n}function Hk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],eo(t,i)),n}function Gk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Yk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Jk(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $k(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kk(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qk(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Xk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],eo(t,i)),n}function jk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],eo(t,i)),n}function Wk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Zk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function eP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function tP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function nP(t){const e={},n=h(t,["config"]);return n!=null&&eP(n,e),e}function iP(t){const e={},n=h(t,["config"]);return n!=null&&tP(n,e),e}function rP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function oP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function sP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],Jk(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],$k(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Uk(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function lP(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Kk(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function aP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Wk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Zk(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function uP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>Qk(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function cP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function fP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function dP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],eo(t,i));const o=h(e,["config"]);return o!=null&&cP(o,n),n}function hP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],eo(t,i));const o=h(e,["config"]);return o!=null&&fP(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pP extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Kr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Bk(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=zk(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=jk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=Xk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Hk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Yk(y),T=new JT;return Object.assign(T,E),T})}else{const d=qk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Gk(y),T=new JT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=hP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=dP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=iP(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=oP(y),T=new $T;return Object.assign(T,E),T})}else{const d=nP(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=rP(y),T=new $T;return Object.assign(T,E),T})}}}function qf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function eS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(t){return this instanceof Le?(this.v=t,this):new Le(t)}function Qi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(A){return function(k){return Promise.resolve(k).then(A,E)}}function f(A,k){i[A]&&(o[A]=function(U){return new Promise(function(L,z){l.push([A,U,L,z])>1||p(A,U)})},k&&(o[A]=k(o[A])))}function p(A,k){try{d(i[A](k))}catch(U){T(l[0][3],U)}}function d(A){A.value instanceof Le?Promise.resolve(A.value.v).then(y,E):T(l[0][2],A)}function y(A){p("next",A)}function E(A){p("throw",A)}function T(A,k){A(k),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Xi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eS=="function"?eS(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),o(f,p,u.done,u.value)})}}function o(l,u,f,p){Promise.resolve(p).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mP(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:bx(n)}function bx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function gP(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function tS(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!bx(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class yP{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new vP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class vP{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),gP(l)}async sendMessage(e){var n;await this.sendPromise;const i=Rn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const p=await o,d=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];y!=null&&(T=(f=y.slice(E))!==null&&f!==void 0?f:[]);const A=d?[d]:[];this.recordHistory(i,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Rn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?tS(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Qi(this,arguments,function*(){var o,l,u,f,p,d;const y=[];try{for(var E=!0,T=Xi(e),A;A=yield Le(T.next()),o=A.done,!o;E=!0){f=A.value,E=!1;const k=f;if(mP(k)){const U=(d=(p=k.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;U!==void 0&&y.push(U)}yield yield Le(k)}}catch(k){l={error:k}}finally{try{!E&&!o&&(u=T.return)&&(yield Le(u.call(T)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...tS(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,fd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _P(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function EP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function TP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],Tx(n)),e}function SP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function AP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],Tx(n)),e}function xP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function CP(t){const e={},n=h(t,["config"]);return n!=null&&xP(n,e),e}function wP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IP extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Kr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=CP(e);return l=Te("files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=wP(p),y=new MD;return Object.assign(y,d),y})}}async createInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_P(e);return l=Te("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=EP(p),y=new DD;return Object.assign(y,d),y})}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=AP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=TP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=SP(p),y=new kD;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rf(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bP(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>GP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function RP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function NP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function MP(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function DP(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const k=h(t,["responseModalities"]);k!=null&&m(e,["responseModalities"],k);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const K=h(t,["speechConfig"]);K!=null&&m(e,["speechConfig"],K);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const he=h(t,["thinkingConfig"]);he!=null&&m(e,["thinkingConfig"],he);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const M=h(t,["topP"]);if(M!=null&&m(e,["topP"],M),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function kP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function PP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function VP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],bg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],bP(Rn(k)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let $=Xl(U);Array.isArray($)&&($=$.map(M=>JP(Ql(M)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],YP(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);if(e!==void 0&&he!=null&&m(e,["setup","proactivity"],he),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function LP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],DP(i));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],bg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],Rn(k));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let M=Xl(U);Array.isArray(M)&&(M=M.map(D=>$P(Ql(D)))),m(e,["setup","tools"],M)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],L);const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);e!==void 0&&he!=null&&m(e,["setup","proactivity"],he);const $=h(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&m(e,["setup","explicitVadSignal"],$),n}function UP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],VP(o,n)),n}function OP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],LP(o,n)),n}function FP(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function zP(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["weightedPrompts"],i)}return e}function BP(t){const e={},n=h(t,["media"]);if(n!=null){let d=gx(n);Array.isArray(d)&&(d=d.map(y=>Rf(y))),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],Rf(vx(i)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],Rf(yx(l)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function qP(t){const e={},n=h(t,["media"]);if(n!=null){let d=gx(n);Array.isArray(d)&&(d=d.map(y=>y)),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],vx(i));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],yx(l));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function HP(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=h(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],KP(u));const f=h(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=h(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&m(e,["voiceActivityDetectionSignal"],d),e}function GP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],RP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],NP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Rf(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function YP(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],kP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],PP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function $P(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>MP(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function KP(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=h(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=h(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=h(t,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["promptTokensDetails"],A)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["cacheTokensDetails"],A)}const y=h(t,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["responseTokensDetails"],A)}const E=h(t,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["toolUsePromptTokensDetails"],A)}const T=h(t,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QP(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function XP(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],jP(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function jP(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function WP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let l=Pi(o);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["contents"],l)}return n}function ZP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function eV(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&m(e,["statistics"],tV(i)),e}function tV(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function dd(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>c4(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function nV(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function iV(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function rV(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],Rn(i));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Dx(f))),m(e,["tools"],u)}const l=h(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],QV(l)),n}function oV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=Pi(o);Array.isArray(u)&&(u=u.map(f=>dd(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&iV(l),n}function sV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=Pi(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&rV(l,n),n}function lV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function aV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function uV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function cV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function fV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function dV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function hV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const k=h(t,["outputMimeType"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","mimeType"],k);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const K=h(t,["editMode"]);e!==void 0&&K!=null&&m(e,["parameters","editMode"],K);const Y=h(t,["baseSteps"]);return e!==void 0&&Y!=null&&m(e,["parameters","editConfig","baseSteps"],Y),n}function pV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>g4(p))),m(n,["instances[0]","referenceImages"],f)}const u=h(e,["config"]);return u!=null&&hV(u,n),n}function mV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>hd(l))),m(e,["generatedImages"],o)}return e}function gV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function yV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=h(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=h(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function vV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let f=Cg(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=h(e,["config"]);l!=null&&gV(l,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],lt(t,u)),n}function _V(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=Cg(t,o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const l=h(e,["config"]);return l!=null&&yV(l,n),n}function EV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function TV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>eV(u))),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function SV(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function AV(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function xV(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function CV(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wV(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function IV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],dd(Rn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],wg(z));const K=h(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>y4(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=Xl(le);Array.isArray(P)&&(P=P.map(ye=>x4(Ql(ye)))),m(n,["tools"],P)}const he=h(e,["toolConfig"]);if(n!==void 0&&he!=null&&m(n,["toolConfig"],A4(he)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],eo(t,$));const M=h(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const D=h(e,["mediaResolution"]);D!=null&&m(i,["mediaResolution"],D);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],Ig(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&m(i,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],e4(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function bV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Rn(o));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],wg(z));const K=h(e,["responseJsonSchema"]);K!=null&&m(i,["responseJsonSchema"],K);const Y=h(e,["routingConfig"]);Y!=null&&m(i,["routingConfig"],Y);const le=h(e,["modelSelectionConfig"]);le!=null&&m(i,["modelConfig"],le);const he=h(e,["safetySettings"]);if(n!==void 0&&he!=null){let Q=he;Array.isArray(Q)&&(Q=Q.map(X=>X)),m(n,["safetySettings"],Q)}const $=h(e,["tools"]);if(n!==void 0&&$!=null){let Q=Xl($);Array.isArray(Q)&&(Q=Q.map(X=>Dx(Ql(X)))),m(n,["tools"],Q)}const M=h(e,["toolConfig"]);n!==void 0&&M!=null&&m(n,["toolConfig"],M);const D=h(e,["labels"]);n!==void 0&&D!=null&&m(n,["labels"],D);const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&m(n,["cachedContent"],eo(t,R));const O=h(e,["responseModalities"]);O!=null&&m(i,["responseModalities"],O);const V=h(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const B=h(e,["speechConfig"]);B!=null&&m(i,["speechConfig"],Ig(B));const P=h(e,["audioTimestamp"]);P!=null&&m(i,["audioTimestamp"],P);const ye=h(e,["thinkingConfig"]);ye!=null&&m(i,["thinkingConfig"],ye);const me=h(e,["imageConfig"]);if(me!=null&&m(i,["imageConfig"],t4(me)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function nS(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=Pi(o);Array.isArray(u)&&(u=u.map(f=>dd(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],IV(t,l,n)),n}function iS(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=Pi(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],bV(t,l,n)),n}function rS(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>XP(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function oS(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(y=>y)),m(e,["candidates"],d)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=h(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=h(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function RV(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=h(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const y=h(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const E=h(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const T=h(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=h(t,["imageSize"]);if(e!==void 0&&A!=null&&m(e,["parameters","sampleImageSize"],A),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function NV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const k=h(t,["outputMimeType"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","mimeType"],k);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const K=h(t,["imageSize"]);e!==void 0&&K!=null&&m(e,["parameters","sampleImageSize"],K);const Y=h(t,["enhancePrompt"]);return e!==void 0&&Y!=null&&m(e,["parameters","enhancePrompt"],Y),n}function MV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&RV(l,n),n}function DV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&NV(l,n),n}function kV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>YV(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],Nx(o)),e}function PV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>hd(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],Mx(o)),e}function VV(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=h(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&m(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=h(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],pd(y));const E=h(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>U4(A))),m(e,["instances[0]","referenceImages"],T)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function LV(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=h(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=h(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["pubsubTopic"]);e!==void 0&&E!=null&&m(e,["parameters","pubsubTopic"],E);const T=h(t,["negativePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","negativePrompt"],T);const A=h(t,["enhancePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A);const k=h(t,["generateAudio"]);e!==void 0&&k!=null&&m(e,["parameters","generateAudio"],k);const U=h(t,["lastFrame"]);e!==void 0&&U!=null&&m(e,["instances[0]","lastFrame"],Zi(U));const L=h(t,["referenceImages"]);if(e!==void 0&&L!=null){let Y=L;Array.isArray(Y)&&(Y=Y.map(le=>O4(le))),m(e,["instances[0]","referenceImages"],Y)}const z=h(t,["mask"]);e!==void 0&&z!=null&&m(e,["instances[0]","mask"],L4(z));const K=h(t,["compressionQuality"]);return e!==void 0&&K!=null&&m(e,["parameters","compressionQuality"],K),n}function UV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],BV(u)),e}function OV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],qV(u)),e}function FV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],pd(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],kx(u));const f=h(e,["source"]);f!=null&&HV(f,n);const p=h(e,["config"]);return p!=null&&VV(p,n),n}function zV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],Zi(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],Px(u));const f=h(e,["source"]);f!=null&&GV(f,n);const p=h(e,["config"]);return p!=null&&LV(p,n),n}function BV(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>$V(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function qV(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>KV(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function HV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],pd(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],kx(l)),n}function GV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Zi(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],Px(l)),n}function YV(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],n4(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],Nx(o)),e}function hd(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],Rx(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],Mx(o));const l=h(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function JV(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],Rx(n));const i=h(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function $V(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],P4(n)),e}function KV(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],V4(n)),e}function QV(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const k=h(t,["responseModalities"]);k!=null&&m(e,["responseModalities"],k);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const K=h(t,["speechConfig"]);K!=null&&m(e,["speechConfig"],K);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const he=h(t,["thinkingConfig"]);he!=null&&m(e,["thinkingConfig"],he);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const M=h(t,["topP"]);if(M!=null&&m(e,["topP"],M),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function XV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function jV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function WV(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function ZV(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function e4(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function t4(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const l=h(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function n4(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Ko(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Rx(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Ko(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function pd(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Ko(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Zi(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Ko(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function i4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],Sx(t,f)),i}function r4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],Sx(t,f)),i}function o4(t,e){const n={},i=h(e,["config"]);return i!=null&&i4(t,i,n),n}function s4(t,e){const n={},i=h(e,["config"]);return i!=null&&r4(t,i,n),n}function l4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=Ax(o);Array.isArray(l)&&(l=l.map(u=>Im(u))),m(e,["models"],l)}return e}function a4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=Ax(o);Array.isArray(l)&&(l=l.map(u=>bm(u))),m(e,["models"],l)}return e}function u4(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Im(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["version"]);l!=null&&m(e,["version"],l);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],C4(u));const f=h(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&m(e,["supportedActions"],d);const y=h(t,["temperature"]);y!=null&&m(e,["temperature"],y);const E=h(t,["maxTemperature"]);E!=null&&m(e,["maxTemperature"],E);const T=h(t,["topP"]);T!=null&&m(e,["topP"],T);const A=h(t,["topK"]);A!=null&&m(e,["topK"],A);const k=h(t,["thinking"]);return k!=null&&m(e,["thinking"],k),e}function bm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["versionId"]);l!=null&&m(e,["version"],l);const u=h(t,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>SV(T))),m(e,["endpoints"],E)}const f=h(t,["labels"]);f!=null&&m(e,["labels"],f);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],w4(p));const d=h(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const y=h(t,["checkpoints"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["checkpoints"],E)}return e}function c4(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],AV(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],xV(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],QP(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function f4(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],Zi(n)),e}function d4(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=h(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&m(e,["parameters","addWatermark"],d);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const T=h(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=h(t,["labels"]);return e!==void 0&&A!=null&&m(e,["labels"],A),n}function h4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["source"]);o!=null&&m4(o,n);const l=h(e,["config"]);return l!=null&&d4(l,n),n}function p4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>hd(o))),m(e,["generatedImages"],i)}return e}function m4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Zi(o));const l=h(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f4(f))),m(e,["instances[0]","productImages"],u)}return n}function g4(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Zi(n));const i=h(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=h(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],u4(l));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],nV(u));const f=h(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function Nx(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function Mx(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function y4(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function v4(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],Zi(n)),e}function _4(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=h(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=h(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function E4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["source"]);o!=null&&S4(o,n);const l=h(e,["config"]);return l!=null&&_4(l,n),n}function T4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>JV(o))),m(e,["generatedMasks"],i)}return e}function S4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Zi(o));const l=h(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],v4(l)),n}function A4(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],CV(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function x4(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],WV(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],ZV(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Dx(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>wV(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function C4(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function w4(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function I4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function b4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function R4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","name"],lt(t,i));const o=h(e,["config"]);return o!=null&&I4(o,n),n}function N4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&b4(o,n),n}function M4(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],d);const y=h(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["numberOfImages"]);e!==void 0&&T!=null&&m(e,["parameters","sampleCount"],T);const A=h(t,["mode"]);return e!==void 0&&A!=null&&m(e,["parameters","mode"],A),n}function D4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],Zi(o));const l=h(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=h(e,["config"]);return u!=null&&M4(u,n),n}function k4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>hd(l))),m(e,["generatedImages"],o)}return e}function P4(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Ko(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function V4(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Ko(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function L4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],Zi(n));const i=h(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function U4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],pd(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function O4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],Zi(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function kx(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Ko(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function Px(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Ko(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F4(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function z4(t){const e={},n=h(t,["config"]);return n!=null&&F4(n,e),e}function B4(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function q4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&B4(i,e),e}function H4(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function G4(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function Y4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],$4(u)),e}function J4(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&m(e,["fileName"],i);const o=h(t,["config"]);return o!=null&&G4(o,e),e}function $4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function K4(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Q4(t){const e={},n=h(t,["config"]);return n!=null&&K4(n,e),e}function X4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function Vx(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=h(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function j4(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&Vx(i,e),e}function W4(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z4="Content-Type",eL="X-Server-Timeout",tL="User-Agent",Rm="x-goog-api-client",nL="1.34.0",iL=`google-genai-sdk/${nL}`,rL="v1beta1",oL="v1beta";class sL{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:rL,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:oL,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&lL(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await sS(o),new xm(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await sS(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Qi(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:y}=yield Le(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=l.decode(y,{stream:!0});try{const k=JSON.parse(E);if("error"in k){const U=JSON.parse(JSON.stringify(k.error)),L=U.status,z=U.code,K=`got status: ${L}. ${JSON.stringify(k)}`;if(z>=400&&z<600)throw new fd({message:K,status:z})}}catch(k){if(k.name==="ApiError")throw k}u+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const L of p){const z=u.indexOf(L);z!==-1&&(T===-1||z<T)&&(T=z,A=L.length)}if(T===-1)break;const k=u.substring(0,T);u=u.substring(T+A);const U=k.trim();if(U.startsWith(f)){const L=U.substring(f.length).trim();try{const z=new Response(L,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new xm(z))}catch(z){throw new Error(`exception parsing stream chunk ${L}. ${z}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=iL+" "+this.clientOptions.userAgentExtra;return e[tL]=n,e[Rm]=n,e[Z4]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(eL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const f=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},d=this.getFileName(e),y=Te("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,d,p,n==null?void 0:n.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),E={};i!=null&&Vx(i,E);const T=await this.fetchUploadUrl(d,f,p,y,E,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=d==null?void 0:d.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function sS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new fd({message:o,status:n}):new Error(o)}}function lL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const f=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],y=f[p];d&&typeof d=="object"&&!Array.isArray(d)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=i(y,d):(y&&d&&typeof y!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof d}. Overwriting.`),f[p]=d)}return f}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aL="mcp_used/unknown";let uL=!1;function Lx(t){for(const e of t)if(cL(e)||typeof e=="object"&&"inputSchema"in e)return!0;return uL}function Ux(t){var e;const n=(e=t[Rm])!==null&&e!==void 0?e:"";t[Rm]=(n+` ${aL}`).trimStart()}function cL(t){return t!==null&&typeof t=="object"&&t instanceof Rg}function fL(t){return Qi(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const u=yield Le(n.listTools({cursor:o}));for(const f of u.tools)yield yield Le(f),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class Rg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Rg(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,Xi(fL(y))),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const E=o;u.push(E);const T=E.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=y}}catch(E){n={error:E}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),HD(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dL(t,e,n){const i=new VD;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class hL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=gL(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let d=()=>{};const y=new Promise(Y=>{d=Y}),E=e.callbacks,T=function(){d({})},A=this.apiClient,k={onopen:T,onmessage:Y=>{dL(A,E.onmessage,Y)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(Y){}},U=this.webSocketFactory.create(p,mL(u),k);U.connect(),await y;const K={setup:{model:lt(this.apiClient,e.model)}};return U.send(JSON.stringify(K)),new pL(U,this.apiClient)}}class pL{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=zP(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=FP(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ml.PLAY)}pause(){this.sendPlaybackControl(Ml.PAUSE)}stop(){this.sendPlaybackControl(Ml.STOP)}resetContext(){this.sendPlaybackControl(Ml.RESET_CONTEXT)}close(){this.conn.close()}}function mL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function gL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function vL(t,e,n){const i=new PD;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=HP(l);Object.assign(i,u)}else Object.assign(i,l);e(i)}class _L{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new hL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let y;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Lx(e.config.tools)&&Ux(E);const T=AL(E);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y);else{const R=this.apiClient.getApiKey();let O="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",V="access_token"),y=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${O}?${V}=${R}`}let A=()=>{};const k=new Promise(R=>{A=R}),U=e.callbacks,L=function(){var R;(R=U==null?void 0:U.onopen)===null||R===void 0||R.call(U),A({})},z=this.apiClient,K={onopen:L,onmessage:R=>{vL(z,U.onmessage,R)},onerror:(n=U==null?void 0:U.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=U==null?void 0:U.onclose)!==null&&i!==void 0?i:function(R){}},Y=this.webSocketFactory.create(y,SL(T),K);Y.connect(),await k;let le=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const R=this.apiClient.getProject(),O=this.apiClient.getLocation();le=`projects/${R}/locations/${O}/`+le}let he={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ff.AUDIO]}:e.config.responseModalities=[Ff.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],M=[];for(const R of $)if(this.isCallableTool(R)){const O=R;M.push(await O.tool())}else M.push(R);M.length>0&&(e.config.tools=M);const D={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?he=OP(this.apiClient,D):he=UP(this.apiClient,D),delete he.config,Y.send(JSON.stringify(he)),new TL(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const EL={turnComplete:!0};class TL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Pi(n.turns),e.isVertexAI()||(i=i.map(o=>dd(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(yL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},EL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:qP(e)}:n={realtimeInput:BP(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function SL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function AL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lS=10;function aS(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ll(u)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Ll(t){return"callTool"in t&&typeof t.callTool=="function"}function xL(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Ll(o)))!==null&&i!==void 0?i:!1}function uS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Ll(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function cS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CL extends Zr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xL(n)||aS(n.config))return await this.generateContentInternal(p);const d=uS(n);if(d.length>0){const U=d.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let y,E;const T=Pi(p.contents),A=(l=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:lS;let k=0;for(;k<A&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const U=y.candidates[0].content,L=[];for(const z of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Ll(z)){const Y=await z.callTool(y.functionCalls);L.push(...Y)}k++,E={role:"user",parts:L},p.contents=Pi(p.contents),p.contents.push(U),p.contents.push(E),cS(p.config)&&(T.push(U),T.push(E))}return cS(p.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async n=>{var i,o,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),aS(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const p=uS(n);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(d&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Rs(Kr.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>Ll(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&Lx(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Ux(d),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return f}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ll(u)){const f=u,p=await f.tool();for(const d of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,f)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:lS;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(d,y,E){return Qi(this,arguments,function*(){for(var T,A,k,U,L,z;f<l;){u&&(f++,u=!1);const he=yield Le(d.processParamsMaybeAddMcpUsage(E)),$=yield Le(d.generateContentStreamInternal(he)),M=[],D=[];try{for(var K=!0,Y=(A=void 0,Xi($)),le;le=yield Le(Y.next()),T=le.done,!T;K=!0){U=le.value,K=!1;const R=U;if(yield yield Le(R),R.candidates&&(!((L=R.candidates[0])===null||L===void 0)&&L.content)){D.push(R.candidates[0].content);for(const O of(z=R.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(f<l&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(O.functionCall.name)){const V=yield Le(y.get(O.functionCall.name).callTool([O.functionCall]));M.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(R){A={error:R}}finally{try{!K&&!T&&(k=Y.return)&&(yield Le(k.call(Y)))}finally{if(A)throw A.error}}if(M.length>0){u=!0;const R=new au;R.candidates=[{content:{role:"user",parts:M}}],yield yield Le(R);const O=[];O.push(...D),O.push({role:"user",parts:M});const V=Pi(E.contents).concat(O);E.contents=V}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=iS(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=oS(y),T=new au;return Object.assign(T,E),T})}else{const d=nS(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=rS(y),T=new au;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=iS(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return Qi(this,arguments,function*(){var T,A,k,U;try{for(var L=!0,z=Xi(E),K;K=yield Le(z.next()),T=K.done,!T;L=!0){U=K.value,L=!1;const Y=U,le=oS(yield Le(Y.json()));le.sdkHttpResponse={headers:Y.headers};const he=new au;Object.assign(he,le),yield yield Le(he)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(k=z.return)&&(yield Le(k.call(z)))}finally{if(A)throw A.error}}})})}else{const d=nS(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(E){return Qi(this,arguments,function*(){var T,A,k,U;try{for(var L=!0,z=Xi(E),K;K=yield Le(z.next()),T=K.done,!T;L=!0){U=K.value,L=!1;const Y=U,le=rS(yield Le(Y.json()));le.sdkHttpResponse={headers:Y.headers};const he=new au;Object.assign(he,le),yield yield Le(he)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(k=z.return)&&(yield Le(k.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=_V(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=TV(y),T=new FT;return Object.assign(T,E),T})}else{const d=vV(this.apiClient,e);return f=Te("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=EV(y),T=new FT;return Object.assign(T,E),T})}}async generateImagesInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=DV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=PV(y),T=new zT;return Object.assign(T,E),T})}else{const d=MV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=kV(y),T=new zT;return Object.assign(T,E),T})}}async editImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=pV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=mV(p),y=new AD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=D4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=k4(p),y=new xD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=h4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=p4(p),y=new CD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=E4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=T4(p),y=new wD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=jV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>bm(y))}else{const d=XV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Im(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=s4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=a4(y),T=new BT;return Object.assign(T,E),T})}else{const d=o4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=l4(y),T=new BT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=N4(this.apiClient,e);return f=Te("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>bm(y))}else{const d=R4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Im(y))}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=cV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=dV(y),T=new qT;return Object.assign(T,E),T})}else{const d=uV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=fV(y),T=new qT;return Object.assign(T,E),T})}}async countTokens(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=sV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=aV(y),T=new HT;return Object.assign(T,E),T})}else{const d=oV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=lV(y),T=new HT;return Object.assign(T,E),T})}}async computeTokens(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=WP(this.apiClient,e);return l=Te("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=ZP(p),y=new ID;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=zV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const E=OV(y),T=new zf;return Object.assign(T,E),T})}else{const d=FV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const E=UV(y),T=new zf;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wL extends Zr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=yD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else{const d=gD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=uD(e);return l=Te("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IL(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bL(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>UL(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function RL(t,e,n){const i={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=h(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=h(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],LL(t,f));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function NL(t,e){const n={},i=h(e,["config"]);return i!=null&&m(n,["config"],RL(t,i,n)),n}function ML(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function DL(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kL(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function PL(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function VL(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],bg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],bL(Rn(k)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let $=Xl(U);Array.isArray($)&&($=$.map(M=>FL(Ql(M)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],OL(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);if(e!==void 0&&he!=null&&m(e,["setup","proactivity"],he),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function LL(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],VL(o,n)),n}function UL(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],ML(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],DL(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],IL(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function OL(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FL(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],kL(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],PL(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function BL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=zL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class qL extends Zr{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=NL(this.apiClient,e);l=Te("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=BL(f,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HL(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function GL(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&HL(i,e),e}function YL(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function JL(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function $L(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&JL(i,e),e}function KL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QL extends Zr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Rs(Kr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YL(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GL(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$L(e);return l=Te("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=KL(p),y=new bD;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XL extends Zr{constructor(e,n=new QL(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Rs(Kr.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=z4(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=H4(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q4(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q4(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=X4(p),y=new RD;return Object.assign(y,d),y})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=j4(e);return l=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=W4(p),y=new ND;return Object.assign(y,d),y})}}async importFile(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J4(e);return l=Te("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=Y4(p),y=new Ag;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ox=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Ox=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const jL=()=>Ox();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Mm=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi extends Error{}class Un extends Vi{constructor(e,n,i,o){super(`${Un.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new md({message:i,cause:Mm(n)});const l=n;return e===400?new zx(e,l,i,o):e===401?new Bx(e,l,i,o):e===403?new qx(e,l,i,o):e===404?new Hx(e,l,i,o):e===409?new Gx(e,l,i,o):e===422?new Yx(e,l,i,o):e===429?new Jx(e,l,i,o):e>=500?new $x(e,l,i,o):new Un(e,l,i,o)}}class Dm extends Un{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class md extends Un{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Fx extends md{constructor({message:e}={}){super({message:e??"Request timed out."})}}class zx extends Un{}class Bx extends Un{}class qx extends Un{}class Hx extends Un{}class Gx extends Un{}class Yx extends Un{}class Jx extends Un{}class $x extends Un{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WL=/^[a-z][a-z0-9+.-]*:/i,ZL=t=>WL.test(t);let km=t=>(km=Array.isArray,km(t));const eU=km;let tU=eU;const fS=tU;function nU(t){if(!t)return!0;for(const e in t)return!1;return!0}function iU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const rU=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Vi(`${t} must be an integer`);if(e<0)throw new Vi(`${t} must be a positive integer`);return e},oU=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sU=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const aU=()=>{var t,e,n,i,o;const l=lU();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":hS(Deno.build.os),"X-Stainless-Arch":dS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":hS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":dS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=uU();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":wl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${o}.${l}.${u}`}}}return null}const dS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",hS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let mf;const cU=()=>mf??(mf=aU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Kx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function dU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Kx({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Qx(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function hU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xx=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xp(t,e,n){return Xx(),new File(t,e??"unknown_file",n)}function mU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const gU=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",yU=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&jx(t),vU=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function _U(t,e,n){if(Xx(),t=await t,yU(t))return t instanceof File?t:Xp([await t.arrayBuffer()],t.name);if(vU(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xp(await Pm(o),e,n)}const i=await Pm(t);if(e||(e=mU(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Xp(i,e,n)}async function Pm(t){var e,n,i,o,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(jx(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(gU(t))try{for(var f=!0,p=Xi(t),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const y=o;u.push(...await Pm(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${EU(t)}`)}return u}function EU(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx{constructor(e){this._client=e}}Wx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const pS=Object.freeze(Object.create(null)),TU=(t=Zx)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],u=n.reduce((y,E,T)=>{var A,k,U;/[?#]/.test(E)&&(o=!0);const L=i[T];let z=(o?encodeURIComponent:t)(""+L);return T!==i.length&&(L==null||typeof L=="object"&&L.toString===((U=Object.getPrototypeOf((k=Object.getPrototypeOf((A=L.hasOwnProperty)!==null&&A!==void 0?A:pS))!==null&&k!==void 0?k:pS))===null||U===void 0?void 0:U.toString))&&(z=L+"",l.push({start:y.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),y+E+(T===i.length?"":z)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(f))!==null;)l.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(l.sort((y,E)=>y.start-E.start),l.length>0){let y=0;const E=l.reduce((T,A)=>{const k=" ".repeat(A.start-y),U="^".repeat(A.length);return y=A.start+A.length,T+k+U},"");throw new Vi(`Path parameters result in path with invalid segments:
${l.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),gf=TU(Zx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eC extends Wx{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=qf(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Vi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Vi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(gf`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(gf`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(gf`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=qf(l,["api_version"]);return this._client.get(gf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}eC._key=Object.freeze(["interactions"]);class tC extends eC{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SU(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let yf;function Ng(t){let e;return(yf??(e=new globalThis.TextEncoder,yf=e.encode.bind(e)))(t)}let vf;function mS(t){let e;return(vf??(e=new globalThis.TextDecoder,vf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ng(e):e;this.buffer=SU([this.buffer,n]);const i=[];let o;for(;(o=AU(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(mS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=mS(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}gd.NEWLINE_CHARS=new Set([`
`,"\r"]);gd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AU(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function xU(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hf={off:0,error:200,warn:300,info:400,debug:500},gS=(t,e,n)=>{if(t){if(iU(Hf,t))return t;Ln(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Hf))}`)}};function cu(){}function _f(t,e,n){return!e||Hf[t]>Hf[n]?cu:e[t].bind(e)}const CU={error:cu,warn:cu,info:cu,debug:cu};let yS=new WeakMap;function Ln(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return CU;const o=yS.get(n);if(o&&o[0]===i)return o[1];const l={error:_f("error",n,i),warn:_f("warn",n,i),info:_f("info",n,i),debug:_f("debug",n,i)};return yS.set(n,[i,l]),l}const Ts=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?Ln(i):console;function u(){return Qi(this,arguments,function*(){var p,d,y,E;if(o)throw new Vi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,k=Xi(wU(e,n)),U;U=yield Le(k.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const L=E;if(!T)if(L.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Le(JSON.parse(L.data))}catch(z){throw l.error("Could not parse message into JSON:",L.data),l.error("From chunk:",L.raw),z}}}catch(L){d={error:L}}finally{try{!A&&!p&&(y=k.return)&&(yield Le(y.call(k)))}finally{if(d)throw d.error}}T=!0}catch(L){if(Nm(L))return yield Le(void 0);throw L}finally{T||n.abort()}})}return new Dl(u,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return Qi(this,arguments,function*(){var p,d,y,E;const T=new gd,A=Qx(e);try{for(var k=!0,U=Xi(A),L;L=yield Le(U.next()),p=L.done,!p;k=!0){E=L.value,k=!1;const z=E;for(const K of T.decode(z))yield yield Le(K)}}catch(z){d={error:z}}finally{try{!k&&!p&&(y=U.return)&&(yield Le(y.call(U)))}finally{if(d)throw d.error}}for(const z of T.flush())yield yield Le(z)})}function u(){return Qi(this,arguments,function*(){var p,d,y,E;if(o)throw new Vi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,k=Xi(l()),U;U=yield Le(k.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const L=E;T||L&&(yield yield Le(JSON.parse(L)))}}catch(L){d={error:L}}finally{try{!A&&!p&&(y=k.return)&&(yield Le(y.call(k)))}finally{if(d)throw d.error}}T=!0}catch(L){if(Nm(L))return yield Le(void 0);throw L}finally{T||n.abort()}})}return new Dl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new Dl(()=>o(e),this.controller,this.client),new Dl(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Kx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const u=Ng(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function wU(t,e){return Qi(this,arguments,function*(){var i,o,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vi("Attempted to iterate over a response with no body");const f=new bU,p=new gd,d=Qx(t.body);try{for(var y=!0,E=Xi(IU(d)),T;T=yield Le(E.next()),i=T.done,!i;y=!0){u=T.value,y=!1;const A=u;for(const k of p.decode(A)){const U=f.decode(k);U&&(yield yield Le(U))}}}catch(A){o={error:A}}finally{try{!y&&!i&&(l=E.return)&&(yield Le(l.call(E)))}finally{if(o)throw o.error}}for(const A of p.flush()){const k=f.decode(A);k&&(yield yield Le(k))}})}function IU(t){return Qi(this,arguments,function*(){var n,i,o,l;let u=new Uint8Array;try{for(var f=!0,p=Xi(t),d;d=yield Le(p.next()),n=d.done,!n;f=!0){l=d.value,f=!1;const y=l;if(y==null)continue;const E=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Ng(y):y;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let A;for(;(A=xU(u))!==-1;)yield yield Le(u.slice(0,A)),u=u.slice(A)}}catch(y){i={error:y}}finally{try{!f&&!n&&(o=p.return)&&(yield Le(o.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Le(u))})}class bU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=RU(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function RU(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function NU(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return Ln(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Dl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Ln(t).debug(`[${i}] response parsed`,Ts({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mg extends Promise{constructor(e,n,i=NU){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Mg(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC=Symbol("brand.privateNullableHeaders");function*MU(t){if(!t)return;if(nC in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():fS(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=fS(i[1])?i[1]:[i[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,f])}}const uu=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,u]of MU(i)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[nC]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=t=>{var e,n,i,o,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=iD)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iC;class yd{constructor(e){var n,i,o,l,u,f,p,{baseURL:d=jp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=jp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,T=qf(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:E},T),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:yd.DEFAULT_TIMEOUT,this.logger=(o=A.logger)!==null&&o!==void 0?o:console;const k="warn";this.logLevel=k,this.logLevel=(u=(l=gS(A.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:gS(jp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:k,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:fU(),this.encoder=pU,this._options=A,this.apiKey=y,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=uu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Vi(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${wl}`}defaultIdempotencyKey(){return`stainless-node-retry-${jL()}`}makeStatusError(e,n,i,o){return Un.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=ZL(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return nU(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Mg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,u;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:d,url:y,timeout:E}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(d,{url:y,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=i===void 0?"":`, retryOf: ${i}`,k=Date.now();if(Ln(this).debug(`[${T}] sending request`,Ts({retryOfRequestLogID:i,method:f.method,url:y,options:f,headers:d.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Dm;const U=new AbortController,L=await this.fetchWithTimeout(y,d,E,U).catch(Mm),z=Date.now();if(L instanceof globalThis.Error){const Y=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new Dm;const le=Nm(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(n)return Ln(this).info(`[${T}] connection ${le?"timed out":"failed"} - ${Y}`),Ln(this).debug(`[${T}] connection ${le?"timed out":"failed"} (${Y})`,Ts({retryOfRequestLogID:i,url:y,durationMs:z-k,message:L.message})),this.retryRequest(f,n,i??T);throw Ln(this).info(`[${T}] connection ${le?"timed out":"failed"} - error; no more retries left`),Ln(this).debug(`[${T}] connection ${le?"timed out":"failed"} (error; no more retries left)`,Ts({retryOfRequestLogID:i,url:y,durationMs:z-k,message:L.message})),le?new Fx:new md({cause:L})}const K=`[${T}${A}] ${d.method} ${y} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${z-k}ms`;if(!L.ok){const Y=await this.shouldRetry(L);if(n&&Y){const R=`retrying, ${n} attempts remaining`;return await hU(L.body),Ln(this).info(`${K} - ${R}`),Ln(this).debug(`[${T}] response error (${R})`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-k})),this.retryRequest(f,n,i??T,L.headers)}const le=Y?"error; no more retries left":"error; not retryable";Ln(this).info(`${K} - ${le}`);const he=await L.text().catch(R=>Mm(R).message),$=oU(he),M=$?void 0:he;throw Ln(this).debug(`[${T}] response error (${le})`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,message:M,durationMs:Date.now()-k})),this.makeStatusError(L.status,$,M,L.headers)}return Ln(this).info(K),Ln(this).debug(`[${T}] response start`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-k})),{response:L,options:f,controller:U,requestLogID:T,retryOfRequestLogID:i,startTime:k}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:u,method:f}=l,p=qf(l,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const d=setTimeout(()=>o.abort(),i),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:o.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(E.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let u;const f=o==null?void 0:o.get("retry-after-ms");if(f){const d=parseFloat(f);Number.isNaN(d)||(u=d)}const p=o==null?void 0:o.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await sU(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const u=Object.assign({},e),{method:f,path:p,query:d,defaultBaseURL:y}=u,E=this.buildURL(p,d,y);"timeout"in u&&rU("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:u}),k=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:k},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=uu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),cU()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=uu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:dU(e)}:this.encoder({body:e,headers:i})}}yd.DEFAULT_TIMEOUT=6e4;class hn extends yd{constructor(){super(...arguments),this.interactions=new tC(this)}}iC=hn;hn.GeminiNextGenAPIClient=iC;hn.GeminiNextGenAPIClientError=Vi;hn.APIError=Un;hn.APIConnectionError=md;hn.APIConnectionTimeoutError=Fx;hn.APIUserAbortError=Dm;hn.NotFoundError=Hx;hn.ConflictError=Gx;hn.RateLimitError=Jx;hn.BadRequestError=zx;hn.AuthenticationError=Bx;hn.InternalServerError=$x;hn.PermissionDeniedError=qx;hn.UnprocessableEntityError=Yx;hn.toFile=_U;hn.Interactions=tC;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function kU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function PU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function VU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function LU(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=h(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=h(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function UU(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec"],vS(A))}else if(o==="PREFERENCE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec"],vS(A))}const l=h(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(f==="PREFERENCE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(p==="PREFERENCE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let y=h(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(y==="PREFERENCE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["beta"]);return e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function OU(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&QU(l);const u=h(t,["config"]);return u!=null&&LU(u,n),n}function FU(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&XU(l,n,e);const u=h(t,["config"]);return u!=null&&UU(u,n,e),n}function zU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function BU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function qU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function HU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function GU(t,e){const n={},i=h(t,["config"]);return i!=null&&qU(i,n),n}function YU(t,e){const n={},i=h(t,["config"]);return i!=null&&HU(i,n),n}function JU(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>rC(f))),m(n,["tuningJobs"],u)}return n}function $U(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Vm(f))),m(n,["tuningJobs"],u)}return n}function KU(t,e){const n={},i=h(t,["name"]);i!=null&&m(n,["model"],i);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function QU(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function XU(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function rC(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],Ex(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["description"]);y!=null&&m(n,["description"],y);const E=h(t,["baseModel"]);E!=null&&m(n,["baseModel"],E);const T=h(t,["_self"]);return T!=null&&m(n,["tunedModel"],KU(T)),n}function Vm(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],Ex(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["error"]);y!=null&&m(n,["error"],y);const E=h(t,["description"]);E!=null&&m(n,["description"],E);const T=h(t,["baseModel"]);T!=null&&m(n,["baseModel"],T);const A=h(t,["tunedModel"]);A!=null&&m(n,["tunedModel"],A);const k=h(t,["preTunedModel"]);k!=null&&m(n,["preTunedModel"],k);const U=h(t,["supervisedTuningSpec"]);U!=null&&m(n,["supervisedTuningSpec"],U);const L=h(t,["preferenceOptimizationSpec"]);L!=null&&m(n,["preferenceOptimizationSpec"],L);const z=h(t,["tuningDataStats"]);z!=null&&m(n,["tuningDataStats"],z);const K=h(t,["encryptionSpec"]);K!=null&&m(n,["encryptionSpec"],K);const Y=h(t,["partnerModelTuningSpec"]);Y!=null&&m(n,["partnerModelTuningSpec"],Y);const le=h(t,["customBaseModel"]);le!=null&&m(n,["customBaseModel"],le);const he=h(t,["experiment"]);he!=null&&m(n,["experiment"],he);const $=h(t,["labels"]);$!=null&&m(n,["labels"],$);const M=h(t,["outputUri"]);M!=null&&m(n,["outputUri"],M);const D=h(t,["pipelineJob"]);D!=null&&m(n,["pipelineJob"],D);const R=h(t,["serviceAccount"]);R!=null&&m(n,["serviceAccount"],R);const O=h(t,["tunedModelDisplayName"]);O!=null&&m(n,["tunedModelDisplayName"],O);const V=h(t,["veoTuningSpec"]);return V!=null&&m(n,["veoTuningSpec"],V),n}function jU(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const f=h(t,["error"]);return f!=null&&m(n,["error"],f),n}function vS(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WU extends Zr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Kr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:Am.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=BU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Vm(y))}else{const d=zU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>rC(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=YU(e);return f=Te("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=$U(y),T=new GT;return Object.assign(T,E),T})}else{const d=GU(e);return f=Te("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=JU(y),T=new GT;return Object.assign(T,E),T})}}async cancel(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=kU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=VU(y),T=new YT;return Object.assign(T,E),T})}else{const d=DU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=PU(y),T=new YT;return Object.assign(T,E),T})}}async tuneInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=FU(e,e);return l=Te("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>Vm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=OU(e);return l=Te("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>jU(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZU{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const e3=1024*1024*8,t3=3,n3=1e3,i3=2,Gf="x-goog-upload-status";async function r3(t,e,n){var i;const o=await oC(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Gf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function o3(t,e,n){var i;const o=await oC(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Gf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=px(l),f=new xg;return Object.assign(f,u),f}async function oC(t,e,n){var i,o;let l=0,u=0,f=new xm(new Response),p="upload";for(l=t.size;u<l;){const d=Math.min(e3,l-u),y=t.slice(u,u+d);u+d>=l&&(p+=", finalize");let E=0,T=n3;for(;E<t3&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[Gf]));)E++,await l3(T),T=T*i3;if(u+=d,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Gf])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function s3(t){return{size:t.size,type:t.type}}function l3(t){return new Promise(e=>setTimeout(e,t))}class a3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await r3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await o3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await s3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class u3{create(e,n,i){return new c3(e,n,i)}}class c3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _S="x-goog-api-key";class f3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(_S)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(_S,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d3="gl-node/";class h3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new hn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=lD(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new f3(this.apiKey);this.apiClient=new sL({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:d3+"web",uploader:new a3,downloader:new ZU}),this.models=new CL(this.apiClient),this.live=new _L(this.apiClient,o,new u3),this.batches=new Lk(this.apiClient),this.chats=new yP(this.models,this.apiClient),this.caches=new pP(this.apiClient),this.files=new IP(this.apiClient),this.operations=new wL(this.apiClient),this.authTokens=new qL(this.apiClient),this.tunings=new WU(this.apiClient),this.fileSearchStores=new XL(this.apiClient)}}const p3=async t=>{try{const n=await new h3({apiKey:"AIzaSyDi-aNH2xR674uo_FFcgzi0Rgydp7TeZqMVITE_ADMIN_PASSWORD=Faioumy9954"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Based on the Fatwa title: "${t}", suggest:
      1. "medical_context": A string of relevant English medical terms (comma separated).
      2. "tags": An array of relevant Arabic search tags (short keywords).
      
      Return ONLY JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:ki.OBJECT,properties:{medical_context:{type:ki.STRING},tags:{type:ki.ARRAY,items:{type:ki.STRING}}}}}});return n.text?JSON.parse(n.text):{medical_context:"",tags:[]}}catch(e){return console.error("Gemini Suggestion Error:",e),{medical_context:"",tags:[]}}},m3=()=>{};var ES={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},g3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},lC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,p=o+2<t.length,d=p?t[o+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|d>>6,A=d&63;p||(A=64,u||(T=64)),i.push(n[y],n[E],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||d==null||E==null)throw new y3;const T=l<<2|f>>4;if(i.push(T),d!==64){const A=f<<4&240|d>>2;if(i.push(A),E!==64){const k=d<<6&192|E;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v3=function(t){const e=sC(t);return lC.encodeByteArray(e,!0)},Yf=function(t){return v3(t).replace(/\./g,"")},_3=function(t){try{return lC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=()=>E3().__FIREBASE_DEFAULTS__,S3=()=>{if(typeof process>"u"||typeof ES>"u")return;const t=ES.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_3(t[1]);return e&&JSON.parse(e)},Dg=()=>{try{return m3()||T3()||S3()||A3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x3=t=>{var e,n;return(n=(e=Dg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C3=t=>{const e=x3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},aC=()=>{var t;return(t=Dg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Yf(JSON.stringify(n)),Yf(JSON.stringify(u)),""].join(".")}const vu={};function R3(){const t={prod:[],emulator:[]};for(const e of Object.keys(vu))vu[e]?t.emulator.push(e):t.prod.push(e);return t}function N3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let TS=!1;function M3(t,e){if(typeof window>"u"||typeof document>"u"||!kg(window.location.host)||vu[t]===e||vu[t]||TS)return;vu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=R3().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{TS=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=N3(i),A=n("text"),k=document.getElementById(A)||document.createElement("span"),U=n("learnmore"),L=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),y(L,U);const le=d();p(K,z),Y.append(K,k,L,le),document.body.appendChild(Y)}l?(k.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k3(){var e;const t=(e=Dg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P3(){return!k3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V3(){try{return typeof indexedDB=="object"}catch{return!1}}function L3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="FirebaseError";class Wl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=U3,Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uC.prototype.create)}}class uC{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?O3(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Wl(o,f,i)}}function O3(t,e){return t.replace(F3,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const F3=/\{\$([^}]+)}/g;function Jf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(SS(l)&&SS(u)){if(!Jf(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function SS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return t&&t._delegate?t._delegate:t}class Cu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new w3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q3(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===Ss?void 0:t}function q3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const G3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},Y3=it.INFO,J3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=J3[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cC{constructor(e){this.name=e,this._logLevel=Y3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const K3=(t,e)=>e.some(n=>t instanceof n);let AS,xS;function Q3(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return xS||(xS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fC=new WeakMap,Lm=new WeakMap,dC=new WeakMap,Wp=new WeakMap,Pg=new WeakMap;function j3(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Lo(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&fC.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function W3(t){if(Lm.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Lm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z3(t){Um=t(Um)}function e6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zp(this),e,...n);return dC.set(i,e.sort?e.sort():[e]),Lo(i)}:X3().includes(t)?function(...e){return t.apply(Zp(this),e),Lo(fC.get(this))}:function(...e){return Lo(t.apply(Zp(this),e))}}function t6(t){return typeof t=="function"?e6(t):(t instanceof IDBTransaction&&W3(t),K3(t,Q3())?new Proxy(t,Um):t)}function Lo(t){if(t instanceof IDBRequest)return j3(t);if(Wp.has(t))return Wp.get(t);const e=t6(t);return e!==t&&(Wp.set(t,e),Pg.set(e,t)),e}const Zp=t=>Pg.get(t);function n6(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=Lo(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Lo(u.result),p.oldVersion,p.newVersion,Lo(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const i6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],em=new Map;function CS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=r6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||i6.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),o&&p.done]))[0]};return em.set(e,l),l}Z3(t=>({...t,get:(e,n,i)=>CS(e,n)||t.get(e,n,i),has:(e,n)=>!!CS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",wS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new cC("@firebase/app"),l6="@firebase/app-compat",a6="@firebase/analytics-compat",u6="@firebase/analytics",c6="@firebase/app-check-compat",f6="@firebase/app-check",d6="@firebase/auth",h6="@firebase/auth-compat",p6="@firebase/database",m6="@firebase/data-connect",g6="@firebase/database-compat",y6="@firebase/functions",v6="@firebase/functions-compat",_6="@firebase/installations",E6="@firebase/installations-compat",T6="@firebase/messaging",S6="@firebase/messaging-compat",A6="@firebase/performance",x6="@firebase/performance-compat",C6="@firebase/remote-config",w6="@firebase/remote-config-compat",I6="@firebase/storage",b6="@firebase/storage-compat",R6="@firebase/firestore",N6="@firebase/ai",M6="@firebase/firestore-compat",D6="firebase",k6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",P6={[Om]:"fire-core",[l6]:"fire-core-compat",[u6]:"fire-analytics",[a6]:"fire-analytics-compat",[f6]:"fire-app-check",[c6]:"fire-app-check-compat",[d6]:"fire-auth",[h6]:"fire-auth-compat",[p6]:"fire-rtdb",[m6]:"fire-data-connect",[g6]:"fire-rtdb-compat",[y6]:"fire-fn",[v6]:"fire-fn-compat",[_6]:"fire-iid",[E6]:"fire-iid-compat",[T6]:"fire-fcm",[S6]:"fire-fcm-compat",[A6]:"fire-perf",[x6]:"fire-perf-compat",[C6]:"fire-rc",[w6]:"fire-rc-compat",[I6]:"fire-gcs",[b6]:"fire-gcs-compat",[R6]:"fire-fst",[M6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[D6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=new Map,V6=new Map,zm=new Map;function IS(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kf(t){const e=t.name;if(zm.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of $f.values())IS(n,t);for(const n of V6.values())IS(n,t);return!0}function L6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function U6(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new uC("app","Firebase",O6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=k6;function hC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Fm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Uo.create("bad-app-name",{appName:String(o)});if(n||(n=aC()),!n)throw Uo.create("no-options");const l=$f.get(o);if(l){if(Jf(n,l.options)&&Jf(i,l.config))return l;throw Uo.create("duplicate-app",{appName:o})}const u=new H3(o);for(const p of zm.values())u.addComponent(p);const f=new F6(n,i,u);return $f.set(o,f),f}function B6(t=Fm){const e=$f.get(t);if(!e&&t===Fm&&aC())return hC();if(!e)throw Uo.create("no-app",{appName:t});return e}function Ul(t,e,n){let i=P6[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(u.join(" "));return}Kf(new Cu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="firebase-heartbeat-database",H6=1,wu="firebase-heartbeat-store";let tm=null;function pC(){return tm||(tm=n6(q6,H6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),tm}async function G6(t){try{const n=(await pC()).transaction(wu),i=await n.objectStore(wu).get(mC(t));return await n.done,i}catch(e){if(e instanceof Wl)Xr.warn(e.message);else{const n=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function bS(t,e){try{const i=(await pC()).transaction(wu,"readwrite");await i.objectStore(wu).put(e,mC(t)),await i.done}catch(n){if(n instanceof Wl)Xr.warn(n.message);else{const i=Uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function mC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=1024,J6=30;class $6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=RS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>J6){const u=X6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RS(),{heartbeatsToSend:i,unsentEntries:o}=K6(this._heartbeatsCache.heartbeats),l=Yf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Xr.warn(n),""}}}function RS(){return new Date().toISOString().substring(0,10)}function K6(t,e=Y6){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),NS(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),NS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V3()?L3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return bS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NS(t){return Yf(JSON.stringify({version:2,heartbeats:t})).length}function X6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){Kf(new Cu("platform-logger",e=>new o6(e),"PRIVATE")),Kf(new Cu("heartbeat",e=>new $6(e),"PRIVATE")),Ul(Om,wS,t),Ul(Om,wS,"esm2020"),Ul("fire-js","")}j6("");var W6="firebase",Z6="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ul(W6,Z6,"app");var MS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oo,gC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function R(){}R.prototype=D.prototype,M.F=D.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(O,V,B){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return D.prototype[V].apply(O,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,D,R){R||(R=0);const O=Array(16);if(typeof D=="string")for(var V=0;V<16;++V)O[V]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=M.g[0],R=M.g[1],V=M.g[2];let B=M.g[3],P;P=D+(B^R&(V^B))+O[0]+3614090360&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[1]+3905402710&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[4]+4118548399&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[5]+1200080426&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[8]+1770035416&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[9]+2336552879&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[12]+1804603682&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[13]+4254626195&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(V^B&(R^V))+O[1]+4129170786&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[6]+3225465664&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[5]+3593408605&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[10]+38016083&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[9]+568446438&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[14]+3275163606&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[13]+2850285829&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[2]+4243563512&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(R^V^B)+O[5]+4294588738&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[8]+2272392833&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[1]+2763975236&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[4]+1272893353&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[13]+681279174&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[0]+3936430074&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[9]+3654602809&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[12]+3873151461&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(V^(R|~B))+O[0]+4096336452&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[7]+1126891415&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[12]+1700485571&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[3]+2399980690&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[8]+1873313359&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[15]+4264355552&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[4]+4149444226&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[11]+3174756917&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.v=function(M,D){D===void 0&&(D=M.length);const R=D-this.blockSize,O=this.C;let V=this.h,B=0;for(;B<D;){if(V==0)for(;B<=R;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<D;)if(O[V++]=M.charCodeAt(B++),V==this.blockSize){o(this,O),V=0;break}}else for(;B<D;)if(O[V++]=M[B++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=D},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)M[D++]=this.g[R]>>>O&255;return M};function l(M,D){var R=f;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=D(M)}function u(M,D){this.h=D;const R=[];let O=!0;for(let V=M.length-1;V>=0;V--){const B=M[V]|0;O&&B==D||(R[V]=B,O=!1)}this.g=R}var f={};function p(M){return-128<=M&&M<128?l(M,function(D){return new u([D|0],D<0?-1:0)}):new u([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return L(d(-M));const D=[];let R=1;for(let O=0;M>=R;O++)D[O]=M/R|0,R*=4294967296;return new u(D,0)}function y(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return L(y(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(D,8));let O=E;for(let B=0;B<M.length;B+=8){var V=Math.min(8,M.length-B);const P=parseInt(M.substring(B,B+V),D);V<8?(V=d(Math.pow(D,V)),O=O.j(V).add(d(P))):(O=O.j(R),O=O.add(d(P)))}return O}var E=p(0),T=p(1),A=p(16777216);t=u.prototype,t.m=function(){if(U(this))return-L(this).m();let M=0,D=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);M+=(O>=0?O:4294967296+O)*D,D*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(U(this))return"-"+L(this).toString(M);const D=d(Math.pow(M,6));var R=this;let O="";for(;;){const V=le(R,D).g;R=z(R,V.j(D));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=V,k(R))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function U(M){return M.h==-1}t.l=function(M){return M=z(this,M),U(M)?-1:k(M)?0:1};function L(M){const D=M.g.length,R=[];for(let O=0;O<D;O++)R[O]=~M.g[O];return new u(R,~M.h).add(T)}t.abs=function(){return U(this)?L(this):this},t.add=function(M){const D=Math.max(this.g.length,M.g.length),R=[];let O=0;for(let V=0;V<=D;V++){let B=O+(this.i(V)&65535)+(M.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(M,D){return M.add(L(D))}t.j=function(M){if(k(this)||k(M))return E;if(U(this))return U(M)?L(this).j(L(M)):L(L(this).j(M));if(U(M))return L(this.j(L(M)));if(this.l(A)<0&&M.l(A)<0)return d(this.m()*M.m());const D=this.g.length+M.g.length,R=[];for(var O=0;O<2*D;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<M.g.length;V++){const B=this.i(O)>>>16,P=this.i(O)&65535,ye=M.i(V)>>>16,me=M.i(V)&65535;R[2*O+2*V]+=P*me,K(R,2*O+2*V),R[2*O+2*V+1]+=B*me,K(R,2*O+2*V+1),R[2*O+2*V+1]+=P*ye,K(R,2*O+2*V+1),R[2*O+2*V+2]+=B*ye,K(R,2*O+2*V+2)}for(M=0;M<D;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=D;M<2*D;M++)R[M]=0;return new u(R,0)};function K(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function Y(M,D){this.g=M,this.h=D}function le(M,D){if(k(D))throw Error("division by zero");if(k(M))return new Y(E,E);if(U(M))return D=le(L(M),D),new Y(L(D.g),L(D.h));if(U(D))return D=le(M,L(D)),new Y(L(D.g),D.h);if(M.g.length>30){if(U(M)||U(D))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=D;O.l(M)<=0;)R=he(R),O=he(O);var V=$(R,1),B=$(O,1);for(O=$(O,2),R=$(R,2);!k(O);){var P=B.add(O);P.l(M)<=0&&(V=V.add(R),B=P),O=$(O,1),R=$(R,1)}return D=z(M,V.j(D)),new Y(V,D)}for(V=E;M.l(D)>=0;){for(R=Math.max(1,Math.floor(M.m()/D.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=d(R),P=B.j(D);U(P)||P.l(M)>0;)R-=O,B=d(R),P=B.j(D);k(B)&&(B=T),V=V.add(B),M=z(M,P)}return new Y(V,M)}t.B=function(M){return le(this,M).h},t.and=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)&M.i(O);return new u(R,this.h&M.h)},t.or=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)|M.i(O);return new u(R,this.h|M.h)},t.xor=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)^M.i(O);return new u(R,this.h^M.h)};function he(M){const D=M.g.length+1,R=[];for(let O=0;O<D;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new u(R,M.h)}function $(M,D){const R=D>>5;D%=32;const O=M.g.length-R,V=[];for(let B=0;B<O;B++)V[B]=D>0?M.i(B+R)>>>D|M.i(B+R+1)<<32-D:M.i(B+R);return new u(V,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,gC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Oo=u}).apply(typeof MS<"u"?MS:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yC,fu,vC,Nf,Bm,_C,EC,TC;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var S=0;S<g.length;++S){var w=g[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(g,S){if(S)e:{var w=i;g=g.split(".");for(var N=0;N<g.length-1;N++){var j=g[N];if(!(j in w))break e;w=w[j]}g=g[g.length-1],N=w[g],S=S(N),S!=N&&S!=null&&e(w,g,{configurable:!0,writable:!0,value:S})}}o("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(g){return g||function(S){var w=[],N;for(N in S)Object.prototype.hasOwnProperty.call(S,N)&&w.push([N,S[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,w){return g.call.apply(g.bind,arguments)}function d(g,S,w){return d=p,d.apply(null,arguments)}function y(g,S){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),g.apply(this,N)}}function E(g,S){function w(){}w.prototype=S.prototype,g.Z=S.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(N,j,te){for(var _e=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)_e[ze-2]=arguments[ze];return S.prototype[j].apply(N,_e)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function A(g){const S=g.length;if(S>0){const w=Array(S);for(let N=0;N<S;N++)w[N]=g[N];return w}return[]}function k(g,S){for(let N=1;N<arguments.length;N++){const j=arguments[N];var w=typeof j;if(w=w!="object"?w:j?Array.isArray(j)?"array":w:"null",w=="array"||w=="object"&&typeof j.length=="number"){w=g.length||0;const te=j.length||0;g.length=w+te;for(let _e=0;_e<te;_e++)g[w+_e]=j[_e]}else g.push(j)}}class U{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function L(g){u.setTimeout(()=>{throw g},0)}function z(){var g=M;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class K{constructor(){this.h=this.g=null}add(S,w){const N=Y.get();N.set(S,w),this.h?this.h.next=N:this.g=N,this.h=N}}var Y=new U(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let he,$=!1,M=new K,D=()=>{const g=Promise.resolve(void 0);he=()=>{g.then(R)}};function R(){for(var g;g=z();){try{g.h.call(g.g)}catch(w){L(w)}var S=Y;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}$=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function ye(g,S){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}E(ye,V),ye.prototype.init=function(g,S){const w=this.type=g.type,N=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(w=="mouseover"?S=g.fromElement:w=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function X(g,S,w,N,j){this.listener=g,this.proxy=null,this.src=S,this.type=w,this.capture=!!N,this.ha=j,this.key=++Q,this.da=this.fa=!1}function de(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Ee(g,S,w){for(const N in g)S.call(w,g[N],N,g)}function F(g,S){for(const w in g)S.call(void 0,g[w],w,g)}function H(g){const S={};for(const w in g)S[w]=g[w];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(g,S){let w,N;for(let j=1;j<arguments.length;j++){N=arguments[j];for(w in N)g[w]=N[w];for(let te=0;te<ie.length;te++)w=ie[te],Object.prototype.hasOwnProperty.call(N,w)&&(g[w]=N[w])}}function pe(g){this.src=g,this.g={},this.h=0}pe.prototype.add=function(g,S,w,N,j){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const _e=Ce(g,S,N,j);return _e>-1?(S=g[_e],w||(S.fa=!1)):(S=new X(S,this.src,te,!!N,j),S.fa=w,g.push(S)),S};function Ie(g,S){const w=S.type;if(w in g.g){var N=g.g[w],j=Array.prototype.indexOf.call(N,S,void 0),te;(te=j>=0)&&Array.prototype.splice.call(N,j,1),te&&(de(S),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Ce(g,S,w,N){for(let j=0;j<g.length;++j){const te=g[j];if(!te.da&&te.listener==S&&te.capture==!!w&&te.ha==N)return j}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),at={};function tt(g,S,w,N,j){if(Array.isArray(S)){for(let te=0;te<S.length;te++)tt(g,S[te],w,N,j);return null}return w=Ir(w),g&&g[me]?g.J(S,w,f(N)?!!N.capture:!1,j):pn(g,S,w,!1,N,j)}function pn(g,S,w,N,j,te){if(!S)throw Error("Invalid event type");const _e=f(j)?!!j.capture:!!j;let ze=fi(g);if(ze||(g[Ve]=ze=new pe(g)),w=ze.add(S,w,N,_e,te),w.proxy)return w;if(N=Mn(),w.proxy=N,N.src=g,N.listener=w,g.addEventListener)B||(j=_e),j===void 0&&(j=!1),g.addEventListener(S.toString(),N,j);else if(g.attachEvent)g.attachEvent(mn(S.toString()),N);else if(g.addListener&&g.removeListener)g.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mn(){function g(w){return S.call(g.src,g.listener,w)}const S=Xn;return g}function Li(g,S,w,N,j){if(Array.isArray(S))for(var te=0;te<S.length;te++)Li(g,S[te],w,N,j);else N=f(N)?!!N.capture:!!N,w=Ir(w),g&&g[me]?(g=g.i,te=String(S).toString(),te in g.g&&(S=g.g[te],w=Ce(S,w,N,j),w>-1&&(de(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete g.g[te],g.h--)))):g&&(g=fi(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Ce(S,w,N,j)),(w=g>-1?S[g]:null)&&er(w))}function er(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[me])Ie(S.i,g);else{var w=g.type,N=g.proxy;S.removeEventListener?S.removeEventListener(w,N,g.capture):S.detachEvent?S.detachEvent(mn(w),N):S.addListener&&S.removeListener&&S.removeListener(N),(w=fi(S))?(Ie(w,g),w.h==0&&(w.src=null,S[Ve]=null)):de(g)}}}function mn(g){return g in at?at[g]:at[g]="on"+g}function Xn(g,S){if(g.da)g=!0;else{S=new ye(S,this);const w=g.listener,N=g.ha||g.src;g.fa&&er(g),g=w.call(N,S)}return g}function fi(g){return g=g[Ve],g instanceof pe?g:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ir(g){return typeof g=="function"?g:(g[di]||(g[di]=function(S){return g.handleEvent(S)}),g[di])}function ht(){O.call(this),this.i=new pe(this),this.M=this,this.G=null}E(ht,O),ht.prototype[me]=!0,ht.prototype.removeEventListener=function(g,S,w,N){Li(this,g,S,w,N)};function St(g,S){var w,N=g.G;if(N)for(w=[];N;N=N.G)w.push(N);if(g=g.M,N=S.type||S,typeof S=="string")S=new V(S,g);else if(S instanceof V)S.target=S.target||g;else{var j=S;S=new V(N,g),b(S,j)}j=!0;let te,_e;if(w)for(_e=w.length-1;_e>=0;_e--)te=S.g=w[_e],j=Dn(te,N,!0,S)&&j;if(te=S.g=g,j=Dn(te,N,!0,S)&&j,j=Dn(te,N,!1,S)&&j,w)for(_e=0;_e<w.length;_e++)te=S.g=w[_e],j=Dn(te,N,!1,S)&&j}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const w=g.g[S];for(let N=0;N<w.length;N++)de(w[N]);delete g.g[S],g.h--}}this.G=null},ht.prototype.J=function(g,S,w,N){return this.i.add(String(g),S,!1,w,N)},ht.prototype.K=function(g,S,w,N){return this.i.add(String(g),S,!0,w,N)};function Dn(g,S,w,N){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let j=!0;for(let te=0;te<S.length;++te){const _e=S[te];if(_e&&!_e.da&&_e.capture==w){const ze=_e.listener,Bt=_e.ha||_e.src;_e.fa&&Ie(g.i,_e),j=ze.call(Bt,N)!==!1&&j}}return j&&!N.defaultPrevented}function br(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function Yt(g){g.g=br(()=>{g.g=null,g.i&&(g.i=!1,Yt(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class It extends O{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Yt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(g){O.call(this),this.h=g,this.g={}}E(hi,O);var oe=[];function ge(g){Ee(g.g,function(S,w){this.g.hasOwnProperty(w)&&er(S)},g),g.g={}}hi.prototype.N=function(){hi.Z.N.call(this),ge(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=u.JSON.stringify,qe=u.JSON.parse,Je=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function rn(){}function xn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){V.call(this,"d")}E(At,V);function Lt(){V.call(this,"c")}E(Lt,V);var $e={},jn=null;function an(){return jn=jn||new ht}$e.Ia="serverreachability";function Ps(g){V.call(this,$e.Ia,g)}E(Ps,V);function pi(g){const S=an();St(S,new Ps(S))}$e.STAT_EVENT="statevent";function Rr(g,S){V.call(this,$e.STAT_EVENT,g),this.stat=S}E(Rr,V);function Ut(g){const S=an();St(S,new Rr(S,g))}$e.Ja="timingevent";function mi(g,S){V.call(this,$e.Ja,g),this.size=S}E(mi,V);function gi(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function ra(g,S,w,N,j,te){g.info(function(){if(g.g)if(te){var _e="",ze=te.split("&");for(let ut=0;ut<ze.length;ut++){var Bt=ze[ut].split("=");if(Bt.length>1){const Mt=Bt[0];Bt=Bt[1];const Si=Mt.split("_");_e=Si.length>=2&&Si[1]=="type"?_e+(Mt+"="+Bt+"&"):_e+(Mt+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+N+") [attempt "+j+"]: "+S+`
`+w+`
`+_e})}function Vs(g,S,w,N,j,te,_e){g.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+j+"]: "+S+`
`+w+`
`+te+" "+_e})}function yi(g,S,w,N){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Ls(g,w)+(N?" "+N:"")})}function Ui(g,S){g.info(function(){return"TIMEOUT: "+S})}kn.prototype.info=function(){};function Ls(g,S){if(!g.g)return S;if(!S)return null;try{const te=JSON.parse(S);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var w=te[g];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var j=N[0];if(j!="noop"&&j!="stop"&&j!="close")for(let _e=1;_e<N.length;_e++)N[_e]=""}}}}return be(te)}catch{return S}}var ae={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ye={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zt;function vi(){}E(vi,rn),vi.prototype.g=function(){return new XMLHttpRequest},zt=new vi;function Oi(g){return encodeURIComponent(String(g))}function to(g){var S=1;g=g.split(":");const w=[];for(;S>0&&g.length;)w.push(g.shift()),S--;return g.length&&w.push(g.join(":")),w}function Fi(g,S,w,N){this.j=g,this.i=S,this.l=w,this.S=N||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var Jt={},un={};function tr(g,S,w){g.M=1,g.A=jo(Kt(S)),g.u=w,g.R=!0,Us(g,null)}function Us(g,S){g.F=Date.now(),nr(g),g.B=Kt(g.A);var w=g.B,N=g.S;Array.isArray(N)||(N=[String(N)]),Bs(w.i,"t",N),g.C=0,w=g.j.L,g.h=new zi,g.g=ic(g.j,w?S:null,!g.u),g.P>0&&(g.O=new It(d(g.Y,g,g.g),g.P)),S=g.V,w=g.g,N=g.ba;var j="readystatechange";Array.isArray(j)||(j&&(oe[0]=j.toString()),j=oe);for(let te=0;te<j.length;te++){const _e=tt(w,j[te],N||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),pi(),ra(g.i,g.v,g.B,g.l,g.S,g.u)}Fi.prototype.ba=function(g){g=g.target;const S=this.O;S&&Hi(g)==3?S.j():this.Y(g)},Fi.prototype.Y=function(g){try{if(g==this.g)e:{const ze=Hi(this.g),Bt=this.g.ya(),ut=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||ze!=4||Bt==7||(Bt==8||ut<=0?pi(3):pi(2)),ir(this);var S=this.g.ca();this.X=S;var w=Vd(this);if(this.o=S==200,Vs(this.i,this.v,this.B,this.l,this.S,ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var N,j=this.g;if((N=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var te=N;break t}}te=null}if(g=te)yi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rr(this,g);else{this.o=!1,this.m=3,Ut(12),Wn(this),_i(this);break e}}if(this.R){g=!0;let Mt;for(;!this.K&&this.C<w.length;)if(Mt=Gu(this,w),Mt==un){ze==4&&(this.m=4,Ut(14),g=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Jt){this.m=4,Ut(15),yi(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else yi(this.i,this.l,Mt,null),rr(this,Mt);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||w.length!=0||this.h.h||(this.m=1,Ut(16),g=!1),this.o=this.o&&g,!g)yi(this.i,this.l,w,"[Invalid Chunked Response]"),Wn(this),_i(this);else if(w.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),_a(_e),_e.P=!0,Ut(11))}}else yi(this.i,this.l,w,null),rr(this,w);ze==4&&Wn(this),this.o&&!this.K&&(ze==4?Zu(this.j,this):(this.o=!1,nr(this)))}else Mr(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Wn(this),_i(this)}}}catch{}finally{}};function Vd(g){if(!Hu(g))return g.g.la();const S=gn(g.g);if(S==="")return"";let w="";const N=S.length,j=Hi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Wn(g),_i(g),"";g.h.i=new u.TextDecoder}for(let te=0;te<N;te++)g.h.h=!0,w+=g.h.i.decode(S[te],{stream:!(j&&te==N-1)});return S.length=0,g.h.g+=w,g.C=0,g.h.g}function Hu(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Gu(g,S){var w=g.C,N=S.indexOf(`
`,w);return N==-1?un:(w=Number(S.substring(w,N)),isNaN(w)?Jt:(N+=1,N+w>S.length?un:(S=S.slice(N,N+w),g.C=N+w,S)))}Fi.prototype.cancel=function(){this.K=!0,Wn(this)};function nr(g){g.T=Date.now()+g.H,Os(g,g.H)}function Os(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=gi(d(g.aa,g),S)}function ir(g){g.D&&(u.clearTimeout(g.D),g.D=null)}Fi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ui(this.i,this.B),this.M!=2&&(pi(),Ut(17)),Wn(this),this.m=2,_i(this)):Os(this,this.T-g)};function _i(g){g.j.I==0||g.K||Zu(g.j,g)}function Wn(g){ir(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,ge(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function rr(g,S){try{var w=g.j;if(w.I!=0&&(w.g==g||sr(w.h,g))){if(!g.L&&sr(w.h,g)&&w.I==3){try{var N=w.Ba.g.parse(S)}catch{N=null}if(Array.isArray(N)&&N.length==3){var j=N;if(j[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)Js(w),uo(w);else break e;rs(w),Ut(18)}}else w.xa=j[1],0<w.xa-w.K&&j[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=gi(d(w.Va,w),6e3));or(w.h)<=1&&w.ta&&(w.ta=void 0)}else dr(w,11)}else if((g.L||w.g==g)&&Js(w),!P(S))for(j=w.Ba.g.parse(S),S=0;S<j.length;S++){let ut=j[S];const Mt=ut[0];if(!(Mt<=w.K))if(w.K=Mt,ut=ut[1],w.I==2)if(ut[0]=="c"){w.M=ut[1],w.ba=ut[2];const Si=ut[3];Si!=null&&(w.ka=Si,w.j.info("VER="+w.ka));const hr=ut[4];hr!=null&&(w.za=hr,w.j.info("SVER="+w.za));const Gi=ut[5];Gi!=null&&typeof Gi=="number"&&Gi>0&&(N=1.5*Gi,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Yi=g.g;if(Yi){const os=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var te=N.h;te.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(la(te,te.h),te.h=null))}if(N.G){const $s=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;$s&&(N.wa=$s,pt(N.J,N.G,$s))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var _e=g;if(N.na=nc(N,N.L?N.ba:null,N.W),_e.L){aa(N.h,_e);var ze=_e,Bt=N.O;Bt&&(ze.H=Bt),ze.D&&(ir(ze),nr(ze)),N.g=_e}else ju(N);w.i.length>0&&fr(w)}else ut[0]!="stop"&&ut[0]!="close"||dr(w,7);else w.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?dr(w,7):ya(w):ut[0]!="noop"&&w.l&&w.l.qa(ut),w.A=0)}}pi(4)}catch{}}var $t=class{constructor(g,S){this.g=g,this.map=S}};function oa(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sa(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function or(g){return g.h?1:g.g?g.g.size:0}function sr(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function la(g,S){g.g?g.g.add(S):g.h=S}function aa(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}oa.prototype.cancel=function(){if(this.i=ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ua(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const w of g.g.values())S=S.concat(w.G);return S}return A(g.i)}var Yu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fs(g,S){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const N=g[w].indexOf("=");let j,te=null;N>=0?(j=g[w].substring(0,N),te=g[w].substring(N+1)):j=g[w],S(j,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function Zn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof Zn?(this.l=g.l,cn(this,g.j),this.o=g.o,this.g=g.g,no(this,g.u),this.h=g.h,ca(this,Qu(g.i)),this.m=g.m):g&&(S=String(g).match(Yu))?(this.l=!1,cn(this,S[1]||"",!0),this.o=lr(S[2]||""),this.g=lr(S[3]||"",!0),no(this,S[4]),this.h=lr(S[5]||"",!0),ca(this,S[6]||"",!0),this.m=lr(S[7]||"")):(this.l=!1,this.i=new ro(null,this.l))}Zn.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Wo(S,zs,!0),":");var w=this.g;return(w||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Wo(S,zs,!0),"@"),g.push(Oi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(Wo(w,w.charAt(0)=="/"?fa:Ju,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",Wo(w,$u)),g.join("")},Zn.prototype.resolve=function(g){const S=Kt(this);let w=!!g.j;w?cn(S,g.j):w=!!g.o,w?S.o=g.o:w=!!g.g,w?S.g=g.g:w=g.u!=null;var N=g.h;if(w)no(S,g.u);else if(w=!!g.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var j=S.h.lastIndexOf("/");j!=-1&&(N=S.h.slice(0,j+1)+N)}if(j=N,j==".."||j==".")N="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){N=j.lastIndexOf("/",0)==0,j=j.split("/");const te=[];for(let _e=0;_e<j.length;){const ze=j[_e++];ze=="."?N&&_e==j.length&&te.push(""):ze==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),N&&_e==j.length&&te.push("")):(te.push(ze),N=!0)}N=te.join("/")}else N=j}return w?S.h=N:w=g.i.toString()!=="",w?ca(S,Qu(g.i)):w=!!g.m,w&&(S.m=g.m),S};function Kt(g){return new Zn(g)}function cn(g,S,w){g.j=w?lr(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function no(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function ca(g,S,w){S instanceof ro?(g.i=S,qs(g.i,g.l)):(w||(S=Wo(S,io)),g.i=new ro(S,g.l))}function pt(g,S,w){g.i.set(S,w)}function jo(g){return pt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function lr(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Wo(g,S,w){return typeof g=="string"?(g=encodeURI(g).replace(S,On),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function On(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var zs=/[#\/\?@]/g,Ju=/[#\?:]/g,fa=/[#\?]/g,io=/[#\?@]/g,$u=/#/g;function ro(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Fn(g){g.g||(g.g=new Map,g.h=0,g.i&&Fs(g.i,function(S,w){g.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=ro.prototype,t.add=function(g,S){Fn(this),this.i=null,g=oo(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(S),this.h+=1,this};function Ku(g,S){Fn(g),S=oo(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function da(g,S){return Fn(g),S=oo(g,S),g.g.has(S)}t.forEach=function(g,S){Fn(this),this.g.forEach(function(w,N){w.forEach(function(j){g.call(S,j,N,this)},this)},this)};function ha(g,S){Fn(g);let w=[];if(typeof S=="string")da(g,S)&&(w=w.concat(g.g.get(oo(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)w=w.concat(g[S]);return w}t.set=function(g,S){return Fn(this),this.i=null,g=oo(this,g),da(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=ha(this,g),g.length>0?String(g[0]):S):S};function Bs(g,S,w){Ku(g,S),w.length>0&&(g.i=null,g.g.set(oo(g,S),A(w)),g.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let N=0;N<S.length;N++){var w=S[N];const j=Oi(w);w=ha(this,w);for(let te=0;te<w.length;te++){let _e=j;w[te]!==""&&(_e+="="+Oi(w[te])),g.push(_e)}}return this.i=g.join("&")};function Qu(g){const S=new ro;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function oo(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function qs(g,S){S&&!g.j&&(Fn(g),g.i=null,g.g.forEach(function(w,N){const j=N.toLowerCase();N!=j&&(Ku(this,N),Bs(this,j,w))},g)),g.j=S}function Bi(g,S){const w=new kn;if(u.Image){const N=new Image;N.onload=y(Ei,w,"TestLoadImage: loaded",!0,S,N),N.onerror=y(Ei,w,"TestLoadImage: error",!1,S,N),N.onabort=y(Ei,w,"TestLoadImage: abort",!1,S,N),N.ontimeout=y(Ei,w,"TestLoadImage: timeout",!1,S,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=g}else S(!1)}function pa(g,S){const w=new kn,N=new AbortController,j=setTimeout(()=>{N.abort(),Ei(w,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:N.signal}).then(te=>{clearTimeout(j),te.ok?Ei(w,"TestPingServer: ok",!0,S):Ei(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(j),Ei(w,"TestPingServer: error",!1,S)})}function Ei(g,S,w,N,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),N(w)}catch{}}function so(){this.g=new Je}function ar(g){this.i=g.Sb||null,this.h=g.ab||!1}E(ar,rn),ar.prototype.g=function(){return new Zo(this.i,this.h)};function Zo(g,S){ht.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Zo,ht),t=Zo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,qi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Hs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Hs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?lo(this):qi(this),this.readyState==3&&Hs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,lo(this))},t.Na=function(g){this.g&&(this.response=g,lo(this))},t.ga=function(){this.g&&lo(this)};function lo(g){g.readyState=4,g.l=null,g.j=null,g.B=null,qi(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=S.next();return g.join(`\r
`)};function qi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Ti(g){let S="";return Ee(g,function(w,N){S+=N,S+=":",S+=w,S+=`\r
`}),S}function es(g,S,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Ti(w),typeof g=="string"?w!=null&&Oi(w):pt(g,S,w))}function yt(g){ht.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(yt,ht);var ur=/^https?$/i,ma=["POST","PUT"];t=yt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zt.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(te){ts(this,te);return}if(g=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var j in N)w.set(j,N[j]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const te of N.keys())w.set(te,N.get(te));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),j=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(ma,S,void 0)>=0)||N||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of w)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){ts(this,te)}};function ts(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,ga(g),Nr(g)}function ga(g){g.A||(g.A=!0,St(g,"complete"),St(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,St(this,"complete"),St(this,"abort"),Nr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ns(this):this.Xa())},t.Xa=function(){ns(this)};function ns(g){if(g.h&&typeof l<"u"){if(g.v&&Hi(g)==4)setTimeout(g.Ca.bind(g),0);else if(St(g,"readystatechange"),Hi(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var N;if(N=te===0){let _e=String(g.D).match(Yu)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),N=!ur.test(_e?_e.toLowerCase():"")}w=N}if(w)St(g,"complete"),St(g,"success");else{g.o=6;try{var j=Hi(g)>2?g.g.statusText:""}catch{j=""}g.l=j+" ["+g.ca()+"]",ga(g)}}finally{Nr(g)}}}}function Nr(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,S||St(g,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),qe(S)}};function gn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Mr(g){const S={};g=(g.g&&Hi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<g.length;N++){if(P(g[N]))continue;var w=to(g[N]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=S[j]||[];S[j]=te,te.push(w)}F(S,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(g,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||S}function ao(g){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cr("baseRetryDelayMs",5e3,g),this.Za=cr("retryDelaySeedMs",1e4,g),this.Ta=cr("forwardChannelMaxRetries",2,g),this.va=cr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new oa(g&&g.concurrentRequestLimit),this.Ba=new so,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ao.prototype,t.ka=8,t.I=1,t.connect=function(g,S,w,N){Ut(0),this.W=g,this.H=S||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=nc(this,null,this.W),fr(this)};function ya(g){if(Gs(g),g.I==3){var S=g.V++,w=Kt(g.J);if(pt(w,"SID",g.M),pt(w,"RID",S),pt(w,"TYPE","terminate"),is(g,w),S=new Fi(g,g.j,S),S.M=2,S.A=jo(Kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=ic(S.j,null),S.g.ea(S.A)),S.F=Date.now(),nr(S)}tc(g)}function uo(g){g.g&&(_a(g),g.g.cancel(),g.g=null)}function Gs(g){uo(g),g.v&&(u.clearTimeout(g.v),g.v=null),Js(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function fr(g){if(!sa(g.h)&&!g.m){g.m=!0;var S=g.Ea;he||D(),$||(he(),$=!0),M.add(S,g),g.D=0}}function Ys(g,S){return or(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=gi(d(g.Ea,g,S),ec(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const j=new Fi(this,this.j,g);let te=this.o;if(this.U&&(te?(te=H(te),b(te,this.U)):te=this.U),this.u!==null||this.R||(j.J=te,te=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(S+=N,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=Xu(this,j,S),w=Kt(this.J),pt(w,"RID",g),pt(w,"CVER",22),this.G&&pt(w,"X-HTTP-Session-Id",this.G),is(this,w),te&&(this.R?S="headers="+Oi(Ti(te))+"&"+S:this.u&&es(w,this.u,te)),la(this.h,j),this.Ra&&pt(w,"TYPE","init"),this.S?(pt(w,"$req",S),pt(w,"SID","null"),j.U=!0,tr(j,w,null)):tr(j,w,S),this.I=2}}else this.I==3&&(g?va(this,g):this.i.length==0||sa(this.h)||va(this))};function va(g,S){var w;S?w=S.l:w=g.V++;const N=Kt(g.J);pt(N,"SID",g.M),pt(N,"RID",w),pt(N,"AID",g.K),is(g,N),g.u&&g.o&&es(N,g.u,g.o),w=new Fi(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),S&&(g.i=S.G.concat(g.i)),S=Xu(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),la(g.h,w),tr(w,N,S)}function is(g,S){g.H&&Ee(g.H,function(w,N){pt(S,N,w)}),g.l&&Ee({},function(w,N){pt(S,N,w)})}function Xu(g,S,w){w=Math.min(g.i.length,w);const N=g.l?d(g.l.Ka,g.l,g):null;e:{var j=g.i;let ze=-1;for(;;){const Bt=["count="+w];ze==-1?w>0?(ze=j[0].g,Bt.push("ofs="+ze)):ze=0:Bt.push("ofs="+ze);let ut=!0;for(let Mt=0;Mt<w;Mt++){var te=j[Mt].g;const Si=j[Mt].map;if(te-=ze,te<0)ze=Math.max(0,j[Mt].g-100),ut=!1;else try{te="req"+te+"_"||"";try{var _e=Si instanceof Map?Si:Object.entries(Si);for(const[hr,Gi]of _e){let Yi=Gi;f(Gi)&&(Yi=be(Gi)),Bt.push(te+hr+"="+encodeURIComponent(Yi))}}catch(hr){throw Bt.push(te+"type="+encodeURIComponent("_badmap")),hr}}catch{N&&N(Si)}}if(ut){_e=Bt.join("&");break e}}_e=void 0}return g=g.i.splice(0,w),S.G=g,_e}function ju(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;he||D(),$||(he(),$=!0),M.add(S,g),g.A=0}}function rs(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=gi(d(g.Da,g),ec(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=gi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),uo(this),Wu(this))};function _a(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function Wu(g){g.g=new Fi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Kt(g.na);pt(S,"RID","rpc"),pt(S,"SID",g.M),pt(S,"AID",g.K),pt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&pt(S,"TO",g.ia),pt(S,"TYPE","xmlhttp"),is(g,S),g.u&&g.o&&es(S,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=jo(Kt(S)),w.u=null,w.R=!0,Us(w,g)}t.Va=function(){this.C!=null&&(this.C=null,uo(this),rs(this),Ut(19))};function Js(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Zu(g,S){var w=null;if(g.g==S){Js(g),_a(g),g.g=null;var N=2}else if(sr(g.h,S))w=S.G,aa(g.h,S),N=1;else return;if(g.I!=0){if(S.o)if(N==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var j=g.D;N=an(),St(N,new mi(N,w)),fr(g)}else ju(g);else if(j=S.m,j==3||j==0&&S.X>0||!(N==1&&Ys(g,S)||N==2&&rs(g)))switch(w&&w.length>0&&(S=g.h,S.i=S.i.concat(w)),j){case 1:dr(g,5);break;case 4:dr(g,10);break;case 3:dr(g,6);break;default:dr(g,2)}}}function ec(g,S){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*S}function dr(g,S){if(g.j.info("Error code "+S),S==2){var w=d(g.bb,g),N=g.Ua;const j=!N;N=new Zn(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(N,"https"),jo(N),j?Bi(N.toString(),w):pa(N.toString(),w)}else Ut(2);g.I=0,g.l&&g.l.pa(S),tc(g),Gs(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function tc(g){if(g.I=0,g.ja=[],g.l){const S=ua(g.h);(S.length!=0||g.i.length!=0)&&(k(g.ja,S),k(g.ja,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.oa()}}function nc(g,S,w){var N=w instanceof Zn?Kt(w):new Zn(w);if(N.g!="")S&&(N.g=S+"."+N.g),no(N,N.u);else{var j=u.location;N=j.protocol,S=S?S+"."+j.hostname:j.hostname,j=+j.port;const te=new Zn(null);N&&cn(te,N),S&&(te.g=S),j&&no(te,j),w&&(te.h=w),N=te}return w=g.G,S=g.wa,w&&S&&pt(N,w,S),pt(N,"VER",g.ka),is(g,N),N}function ic(g,S,w){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new yt(new ar({ab:w})):new yt(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}t=rc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function co(){}co.prototype.g=function(g,S){return new Pn(g,S)};function Pn(g,S){ht.call(this),this.g=new ao(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!P(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Dr(this)}E(Pn,ht),Pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){ya(this.g)},Pn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=be(g),g=w);S.i.push(new $t(S.Ya++,g)),S.I==3&&fr(S)},Pn.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,Pn.Z.N.call(this)};function oc(g){At.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const w in S){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(oc,At);function sc(){Lt.call(this),this.status=1}E(sc,Lt);function Dr(g){this.g=g}E(Dr,rc),Dr.prototype.ra=function(){St(this.g,"a")},Dr.prototype.qa=function(g){St(this.g,new oc(g))},Dr.prototype.pa=function(g){St(this.g,new sc)},Dr.prototype.oa=function(){St(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,TC=function(){return new co},EC=function(){return an()},_C=$e,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,Nf=ae,Ye.COMPLETE="complete",vC=Ye,xn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",ht.prototype.listen=ht.prototype.J,fu=xn,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,yC=yt}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const DS="@firebase/firestore",kS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new cC("@firebase/firestore");function Il(){return xs.logLevel}function Ae(t,...e){if(xs.logLevel<=it.DEBUG){const n=e.map(Vg);xs.debug(`Firestore (${Zl}): ${t}`,...n)}}function jr(t,...e){if(xs.logLevel<=it.ERROR){const n=e.map(Vg);xs.error(`Firestore (${Zl}): ${t}`,...n)}}function Bl(t,...e){if(xs.logLevel<=it.WARN){const n=e.map(Vg);xs.warn(`Firestore (${Zl}): ${t}`,...n)}}function Vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,SC(t,i,n)}function SC(t,e,n){let i=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw jr(i),new Error(i)}function dt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||SC(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Wl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class t5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n5{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Fo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fo,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fo)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new AC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class i5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new i5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class PS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,U6(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new PS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new PS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=s5(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function qm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return nm(o)===nm(l)?We(o,l):nm(o)?1:-1}return We(t.length,e.length)}const l5=55296,a5=57343;function nm(t){const e=t.charCodeAt(0);return e>=l5&&e<=a5}function ql(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="__name__";class _r{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=_r.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const i=_r.isNumericId(e),o=_r.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oo.fromString(e.substring(4,e.length-2))}}class Ct extends _r{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const u5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends _r{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return u5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VS}static keyField(){return new Sn([VS])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ct.fromString(e))}static fromName(e){return new Me(Ct.fromString(e).popFirst(5))}static empty(){return new Me(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e,n){if(!n)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c5(t,e,n,i){if(e===!0&&i===!0)throw new Se(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LS(t){if(!Me.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function US(t){if(Me.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function vd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vd(t);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!CC(t))throw new Se(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Se(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=-62135596800,FS=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*FS);return new Nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OS)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FS}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:nn("string",Nt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Nt(0,0))}static max(){return new Ue(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function f5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new Bo(o,Me.empty(),e)}function d5(t){return new Bo(t.readTime,t.key,Iu)}class Bo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Bo(Ue.min(),Me.empty(),Iu)}static max(){return new Bo(Ue.max(),Me.empty(),Iu)}}function h5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==p5)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&n()}),(p=>i(p)))})),u=!0,l===o&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((o=>o?fe.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,l)=>{i.push(n.call(this,o,l))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&i(u)}),(y=>o(y)))}}))}static doWhile(e,n){return new fe(((i,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):i()};l()}))}}function g5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}_d.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug=-1;function Ed(t){return t==null}function Qf(t){return t===0&&1/t==-1/0}function y5(t){return typeof t=="number"&&Number.isInteger(t)&&!Qf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="";function v5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zS(e)),e=_5(t.get(n),e);return zS(e)}function _5(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case wC:n+="";break;default:n+=l}}return n}function zS(t){return t+wC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Tn.RED,this.left=o??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Tn(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qS(this.data.getIterator())}getIteratorFrom(e){return new qS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class qS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ui([])}unionWith(e){let n=new ln(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bC("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const E5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qo(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=E5.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ho(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="server_timestamp",NC="__type__",MC="__previous_value__",DC="__local_write_time__";function Og(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NC])==null?void 0:i.stringValue)===RC}function Td(t){const e=t.mapValue.fields[MC];return Og(e)?Td(e):e}function bu(t){const e=qo(t.mapValue.fields[DC].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,i,o,l,u,f,p,d,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y}}const Xf="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Xf}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__type__",S5="__max__",Sf={mapValue:{}},PC="__vector__",jf="value";function Go(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:x5(t)?9007199254740991:A5(t)?10:11:ke(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=Go(t);if(n!==Go(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=qo(o.timestampValue),f=qo(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Ho(o.bytesValue).isEqual(Ho(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Gt(o.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(o.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Gt(o.integerValue)===Gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Gt(o.doubleValue),f=Gt(l.doubleValue);return u===f?Qf(u)===Qf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(BS(u)!==BS(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!wr(u[p],f[p])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Nu(t,e){return(t.values||[]).find((n=>wr(n,e)))!==void 0}function Hl(t,e){if(t===e)return 0;const n=Go(t),i=Go(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Gt(l.integerValue||l.doubleValue),p=Gt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return HS(t.timestampValue,e.timestampValue);case 4:return HS(bu(t),bu(e));case 5:return qm(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Ho(l),p=Ho(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=We(f[d],p[d]);if(y!==0)return y}return We(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=We(Gt(l.latitude),Gt(u.latitude));return f!==0?f:We(Gt(l.longitude),Gt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return GS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var T,A,k,U;const f=l.fields||{},p=u.fields||{},d=(T=f[jf])==null?void 0:T.arrayValue,y=(A=p[jf])==null?void 0:A.arrayValue,E=We(((k=d==null?void 0:d.values)==null?void 0:k.length)||0,((U=y==null?void 0:y.values)==null?void 0:U.length)||0);return E!==0?E:GS(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Sf.mapValue&&u===Sf.mapValue)return 0;if(l===Sf.mapValue)return 1;if(u===Sf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let E=0;E<p.length&&E<y.length;++E){const T=qm(p[E],y[E]);if(T!==0)return T;const A=Hl(f[p[E]],d[y[E]]);if(A!==0)return A}return We(p.length,y.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function HS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=qo(t),i=qo(e),o=We(n.seconds,i.seconds);return o!==0?o:We(n.nanos,i.nanos)}function GS(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Hl(n[o],i[o]);if(l)return l}return We(n.length,i.length)}function Gl(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=qo(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ho(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Hm(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Hm(n.fields[u])}`;return o+"}"})(t.mapValue):ke(61005,{value:t})}function Mf(t){switch(Go(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(t);return e?16+Mf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ho(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Mf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Qo(i.fields,((l,u)=>{o+=l.length+Mf(u)})),o})(t.mapValue);default:throw ke(13486,{value:t})}}function YS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function JS(t){return!!t&&"nullValue"in t}function $S(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Df(t){return!!t&&"mapValue"in t}function A5(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kC])==null?void 0:i.stringValue)===PC}function _u(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=_u(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return{...t}}function x5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Df(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=Sn.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=_u(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());Df(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Df(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Qo(n,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new $n(_u(this.value))}}function VC(t){const e=[];return Qo(t.fields,((n,i)=>{const o=new Sn([n]);if(Df(i)){const l=VC(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new ui(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new bn(e,0,Ue.min(),Ue.min(),Ue.min(),$n.empty(),0)}static newFoundDocument(e,n,i,o){return new bn(e,1,n,Ue.min(),i,o,0)}static newNoDocument(e,n){return new bn(e,2,n,Ue.min(),Ue.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ue.min(),Ue.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this.position=e,this.inclusive=n}}function KS(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(u.referenceValue),n.key):i=Hl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function QS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function C5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class tn extends LC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new I5(e,n,i):n==="array-contains"?new N5(e,i):n==="in"?new M5(e,i):n==="not-in"?new D5(e,i):n==="array-contains-any"?new k5(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new b5(e,i):new R5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&Go(this.value)===Go(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends LC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wi(e,n)}matches(e){return UC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UC(t){return t.op==="and"}function OC(t){return w5(t)&&UC(t)}function w5(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function Ym(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(OC(t))return t.filters.map((e=>Ym(e))).join(",");{const e=t.filters.map((n=>Ym(n))).join(",");return`${t.op}(${e})`}}function FC(t,e){return t instanceof tn?(function(i,o){return o instanceof tn&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)})(t,e):t instanceof Wi?(function(i,o){return o instanceof Wi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,u,f)=>l&&FC(u,o.filters[f])),!0):!1})(t,e):void ke(19439)}function zC(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(t):t instanceof Wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(zC).join(" ,")+"}"})(t):"Filter"}class I5 extends tn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class b5 extends tn{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class R5 extends tn{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function BC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Me.fromName(i.referenceValue)))}class N5 extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fg(n)&&Nu(n.arrayValue,this.value)}}class M5 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class D5 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class k5 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Nu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function XS(t,e=null,n=[],i=[],o=null,l=null,u=null){return new P5(t,e,n,i,o,l,u)}function zg(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ym(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Gl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Gl(i))).join(",")),e.Te=n}return e.Te}function Bg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QS(t.startAt,e.startAt)&&QS(t.endAt,e.endAt)}function Jm(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V5(t,e,n,i,o,l,u,f){return new na(t,e,n,i,o,l,u,f)}function qC(t){return new na(t)}function jS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HC(t){return t.collectionGroup!==null}function Eu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ln(Sn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mu(l,i))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Mu(Sn.keyField(),i))}return e.Ie}function Tr(t){const e=Fe(t);return e.Ee||(e.Ee=L5(e,Eu(t))),e.Ee}function L5(t,e){if(t.limitType==="F")return XS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Mu(o.field,l)}));const n=t.endAt?new Wf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Wf(t.startAt.position,t.startAt.inclusive):null;return XS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $m(t,e){const n=t.filters.concat([e]);return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Km(t,e,n){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sd(t,e){return Bg(Tr(t),Tr(e))&&t.limitType===e.limitType}function GC(t){return`${zg(Tr(t))}|lt:${t.limitType}`}function bl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>zC(o))).join(", ")}]`),Ed(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Gl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Gl(o))).join(",")),`Target(${i})`})(Tr(t))}; limitType=${t.limitType})`}function Ad(t,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,o){for(const l of Eu(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,p){const d=KS(u,f,p);return u.inclusive?d<=0:d<0})(i.startAt,Eu(i),o)||i.endAt&&!(function(u,f,p){const d=KS(u,f,p);return u.inclusive?d>=0:d>0})(i.endAt,Eu(i),o))})(t,e)}function U5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YC(t){return(e,n)=>{let i=!1;for(const o of Eu(t)){const l=O5(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function O5(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Hl(p,d):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qo(this.inner,((n,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return IC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new Vt(Me.comparator);function Wr(){return F5}const JC=new Vt(Me.comparator);function du(...t){let e=JC;for(const n of t)e=e.insert(n.key,n);return e}function $C(t){let e=JC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function As(){return Tu()}function KC(){return Tu()}function Tu(){return new Ns((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z5=new Vt(Me.comparator),B5=new ln(Me.comparator);function Ze(...t){let e=B5;for(const n of t)e=e.add(n);return e}const q5=new ln(We);function H5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(e)?"-0":e}}function QC(t){return{integerValue:""+t}}function G5(t,e){return y5(e)?QC(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(){this._=void 0}}function Y5(t,e,n){return t instanceof Zf?(function(o,l){const u={fields:{[NC]:{stringValue:RC},[DC]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Og(l)&&(l=Td(l)),l&&(u.fields[MC]=l),{mapValue:u}})(n,e):t instanceof Du?jC(t,e):t instanceof ku?WC(t,e):(function(o,l){const u=XC(o,l),f=WS(u)+WS(o.Ae);return Gm(u)&&Gm(o.Ae)?QC(f):qg(o.serializer,f)})(t,e)}function J5(t,e,n){return t instanceof Du?jC(t,e):t instanceof ku?WC(t,e):n}function XC(t,e){return t instanceof ed?(function(i){return Gm(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Zf extends xd{}class Du extends xd{constructor(e){super(),this.elements=e}}function jC(t,e){const n=ZC(e);for(const i of t.elements)n.some((o=>wr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ku extends xd{constructor(e){super(),this.elements=e}}function WC(t,e){let n=ZC(e);for(const i of t.elements)n=n.filter((o=>!wr(o,i)));return{arrayValue:{values:n}}}class ed extends xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function WS(t){return Gt(t.integerValue||t.doubleValue)}function ZC(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $5(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Du&&o instanceof Du||i instanceof ku&&o instanceof ku?ql(i.elements,o.elements,wr):i instanceof ed&&o instanceof ed?wr(i.Ae,o.Ae):i instanceof Zf&&o instanceof Zf})(t.transform,e.transform)}class K5{constructor(e,n){this.version=e,this.transformResults=n}}class ji{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Cd{}function e1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,ji.none()):new Uu(t.key,t.data,ji.none());{const n=t.data,i=$n.empty();let o=new ln(Sn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new Xo(t.key,i,new ui(o.toArray()),ji.none())}}function Q5(t,e,n){t instanceof Uu?(function(o,l,u){const f=o.value.clone(),p=eA(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Xo?(function(o,l,u){if(!kf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=eA(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(t1(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Su(t,e,n,i){return t instanceof Uu?(function(l,u,f,p){if(!kf(l.precondition,u))return f;const d=l.value.clone(),y=tA(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof Xo?(function(l,u,f,p){if(!kf(l.precondition,u))return f;const d=tA(l.fieldTransforms,p,u),y=u.data;return y.setAll(t1(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,u,f){return kf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function X5(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=XC(i.transform,o||null);l!=null&&(n===null&&(n=$n.empty()),n.set(i.field,l))}return n||null}function ZS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ql(i,o,((l,u)=>$5(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends Cd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xo extends Cd{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function t1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function eA(t,e,n){const i=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,J5(u,f,n[o]))}return i}function tA(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,Y5(l,u,e))}return i}class Hg extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j5 extends Cd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Q5(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Su(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Su(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=KC();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const p=e1(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,i)=>ZS(n,i)))&&ql(this.baseMutations,e.baseMutations,((n,i)=>ZS(n,i)))}}class Gg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){dt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return z5})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Gg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,nt;function tO(t){switch(t){case ce.OK:return ke(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function n1(t){if(t===void 0)return jr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Zt.OK:return ce.OK;case Zt.CANCELLED:return ce.CANCELLED;case Zt.UNKNOWN:return ce.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ce.INTERNAL;case Zt.UNAVAILABLE:return ce.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ce.NOT_FOUND;case Zt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Zt.ABORTED:return ce.ABORTED;case Zt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Zt.DATA_LOSS:return ce.DATA_LOSS;default:return ke(39323,{code:t})}}(nt=Zt||(Zt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Oo([4294967295,4294967295],0);function nA(t){const e=nO().encode(t),n=new gC;return n.update(e),new Uint8Array(n.digest())}function iA(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Oo([n,i],0),new Oo([o,l],0)]}class Yg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Oo.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Oo.fromNumber(i)));return o.compare(iO)===1&&(o=new Oo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=nA(e),[i,o]=iA(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Yg(l,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=nA(e),[i,o]=iA(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wd(Ue.min(),o,new Vt(We),Wr(),Ze())}}class Ou{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class i1{constructor(e,n){this.targetId=e,this.Ce=n}}class r1{constructor(e,n,i=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class rA{constructor(){this.ve=0,this.Fe=oA(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),i=Ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=oA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Wr(),this.Je=Af(),this.He=Af(),this.Ye=new Vt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Jm(l))if(i===0){const u=new Me(l.path);this.et(n,u,bn.newNoDocument(u,Ue.min()))}else dt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=Ho(i).toUint8Array()}catch(p){if(p instanceof bC)return Bl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Yg(u,o,l)}catch(p){return Bl(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Jm(f.target)){const p=new Me(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,bn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Ze();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new wd(e,n,this.Ye,this.je,i);return this.je=Wr(),this.Je=Af(),this.He=Af(),this.Ye=new Vt(We),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new Vt(Me.comparator)}function oA(){return new Vt(Me.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},sO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lO={and:"AND",or:"OR"};class aO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uO(t,e){return td(t,e.toTimestamp())}function Sr(t){return dt(!!t,49232),Ue.fromTimestamp((function(n){const i=qo(n);return new Nt(i.seconds,i.nanos)})(t))}function Jg(t,e){return Xm(t,e).canonicalString()}function Xm(t,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function s1(t){const e=Ct.fromString(t);return dt(f1(e),10190,{key:e.toString()}),e}function jm(t,e){return Jg(t.databaseId,e.path)}function im(t,e){const n=s1(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(a1(n))}function l1(t,e){return Jg(t.databaseId,e)}function cO(t){const e=s1(t);return e.length===4?Ct.emptyPath():a1(e)}function Wm(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function a1(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function sA(t,e,n){return{name:jm(t,e),fields:n.value.mapValue.fields}}function fO(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(dt(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(dt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?ce.UNKNOWN:n1(d.code);return new Se(y,d.message||"")})(u);n=new r1(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=im(t,i.document.name),l=Sr(i.document.updateTime),u=i.document.createTime?Sr(i.document.createTime):Ue.min(),f=new $n({mapValue:{fields:i.document.fields}}),p=bn.newFoundDocument(o,l,u,f),d=i.targetIds||[],y=i.removedTargetIds||[];n=new Pf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=im(t,i.document),l=i.readTime?Sr(i.readTime):Ue.min(),u=bn.newNoDocument(o,l),f=i.removedTargetIds||[];n=new Pf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=im(t,i.document),l=i.removedTargetIds||[];n=new Pf([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new eO(o,l),f=i.targetId;n=new i1(f,u)}}return n}function dO(t,e){let n;if(e instanceof Uu)n={update:sA(t,e.key,e.value)};else if(e instanceof Hg)n={delete:jm(t,e.key)};else if(e instanceof Xo)n={update:sA(t,e.key,e.data),updateMask:TO(e.fieldMask)};else{if(!(e instanceof j5))return ke(16599,{Vt:e.type});n={verify:jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Zf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Du)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ku)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ed)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:uO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function hO(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?Sr(o.updateTime):Sr(l);return u.isEqual(Ue.min())&&(u=Sr(l)),new K5(u,o.transformResults||[])})(n,e)))):[]}function pO(t,e){return{documents:[l1(t,e.path)]}}function mO(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=l1(t,o);const l=(function(d){if(d.length!==0)return c1(Wi.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(T){return{field:Rl(T.field),direction:vO(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Qm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function gO(t){let e=cO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){dt(i===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const T=u1(E);return T instanceof Wi&&OC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(k){return new Mu(Nl(k.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,Ed(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,A=E.values||[];return new Wf(A,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(E){const T=!E.before,A=E.values||[];return new Wf(A,T)})(n.endAt)),V5(e,o,u,l,f,"F",p,d)}function yO(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Nl(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Nl(n.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Nl(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Nl(n.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(Nl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wi.create(n.compositeFilter.filters.map((i=>u1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function vO(t){return oO[t]}function _O(t){return sO[t]}function EO(t){return lO[t]}function Rl(t){return{fieldPath:t.canonicalString()}}function Nl(t){return Sn.fromServerFormat(t.fieldPath)}function c1(t){return t instanceof tn?(function(n){if(n.op==="=="){if($S(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NAN"}};if(JS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($S(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NAN"}};if(JS(n.value))return{unaryFilter:{field:Rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rl(n.field),op:_O(n.op),value:n.value}}})(t):t instanceof Wi?(function(n){const i=n.getFilters().map((o=>c1(o)));return i.length===1?i[0]:{compositeFilter:{op:EO(n.op),filters:i}}})(t):ke(54877,{filter:t})}function TO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function f1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,i,o,l=Ue.min(),u=Ue.min(),f=An.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.yt=e}}function AO(t){const e=gO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Cn=new CO}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(Bo.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class CO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new ln(Ct.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new ln(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d1=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(d1,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yl(0)}static cr(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="LruGarbageCollector",wO=1048576;function uA([t,e],[n,i]){const o=We(t,n);return o===0?We(e,i):o}class IO{constructor(e){this.Ir=e,this.buffer=new ln(uA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();uA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(aA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?Ae(aA,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.Vr(3e5)}))}}class RO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(_d.ce);const i=new IO(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(lA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(d=Date.now(),Il()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function NO(t,e){return new RO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.changes=new Ns((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Su(i.mutation,o,ui.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ze()){const o=As();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((l=>{let u=du();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=As();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ze())))}populateOverlays(e,n,i){const o=[];return i.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let l=Wr();const u=Tu(),f=(function(){return Tu()})();return n.forEach(((p,d)=>{const y=i.get(d.key);o.has(d.key)&&(y===void 0||y.mutation instanceof Xo)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),Su(y.mutation,d,y.mutation.getFieldMask(),Nt.now())):u.set(d.key,ui.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new DO(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Tu();let o=new Vt(((u,f)=>u-f)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=i.get(p)||ui.empty();y=f.applyToLocalView(d,y),i.set(p,y);const E=(o.get(f.batchId)||Ze()).add(p);o=o.insert(f.batchId,E)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,E=KC();y.forEach((T=>{if(!l.has(T)){const A=e1(n.get(T),i.get(T));A!==null&&E.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return fe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):HC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):fe.resolve(As());let f=Iu,p=l;return u.next((d=>fe.forEach(d,((y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?fe.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,Ze()))).next((y=>({batchId:f,changes:$C(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((i=>{let o=du();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=du();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(p=>{const d=(function(E,T){return new na(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((y=>{y.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,bn.newInvalidDocument(y)))}));let f=du();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&Su(y.mutation,d,ui.empty(),Nt.now()),Ad(n,d)&&(f=f.insert(p,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:AO(o.bundledQuery),readTime:Sr(o.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new Vt(Me.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=As();return fe.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,l)=>{this.St(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=As(),l=n.length+1,u=new Me(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new Vt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let y=l.get(d.largestBatchId);y===null&&(y=As(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=As(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=o)););return fe.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Z5(n,i));let l=this.qr.get(n);l===void 0&&(l=Ze(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new ln(dn.$r),this.Ur=new ln(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new dn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Me(new Ct([])),i=new dn(n,e),o=new dn(n,e+1),l=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Ct([])),i=new dn(n,e),o=new dn(n,e+1);let l=Ze();return this.Ur.forEachInRange([i,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(dn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new W5(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Ug:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dn(n,0),o=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ln(We);return n.forEach((o=>{const l=new dn(o,0),u=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Me(l),0);let f=new ln(We);return this.Zr.forEachWhile((p=>{const d=p.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(f=f.add(p.Yr)),!0)}),u),fe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(n.mutations,(o=>{const l=new dn(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new dn(n,0),o=this.Zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=Wr();return n.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():bn.newInvalidDocument(o))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Wr();const u=n.path,f=new Me(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||h5(d5(y),i)<=0||(o.has(y.key)||Ad(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ke(9500)}ii(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new FO(this)}getSize(e){return fe.resolve(this.size)}}class FO extends MO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.persistence=e,this.si=new Ns((n=>zg(n)),Bg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=Yl.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),fe.waitFor(l).next((()=>o))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n){this.ui={},this.overlays={},this.ci=new _d(0),this.li=!1,this.li=!0,this.hi=new LO,this.referenceDelegate=e(this),this.Pi=new zO(this),this.indexManager=new xO,this.remoteDocumentCache=(function(o){return new OO(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new SO(n),this.Ii=new PO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new UO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ae("MemoryPersistence","Starting transaction:",e);const o=new BO(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class BO extends m5{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const o=Me.fromPath(i);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class nd{constructor(e,n){this.persistence=e,this.pi=new Ns((i=>v5(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=NO(this,n)}static mi(e,n){return new nd(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?fe.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Ue.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mf(e.data.value)),n}br(e,n,i){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ze(),o=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P3()?8:g5(D3())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,o,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new qO;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(Il()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(Il()<=it.DEBUG&&Ae("QueryEngine","Query:",bl(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(Il()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):fe.resolve())}ys(e,n){if(jS(n))return fe.resolve(null);let i=Tr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),i=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ze(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const d=this.Ds(n,f);return this.Cs(n,d,u,p.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,d,n,p)}))))})))))}ws(e,n,i,o){return jS(n)||o.isEqual(Ue.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?fe.resolve(null):(Il()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bl(n)),this.vs(e,u,n,f5(o,Iu)).next((f=>f)))}))}Ds(e,n){let i=new ln(YC(e));return n.forEach(((o,l)=>{Ad(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return Il()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",bl(n)),this.ps.getDocumentsMatchingQuery(e,n,Bo.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",GO=3e8;class YO{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Vt(We),this.xs=new Ns((l=>zg(l)),Bg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JO(t,e,n,i){return new YO(t,e,n,i)}async function p1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=Ze();for(const d of o){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function $O(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const E=d.batch,T=E.keys();let A=fe.resolve();return T.forEach((k=>{A=A.next((()=>y.getEntry(p,k))).next((U=>{const L=d.docVersions.get(k);dt(L!==null,48541),U.version.compareTo(L)<0&&(E.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),y.addEntry(U)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(p,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ze();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function m1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function KO(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((y,E)=>{const T=o.get(E);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,E))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(An.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(E,A),(function(U,L,z){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=GO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,y)&&f.push(n.Pi.updateTargetData(l,A))}));let p=Wr(),d=Ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(QO(l,u,e.documentUpdates).next((y=>{p=y.ks,d=y.qs}))),!i.isEqual(Ue.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function QO(t,e,n){let i=Ze(),o=Ze();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Wr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Ae(Xg,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function XO(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Ug),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jO(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((l=>l?(o=l,fe.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Vo(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Zm(t,e,n){const i=Fe(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ta(u))throw u;Ae(Xg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function cA(t,e,n){const i=Fe(t);let o=Ue.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const E=Fe(p),T=E.xs.get(y);return T!==void 0?fe.resolve(E.Ms.get(T)):E.Pi.getTargetData(d,y)})(i,u,Tr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Ue.min(),n?l:Ze()))).next((f=>(WO(i,U5(e),f),{documents:f,Qs:l})))))}function WO(t,e,n){let i=t.Os.get(e)||Ue.min();n.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class fA{constructor(){this.activeTargetIds=H5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.Mo=new fA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA="ConnectivityMonitor";class hA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(dA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(dA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function eg(){return xf===null?xf=(function(){return 268435456+Math.round(2147483648*Math.random())})():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",t9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Xf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=eg(),f=this.zo(e,n.toUriEncodedString());Ae(rm,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:d}=new URL(f),y=kg(d);return this.Jo(e,f,p,i,y).then((E=>(Ae(rm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Bl(rm,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const i=t9[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class r9 extends n9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=eg();return new Promise(((f,p)=>{const d=new yC;d.setWithCredentials(!0),d.listenOnce(vC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Nf.NO_ERROR:const E=d.getResponseJson();Ae(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Nf.TIMEOUT:Ae(wn,`RPC '${e}' ${u} timed out`),p(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case Nf.HTTP_ERROR:const T=d.getStatus();if(Ae(wn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A==null?void 0:A.error;if(k&&k.status&&k.message){const U=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(K)>=0?K:ce.UNKNOWN})(k.status);p(new Se(U,k.message))}else p(new Se(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(wn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);Ae(wn,`RPC '${e}' ${u} sending request:`,o),d.send(n,"POST",y,i,15)}))}T_(e,n,i){const o=eg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=TC(),f=EC(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(p.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");Ae(wn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=u.createWebChannel(y,p);this.I_(E);let T=!1,A=!1;const k=new i9({Yo:L=>{A?Ae(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(Ae(wn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Ae(wn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),U=(L,z,K)=>{L.listen(z,(Y=>{try{K(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return U(E,fu.EventType.OPEN,(()=>{A||(Ae(wn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),U(E,fu.EventType.CLOSE,(()=>{A||(A=!0,Ae(wn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(E))})),U(E,fu.EventType.ERROR,(L=>{A||(A=!0,Bl(wn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.a_(new Se(ce.UNAVAILABLE,"The operation could not be completed")))})),U(E,fu.EventType.MESSAGE,(L=>{var z;if(!A){const K=L.data[0];dt(!!K,16349);const Y=K,le=(Y==null?void 0:Y.error)||((z=Y[0])==null?void 0:z.error);if(le){Ae(wn,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let $=(function(R){const O=Zt[R];if(O!==void 0)return n1(O)})(he),M=le.message;$===void 0&&($=ce.INTERNAL,M="Unknown error status: "+he+" with message "+le.message),A=!0,k.a_(new Se($,M)),E.close()}else Ae(wn,`RPC '${e}' stream ${o} received:`,K),k.u_(K)}})),U(f,_C.STAT_EVENT,(L=>{L.stat===Bm.PROXY?Ae(wn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&Ae(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new aO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="PersistentStream";class y1{constructor(e,n,i,o,l,u,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(jr(n.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Se(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(pA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(pA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o9 extends y1{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fO(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ue.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?Sr(u.readTime):Ue.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Jm(p)?{documents:pO(l,p)}:{query:mO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=o1(l,u.resumeToken);const d=Qm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=td(l,u.snapshotVersion.toTimestamp());const d=Qm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=yO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class s9 extends y1{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hO(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>dO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{}class a9 extends l9{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Xm(n,i),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ce.UNKNOWN,l.toString())}))}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Xm(n,i),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class c9{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ms(this)&&(Ae(ws,"Restarting streams for network reachability change."),await(async function(p){const d=Fe(p);d.Ea.add(4),await Fu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await bd(d)})(this))}))})),this.Ra=new u9(i,o)}}async function bd(t){if(Ms(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function v1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ey(n)?Zg(n):ia(n).O_()&&Wg(n,e))}function jg(t,e){const n=Fe(t),i=ia(n);n.Ia.delete(e),i.O_()&&_1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ms(n)&&n.Ra.set("Unknown"))}function Wg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).Y_(e)}function _1(t,e){t.Va.Ue(e),ia(t).Z_(e)}function Zg(t){t.Va=new rO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.Ra.ua()}function ey(t){return Ms(t)&&!ia(t).x_()&&t.Ia.size>0}function Ms(t){return Fe(t).Ea.size===0}function E1(t){t.Va=void 0}async function f9(t){t.Ra.set("Online")}async function d9(t){t.Ia.forEach(((e,n)=>{Wg(t,e)}))}async function h9(t,e){E1(t),ey(t)?(t.Ra.ha(e),Zg(t)):t.Ra.set("Unknown")}async function p9(t,e,n){if(t.Ra.set("Online"),e instanceof r1&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){Ae(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await id(t,i)}else if(e instanceof Pf?t.Va.Ze(e):e instanceof i1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const i=await m1(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),_1(l,p);const E=new Vo(y.target,p,d,y.sequenceNumber);Wg(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){Ae(ws,"Failed to raise snapshot:",i),await id(t,i)}}async function id(t,e,n){if(!ta(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>m1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await bd(t)}))}function T1(t,e){return e().catch((n=>id(t,n,e)))}async function Rd(t){const e=Fe(t),n=Yo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ug;for(;m9(e);)try{const o=await XO(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,g9(e,o)}catch(o){await id(e,o)}S1(e)&&A1(e)}function m9(t){return Ms(t)&&t.Ta.length<10}function g9(t,e){t.Ta.push(e);const n=Yo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function S1(t){return Ms(t)&&!Yo(t).x_()&&t.Ta.length>0}function A1(t){Yo(t).start()}async function y9(t){Yo(t).ra()}async function v9(t){const e=Yo(t);for(const n of t.Ta)e.ea(n.mutations)}async function _9(t,e,n){const i=t.Ta.shift(),o=Gg.from(i,e,n);await T1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Rd(t)}async function E9(t,e){e&&Yo(t).X_&&await(async function(i,o){if((function(u){return tO(u)&&u!==ce.ABORTED})(o.code)){const l=i.Ta.shift();Yo(i).B_(),await T1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Rd(i)}})(t,e),S1(t)&&A1(t)}async function mA(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Ae(ws,"RemoteStore received new credentials");const i=Ms(n);n.Ea.add(3),await Fu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bd(n)}async function T9(t,e){const n=Fe(t);e?(n.Ea.delete(2),await bd(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function ia(t){return t.ma||(t.ma=(function(n,i,o){const l=Fe(n);return l.sa(),new o9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:f9.bind(null,t),t_:d9.bind(null,t),r_:h9.bind(null,t),H_:p9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ey(t)?Zg(t):t.Ra.set("Unknown")):(await t.ma.stop(),E1(t))}))),t.ma}function Yo(t){return t.fa||(t.fa=(function(n,i,o){const l=Fe(n);return l.sa(),new s9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:y9.bind(null,t),r_:E9.bind(null,t),ta:v9.bind(null,t),na:_9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Rd(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Fo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new ty(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(jr("AsyncQueue",`${e}: ${t}`),ta(t))return new Se(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=du(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.ga=new Vt(Me.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Jl{constructor(e,n,i,o,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Jl(e,n,Ol.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A9{constructor(){this.queries=yA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),l=o.queries;o.queries=yA(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Se(ce.ABORTED,"Firestore shutting down"))}}function yA(){return new Ns((t=>GC(t)),Sd)}async function x9(t,e){const n=Fe(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new S9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=ny(u,`Initialization of query '${bl(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&iy(n)}async function C9(t,e){const n=Fe(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w9(t,e){const n=Fe(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&iy(n)}function I9(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function iy(t){t.Ca.forEach((e=>{e.next()}))}var tg,vA;(vA=tg||(tg={})).Ma="default",vA.Cache="cache";class b9{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class R9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=YC(e),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new gA,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,E)=>{const T=o.get(y),A=Ad(this.query,E)?E:null,k=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;T&&A?T.data.isEqual(A.data)?k!==U&&(i.track({type:3,doc:A}),L=!0):this.su(T,A)||(i.track({type:2,doc:A}),L=!0,(p&&this.eu(A,p)>0||d&&this.eu(A,d)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),L=!0):T&&!A&&(i.track({type:1,doc:T}),L=!0,(p||d)&&(f=!0)),L&&(A?(u=u.add(A),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,E)=>(function(A,k){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:L})}};return U(A)-U(k)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,d=p!==this.Za;return this.Za=p,u.length!==0||d?{snapshot:new Jl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new C1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new x1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ry="SyncEngine";class N9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ns((f=>GC(f)),Sd),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Me.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=Yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k9(t,e,n=!0){const i=M1(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await w1(i,e,n,!0),o}async function P9(t,e){const n=M1(t);await w1(n,e,!0,!1)}async function w1(t,e,n,i){const o=await jO(t.localStore,Tr(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await V9(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&v1(t.remoteStore,o),f}async function V9(t,e,n,i,o){t.pu=(E,T,A)=>(async function(U,L,z,K){let Y=L.view.ru(z);Y.Cs&&(Y=await cA(U.localStore,L.query,!1).then((({documents:M})=>L.view.ru(M,Y))));const le=K&&K.targetChanges.get(L.targetId),he=K&&K.targetMismatches.get(L.targetId)!=null,$=L.view.applyChanges(Y,U.isPrimaryClient,le,he);return EA(U,L.targetId,$.au),$.snapshot})(t,E,T,A);const l=await cA(t.localStore,e,!0),u=new R9(e,l.Qs),f=u.ru(l.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),d=u.applyChanges(f,t.isPrimaryClient,p);EA(t,n,d.au);const y=new N9(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function L9(t,e,n){const i=Fe(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((u=>!Sd(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&jg(i.remoteStore,o.targetId),ng(i,o.targetId)})).catch(ea)):(ng(i,o.targetId),await Zm(i.localStore,o.targetId,!0))}async function U9(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jg(n.remoteStore,i.targetId))}async function O9(t,e,n){const i=Y9(t);try{const o=await(function(u,f){const p=Fe(u),d=Nt.now(),y=f.reduce(((A,k)=>A.add(k.key)),Ze());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=Wr(),U=Ze();return p.Ns.getEntries(A,y).next((L=>{k=L,k.forEach(((z,K)=>{K.isValidDocument()||(U=U.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,k))).next((L=>{E=L;const z=[];for(const K of f){const Y=X5(K,E.get(K.key).overlayedDocument);Y!=null&&z.push(new Xo(K.key,Y,VC(Y.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(A,d,z,f)})).next((L=>{T=L;const z=L.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(A,L.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:$C(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let d=u.Vu[u.currentUser.toKey()];d||(d=new Vt(We)),d=d.insert(f,p),u.Vu[u.currentUser.toKey()]=d})(i,o.batchId,n),await zu(i,o.changes),await Rd(i.remoteStore)}catch(o){const l=ny(o,"Failed to persist write");n.reject(l)}}async function I1(t,e){const n=Fe(t);try{const i=await KO(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?dt(u.hu,14607):o.removedDocuments.size>0&&(dt(u.hu,42227),u.hu=!1))})),await zu(n,i,e)}catch(i){await ea(i)}}function _A(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=Fe(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,E)=>{for(const T of E.Sa)T.va(f)&&(d=!0)})),d&&iy(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new Vt(Me.comparator);u=u.insert(l,bn.newNoDocument(l,Ue.min()));const f=Ze().add(l),p=new wd(Ue.min(),new Map,new Vt(We),u,f);await I1(i,p),i.du=i.du.remove(l),i.Au.delete(e),oy(i)}else await Zm(i.localStore,e,!1).then((()=>ng(i,e,n))).catch(ea)}async function z9(t,e){const n=Fe(t),i=e.batch.batchId;try{const o=await $O(n.localStore,e);R1(n,i,null),b1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zu(n,o)}catch(o){await ea(o)}}async function B9(t,e,n){const i=Fe(t);try{const o=await(function(u,f){const p=Fe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((E=>(dt(E!==null,37113),y=E.keys(),p.mutationQueue.removeMutationBatch(d,E)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(i.localStore,e);R1(i,e,n),b1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zu(i,o)}catch(o){await ea(o)}}function b1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function R1(t,e,n){const i=Fe(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||N1(t,i)}))}function N1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),oy(t))}function EA(t,e,n){for(const i of n)i instanceof x1?(t.Ru.addReference(i.key,e),q9(t,i)):i instanceof C1?(Ae(ry,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||N1(t,i.key)):ke(19791,{wu:i})}function q9(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ae(ry,"New document in limbo: "+n),t.Eu.add(i),oy(t))}function oy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Ct.fromString(e)),i=t.fu.next();t.Au.set(i,new M9(n)),t.du=t.du.insert(n,i),v1(t.remoteStore,new Vo(Tr(qC(n.path)),i,"TargetPurposeLimboResolution",_d.ce))}}async function zu(t,e,n){const i=Fe(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((d=>{var y;if((d||n)&&i.isPrimaryClient){const E=d?!d.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(d){o.push(d);const E=Qg.As(p.targetId,d);l.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(p,d){const y=Fe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>fe.forEach(d,(T=>fe.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>fe.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!ta(E))throw E;Ae(Xg,"Failed to update sequence numbers: "+E)}for(const E of d){const T=E.targetId;if(!E.fromCache){const A=y.Ms.get(T),k=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(k);y.Ms=y.Ms.insert(T,U)}}})(i.localStore,l))}async function H9(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Ae(ry,"User change. New user:",e.toKey());const i=await p1(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Se(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zu(n,i.Ls)}}function G9(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let o=Ze();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function M1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Pu.H_=w9.bind(null,e.eventManager),e.Pu.yu=I9.bind(null,e.eventManager),e}function Y9(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B9.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JO(this.persistence,new HO,e.initialUser,this.serializer)}Cu(e){return new h1(Kg.mi,this.serializer)}Du(e){return new ZO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class J9 extends rd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof nd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new bO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new h1((i=>nd.mi(i,n)),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_A(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await T9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A9})()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),i=(function(l){return new r9(l)})(e.databaseInfo);return(function(l,u,f,p){return new a9(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,l,u,f){return new c9(i,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>_A(this.syncEngine,n,0)),(function(){return hA.v()?new hA:new e9})())}createSyncEngine(e,n){return(function(o,l,u,f,p,d,y){const E=new D9(o,l,u,f,p,d);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Fe(o);Ae(ws,"RemoteStore shutting down."),l.Ea.add(5),await Fu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ig.provider={build:()=>new ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="FirestoreClient";class K9{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{Ae(Jo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ae(Jo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ny(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function sm(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Jo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await p1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q9(t);Ae(Jo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>mA(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>mA(e.remoteStore,o))),t._onlineComponents=e}async function Q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Jo,"Using user provided OfflineComponentProvider");try{await sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await sm(t,new rd)}}else Ae(Jo,"Using default OfflineComponentProvider"),await sm(t,new J9(void 0));return t._offlineComponents}async function D1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Jo,"Using user provided OnlineComponentProvider"),await TA(t,t._uninitializedComponentsProvider._online)):(Ae(Jo,"Using default OnlineComponentProvider"),await TA(t,new ig))),t._onlineComponents}function X9(t){return D1(t).then((e=>e.syncEngine))}async function j9(t){const e=await D1(t),n=e.eventManager;return n.onListen=k9.bind(null,e.syncEngine),n.onUnlisten=L9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U9.bind(null,e.syncEngine),n}function W9(t,e,n={}){const i=new Fo;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new $9({next:T=>{y.Nu(),u.enqueueAndForget((()=>C9(l,E))),T.fromCache&&p.source==="server"?d.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),E=new b9(f,y,{includeMetadataChanges:!0,qa:!0});return x9(l,E)})(await j9(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firestore.googleapis.com",AA=!0;class xA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P1,this.ssl=AA}else this.host=e.host,this.ssl=e.ssl??AA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wO)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new e5;switch(i.type){case"firstParty":return new r5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=SA.get(n);i&&(Ae("ComponentProvider","Removing Datastore"),SA.delete(n),i.terminate())})(this),Promise.resolve()}}function Z9(t,e,n,i={}){var d;t=Cs(t,Nd);const o=kg(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(I3(`https://${f}`),M3("Firestore",!0)),l.host!==P1&&l.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!Jf(p,u)&&(t._setSettings(p),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=In.MOCK_USER;else{y=b3(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new In(T)}t._authCredentials=new t5(new AC(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Lu(n,sn._jsonSchema))return new sn(e,i||null,new Me(Ct.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:nn("string",sn._jsonSchemaVersion),referencePath:nn("string")};class zo extends Ds{constructor(e,n,i){super(e,n,qC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Me(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function Is(t,e,...n){if(t=Qr(t),xC("collection","path",e),t instanceof Nd){const i=Ct.fromString(e,...n);return US(i),new zo(t,null,i)}{if(!(t instanceof sn||t instanceof zo))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return US(i),new zo(t.firestore,null,i)}}function ks(t,e,...n){if(t=Qr(t),arguments.length===1&&(e=Lg.newId()),xC("doc","path",e),t instanceof Nd){const i=Ct.fromString(e,...n);return LS(i),new sn(t,null,new Me(i))}{if(!(t instanceof sn||t instanceof zo))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return LS(i),new sn(t.firestore,t instanceof zo?t.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="AsyncQueue";class wA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{const i=om();i&&Ae(CA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Fo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;Ae(CA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",IA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ty.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:IA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bu extends Nd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new wA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wA(e),this._firestoreClient=void 0,await e}}}function eF(t,e){const n=typeof t=="object"?t:B6(),i=typeof t=="string"?t:Xf,o=L6(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=C3("firestore");l&&Z9(o,...l)}return o}function V1(t){if(t._terminated)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tF(t),t._firestoreClient}function tF(t){var i,o,l;const e=t._freezeSettings(),n=(function(f,p,d,y){return new T5(f,p,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,k1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Di(An.fromBase64String(e))}catch(n){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Di(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Di._jsonSchema))return Di.fromBase64String(e.bytes)}}Di._jsonSchemaVersion="firestore/bytes/1.0",Di._jsonSchema={type:nn("string",Di._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:nn("string",Ar._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xr(e.vectorValues);throw new Se(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:nn("string",xr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/^__.*__$/;class iF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class L1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Xo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class ly{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ly({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return od(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U1(this.Ac)&&nF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Id(e)}Cc(e,n,i,o=!1){return new ly({Ac:e,methodName:n,Dc:i,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ay(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new rF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oF(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);uy("Data must be an object, but it was:",u,i);const f=O1(i,u);let p,d;if(l.merge)p=new ui(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=rg(e,E,n);if(!u.contains(T))throw new Se(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);z1(y,T)||y.push(T)}p=new ui(y),d=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,d=u.fieldTransforms;return new iF(new $n(f),p,d)}class Dd extends sy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dd}}function sF(t,e,n,i){const o=t.Cc(1,e,n);uy("Data must be an object, but it was:",o,i);const l=[],u=$n.empty();Qo(i,((p,d)=>{const y=cy(e,p,n);d=Qr(d);const E=o.yc(y);if(d instanceof Dd)l.push(y);else{const T=qu(d,E);T!=null&&(l.push(y),u.set(y,T))}}));const f=new ui(l);return new L1(u,f,o.fieldTransforms)}function lF(t,e,n,i,o,l){const u=t.Cc(1,e,n),f=[rg(e,i,n)],p=[o];if(l.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(rg(e,l[T])),p.push(l[T+1]);const d=[],y=$n.empty();for(let T=f.length-1;T>=0;--T)if(!z1(d,f[T])){const A=f[T];let k=p[T];k=Qr(k);const U=u.yc(A);if(k instanceof Dd)d.push(A);else{const L=qu(k,U);L!=null&&(d.push(A),y.set(A,L))}}const E=new ui(d);return new L1(y,E,u.fieldTransforms)}function aF(t,e,n,i=!1){return qu(n,t.Cc(i?4:3,e))}function qu(t,e){if(F1(t=Qr(t)))return uy("Unsupported field value:",e,t),O1(t,e);if(t instanceof sy)return(function(i,o){if(!U1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let u=0;for(const f of i){let p=qu(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,o){if((i=Qr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G5(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:td(o.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:td(o.serializer,l)}}if(i instanceof Ar)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Di)return{bytesValue:o1(o.serializer,i._byteString)};if(i instanceof sn){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof xr)return(function(u,f){return{mapValue:{fields:{[kC]:{stringValue:PC},[jf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return qg(f.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${vd(i)}`)})(t,e)}function O1(t,e){const n={};return IC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qo(t,((i,o)=>{const l=qu(o,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function F1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Ar||t instanceof Di||t instanceof sn||t instanceof sy||t instanceof xr)}function uy(t,e,n){if(!F1(n)||!CC(n)){const i=vd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function rg(t,e,n){if((e=Qr(e))instanceof Md)return e._internalPath;if(typeof e=="string")return cy(t,e);throw od("Field path arguments must be of type string or ",t,!1,void 0,n)}const uF=new RegExp("[~\\*/\\[\\]]");function cy(t,e,n){if(e.search(uF)>=0)throw od(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Md(...e.split("."))._internalPath}catch{throw od(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function od(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new Se(ce.INVALID_ARGUMENT,f+t+p)}function z1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cF extends B1{data(){return super.data()}}function fy(t,e){return typeof e=="string"?cy(t,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dy{}class q1 extends dy{}function hy(t,e,...n){let i=[];e instanceof dy&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof my)).length,f=l.filter((p=>p instanceof py)).length;if(u>1||u>0&&f>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class py extends q1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new py(e,n,i)}_apply(e){const n=this._parse(e);return H1(e._query,n),new Ds(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=ay(e.firestore);return(function(l,u,f,p,d,y,E){let T;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){RA(E,y);const k=[];for(const U of E)k.push(bA(p,l,U));T={arrayValue:{values:k}}}else T=bA(p,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||RA(E,y),T=aF(f,u,E,y==="in"||y==="not-in");return tn.create(d,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class my extends dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new my(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)H1(u,p),u=$m(u,p)})(e._query,n),new Ds(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gy extends q1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gy(e,n)}_apply(e){const n=(function(o,l,u){if(o.startAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(l,u)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new na(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function dF(t,e="asc"){const n=e,i=fy("orderBy",t);return gy._create(i,n)}function bA(t,e,n){if(typeof(n=Qr(n))=="string"){if(n==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HC(e)&&n.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ct.fromString(n));if(!Me.isDocumentKey(i))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return YS(t,new Me(i))}if(n instanceof sn)return YS(t,n._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vd(n)}.`)}function RA(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function H1(t,e){const n=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hF{convertValue(e,n="none"){switch(Go(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ho(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qo(e,((o,l)=>{i[o]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,o,l;const n=(l=(o=(i=e.fields)==null?void 0:i[jf].arrayValue)==null?void 0:o.values)==null?void 0:l.map((u=>Gt(u.doubleValue)));return new xr(n)}convertGeoPoint(e){return new Ar(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Td(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=qo(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);dt(f1(i),9688,{name:e});const o=new Ru(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return o.isEqual(n)||jr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Cf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fl extends B1{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(fy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fl._jsonSchema={type:nn("string",Fl._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class Vf extends Fl{data(e={}){return super.data(e)}}class zl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cf(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Vf(this._firestore,this._userDataWriter,i.key,i,new Cf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new Vf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cf(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Vf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Cf(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:mF(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:nn("string",zl._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class gF extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function yy(t){t=Cs(t,Ds);const e=Cs(t.firestore,Bu),n=V1(e),i=new gF(e);return fF(t._query),W9(n,t._query).then((o=>new zl(e,i,t,o)))}function vy(t,e,n,...i){t=Cs(t,sn);const o=Cs(t.firestore,Bu),l=ay(o);let u;return u=typeof(e=Qr(e))=="string"||e instanceof Md?lF(l,"updateDoc",t._key,e,n,i):sF(l,"updateDoc",t._key,e),_y(o,[u.toMutation(t._key,ji.exists(!0))])}function G1(t){return _y(Cs(t.firestore,Bu),[new Hg(t._key,ji.none())])}function sd(t,e){const n=Cs(t.firestore,Bu),i=ks(t),o=pF(t.converter,e);return _y(n,[oF(ay(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,ji.exists(!1))]).then((()=>i))}function _y(t,e){return(function(i,o){const l=new Fo;return i.asyncQueue.enqueueAndForget((async()=>O9(await X9(i),o,l))),l.promise})(V1(t),e)}(function(e,n=!0){(function(o){Zl=o})(z6),Kf(new Cu("firestore",((i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Bu(new n5(i.getProvider("auth-internal")),new o5(u,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(d.options.projectId,y)})(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ul(DS,kS,e),Ul(DS,kS,"esm2020")})();const yF={apiKey:"AIzaSyDgdUYq80uSRJLQcJYMzQM6nk77D4ql5Rg",authDomain:"tabibfaqih.firebaseapp.com",projectId:"tabibfaqih",storageBucket:"tabibfaqih.firebasestorage.app",messagingSenderId:"202460803784",appId:"1:202460803784:web:9c6cd0a97b622206f4abfd",measurementId:"G-KMCRY4YDWN"},vF=hC(yF),ci=eF(vF),kd="fatwas",Pd="lataif",_F=async()=>{try{const t=hy(Is(ci,kd)),e=await yy(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching fatwas: ",t),[]}},EF=async t=>{try{return(await sd(Is(ci,kd),t)).id}catch(e){return console.error("Error adding fatwa: ",e),null}},TF=async t=>{try{return await G1(ks(ci,kd,t)),!0}catch(e){return console.error("Error deleting fatwa: ",e),!1}},SF=async t=>{if(!t._firestoreId)return!1;try{const e=ks(ci,kd,t._firestoreId),{_firestoreId:n,...i}=t;return await vy(e,i),!0}catch(e){return console.error("Error updating fatwa: ",e),!1}},AF=async()=>{try{const t=hy(Is(ci,Pd),dF("id")),e=await yy(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching lataif: ",t),[]}},xF=async t=>{try{const e=JSON.parse(JSON.stringify(t));return(await sd(Is(ci,Pd),e)).id}catch(e){return console.error("Error adding latifa: ",e),null}},CF=async t=>{if(!t._firestoreId)return!1;try{const e=ks(ci,Pd,t._firestoreId),{_firestoreId:n,...i}=t;return await vy(e,i),!0}catch(e){return console.error("Error updating latifa: ",e),!1}},wF=async t=>{try{return await G1(ks(ci,Pd,t)),!0}catch(e){return console.error("Error deleting latifa: ",e),!1}},Au="admin_settings",og="password",IF=async()=>{try{const t=ks(ci,Au,og),e=await yy(hy(Is(ci,Au)));for(const n of e.docs)if(n.id===og){const i=n.data();return(i==null?void 0:i.password)||null}return null}catch(t){return console.error("Error fetching admin password: ",t),null}},bF=async t=>{try{const e=ks(ci,Au,og);return await vy(e,{password:t,updatedAt:new Date().toISOString()}).catch(async()=>{await sd(Is(ci,Au),{password:t,updatedAt:new Date().toISOString()})}),!0}catch(e){console.error("Error updating admin password: ",e);try{return await sd(Is(ci,Au),{password:t,updatedAt:new Date().toISOString()}),!0}catch(n){return console.error("Error creating admin password doc: ",n),!1}}};var lm={};const RF={[Pt.SURGERY]:"surg",[Pt.WOMEN_PREGNANCY]:"obgyn",[Pt.ICU_DEATH]:"icu",[Pt.FASTING_MEDICINE]:"fast",[Pt.ETHICS]:"ethics",[Pt.GENETICS_REPRODUCTION]:"genetic",[Pt.TATTOO_CORTISONE]:"tattoo",[Pt.PRAYER_PURITY]:"prayer",[Pt.MEDICAL_EXPERIMENTS]:"exp",[Pt.PHARMACY_DRUGS]:"pharm",[Pt.MISCELLANEOUS]:"misc"},NF=({onClose:t,onAddFatwa:e,onDeleteFatwa:n,onUpdateFatwa:i,currentFatwas:o,currentLataif:l,onAddLatifa:u,onUpdateLatifa:f,onDeleteLatifa:p})=>{var Ls;const[d,y]=Ne.useState(!1),[E,T]=Ne.useState(""),[A,k]=Ne.useState(""),[U,L]=Ne.useState(!1),[z,K]=Ne.useState(null),[Y,le]=Ne.useState(!1),[he,$]=Ne.useState(""),[M,D]=Ne.useState(""),[R,O]=Ne.useState(""),[V,B]=Ne.useState(""),[P,ye]=Ne.useState(""),[me,Q]=Ne.useState(!1);Ne.useEffect(()=>{(async()=>{const Ye=await IF();K(Ye||lm.VITE_ADMIN_PASSWORD||"Faioumy9954")})()},[]);const X=async ae=>{ae.preventDefault(),L(!0),k("");const Ye=z||lm.VITE_ADMIN_PASSWORD||"Faioumy9954";E===Ye?(y(!0),T("")):k("   "),L(!1)},de=async ae=>{ae.preventDefault(),B(""),ye(""),Q(!0);const Ye=z||lm.VITE_ADMIN_PASSWORD||"Faioumy9954";if(he!==Ye){B("    "),Q(!1);return}if(M.length<6){B("      6   "),Q(!1);return}if(M!==R){B("    "),Q(!1);return}await bF(M)?(K(M),ye("      "),$(""),D(""),O(""),setTimeout(()=>{le(!1),ye("")},2e3)):B("     "),Q(!1)},[Ee,F]=Ne.useState("fatwas"),[H,ie]=Ne.useState("add"),[b,pe]=Ne.useState({verdict:"CONDITIONAL",tags:[]}),[Ie,Ce]=Ne.useState(""),[Ve,at]=Ne.useState(""),[tt,pn]=Ne.useState(!1),[Mn,Li]=Ne.useState(!1),[er,mn]=Ne.useState(!1),[Xn,fi]=Ne.useState(""),[di,Ir]=Ne.useState(""),[ht,St]=Ne.useState(null),[Dn,br]=Ne.useState("add"),[Yt,It]=Ne.useState({text:"",category:"",source:""}),[hi,oe]=Ne.useState(""),[ge,be]=Ne.useState(null),[qe,Je]=Ne.useState(void 0),[rn,xn]=Ne.useState(0);Ne.useEffect(()=>{if(l.length>0){const ae=Math.max(...l.map(Ye=>Ye.id));xn(ae+1)}else xn(1)},[l,Dn]);const kt=()=>{y(!1),T("")};Ne.useEffect(()=>{b.category&&!b.id&&At(b.category)},[b.category]);const At=ae=>{const Ye=RF[ae],zt=o.filter(to=>to.category===ae).length+1,vi=new Date().getFullYear(),Oi=`${Ye}_${String(zt).padStart(3,"0")}_${vi}`;pe(to=>({...to,id:Oi}))},Lt=()=>b.title&&b.category&&b.question&&b.ruling&&b.id,$e=()=>{if(!Lt()){alert("    (   )");return}mn(!0)},jn=()=>{b&&Lt()&&(ht?(i(b),alert("   "),St(null)):(e(b),alert("   ")),pe({verdict:"CONDITIONAL",tags:[]}),mn(!1),at(""))},an=ae=>{pe(ae),St(ae.id),ie("add")},Ps=()=>{pe({verdict:"CONDITIONAL",tags:[]}),St(null)},pi=()=>{if(!Lt()){alert("    (   )");return}const ae=`  {
    id: '${b.id}',
    category: CategoryId.${b.category},
    title: '${b.title}',
    question: '${b.question}',
    medical_context: '${b.medical_context||""}',
    ruling: \`${b.ruling}\`,
    verdict: '${b.verdict}',
    source: '${b.source||""}',
    tags: [${(b.tags||[]).map(Ye=>`'${Ye}'`).join(", ")}]
  },`;at(ae)},Rr=ae=>{navigator.clipboard.writeText(ae),pn(!0),setTimeout(()=>pn(!1),2e3)},Ut=ae=>{ae.key==="Enter"&&Ie.trim()&&(ae.preventDefault(),pe(Ye=>({...Ye,tags:[...Ye.tags||[],Ie.trim()]})),Ce(""))},mi=ae=>{pe(Ye=>({...Ye,tags:(Ye.tags||[]).filter(zt=>zt!==ae)}))},gi=async()=>{if(!b.title){alert("    ");return}Li(!0);try{const ae=await p3(b.title);pe(Ye=>({...Ye,medical_context:ae.medical_context,tags:[...Ye.tags||[],...ae.tags]}))}catch(ae){console.error(ae),alert("    ")}finally{Li(!1)}},kn=o.filter(ae=>{const Ye=ae.title.includes(Xn)||ae.id.includes(Xn)||ae.question.includes(Xn),zt=di?ae.category===di:!0;return Ye&&zt}),ra=()=>{if(!Yt.text){alert("   ");return}if(ge!==null){const ae={id:ge,text:Yt.text,category:Yt.category||void 0,source:Yt.source||void 0,_firestoreId:qe};f(ae),alert("   "),be(null),Je(void 0)}else{const ae={id:rn,text:Yt.text,category:Yt.category||void 0,source:Yt.source||void 0};u(ae),alert("   "),xn(Ye=>Ye+1)}It({text:"",category:"",source:""})},Vs=ae=>{It({text:ae.text,category:ae.category||"",source:ae.source||""}),be(ae.id),Je(ae._firestoreId),br("add")},yi=()=>{be(null),Je(void 0),It({text:"",category:"",source:""})},Ui=l.filter(ae=>{var zt,vi;const Ye=hi.toLowerCase();return ae.text.toLowerCase().includes(Ye)||((zt=ae.category)==null?void 0:zt.toLowerCase().includes(Ye))||((vi=ae.source)==null?void 0:vi.toLowerCase().includes(Ye))});return d?er&&b?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm overflow-hidden",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-purple-50 rounded-t-3xl",children:[C.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[C.jsx(Z_,{className:"w-5 h-5"}),"  "]}),C.jsx("button",{onClick:()=>mn(!1),className:"p-2 hover:bg-purple-100 rounded-full text-purple-600",children:C.jsx(Lf,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:C.jsx("div",{className:"max-w-xl mx-auto",children:C.jsx(If,{fatwa:b})})}),C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white rounded-b-3xl flex gap-3",children:[C.jsxs("button",{onClick:()=>mn(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[C.jsx(zI,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:jn,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all hover:scale-[1.02]",children:[C.jsx(Cl,{className:"w-5 h-5"}),"  "]})]})]})}):Y?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-l from-purple-50 to-purple-100 rounded-t-3xl",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:C.jsx(tE,{className:"w-5 h-5 text-white"})}),C.jsx("h3",{className:"text-xl font-bold text-purple-800",children:"  "})]}),C.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"    "})]}),C.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:he,onChange:ae=>$(ae.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"   ",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:M,onChange:ae=>D(ae.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    (6   )",required:!0}),C.jsx("p",{className:`text-xs mt-1 ${M.length>=6?"text-green-600":"text-orange-600"}`,children:M.length>=6?"   ":`${M.length}/6 `})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),C.jsx("input",{type:"password",value:R,onChange:ae=>O(ae.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    ",required:!0}),R&&M!==R&&C.jsx("p",{className:"text-xs text-red-600 mt-1",children:"   "}),R&&M===R&&C.jsx("p",{className:"text-xs text-green-600 mt-1",children:" "})]}),V&&C.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm font-bold",children:V}),P&&C.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm font-bold flex items-center gap-2",children:[C.jsx(Cl,{className:"w-5 h-5"}),P]}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 mt-6",children:[C.jsx("button",{type:"button",onClick:()=>{le(!1),$(""),D(""),O(""),B(""),ye("")},className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold transition-colors",children:""}),C.jsx("button",{type:"submit",disabled:!he||!M||!R||M.length<6||M!==R||me,className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:me?C.jsxs(C.Fragment,{children:[C.jsx(eE,{className:"w-5 h-5 animate-spin"})," ..."]}):C.jsxs(C.Fragment,{children:[C.jsx(Cl,{className:"w-5 h-5"}),"  "]})})]})]})]})}):C.jsxs("div",{className:"fixed inset-0 bg-gray-100 z-50 overflow-y-auto font-cairo dir-rtl text-right",children:[C.jsxs("div",{className:"bg-[#7c3aed] text-white p-6 shadow-lg relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-20 -mt-20"}),C.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white opacity-5 rounded-full -ml-10 -mb-10"}),C.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center relative z-10",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:C.jsx(pb,{className:"w-6 h-6 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold",children:"  "}),C.jsx("p",{className:"text-purple-100 text-xs opacity-90",children:"   "})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-sm text-white font-bold",children:" "}),C.jsx("p",{className:"text-xs text-purple-100",children:" "})]}),C.jsxs("button",{onClick:()=>le(!Y),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-white text-sm font-bold flex items-center gap-2",title:"  ",children:[C.jsx(ff,{className:"w-4 h-4"}),"  "]}),C.jsx("button",{onClick:kt,className:"px-4 py-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors text-white text-sm font-bold",children:" "})]})]})]}),C.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:C.jsx("div",{className:"max-w-5xl mx-auto flex justify-center",children:C.jsxs("div",{className:"flex w-full max-w-md p-1 bg-gray-100 rounded-xl my-2",children:[C.jsxs("button",{onClick:()=>F("fatwas"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${Ee==="fatwas"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(ab,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>F("lataif"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${Ee==="lataif"?"bg-white text-amber-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(um,{className:"w-4 h-4"})," "]})]})})}),C.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[Ee==="fatwas"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>ie("add"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${H==="add"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Vp,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>ie("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${H==="list"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Lp,{className:"w-4 h-4"}),"  (",o.length,")"]})]}),H==="add"?C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx("div",{className:"lg:col-span-2 space-y-6",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-800",children:[C.jsx(Vp,{className:"w-6 h-6 text-[#7c3aed]"}),C.jsx("h2",{className:"text-xl font-bold",children:ht?" ":"  "}),ht&&C.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-bold",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] focus:border-transparent outline-none transition-all",value:b.category||"",onChange:ae=>pe({...b,category:ae.target.value}),children:[C.jsx("option",{value:"",children:" "}),pu.map(ae=>C.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (ID) - "}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm dir-ltr text-right",value:b.id||""}),C.jsx("button",{onClick:()=>b.category&&At(b.category),className:"p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:" ",children:C.jsx(Tb,{className:"w-5 h-5"})})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:":   ",value:b.title||"",onChange:ae=>pe({...b,title:ae.target.value})}),C.jsxs("button",{onClick:gi,disabled:Mn,className:"min-w-[140px] flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl px-4 font-bold text-xs shadow-md hover:shadow-lg transition-all active:scale-95 disabled:opacity-50",children:[Mn?C.jsx(eE,{className:"w-4 h-4 animate-spin"}):C.jsx(lg,{className:"w-4 h-4"}),Mn?" ...":" "]})]}),C.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'    " "       .'})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("textarea",{rows:3,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   ...",value:b.question||"",onChange:ae=>pe({...b,question:ae.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",value:b.verdict,onChange:ae=>pe({...b,verdict:ae.target.value}),children:[C.jsx("option",{value:"CONDITIONAL",children:" ( )"}),C.jsx("option",{value:"PERMITTED",children:" / "}),C.jsx("option",{value:"FORBIDDEN",children:" / "})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   -   ...",value:b.source||"",onChange:ae=>pe({...b,source:ae.target.value})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   *"}),C.jsx("div",{className:"bg-orange-50 border border-orange-100 p-2 rounded-lg mb-2 text-xs text-orange-700",children:":      ."}),C.jsx("textarea",{rows:8,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none font-mono text-sm leading-relaxed",placeholder:"   ...",value:b.ruling||"",onChange:ae=>pe({...b,ruling:ae.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none text-left dir-ltr placeholder:text-right",placeholder:"surgery, transplant, ...   ",value:b.medical_context||"",onChange:ae=>pe({...b,medical_context:ae.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ( Enter )"}),C.jsxs("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus-within:ring-2 focus-within:ring-[#7c3aed] focus-within:bg-white transition-all flex flex-wrap gap-2",children:[(Ls=b.tags)==null?void 0:Ls.map((ae,Ye)=>C.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-lg text-sm flex items-center gap-1",children:["#",ae,C.jsx("button",{onClick:()=>mi(ae),className:"hover:text-purple-900",children:C.jsx(Lf,{className:"w-3 h-3"})})]},Ye)),C.jsx("input",{type:"text",className:"bg-transparent outline-none flex-1 min-w-[120px]",placeholder:"   Enter",value:Ie,onChange:ae=>Ce(ae.target.value),onKeyDown:Ut})]})]}),C.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-100 mt-4",children:[C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:$e,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95",children:[C.jsx(Z_,{className:"w-5 h-5"}),ht?" ":"  "]}),C.jsx("button",{onClick:()=>pe({verdict:"CONDITIONAL",tags:[]}),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-bold transition-colors",children:" "}),ht&&C.jsx("button",{onClick:Ps,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-bold transition-colors",children:" "})]}),C.jsxs("button",{onClick:pi,className:"w-full bg-green-50 text-green-700 hover:bg-green-100 border border-green-200 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-sm",children:[C.jsx(rb,{className:"w-4 h-4"}),"   ()"]})]})]})]})}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:`bg-[#1e1e1e] rounded-2xl shadow-lg border border-gray-800 overflow-hidden transition-all duration-500 ${Ve?"opacity-100 translate-y-0":"opacity-50 translate-y-4 grayscale"}`,children:[C.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-gray-700",children:[C.jsx("span",{className:"text-gray-400 text-xs font-mono",children:"constants.ts snippet"}),C.jsxs("button",{onClick:()=>Rr(Ve),disabled:!Ve,className:"flex items-center gap-1 text-xs bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors disabled:opacity-50",children:[tt?C.jsx(Cl,{className:"w-3 h-3"}):C.jsx(MA,{className:"w-3 h-3"}),tt?" ":""]})]}),C.jsx("div",{className:"p-4 relative",children:C.jsx("textarea",{readOnly:!0,value:Ve||'//  " "     ...',className:"w-full h-[400px] bg-transparent text-green-400 font-mono text-xs outline-none resize-none dir-ltr text-left"})})]}),C.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5",children:[C.jsxs("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[C.jsx(Lp,{className:"w-4 h-4"})," "]}),C.jsxs("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:[" ",C.jsx("strong",{children:'"  "'}),"         (   ).         ",C.jsx("strong",{children:'" "'}),"  ."]})]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:kn.length})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[C.jsxs("select",{value:di,onChange:ae=>Ir(ae.target.value),className:"p-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm min-w-[150px]",children:[C.jsx("option",{value:"",children:" "}),pu.map(ae=>C.jsx("option",{value:ae.id,children:ae.name},ae.id))]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:Xn,onChange:ae=>fi(ae.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm"}),C.jsx(cm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right",children:"ID"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:kn.length>0?kn.map(ae=>{var Ye;return C.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500 dir-ltr text-right text-xs",children:ae.id}),C.jsx("td",{className:"px-4 py-3",children:C.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs whitespace-nowrap",children:(Ye=pu.find(zt=>zt.id===ae.category))==null?void 0:Ye.name})}),C.jsx("td",{className:"px-4 py-3 font-bold text-gray-800 max-w-xs truncate",children:ae.title}),C.jsx("td",{className:"px-4 py-3 text-gray-500 truncate max-w-[150px] text-xs",children:ae.source}),C.jsxs("td",{className:"px-4 py-3 text-center",children:[C.jsx("button",{onClick:zt=>{zt.stopPropagation(),an(ae)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(ff,{className:"w-4 h-4"})}),C.jsx("button",{onClick:zt=>{zt.stopPropagation(),window.confirm("      ")&&n(ae.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(nE,{className:"w-4 h-4"})})]})]},ae.id)}):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"    "})})})]})})]})]}),Ee==="lataif"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>{br("add"),be(null),Je(void 0),It({text:"",category:"",source:""})},className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Dn==="add"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Vp,{className:"w-4 h-4"}),ge!==null?" ":" "]}),C.jsxs("button",{onClick:()=>br("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Dn==="list"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Lp,{className:"w-4 h-4"}),"  (",l.length,")"]})]}),Dn==="add"?C.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-800",children:[ge!==null?C.jsx(ff,{className:"w-6 h-6 text-amber-500"}):C.jsx(um,{className:"w-6 h-6 text-amber-500"}),C.jsx("h2",{className:"text-xl font-bold",children:ge!==null?" ":"  "})]}),ge!==null&&C.jsx("button",{onClick:yi,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm",value:ge!==null?ge:rn})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsx("textarea",{rows:4,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"  ...",value:Yt.text,onChange:ae=>It({...Yt,text:ae.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":  ",value:Yt.category||"",onChange:ae=>It({...Yt,category:ae.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":   ",value:Yt.source||"",onChange:ae=>It({...Yt,source:ae.target.value})})]})]}),C.jsxs("button",{onClick:ra,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-md transition-all hover:scale-[1.02] mt-4",children:[ge!==null?C.jsx(Ab,{className:"w-5 h-5"}):C.jsx(Cl,{className:"w-5 h-5"}),ge!==null?" ":" "]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-bold",children:Ui.length})]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:hi,onChange:ae=>oe(ae.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm"}),C.jsx(cm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right w-16",children:"#"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-center w-28",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:Ui.length>0?Ui.map(ae=>C.jsxs("tr",{className:"hover:bg-amber-50/30 transition-colors",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500",children:ae.id}),C.jsx("td",{className:"px-4 py-3 font-medium text-gray-800 line-clamp-2",children:ae.text}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ae.category||"-"}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ae.source||"-"}),C.jsx("td",{className:"px-4 py-3 text-center",children:C.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C.jsx("button",{type:"button",onClick:()=>Vs(ae),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:C.jsx(ff,{className:"w-4 h-4"})}),C.jsx("button",{type:"button",onClick:()=>{window.confirm("      ")&&p(ae.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:C.jsx(nE,{className:"w-4 h-4"})})]})})]},ae.id)):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"  "})})})]})})]})]})]})]}):C.jsx("div",{className:"fixed inset-0 bg-gray-100 z-50 flex items-center justify-center font-cairo dir-rtl",children:C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[C.jsxs("div",{className:"flex flex-col items-center mb-6",children:[C.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:C.jsx(tE,{className:"w-8 h-8 text-purple-600"})}),C.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" "}),C.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),C.jsxs("form",{onSubmit:X,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),C.jsx("input",{type:"password",value:E,onChange:ae=>T(ae.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-center text-lg",placeholder:"  ",required:!0,disabled:U})]}),A&&C.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:A}),C.jsxs("div",{className:"flex gap-3 mt-6",children:[C.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors disabled:opacity-50",disabled:U,children:""}),C.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50",disabled:U,children:U?" ...":""})]})]})]})})},MF=({data:t})=>{const[e,n]=Ne.useState(null),[i,o]=Ne.useState(!1);return Ne.useEffect(()=>{t&&t.length>0&&(sessionStorage.getItem("latifa_shown_session")||requestAnimationFrame(()=>{const u=Math.floor(Math.random()*t.length);n(t[u]),o(!0),sessionStorage.setItem("latifa_shown_session","true")}))},[t]),!e||!i?null:C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/10 backdrop-blur-[2px] animate-in fade-in duration-500 cursor-pointer",onClick:()=>o(!1),children:C.jsxs("div",{className:"w-full max-w-lg bg-white/95 backdrop-blur-xl rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-amber-100 p-6 relative transform transition-all hover:scale-[1.02] duration-300",onClick:l=>{o(!1)},children:[C.jsx("button",{className:"absolute top-4 left-4 p-2 bg-gray-100/50 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded-full transition-colors",onClick:l=>{l.stopPropagation(),o(!1)},children:C.jsx(Lf,{className:"w-4 h-4"})}),C.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[C.jsx("div",{className:"bg-amber-100 p-2 rounded-full shadow-inner",children:C.jsx(lg,{className:"w-5 h-5 text-amber-600 fill-amber-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-gray-800 text-lg font-cairo",children:" "}),e.category&&C.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 px-2 py-0.5 rounded-full border border-amber-100 font-bold",children:e.category})]})]}),C.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-[0.03] pointer-events-none",children:C.jsx(um,{className:"w-48 h-48"})}),C.jsxs("div",{className:"text-center py-2 px-2 relative z-10",children:[C.jsxs("p",{className:"text-xl font-bold text-gray-800 font-amiri leading-10 text-right dir-rtl whitespace-pre-wrap",children:['"',e.text,'"']}),e.source&&C.jsxs("div",{className:"mt-4 flex items-center justify-end gap-1 text-sm text-gray-500 font-medium dir-rtl",children:[C.jsx("span",{className:"text-amber-500",children:"~"}),C.jsx("span",{children:e.source})]})]}),C.jsx("div",{className:"mt-6 flex justify-center",children:C.jsx("p",{className:"text-[10px] text-gray-400 font-cairo animate-pulse",children:"(    )"})})]})})},DF=[{id:1,text:"        ",author:" "},{id:2,text:"            ",author:" "}],am=t=>t?t.replace(/(||)/g,"").replace(//g,"").replace(//g,"").replace(/[\u064B-\u065F]/g,"").replace(/[^\w\s\u0600-\u06FF]/g," ").toLowerCase().trim().replace(/(^|\s)/g,"$1"):"",kF=()=>{const[t,e]=Ne.useState("chat"),[n,i]=Ne.useState(null),[o,l]=Ne.useState([]),[u,f]=Ne.useState([]),[p,d]=Ne.useState(""),[y,E]=Ne.useState([]),[T,A]=Ne.useState(!1),[k,U]=Ne.useState(!1),[L,z]=Ne.useState(null),K=Ne.useRef(null),Y=()=>{var X;t==="chat"&&((X=K.current)==null||X.scrollIntoView({behavior:"smooth"}))};Ne.useEffect(()=>{(async()=>{const[de,Ee]=await Promise.all([_F(),AF()]);l(de),f(Ee)})()},[]),Ne.useEffect(()=>{Y()},[y,T,t]);const le=async X=>{const de=await EF(X);de?l(Ee=>[...Ee,{...X,_firestoreId:de}]):alert("     ")},he=async X=>{const de=o.find(Ee=>Ee.id===X);de&&de._firestoreId&&(await TF(de._firestoreId)?l(F=>F.filter(H=>H.id!==X)):alert("      ."))},$=async X=>{X._firestoreId&&(await SF(X)||alert("     ")),l(de=>de.map(Ee=>Ee.id===X.id?X:Ee))},M=async X=>{const de=await xF(X);de?f(Ee=>[...Ee,{...X,_firestoreId:de}]):alert("     ")},D=async X=>{if(X._firestoreId&&!await CF(X)){alert("     ");return}f(de=>de.map(Ee=>Ee.id===X.id?X:Ee))},R=async X=>{const de=u.find(Ee=>Ee.id===X);if(!de){alert("  ");return}if(de._firestoreId){if(!await wF(de._firestoreId)){alert("    ");return}const F=u.filter(ie=>ie.id!==X),H=O(F);f(H)}},O=X=>X.map((de,Ee)=>({...de,id:Ee+1})),V=()=>{if(!p.trim())return;t!=="chat"&&e("chat");const X={role:"user",content:p,timestamp:new Date,isFatwa:!1};E(de=>[...de,X]),A(!0),setTimeout(()=>{const Ee=am(p).split(/\s+/).filter(Boolean),F=o.filter(H=>{const ie=am(H.title||""),b=am(H.question||"");return Ee.every(pe=>ie.includes(pe))||Ee.every(pe=>b.includes(pe))});if(F.length>0){const H={role:"model",content:F,timestamp:new Date,isFatwa:!0};E(ie=>[...ie,H])}else{const H={role:"model",content:"             .        .",timestamp:new Date,isFatwa:!1};E(ie=>[...ie,H])}A(!1)},600),d("")},B=X=>{X.key==="Enter"&&V()},P=X=>{i(X),e("details"),U(!1)},ye=X=>{z(de=>de===X?null:X)},me=()=>{e("chat"),i(null)},Q=o.reduce((X,de)=>(X[de.category]||(X[de.category]=[]),X[de.category].push(de),X),{});return C.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50 relative font-cairo text-right",children:[C.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar w-full max-w-3xl mx-auto px-4 pt-6 pb-4",children:[C.jsxs("div",{className:"flex flex-col items-center mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[C.jsx(fm,{className:"w-6 h-6 text-teal-600"}),C.jsx("h1",{className:"text-2xl font-extrabold text-gray-800 tracking-tight",children:" "}),C.jsx(fm,{className:"w-6 h-6 text-teal-600 transform scale-x-[-1]"})]}),C.jsx("p",{className:"text-teal-600 font-medium text-xs",children:"(  )"})]}),t==="admin"?C.jsx(NF,{onClose:()=>e("chat"),onAddFatwa:le,onDeleteFatwa:he,onUpdateFatwa:$,currentFatwas:o,currentLataif:u,onAddLatifa:M,onUpdateLatifa:D,onDeleteLatifa:R}):t==="details"&&n?C.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-500 w-full min-h-screen bg-white flex flex-col items-center justify-start px-0 py-0",children:C.jsx("div",{className:"w-full max-w-4xl mx-auto px-0 sm:px-4 pt-0 sm:pt-8 pb-8",children:C.jsx(If,{fatwa:n,detailsMode:!0,onGoBack:me})})}):C.jsx(C.Fragment,{children:y.length===0?C.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in duration-500",children:[C.jsx(MF,{data:u}),C.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm mb-4 animate-pulse",children:C.jsx(db,{className:"w-8 h-8 text-teal-600"})}),C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),C.jsx("p",{className:"text-gray-500 text-xs",children:"        "})]}),C.jsx("div",{className:"w-full space-y-3 mb-2",children:DF.map(X=>C.jsx(Ub,{quote:X},X.id))})]}):C.jsxs("div",{className:"w-full space-y-6 mb-4",children:[y.map((X,de)=>C.jsx("div",{className:`flex w-full ${X.role==="user"?"justify-start":"justify-end"}`,children:X.isFatwa&&Array.isArray(X.content)?C.jsxs("div",{className:"w-full max-w-2xl space-y-4 animate-in slide-in-from-bottom-4 fade-in",children:[C.jsxs("div",{className:"bg-teal-50 border border-teal-100 p-3 rounded-xl text-teal-800 text-sm font-bold flex items-center gap-2",children:[C.jsx(cm,{className:"w-4 h-4"}),C.jsxs("span",{children:["   ",X.content.length,"   :"]})]}),X.content.map((Ee,F)=>C.jsx(If,{fatwa:Ee},Ee.id||F))]}):X.isFatwa&&!Array.isArray(X.content)&&typeof X.content!="string"?C.jsx("div",{className:"w-full max-w-2xl",children:C.jsx(If,{fatwa:X.content})}):C.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm text-base ${X.role==="user"?"bg-teal-600 text-white rounded-tr-none":"bg-white border border-gray-100 text-gray-800 rounded-tl-none"}`,children:X.role==="model"?C.jsx("div",{className:"prose prose-sm max-w-none text-right font-medium leading-7 dir-rtl",children:C.jsx(hx,{children:X.content})}):C.jsx("p",{className:"font-medium",children:X.content})})},de)),T&&C.jsx("div",{className:"flex justify-end w-full",children:C.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center gap-2",children:[C.jsx(lg,{className:"w-4 h-4 text-teal-500 animate-spin"}),C.jsx("span",{className:"text-sm text-gray-400",children:"   ..."})]})}),C.jsx("div",{ref:K})]})})]}),t!=="admin"&&t!=="details"&&C.jsx("footer",{className:"flex-shrink-0 w-full bg-white border-t border-gray-200 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:C.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-2 flex flex-col gap-2",children:[C.jsxs("div",{className:"w-full relative",children:[C.jsxs("button",{onClick:()=>U(!k),className:`w-full border rounded-lg py-2 px-3 flex items-center justify-between font-semibold transition-colors text-xs ${k?"bg-teal-50 border-teal-200 text-teal-700":"bg-sky-50 border-sky-100 text-gray-700 hover:bg-sky-100"}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(GI,{className:"w-3.5 h-3.5"}),C.jsx("span",{className:"text-sm",children:" "})]}),C.jsx(j_,{className:`w-3.5 h-3.5 transition-transform duration-300 ${k?"rotate-180":""}`})]}),k&&C.jsxs("div",{className:"absolute z-50 bottom-full mb-2 w-full bg-white rounded-xl shadow-2xl border border-gray-200 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[C.jsx("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white rounded-t-xl",children:C.jsxs("a",{href:"https://drive.google.com/drive/folders/1p54qWPMLT5ghN2dlOhFybCkWwrIfbg3j",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 text-amber-800 rounded-lg text-xs font-bold transition-colors border border-amber-200",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[C.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),C.jsx("polyline",{points:"14 2 14 8 20 8"})]}),C.jsx("span",{children:"            -  "})]})}),pu.map(X=>{const de=Q[X.id];if(!de||de.length===0)return null;const Ee=L===X.id;return C.jsxs("div",{className:"border-b border-gray-100 last:border-0",children:[C.jsxs("button",{onClick:()=>ye(X.id),className:`w-full flex items-center justify-between p-2 text-right hover:bg-gray-50 transition-colors ${Ee?"bg-gray-50":""}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx("span",{className:`w-2 h-6 rounded-full ${X.color.replace("text-","bg-").split(" ")[0]}`}),C.jsx("span",{className:"text-xs font-bold text-gray-700",children:X.name}),C.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded-full",children:de.length})]}),C.jsx(j_,{className:`w-3.5 h-3.5 text-gray-400 transition-transform duration-300 ${Ee?"rotate-180":""}`})]}),C.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Ee?"max-h-[3000px] opacity-100":"max-h-0 opacity-0"}`,children:C.jsx("div",{className:"bg-gray-50/50 p-1.5 space-y-0.5",children:de.map(F=>C.jsxs("button",{onClick:()=>P(F),className:"w-full text-right px-3 py-2 text-xs text-gray-600 hover:bg-white hover:text-teal-700 hover:shadow-sm rounded-lg transition-all duration-200 flex items-center gap-1.5 group",children:[C.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300 group-hover:bg-teal-500 transition-colors"}),C.jsx("span",{className:"truncate",children:F.title})]},F.id))})})]},X.id)})]})]}),C.jsxs("div",{className:"w-full relative",children:[C.jsx("input",{type:"text",value:p,onChange:X=>d(X.target.value),onKeyDown:B,placeholder:"      ",className:"w-full bg-gray-50 border-2 border-gray-100 hover:border-teal-200 focus:border-teal-500 rounded-full py-2 pr-5 pl-12 text-base text-gray-700 placeholder-gray-400 outline-none transition-all shadow-sm focus:bg-white"}),C.jsx("button",{onClick:V,disabled:T||!p.trim(),className:"absolute left-1.5 top-1/2 -translate-y-1/2 p-1.5 bg-transparent hover:bg-teal-50 rounded-full transition-colors disabled:opacity-50",children:C.jsx(wb,{className:`w-4 h-4 ${p.trim()?"text-teal-600":"text-gray-300"}`})})]}),C.jsx("div",{className:"text-center pt-1",children:C.jsx("p",{className:"text-gray-400 text-[10px] font-medium leading-tight",children:"(         -   )"})}),C.jsxs("div",{className:"flex justify-between items-center w-full pb-0.5 pt-0.5",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-[13px] font-bold text-teal-700",children:" :"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("a",{href:"https://www.facebook.com/share/17XjZt9zR5/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("a",{href:"https://t.me/El_Faioumy",target:"_blank",rel:"noopener noreferrer",className:"bg-sky-500 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),C.jsx("path",{d:"M22 2 11 13"})]})})]})]}),C.jsx("button",{onClick:()=>e("admin"),className:"w-8 h-8 bg-teal-600 hover:bg-teal-700 text-white rounded-full shadow-md flex items-center justify-center transition-transform hover:scale-105 active:scale-95",children:C.jsx(bb,{className:"w-4 h-4 animate-[spin_10s_linear_infinite]"})})]})]})})]})},Y1=document.getElementById("root");if(!Y1)throw new Error("Could not find root element to mount to");const PF=kI.createRoot(Y1);PF.render(C.jsx(CI.StrictMode,{children:C.jsx(kF,{})}));
