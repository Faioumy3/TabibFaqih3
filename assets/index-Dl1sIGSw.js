(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rp={exports:{}},nu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function MI(){if(L_)return nu;L_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return nu.Fragment=e,nu.jsx=n,nu.jsxs=n,nu}var U_;function DI(){return U_||(U_=1,Rp.exports=MI()),Rp.exports}var C=DI(),Np={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function kI(){if(O_)return Oe;O_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=T&&H[T]||H["@@iterator"],typeof H=="function"?H:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,L={};function z(H,ie,b){this.props=H,this.context=ie,this.refs=L,this.updater=b||k}z.prototype.isReactComponent={},z.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},z.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function K(){}K.prototype=z.prototype;function Y(H,ie,b){this.props=H,this.context=ie,this.refs=L,this.updater=b||k}var le=Y.prototype=new K;le.constructor=Y,U(le,z.prototype),le.isPureReactComponent=!0;var he=Array.isArray;function $(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function R(H,ie,b){var pe=b.ref;return{$$typeof:t,type:H,key:ie,ref:pe!==void 0?pe:null,props:b}}function O(H,ie){return R(H.type,ie,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(b){return ie[b]})}var P=/\/+/g;function ye(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):ie.toString(36)}function me(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Q(H,ie,b,pe,Ie){var Ce=typeof H;(Ce==="undefined"||Ce==="boolean")&&(H=null);var Ve=!1;if(H===null)Ve=!0;else switch(Ce){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(H.$$typeof){case t:case e:Ve=!0;break;case g:return Ve=H._init,Q(Ve(H._payload),ie,b,pe,Ie)}}if(Ve)return Ie=Ie(H),Ve=pe===""?"."+ye(H,0):pe,he(Ie)?(b="",Ve!=null&&(b=Ve.replace(P,"$&/")+"/"),Q(Ie,ie,b,"",function(pn){return pn})):Ie!=null&&(V(Ie)&&(Ie=O(Ie,b+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(P,"$&/")+"/")+Ve)),ie.push(Ie)),1;Ve=0;var at=pe===""?".":pe+":";if(he(H))for(var tt=0;tt<H.length;tt++)pe=H[tt],Ce=at+ye(pe,tt),Ve+=Q(pe,ie,b,Ce,Ie);else if(tt=A(H),typeof tt=="function")for(H=tt.call(H),tt=0;!(pe=H.next()).done;)pe=pe.value,Ce=at+ye(pe,tt++),Ve+=Q(pe,ie,b,Ce,Ie);else if(Ce==="object"){if(typeof H.then=="function")return Q(me(H),ie,b,pe,Ie);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function X(H,ie,b){if(H==null)return H;var pe=[],Ie=0;return Q(H,pe,"","",function(Ce){return ie.call(b,Ce,Ie++)}),pe}function de(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(b){(H._status===0||H._status===-1)&&(H._status=1,H._result=b)},function(b){(H._status===0||H._status===-1)&&(H._status=2,H._result=b)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var Ee=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},F={map:X,forEach:function(H,ie,b){X(H,function(){ie.apply(this,arguments)},b)},count:function(H){var ie=0;return X(H,function(){ie++}),ie},toArray:function(H){return X(H,function(ie){return ie})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Oe.Activity=E,Oe.Children=F,Oe.Component=z,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},Oe.cache=function(H){return function(){return H.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(H,ie,b){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pe=U({},H.props),Ie=H.key;if(ie!=null)for(Ce in ie.key!==void 0&&(Ie=""+ie.key),ie)!D.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(pe[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)pe.children=b;else if(1<Ce){for(var Ve=Array(Ce),at=0;at<Ce;at++)Ve[at]=arguments[at+2];pe.children=Ve}return R(H.type,Ie,pe)},Oe.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Oe.createElement=function(H,ie,b){var pe,Ie={},Ce=null;if(ie!=null)for(pe in ie.key!==void 0&&(Ce=""+ie.key),ie)D.call(ie,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ie[pe]=ie[pe]);var Ve=arguments.length-2;if(Ve===1)Ie.children=b;else if(1<Ve){for(var at=Array(Ve),tt=0;tt<Ve;tt++)at[tt]=arguments[tt+2];Ie.children=at}if(H&&H.defaultProps)for(pe in Ve=H.defaultProps,Ve)Ie[pe]===void 0&&(Ie[pe]=Ve[pe]);return R(H,Ce,Ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(H){return{$$typeof:f,render:H}},Oe.isValidElement=V,Oe.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:de}},Oe.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},Oe.startTransition=function(H){var ie=M.T,b={};M.T=b;try{var pe=H(),Ie=M.S;Ie!==null&&Ie(b,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then($,Ee)}catch(Ce){Ee(Ce)}finally{ie!==null&&b.types!==null&&(ie.types=b.types),M.T=ie}},Oe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Oe.use=function(H){return M.H.use(H)},Oe.useActionState=function(H,ie,b){return M.H.useActionState(H,ie,b)},Oe.useCallback=function(H,ie){return M.H.useCallback(H,ie)},Oe.useContext=function(H){return M.H.useContext(H)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(H,ie){return M.H.useDeferredValue(H,ie)},Oe.useEffect=function(H,ie){return M.H.useEffect(H,ie)},Oe.useEffectEvent=function(H){return M.H.useEffectEvent(H)},Oe.useId=function(){return M.H.useId()},Oe.useImperativeHandle=function(H,ie,b){return M.H.useImperativeHandle(H,ie,b)},Oe.useInsertionEffect=function(H,ie){return M.H.useInsertionEffect(H,ie)},Oe.useLayoutEffect=function(H,ie){return M.H.useLayoutEffect(H,ie)},Oe.useMemo=function(H,ie){return M.H.useMemo(H,ie)},Oe.useOptimistic=function(H,ie){return M.H.useOptimistic(H,ie)},Oe.useReducer=function(H,ie,b){return M.H.useReducer(H,ie,b)},Oe.useRef=function(H){return M.H.useRef(H)},Oe.useState=function(H){return M.H.useState(H)},Oe.useSyncExternalStore=function(H,ie,b){return M.H.useSyncExternalStore(H,ie,b)},Oe.useTransition=function(){return M.H.useTransition()},Oe.version="19.2.3",Oe}var F_;function og(){return F_||(F_=1,Np.exports=kI()),Np.exports}var Ne=og();const PI=rd(Ne);var Mp={exports:{}},iu={},Dp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function VI(){return z_||(z_=1,(function(t){function e(Q,X){var de=Q.length;Q.push(X);e:for(;0<de;){var Ee=de-1>>>1,F=Q[Ee];if(0<o(F,X))Q[Ee]=X,Q[de]=F,de=Ee;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var X=Q[0],de=Q.pop();if(de!==X){Q[0]=de;e:for(var Ee=0,F=Q.length,H=F>>>1;Ee<H;){var ie=2*(Ee+1)-1,b=Q[ie],pe=ie+1,Ie=Q[pe];if(0>o(b,de))pe<F&&0>o(Ie,b)?(Q[Ee]=Ie,Q[pe]=de,Ee=pe):(Q[Ee]=b,Q[ie]=de,Ee=ie);else if(pe<F&&0>o(Ie,de))Q[Ee]=Ie,Q[pe]=de,Ee=pe;else break e}}return X}function o(Q,X){var de=Q.sortIndex-X.sortIndex;return de!==0?de:Q.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],g=1,E=null,T=3,A=!1,k=!1,U=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(Q){for(var X=n(d);X!==null;){if(X.callback===null)i(d);else if(X.startTime<=Q)i(d),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(d)}}function he(Q){if(U=!1,le(Q),!k)if(n(p)!==null)k=!0,$||($=!0,B());else{var X=n(d);X!==null&&me(he,X.startTime-Q)}}var $=!1,M=-1,D=5,R=-1;function O(){return L?!0:!(t.unstable_now()-R<D)}function V(){if(L=!1,$){var Q=t.unstable_now();R=Q;var X=!0;try{e:{k=!1,U&&(U=!1,K(M),M=-1),A=!0;var de=T;try{t:{for(le(Q),E=n(p);E!==null&&!(E.expirationTime>Q&&O());){var Ee=E.callback;if(typeof Ee=="function"){E.callback=null,T=E.priorityLevel;var F=Ee(E.expirationTime<=Q);if(Q=t.unstable_now(),typeof F=="function"){E.callback=F,le(Q),X=!0;break t}E===n(p)&&i(p),le(Q)}else i(p);E=n(p)}if(E!==null)X=!0;else{var H=n(d);H!==null&&me(he,H.startTime-Q),X=!1}}break e}finally{E=null,T=de,A=!1}X=void 0}}finally{X?B():$=!1}}}var B;if(typeof Y=="function")B=function(){Y(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ye=P.port2;P.port1.onmessage=V,B=function(){ye.postMessage(null)}}else B=function(){z(V,0)};function me(Q,X){M=z(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var de=T;T=X;try{return Q()}finally{T=de}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=T;T=Q;try{return X()}finally{T=de}},t.unstable_scheduleCallback=function(Q,X,de){var Ee=t.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ee+de:Ee):de=Ee,Q){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=de+F,Q={id:g++,callback:X,priorityLevel:Q,startTime:de,expirationTime:F,sortIndex:-1},de>Ee?(Q.sortIndex=de,e(d,Q),n(p)===null&&Q===n(d)&&(U?(K(M),M=-1):U=!0,me(he,de-Ee))):(Q.sortIndex=F,e(p,Q),k||A||(k=!0,$||($=!0,B()))),Q},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(Q){var X=T;return function(){var de=T;T=X;try{return Q.apply(this,arguments)}finally{T=de}}}})(kp)),kp}var B_;function LI(){return B_||(B_=1,Dp.exports=VI()),Dp.exports}var Pp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function UI(){if(q_)return Cn;q_=1;var t=og();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,d,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:d,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(p,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,g)},Cn.flushSync=function(p){var d=u.T,g=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=g,i.d.f()}},Cn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},Cn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Cn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var g=d.as,E=f(g,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):g==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Cn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=f(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},Cn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,E=f(g,d.crossOrigin);i.d.L(p,g,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Cn.preloadModule=function(p,d){if(typeof p=="string")if(d){var g=f(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},Cn.requestFormReset=function(p){i.d.r(p)},Cn.unstable_batchedUpdates=function(p,d){return p(d)},Cn.useFormState=function(p,d,g){return u.H.useFormState(p,d,g)},Cn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var H_;function OI(){if(H_)return Pp.exports;H_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pp.exports=UI(),Pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function FI(){if(G_)return iu;G_=1;var t=LI(),e=og(),n=OI();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,c=s;;){var v=a.return;if(v===null)break;var _=v.alternate;if(_===null){if(c=v.return,c!==null){a=c;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===a)return p(v),r;if(_===c)return p(v),s;_=_.sibling}throw Error(i(188))}if(a.return!==c.return)a=v,c=_;else{for(var x=!1,I=v.child;I;){if(I===a){x=!0,a=v,c=_;break}if(I===c){x=!0,c=v,a=_;break}I=I.sibling}if(!x){for(I=_.child;I;){if(I===a){x=!0,a=_,c=v;break}if(I===c){x=!0,c=_,a=v;break}I=I.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function g(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=g(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case he:return"Suspense";case $:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case Y:return r.displayName||"Context";case K:return(r._context.displayName||"Context")+".Consumer";case le:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case D:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var me=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ee=[],F=-1;function H(r){return{current:r}}function ie(r){0>F||(r.current=Ee[F],Ee[F]=null,F--)}function b(r,s){F++,Ee[F]=r.current,r.current=s}var pe=H(null),Ie=H(null),Ce=H(null),Ve=H(null);function at(r,s){switch(b(Ce,s),b(Ie,r),b(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?o_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=o_(s),r=s_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(pe),b(pe,r)}function tt(){ie(pe),ie(Ie),ie(Ce)}function pn(r){r.memoizedState!==null&&b(Ve,r);var s=pe.current,a=s_(s,r.type);s!==a&&(b(Ie,r),b(pe,a))}function Mn(r){Ie.current===r&&(ie(pe),ie(Ie)),Ve.current===r&&(ie(Ve),Wa._currentValue=de)}var Li,er;function mn(r){if(Li===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Li=s&&s[1]||"",er=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+r+er}var jn=!1;function fi(r,s){if(!r||jn)return"";jn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){ee=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),x=_[0],I=_[1];if(x&&I){var q=x.split(`
`),Z=I.split(`
`);for(v=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(c===q.length||v===Z.length)for(c=q.length-1,v=Z.length-1;1<=c&&0<=v&&q[c]!==Z[v];)v--;for(;1<=c&&0<=v;c--,v--)if(q[c]!==Z[v]){if(c!==1||v!==1)do if(c--,v--,0>v||q[c]!==Z[v]){var re=`
`+q[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=v);break}}}finally{jn=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?mn(a):""}function di(r,s){switch(r.tag){case 26:case 27:case 5:return mn(r.type);case 16:return mn("Lazy");case 13:return r.child!==s&&s!==null?mn("Suspense Fallback"):mn("Suspense");case 19:return mn("SuspenseList");case 0:case 15:return fi(r.type,!1);case 11:return fi(r.type.render,!1);case 1:return fi(r.type,!0);case 31:return mn("Activity");default:return""}}function br(r){try{var s="",a=null;do s+=di(r,a),a=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ht=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,Dn=t.unstable_cancelCallback,Rr=t.unstable_shouldYield,Jt=t.unstable_requestPaint,It=t.unstable_now,hi=t.unstable_getCurrentPriorityLevel,oe=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,qe=t.unstable_LowPriority,Je=t.unstable_IdlePriority,on=t.log,xn=t.unstable_setDisableYieldValue,kt=null,At=null;function Lt(r){if(typeof on=="function"&&xn(r),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(kt,r)}catch{}}var $e=Math.clz32?Math.clz32:Vs,Wn=Math.log,an=Math.LN2;function Vs(r){return r>>>=0,r===0?32:31-(Wn(r)/an|0)|0}var pi=256,Nr=262144,Ut=4194304;function mi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function gi(r,s,a){var c=r.pendingLanes;if(c===0)return 0;var v=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var I=c&134217727;return I!==0?(c=I&~_,c!==0?v=mi(c):(x&=I,x!==0?v=mi(x):a||(a=I&~r,a!==0&&(v=mi(a))))):(I=c&~_,I!==0?v=mi(I):x!==0?v=mi(x):a||(a=c&~r,a!==0&&(v=mi(a)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,a=s&-s,_>=a||_===32&&(a&4194048)!==0)?s:v}function kn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ra(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var r=Ut;return Ut<<=1,(Ut&62914560)===0&&(Ut=4194304),r}function yi(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ui(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Us(r,s,a,c,v,_){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var I=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(a=x&~a;0<a;){var re=31-$e(a),ce=1<<re;I[re]=0,q[re]=-1;var ee=Z[re];if(ee!==null)for(Z[re]=null,re=0;re<ee.length;re++){var ne=ee[re];ne!==null&&(ne.lane&=-536870913)}a&=~ce}c!==0&&ue(r,c,0),_!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function ue(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-$e(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Ye(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-$e(a),v=1<<c;v&s|r[c]&s&&(r[c]|=s),a&=~v}}function zt(r,s){var a=s&-s;return a=(a&42)!==0?1:Pn(a),(a&(r.suspendedLanes|s))!==0?0:a}function Pn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Oi(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function io(){var r=X.p;return r!==0?r:(r=window.event,r===void 0?32:R_(r.type))}function Fi(r,s){var a=X.p;try{return X.p=r,s()}finally{X.p=a}}var zi=Math.random().toString(36).slice(2),$t="__reactFiber$"+zi,un="__reactProps$"+zi,tr="__reactContainer$"+zi,Os="__reactEvents$"+zi,Vd="__reactListeners$"+zi,qu="__reactHandles$"+zi,Hu="__reactResources$"+zi,nr="__reactMarker$"+zi;function Fs(r){delete r[$t],delete r[un],delete r[Os],delete r[Vd],delete r[qu]}function ir(r){var s=r[$t];if(s)return s;for(var a=r.parentNode;a;){if(s=a[tr]||a[$t]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=h_(r);r!==null;){if(a=r[$t])return a;r=h_(r)}return s}r=a,a=r.parentNode}return null}function vi(r){if(r=r[$t]||r[tr]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Zn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function rr(r){var s=r[Hu];return s||(s=r[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Kt(r){r[nr]=!0}var oa=new Set,sa={};function or(r,s){sr(r,s),sr(r+"Capture",s)}function sr(r,s){for(sa[r]=s,r=0;r<s.length;r++)oa.add(s[r])}var la=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),aa={},ua={};function Gu(r){return ht.call(ua,r)?!0:ht.call(aa,r)?!1:la.test(r)?ua[r]=!0:(aa[r]=!0,!1)}function zs(r,s,a){if(Gu(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function ei(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Qt(r,s,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+c)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ro(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ca(r,s,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(x){a=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function pt(r){if(!r._valueTracker){var s=ro(r)?"checked":"value";r._valueTracker=ca(r,s,""+r[s])}}function Wo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=ro(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function lr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Zo=/[\n"\\]/g;function Fn(r){return r.replace(Zo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Bs(r,s,a,c,v,_,x,I){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?fa(r,x,cn(s)):a!=null?fa(r,x,cn(a)):c!=null&&r.removeAttribute("value"),v==null&&_!=null&&(r.defaultChecked=!!_),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+cn(I):r.removeAttribute("name")}function Yu(r,s,a,c,v,_,x,I){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){pt(r);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,I||s===r.value||(r.value=s),r.defaultValue=s}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=I?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),pt(r)}function fa(r,s,a){s==="number"&&lr(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function oo(r,s,a,c){if(r=r.options,s){s={};for(var v=0;v<a.length;v++)s["$"+a[v]]=!0;for(a=0;a<r.length;a++)v=s.hasOwnProperty("$"+r[a].value),r[a].selected!==v&&(r[a].selected=v),v&&c&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,v=0;v<r.length;v++){if(r[v].value===a){r[v].selected=!0,c&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function Ju(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function so(r,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),pt(r)}function zn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var $u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function da(r,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,a):typeof a!="number"||a===0||$u.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function ha(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var v in s)c=s[v],s.hasOwnProperty(v)&&a[v]!==c&&da(r,v,c)}else for(var _ in s)s.hasOwnProperty(_)&&da(r,_,s[_])}function qs(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(r){return lo.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Bi(){}var pa=null;function _i(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ao=null,ar=null;function es(r){var s=vi(r);if(s&&(r=s.stateNode)){var a=r[un]||null;e:switch(r=s.stateNode,s.type){case"input":if(Bs(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var v=c[un]||null;if(!v)throw Error(i(90));Bs(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===r.form&&Wo(c)}break e;case"textarea":Ju(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&oo(r,!!a.multiple,s,!1)}}}var Gs=!1;function uo(r,s,a){if(Gs)return r(s,a);Gs=!0;try{var c=r(s);return c}finally{if(Gs=!1,(ao!==null||ar!==null)&&(Bc(),ao&&(s=ao,r=ar,ar=ao=null,es(s),r)))for(s=0;s<r.length;s++)es(r[s])}}function qi(r,s){var a=r.stateNode;if(a===null)return null;var c=a[un]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ts=!1;if(Ei)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){ts=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{ts=!1}var ur=null,ma=null,ns=null;function ga(){if(ns)return ns;var r,s=ma,a=s.length,c,v="value"in ur?ur.value:ur.textContent,_=v.length;for(r=0;r<a&&s[r]===v[r];r++);var x=a-r;for(c=1;c<=x&&s[a-c]===v[_-c];c++);return ns=v.slice(r,1<c?1-c:void 0)}function is(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Mr(){return!0}function Hi(){return!1}function gn(r){function s(a,c,v,_,x){this._reactName=a,this._targetInst=v,this.type=c,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(a=r[I],this[I]=a?a(_):_[I]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Mr:Hi,this.isPropagationStopped=Hi,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),s}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=gn(Dr),co=E({},Dr,{view:0,detail:0}),ya=gn(co),fo,Ys,fr,Js=E({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fr&&(fr&&r.type==="mousemove"?(fo=r.screenX-fr.screenX,Ys=r.screenY-fr.screenY):Ys=fo=0,fr=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:Ys}}),va=gn(Js),rs=E({},Js,{dataTransfer:0}),Qu=gn(rs),Xu=E({},co,{relatedTarget:0}),os=gn(Xu),_a=E({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=gn(_a),$s=E({},Dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wu=gn($s),Zu=E({},Dr,{data:0}),dr=gn(Zu),ec={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ic(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nc[r])?!!s[r]:!1}function ho(){return ic}var Vn=E({},co,{key:function(r){if(r.key){var s=ec[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=is(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(r){return r.type==="keypress"?is(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?is(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),rc=gn(Vn),oc=E({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kr=gn(oc),y=E({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),S=gn(y),w=E({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),N=gn(w),j=E({},Js,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=gn(j),_e=E({},Dr,{newState:0,oldState:0}),ze=gn(_e),Bt=[9,13,27,32],ut=Ei&&"CompositionEvent"in window,Mt=null;Ei&&"documentMode"in document&&(Mt=document.documentMode);var Ti=Ei&&"TextEvent"in window&&!Mt,hr=Ei&&(!ut||Mt&&8<Mt&&11>=Mt),Gi=" ",Yi=!1;function ss(r,s){switch(r){case"keyup":return Bt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ks(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qs=!1;function tw(r,s){switch(r){case"compositionend":return Ks(s);case"keypress":return s.which!==32?null:(Yi=!0,Gi);case"textInput":return r=s.data,r===Gi&&Yi?null:r;default:return null}}function nw(r,s){if(Qs)return r==="compositionend"||!ut&&ss(r,s)?(r=ga(),ns=ma=ur=null,Qs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hr&&s.locale!=="ko"?null:s.data;default:return null}}var iw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gy(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!iw[r.type]:s==="textarea"}function yy(r,s,a,c){ao?ar?ar.push(c):ar=[c]:ao=c,s=Kc(s,"onChange"),0<s.length&&(a=new cr("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var Ea=null,Ta=null;function rw(r){Zv(r,0)}function sc(r){var s=Zn(r);if(Wo(s))return r}function vy(r,s){if(r==="change")return s}var _y=!1;if(Ei){var Ld;if(Ei){var Ud="oninput"in document;if(!Ud){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Ud=typeof Ey.oninput=="function"}Ld=Ud}else Ld=!1;_y=Ld&&(!document.documentMode||9<document.documentMode)}function Ty(){Ea&&(Ea.detachEvent("onpropertychange",Sy),Ta=Ea=null)}function Sy(r){if(r.propertyName==="value"&&sc(Ta)){var s=[];yy(s,Ta,r,_i(r)),uo(rw,s)}}function ow(r,s,a){r==="focusin"?(Ty(),Ea=s,Ta=a,Ea.attachEvent("onpropertychange",Sy)):r==="focusout"&&Ty()}function sw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sc(Ta)}function lw(r,s){if(r==="click")return sc(s)}function aw(r,s){if(r==="input"||r==="change")return sc(s)}function uw(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ti=typeof Object.is=="function"?Object.is:uw;function Sa(r,s){if(ti(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var v=a[c];if(!ht.call(s,v)||!ti(r[v],s[v]))return!1}return!0}function Ay(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function xy(r,s){var a=Ay(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ay(a)}}function Cy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Cy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=lr(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=lr(r.document)}return s}function Od(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var cw=Ei&&"documentMode"in document&&11>=document.documentMode,Xs=null,Fd=null,Aa=null,zd=!1;function Iy(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zd||Xs==null||Xs!==lr(c)||(c=Xs,"selectionStart"in c&&Od(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Aa&&Sa(Aa,c)||(Aa=c,c=Kc(Fd,"onSelect"),0<c.length&&(s=new cr("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Xs)))}function ls(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var js={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},Bd={},by={};Ei&&(by=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function as(r){if(Bd[r])return Bd[r];if(!js[r])return r;var s=js[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in by)return Bd[r]=s[a];return r}var Ry=as("animationend"),Ny=as("animationiteration"),My=as("animationstart"),fw=as("transitionrun"),dw=as("transitionstart"),hw=as("transitioncancel"),Dy=as("transitionend"),ky=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function Ji(r,s){ky.set(r,s),or(s,[r])}var lc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Si=[],Ws=0,Hd=0;function ac(){for(var r=Ws,s=Hd=Ws=0;s<r;){var a=Si[s];Si[s++]=null;var c=Si[s];Si[s++]=null;var v=Si[s];Si[s++]=null;var _=Si[s];if(Si[s++]=null,c!==null&&v!==null){var x=c.pending;x===null?v.next=v:(v.next=x.next,x.next=v),c.pending=v}_!==0&&Py(a,v,_)}}function uc(r,s,a,c){Si[Ws++]=r,Si[Ws++]=s,Si[Ws++]=a,Si[Ws++]=c,Hd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Gd(r,s,a,c){return uc(r,s,a,c),cc(r)}function us(r,s){return uc(r,null,null,s),cc(r)}function Py(r,s,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var v=!1,_=r.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(v=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,v&&s!==null&&(v=31-$e(a),r=_.hiddenUpdates,c=r[v],c===null?r[v]=[s]:c.push(s),s.lane=a|536870912),_):null}function cc(r){if(50<Ya)throw Ya=0,Zh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Zs={};function pw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(r,s,a,c){return new pw(r,s,a,c)}function Yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pr(r,s){var a=r.alternate;return a===null?(a=ni(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Vy(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function fc(r,s,a,c,v,_){var x=0;if(c=r,typeof r=="function")Yd(r)&&(x=1);else if(typeof r=="string")x=_I(r,a,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=ni(31,a,s,v),r.elementType=R,r.lanes=_,r;case U:return cs(a.children,v,_,s);case L:x=8,v|=24;break;case z:return r=ni(12,a,s,v|2),r.elementType=z,r.lanes=_,r;case he:return r=ni(13,a,s,v),r.elementType=he,r.lanes=_,r;case $:return r=ni(19,a,s,v),r.elementType=$,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:x=10;break e;case K:x=9;break e;case le:x=11;break e;case M:x=14;break e;case D:x=16,c=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=ni(x,a,s,v),s.elementType=r,s.type=c,s.lanes=_,s}function cs(r,s,a,c){return r=ni(7,r,c,s),r.lanes=a,r}function Jd(r,s,a){return r=ni(6,r,null,s),r.lanes=a,r}function Ly(r){var s=ni(18,null,null,0);return s.stateNode=r,s}function $d(r,s,a){return s=ni(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Uy=new WeakMap;function Ai(r,s){if(typeof r=="object"&&r!==null){var a=Uy.get(r);return a!==void 0?a:(s={value:r,source:s,stack:br(s)},Uy.set(r,s),s)}return{value:r,source:s,stack:br(s)}}var el=[],tl=0,dc=null,xa=0,xi=[],Ci=0,po=null,pr=1,mr="";function Vr(r,s){el[tl++]=xa,el[tl++]=dc,dc=r,xa=s}function Oy(r,s,a){xi[Ci++]=pr,xi[Ci++]=mr,xi[Ci++]=po,po=r;var c=pr;r=mr;var v=32-$e(c)-1;c&=~(1<<v),a+=1;var _=32-$e(s)+v;if(30<_){var x=v-v%5;_=(c&(1<<x)-1).toString(32),c>>=x,v-=x,pr=1<<32-$e(s)+v|a<<v|c,mr=_+r}else pr=1<<_|a<<v|c,mr=r}function Kd(r){r.return!==null&&(Vr(r,1),Oy(r,1,0))}function Qd(r){for(;r===dc;)dc=el[--tl],el[tl]=null,xa=el[--tl],el[tl]=null;for(;r===po;)po=xi[--Ci],xi[Ci]=null,mr=xi[--Ci],xi[Ci]=null,pr=xi[--Ci],xi[Ci]=null}function Fy(r,s){xi[Ci++]=pr,xi[Ci++]=mr,xi[Ci++]=po,pr=s.id,mr=s.overflow,po=r}var yn=null,bt=null,et=!1,mo=null,wi=!1,Xd=Error(i(519));function go(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(Ai(s,r)),Xd}function zy(r){var s=r.stateNode,a=r.type,c=r.memoizedProps;switch(s[$t]=r,s[un]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<$a.length;a++)Qe($a[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Yu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),so(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||i_(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Bi),s=!0):s=!1,s||go(r,!0)}function By(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 31:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:yn=yn.return}}function nl(r){if(r!==yn)return!1;if(!et)return By(r),et=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||pp(r.type,r.memoizedProps)),a=!a),a&&bt&&go(r),By(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=d_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=d_(r)}else s===27?(s=bt,No(r.type)?(r=_p,_p=null,bt=r):bt=s):bt=yn?bi(r.stateNode.nextSibling):null;return!0}function fs(){bt=yn=null,et=!1}function jd(){var r=mo;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),mo=null),r}function Ca(r){mo===null?mo=[r]:mo.push(r)}var Wd=H(null),ds=null,Lr=null;function yo(r,s,a){b(Wd,s._currentValue),s._currentValue=a}function Ur(r){r._currentValue=Wd.current,ie(Wd)}function Zd(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function eh(r,s,a,c){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){var x=v.child;_=_.firstContext;e:for(;_!==null;){var I=_;_=v;for(var q=0;q<s.length;q++)if(I.context===s[q]){_.lanes|=a,I=_.alternate,I!==null&&(I.lanes|=a),Zd(_.return,a,r),c||(x=null);break e}_=I.next}}else if(v.tag===18){if(x=v.return,x===null)throw Error(i(341));x.lanes|=a,_=x.alternate,_!==null&&(_.lanes|=a),Zd(x,a,r),x=null}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===r){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}}function il(r,s,a,c){r=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var x=v.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var I=v.type;ti(v.pendingProps.value,x.value)||(r!==null?r.push(I):r=[I])}}else if(v===Ve.current){if(x=v.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Wa):r=[Wa])}v=v.return}r!==null&&eh(s,r,a,c),s.flags|=262144}function hc(r){for(r=r.firstContext;r!==null;){if(!ti(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function hs(r){ds=r,Lr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function vn(r){return qy(ds,r)}function pc(r,s){return ds===null&&hs(r),qy(r,s)}function qy(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Lr===null){if(r===null)throw Error(i(308));Lr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Lr=Lr.next=s;return a}var mw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},gw=t.unstable_scheduleCallback,yw=t.unstable_NormalPriority,Xt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new mw,data:new Map,refCount:0}}function wa(r){r.refCount--,r.refCount===0&&gw(yw,function(){r.controller.abort()})}var Ia=null,nh=0,rl=0,ol=null;function vw(r,s){if(Ia===null){var a=Ia=[];nh=0,rl=op(),ol={status:"pending",value:void 0,then:function(c){a.push(c)}}}return nh++,s.then(Hy,Hy),s}function Hy(){if(--nh===0&&Ia!==null){ol!==null&&(ol.status="fulfilled");var r=Ia;Ia=null,rl=0,ol=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function _w(r,s){var a=[],c={status:"pending",value:null,reason:null,then:function(v){a.push(v)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var v=0;v<a.length;v++)(0,a[v])(s)},function(v){for(c.status="rejected",c.reason=v,v=0;v<a.length;v++)(0,a[v])(void 0)}),c}var Gy=Q.S;Q.S=function(r,s){Iv=It(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&vw(r,s),Gy!==null&&Gy(r,s)};var ps=H(null);function ih(){var r=ps.current;return r!==null?r:Tt.pooledCache}function mc(r,s){s===null?b(ps,ps.current):b(ps,s.pool)}function Yy(){var r=ih();return r===null?null:{parent:Xt._currentValue,pool:r}}var sl=Error(i(460)),rh=Error(i(474)),gc=Error(i(542)),yc={then:function(){}};function Jy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $y(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Bi,Bi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Qy(r),r;default:if(typeof s.status=="string")s.then(Bi,Bi);else{if(r=Tt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=c}},function(c){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Qy(r),r}throw gs=s,sl}}function ms(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(gs=a,sl):a}}var gs=null;function Ky(){if(gs===null)throw Error(i(459));var r=gs;return gs=null,r}function Qy(r){if(r===sl||r===gc)throw Error(i(483))}var ll=null,ba=0;function vc(r){var s=ba;return ba+=1,ll===null&&(ll=[]),$y(ll,r,s)}function Ra(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function _c(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Xy(r){function s(J,G){if(r){var W=J.deletions;W===null?(J.deletions=[G],J.flags|=16):W.push(G)}}function a(J,G){if(!r)return null;for(;G!==null;)s(J,G),G=G.sibling;return null}function c(J){for(var G=new Map;J!==null;)J.key!==null?G.set(J.key,J):G.set(J.index,J),J=J.sibling;return G}function v(J,G){return J=Pr(J,G),J.index=0,J.sibling=null,J}function _(J,G,W){return J.index=W,r?(W=J.alternate,W!==null?(W=W.index,W<G?(J.flags|=67108866,G):W):(J.flags|=67108866,G)):(J.flags|=1048576,G)}function x(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function I(J,G,W,se){return G===null||G.tag!==6?(G=Jd(W,J.mode,se),G.return=J,G):(G=v(G,W),G.return=J,G)}function q(J,G,W,se){var Re=W.type;return Re===U?re(J,G,W.props.children,se,W.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&ms(Re)===G.type)?(G=v(G,W.props),Ra(G,W),G.return=J,G):(G=fc(W.type,W.key,W.props,null,J.mode,se),Ra(G,W),G.return=J,G)}function Z(J,G,W,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=$d(W,J.mode,se),G.return=J,G):(G=v(G,W.children||[]),G.return=J,G)}function re(J,G,W,se,Re){return G===null||G.tag!==7?(G=cs(W,J.mode,se,Re),G.return=J,G):(G=v(G,W),G.return=J,G)}function ce(J,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Jd(""+G,J.mode,W),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return W=fc(G.type,G.key,G.props,null,J.mode,W),Ra(W,G),W.return=J,W;case k:return G=$d(G,J.mode,W),G.return=J,G;case D:return G=ms(G),ce(J,G,W)}if(me(G)||B(G))return G=cs(G,J.mode,W,null),G.return=J,G;if(typeof G.then=="function")return ce(J,vc(G),W);if(G.$$typeof===Y)return ce(J,pc(J,G),W);_c(J,G)}return null}function ee(J,G,W,se){var Re=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:I(J,G,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return W.key===Re?q(J,G,W,se):null;case k:return W.key===Re?Z(J,G,W,se):null;case D:return W=ms(W),ee(J,G,W,se)}if(me(W)||B(W))return Re!==null?null:re(J,G,W,se,null);if(typeof W.then=="function")return ee(J,G,vc(W),se);if(W.$$typeof===Y)return ee(J,G,pc(J,W),se);_c(J,W)}return null}function ne(J,G,W,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return J=J.get(W)||null,I(G,J,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return J=J.get(se.key===null?W:se.key)||null,q(G,J,se,Re);case k:return J=J.get(se.key===null?W:se.key)||null,Z(G,J,se,Re);case D:return se=ms(se),ne(J,G,W,se,Re)}if(me(se)||B(se))return J=J.get(W)||null,re(G,J,se,Re,null);if(typeof se.then=="function")return ne(J,G,W,vc(se),Re);if(se.$$typeof===Y)return ne(J,G,W,pc(G,se),Re);_c(G,se)}return null}function xe(J,G,W,se){for(var Re=null,ot=null,we=G,He=G=0,je=null;we!==null&&He<W.length;He++){we.index>He?(je=we,we=null):je=we.sibling;var st=ee(J,we,W[He],se);if(st===null){we===null&&(we=je);break}r&&we&&st.alternate===null&&s(J,we),G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st,we=je}if(He===W.length)return a(J,we),et&&Vr(J,He),Re;if(we===null){for(;He<W.length;He++)we=ce(J,W[He],se),we!==null&&(G=_(we,G,He),ot===null?Re=we:ot.sibling=we,ot=we);return et&&Vr(J,He),Re}for(we=c(we);He<W.length;He++)je=ne(we,J,He,W[He],se),je!==null&&(r&&je.alternate!==null&&we.delete(je.key===null?He:je.key),G=_(je,G,He),ot===null?Re=je:ot.sibling=je,ot=je);return r&&we.forEach(function(Vo){return s(J,Vo)}),et&&Vr(J,He),Re}function De(J,G,W,se){if(W==null)throw Error(i(151));for(var Re=null,ot=null,we=G,He=G=0,je=null,st=W.next();we!==null&&!st.done;He++,st=W.next()){we.index>He?(je=we,we=null):je=we.sibling;var Vo=ee(J,we,st.value,se);if(Vo===null){we===null&&(we=je);break}r&&we&&Vo.alternate===null&&s(J,we),G=_(Vo,G,He),ot===null?Re=Vo:ot.sibling=Vo,ot=Vo,we=je}if(st.done)return a(J,we),et&&Vr(J,He),Re;if(we===null){for(;!st.done;He++,st=W.next())st=ce(J,st.value,se),st!==null&&(G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st);return et&&Vr(J,He),Re}for(we=c(we);!st.done;He++,st=W.next())st=ne(we,J,He,st.value,se),st!==null&&(r&&st.alternate!==null&&we.delete(st.key===null?He:st.key),G=_(st,G,He),ot===null?Re=st:ot.sibling=st,ot=st);return r&&we.forEach(function(NI){return s(J,NI)}),et&&Vr(J,He),Re}function Et(J,G,W,se){if(typeof W=="object"&&W!==null&&W.type===U&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case A:e:{for(var Re=W.key;G!==null;){if(G.key===Re){if(Re=W.type,Re===U){if(G.tag===7){a(J,G.sibling),se=v(G,W.props.children),se.return=J,J=se;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===D&&ms(Re)===G.type){a(J,G.sibling),se=v(G,W.props),Ra(se,W),se.return=J,J=se;break e}a(J,G);break}else s(J,G);G=G.sibling}W.type===U?(se=cs(W.props.children,J.mode,se,W.key),se.return=J,J=se):(se=fc(W.type,W.key,W.props,null,J.mode,se),Ra(se,W),se.return=J,J=se)}return x(J);case k:e:{for(Re=W.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){a(J,G.sibling),se=v(G,W.children||[]),se.return=J,J=se;break e}else{a(J,G);break}else s(J,G);G=G.sibling}se=$d(W,J.mode,se),se.return=J,J=se}return x(J);case D:return W=ms(W),Et(J,G,W,se)}if(me(W))return xe(J,G,W,se);if(B(W)){if(Re=B(W),typeof Re!="function")throw Error(i(150));return W=Re.call(W),De(J,G,W,se)}if(typeof W.then=="function")return Et(J,G,vc(W),se);if(W.$$typeof===Y)return Et(J,G,pc(J,W),se);_c(J,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(a(J,G.sibling),se=v(G,W),se.return=J,J=se):(a(J,G),se=Jd(W,J.mode,se),se.return=J,J=se),x(J)):a(J,G)}return function(J,G,W,se){try{ba=0;var Re=Et(J,G,W,se);return ll=null,Re}catch(we){if(we===sl||we===gc)throw we;var ot=ni(29,we,null,J.mode);return ot.lanes=se,ot.return=J,ot}finally{}}}var ys=Xy(!0),jy=Xy(!1),vo=!1;function oh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _o(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Eo(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ct&2)!==0){var v=c.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),c.pending=s,s=cc(r),Py(r,null,a),s}return uc(r,c,s,a),cc(r)}function Na(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ye(r,a)}}function lh(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var v=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?v=_=x:_=_.next=x,a=a.next}while(a!==null);_===null?v=_=s:_=_.next=s}else v=_=s;a={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var ah=!1;function Ma(){if(ah){var r=ol;if(r!==null)throw r}}function Da(r,s,a,c){ah=!1;var v=r.updateQueue;vo=!1;var _=v.firstBaseUpdate,x=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var q=I,Z=q.next;q.next=null,x===null?_=Z:x.next=Z,x=q;var re=r.alternate;re!==null&&(re=re.updateQueue,I=re.lastBaseUpdate,I!==x&&(I===null?re.firstBaseUpdate=Z:I.next=Z,re.lastBaseUpdate=q))}if(_!==null){var ce=v.baseState;x=0,re=Z=q=null,I=_;do{var ee=I.lane&-536870913,ne=ee!==I.lane;if(ne?(Xe&ee)===ee:(c&ee)===ee){ee!==0&&ee===rl&&(ah=!0),re!==null&&(re=re.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var xe=r,De=I;ee=s;var Et=a;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ce=xe.call(Et,ce,ee);break e}ce=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,ee=typeof xe=="function"?xe.call(Et,ce,ee):xe,ee==null)break e;ce=E({},ce,ee);break e;case 2:vo=!0}}ee=I.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:I.tag,payload:I.payload,callback:I.callback,next:null},re===null?(Z=re=ne,q=ce):re=re.next=ne,x|=ee;if(I=I.next,I===null){if(I=v.shared.pending,I===null)break;ne=I,I=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);re===null&&(q=ce),v.baseState=q,v.firstBaseUpdate=Z,v.lastBaseUpdate=re,_===null&&(v.shared.lanes=0),Co|=x,r.lanes=x,r.memoizedState=ce}}function Wy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Zy(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Wy(a[r],s)}var al=H(null),Ec=H(0);function e0(r,s){r=Jr,b(Ec,r),b(al,s),Jr=r|s.baseLanes}function uh(){b(Ec,Jr),b(al,al.current)}function ch(){Jr=Ec.current,ie(al),ie(Ec)}var ii=H(null),Ii=null;function To(r){var s=r.alternate;b(qt,qt.current&1),b(ii,r),Ii===null&&(s===null||al.current!==null||s.memoizedState!==null)&&(Ii=r)}function fh(r){b(qt,qt.current),b(ii,r),Ii===null&&(Ii=r)}function t0(r){r.tag===22?(b(qt,qt.current),b(ii,r),Ii===null&&(Ii=r)):So()}function So(){b(qt,qt.current),b(ii,ii.current)}function ri(r){ie(ii),Ii===r&&(Ii=null),ie(qt)}var qt=H(0);function Tc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||yp(a)||vp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Or=0,Be=null,vt=null,jt=null,Sc=!1,ul=!1,vs=!1,Ac=0,ka=0,cl=null,Ew=0;function Ot(){throw Error(i(321))}function dh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!ti(r[a],s[a]))return!1;return!0}function hh(r,s,a,c,v,_){return Or=_,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=r===null||r.memoizedState===null?O0:bh,vs=!1,_=a(c,v),vs=!1,ul&&(_=i0(s,a,c,v)),n0(r),_}function n0(r){Q.H=La;var s=vt!==null&&vt.next!==null;if(Or=0,jt=vt=Be=null,Sc=!1,ka=0,cl=null,s)throw Error(i(300));r===null||Wt||(r=r.dependencies,r!==null&&hc(r)&&(Wt=!0))}function i0(r,s,a,c){Be=r;var v=0;do{if(ul&&(cl=null),ka=0,ul=!1,25<=v)throw Error(i(301));if(v+=1,jt=vt=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=F0,_=s(a,c)}while(ul);return _}function Tw(){var r=Q.H,s=r.useState()[0];return s=typeof s.then=="function"?Pa(s):s,r=r.useState()[0],(vt!==null?vt.memoizedState:null)!==r&&(Be.flags|=1024),s}function ph(){var r=Ac!==0;return Ac=0,r}function mh(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function gh(r){if(Sc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sc=!1}Or=0,jt=vt=Be=null,ul=!1,ka=Ac=0,cl=null}function Ln(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Be.memoizedState=jt=r:jt=jt.next=r,jt}function Ht(){if(vt===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=jt===null?Be.memoizedState:jt.next;if(s!==null)jt=s,vt=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},jt===null?Be.memoizedState=jt=r:jt=jt.next=r}return jt}function xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pa(r){var s=ka;return ka+=1,cl===null&&(cl=[]),r=$y(cl,r,s),s=Be,(jt===null?s.memoizedState:jt.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?O0:bh),r}function Cc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Pa(r);if(r.$$typeof===Y)return vn(r)}throw Error(i(438,String(r)))}function yh(r){var s=null,a=Be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=xc(),Be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),c=0;c<r;c++)a[c]=O;return s.index++,a}function Fr(r,s){return typeof s=="function"?s(r):s}function wc(r){var s=Ht();return vh(s,vt,r)}function vh(r,s,a){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var v=r.baseQueue,_=c.pending;if(_!==null){if(v!==null){var x=v.next;v.next=_.next,_.next=x}s.baseQueue=v=_,c.pending=null}if(_=r.baseState,v===null)r.memoizedState=_;else{s=v.next;var I=x=null,q=null,Z=s,re=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Xe&ce)===ce:(Or&ce)===ce){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===rl&&(re=!0);else if((Or&ee)===ee){Z=Z.next,ee===rl&&(re=!0);continue}else ce={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ce,x=_):q=q.next=ce,Be.lanes|=ee,Co|=ee;ce=Z.action,vs&&a(_,ce),_=Z.hasEagerState?Z.eagerState:a(_,ce)}else ee={lane:ce,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(I=q=ee,x=_):q=q.next=ee,Be.lanes|=ce,Co|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(q===null?x=_:q.next=I,!ti(_,r.memoizedState)&&(Wt=!0,re&&(a=ol,a!==null)))throw a;r.memoizedState=_,r.baseState=x,r.baseQueue=q,c.lastRenderedState=_}return v===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function _h(r){var s=Ht(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var c=a.dispatch,v=a.pending,_=s.memoizedState;if(v!==null){a.pending=null;var x=v=v.next;do _=r(_,x.action),x=x.next;while(x!==v);ti(_,s.memoizedState)||(Wt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),a.lastRenderedState=_}return[_,c]}function r0(r,s,a){var c=Be,v=Ht(),_=et;if(_){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!ti((vt||v).memoizedState,a);if(x&&(v.memoizedState=a,Wt=!0),v=v.queue,Sh(l0.bind(null,c,v,r),[r]),v.getSnapshot!==s||x||jt!==null&&jt.memoizedState.tag&1){if(c.flags|=2048,fl(9,{destroy:void 0},s0.bind(null,c,v,a,s),null),Tt===null)throw Error(i(349));_||(Or&127)!==0||o0(c,s,a)}return a}function o0(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=Be.updateQueue,s===null?(s=xc(),Be.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function s0(r,s,a,c){s.value=a,s.getSnapshot=c,a0(s)&&u0(r)}function l0(r,s,a){return a(function(){a0(s)&&u0(r)})}function a0(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!ti(r,a)}catch{return!0}}function u0(r){var s=us(r,2);s!==null&&Yn(s,r,2)}function Eh(r){var s=Ln();if(typeof r=="function"){var a=r;if(r=a(),vs){Lt(!0);try{a()}finally{Lt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:r},s}function c0(r,s,a,c){return r.baseState=a,vh(r,vt,typeof c=="function"?c:Fr)}function Sw(r,s,a,c,v){if(Rc(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};Q.T!==null?a(!0):_.isTransition=!1,c(_),a=s.pending,a===null?(_.next=s.pending=_,f0(s,_)):(_.next=a.next,s.pending=a.next=_)}}function f0(r,s){var a=s.action,c=s.payload,v=r.state;if(s.isTransition){var _=Q.T,x={};Q.T=x;try{var I=a(v,c),q=Q.S;q!==null&&q(x,I),d0(r,s,I)}catch(Z){Th(r,s,Z)}finally{_!==null&&x.types!==null&&(_.types=x.types),Q.T=_}}else try{_=a(v,c),d0(r,s,_)}catch(Z){Th(r,s,Z)}}function d0(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){h0(r,s,c)},function(c){return Th(r,s,c)}):h0(r,s,a)}function h0(r,s,a){s.status="fulfilled",s.value=a,p0(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,f0(r,a)))}function Th(r,s,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,p0(s),s=s.next;while(s!==c)}r.action=null}function p0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function m0(r,s){return s}function g0(r,s){if(et){var a=Tt.formState;if(a!==null){e:{var c=Be;if(et){if(bt){t:{for(var v=bt,_=wi;v.nodeType!==8;){if(!_){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){bt=bi(v.nextSibling),c=v.data==="F!";break e}}go(c)}c=!1}c&&(s=a[0])}}return a=Ln(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:s},a.queue=c,a=V0.bind(null,Be,c),c.dispatch=a,c=Eh(!1),_=Ih.bind(null,Be,!1,c.queue),c=Ln(),v={state:s,dispatch:null,action:r,pending:null},c.queue=v,a=Sw.bind(null,Be,v,_,a),v.dispatch=a,c.memoizedState=r,[s,a,!1]}function y0(r){var s=Ht();return v0(s,vt,r)}function v0(r,s,a){if(s=vh(r,s,m0)[0],r=wc(Fr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Pa(s)}catch(x){throw x===sl?gc:x}else c=s;s=Ht();var v=s.queue,_=v.dispatch;return a!==s.memoizedState&&(Be.flags|=2048,fl(9,{destroy:void 0},Aw.bind(null,v,a),null)),[c,_,r]}function Aw(r,s){r.action=s}function _0(r){var s=Ht(),a=vt;if(a!==null)return v0(s,a,r);Ht(),s=s.memoizedState,a=Ht();var c=a.queue.dispatch;return a.memoizedState=r,[s,c,!1]}function fl(r,s,a,c){return r={tag:r,create:a,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=xc(),Be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r),r}function E0(){return Ht().memoizedState}function Ic(r,s,a,c){var v=Ln();Be.flags|=r,v.memoizedState=fl(1|s,{destroy:void 0},a,c===void 0?null:c)}function bc(r,s,a,c){var v=Ht();c=c===void 0?null:c;var _=v.memoizedState.inst;vt!==null&&c!==null&&dh(c,vt.memoizedState.deps)?v.memoizedState=fl(s,_,a,c):(Be.flags|=r,v.memoizedState=fl(1|s,_,a,c))}function T0(r,s){Ic(8390656,8,r,s)}function Sh(r,s){bc(2048,8,r,s)}function xw(r){Be.flags|=4;var s=Be.updateQueue;if(s===null)s=xc(),Be.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function S0(r){var s=Ht().memoizedState;return xw({ref:s,nextImpl:r}),function(){if((ct&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function A0(r,s){return bc(4,2,r,s)}function x0(r,s){return bc(4,4,r,s)}function C0(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function w0(r,s,a){a=a!=null?a.concat([r]):null,bc(4,4,C0.bind(null,s,r),a)}function Ah(){}function I0(r,s){var a=Ht();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&dh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function b0(r,s){var a=Ht();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&dh(s,c[1]))return c[0];if(c=r(),vs){Lt(!0);try{r()}finally{Lt(!1)}}return a.memoizedState=[c,s],c}function xh(r,s,a){return a===void 0||(Or&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=Rv(),Be.lanes|=r,Co|=r,a)}function R0(r,s,a,c){return ti(a,s)?a:al.current!==null?(r=xh(r,a,c),ti(r,s)||(Wt=!0),r):(Or&42)===0||(Or&1073741824)!==0&&(Xe&261930)===0?(Wt=!0,r.memoizedState=a):(r=Rv(),Be.lanes|=r,Co|=r,s)}function N0(r,s,a,c,v){var _=X.p;X.p=_!==0&&8>_?_:8;var x=Q.T,I={};Q.T=I,Ih(r,!1,s,a);try{var q=v(),Z=Q.S;if(Z!==null&&Z(I,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var re=_w(q,c);Va(r,s,re,li(r))}else Va(r,s,c,li(r))}catch(ce){Va(r,s,{then:function(){},status:"rejected",reason:ce},li())}finally{X.p=_,x!==null&&I.types!==null&&(x.types=I.types),Q.T=x}}function Cw(){}function Ch(r,s,a,c){if(r.tag!==5)throw Error(i(476));var v=M0(r).queue;N0(r,v,s,de,a===null?Cw:function(){return D0(r),a(c)})}function M0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:de},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function D0(r){var s=M0(r);s.next===null&&(s=r.alternate.memoizedState),Va(r,s.next.queue,{},li())}function wh(){return vn(Wa)}function k0(){return Ht().memoizedState}function P0(){return Ht().memoizedState}function ww(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=li();r=_o(a);var c=Eo(s,r,a);c!==null&&(Yn(c,s,a),Na(c,s,a)),s={cache:th()},r.payload=s;return}s=s.return}}function Iw(r,s,a){var c=li();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(r)?L0(s,a):(a=Gd(r,s,a,c),a!==null&&(Yn(a,r,c),U0(a,s,c)))}function V0(r,s,a){var c=li();Va(r,s,a,c)}function Va(r,s,a,c){var v={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(r))L0(s,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,I=_(x,a);if(v.hasEagerState=!0,v.eagerState=I,ti(I,x))return uc(r,s,v,0),Tt===null&&ac(),!1}catch{}finally{}if(a=Gd(r,s,v,c),a!==null)return Yn(a,r,c),U0(a,s,c),!0}return!1}function Ih(r,s,a,c){if(c={lane:2,revertLane:op(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rc(r)){if(s)throw Error(i(479))}else s=Gd(r,a,c,2),s!==null&&Yn(s,r,2)}function Rc(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function L0(r,s){ul=Sc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function U0(r,s,a){if((a&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Ye(r,a)}}var La={readContext:vn,use:Cc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};La.useEffectEvent=Ot;var O0={readContext:vn,use:Cc,useCallback:function(r,s){return Ln().memoizedState=[r,s===void 0?null:s],r},useContext:vn,useEffect:T0,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,Ic(4194308,4,C0.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ic(4194308,4,r,s)},useInsertionEffect:function(r,s){Ic(4,2,r,s)},useMemo:function(r,s){var a=Ln();s=s===void 0?null:s;var c=r();if(vs){Lt(!0);try{r()}finally{Lt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(r,s,a){var c=Ln();if(a!==void 0){var v=a(s);if(vs){Lt(!0);try{a(s)}finally{Lt(!1)}}}else v=s;return c.memoizedState=c.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},c.queue=r,r=r.dispatch=Iw.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=Ln();return r={current:r},s.memoizedState=r},useState:function(r){r=Eh(r);var s=r.queue,a=V0.bind(null,Be,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Ln();return xh(a,r,s)},useTransition:function(){var r=Eh(!1);return r=N0.bind(null,Be,r.queue,!0,!1),Ln().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var c=Be,v=Ln();if(et){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),Tt===null)throw Error(i(349));(Xe&127)!==0||o0(c,s,a)}v.memoizedState=a;var _={value:a,getSnapshot:s};return v.queue=_,T0(l0.bind(null,c,_,r),[r]),c.flags|=2048,fl(9,{destroy:void 0},s0.bind(null,c,_,a,s),null),a},useId:function(){var r=Ln(),s=Tt.identifierPrefix;if(et){var a=mr,c=pr;a=(c&~(1<<32-$e(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ac++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Ew++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:wh,useFormState:g0,useActionState:g0,useOptimistic:function(r){var s=Ln();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ih.bind(null,Be,!0,a),a.dispatch=s,[r,s]},useMemoCache:yh,useCacheRefresh:function(){return Ln().memoizedState=ww.bind(null,Be)},useEffectEvent:function(r){var s=Ln(),a={impl:r};return s.memoizedState=a,function(){if((ct&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},bh={readContext:vn,use:Cc,useCallback:I0,useContext:vn,useEffect:Sh,useImperativeHandle:w0,useInsertionEffect:A0,useLayoutEffect:x0,useMemo:b0,useReducer:wc,useRef:E0,useState:function(){return wc(Fr)},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Ht();return R0(a,vt.memoizedState,r,s)},useTransition:function(){var r=wc(Fr)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pa(r),s]},useSyncExternalStore:r0,useId:k0,useHostTransitionStatus:wh,useFormState:y0,useActionState:y0,useOptimistic:function(r,s){var a=Ht();return c0(a,vt,r,s)},useMemoCache:yh,useCacheRefresh:P0};bh.useEffectEvent=S0;var F0={readContext:vn,use:Cc,useCallback:I0,useContext:vn,useEffect:Sh,useImperativeHandle:w0,useInsertionEffect:A0,useLayoutEffect:x0,useMemo:b0,useReducer:_h,useRef:E0,useState:function(){return _h(Fr)},useDebugValue:Ah,useDeferredValue:function(r,s){var a=Ht();return vt===null?xh(a,r,s):R0(a,vt.memoizedState,r,s)},useTransition:function(){var r=_h(Fr)[0],s=Ht().memoizedState;return[typeof r=="boolean"?r:Pa(r),s]},useSyncExternalStore:r0,useId:k0,useHostTransitionStatus:wh,useFormState:_0,useActionState:_0,useOptimistic:function(r,s){var a=Ht();return vt!==null?c0(a,vt,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:yh,useCacheRefresh:P0};F0.useEffectEvent=S0;function Rh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Nh={enqueueSetState:function(r,s,a){r=r._reactInternals;var c=li(),v=_o(c);v.payload=s,a!=null&&(v.callback=a),s=Eo(r,v,c),s!==null&&(Yn(s,r,c),Na(s,r,c))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=li(),v=_o(c);v.tag=1,v.payload=s,a!=null&&(v.callback=a),s=Eo(r,v,c),s!==null&&(Yn(s,r,c),Na(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=li(),c=_o(a);c.tag=2,s!=null&&(c.callback=s),s=Eo(r,c,a),s!==null&&(Yn(s,r,a),Na(s,r,a))}};function z0(r,s,a,c,v,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,_,x):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,c)||!Sa(v,_):!0}function B0(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Nh.enqueueReplaceState(s,s.state,null)}function _s(r,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(r=r.defaultProps){a===s&&(a=E({},a));for(var v in r)a[v]===void 0&&(a[v]=r[v])}return a}function q0(r){lc(r)}function H0(r){console.error(r)}function G0(r){lc(r)}function Nc(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Y0(r,s,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Mh(r,s,a){return a=_o(a),a.tag=3,a.payload={element:null},a.callback=function(){Nc(r,s)},a}function J0(r){return r=_o(r),r.tag=3,r}function $0(r,s,a,c){var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;r.payload=function(){return v(_)},r.callback=function(){Y0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){Y0(s,a,c),typeof v!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function bw(r,s,a,c,v){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&il(s,a,v,!0),a=ii.current,a!==null){switch(a.tag){case 31:case 13:return Ii===null?qc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=v,c===yc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),np(r,c,v)),!1;case 22:return a.flags|=65536,c===yc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),np(r,c,v)),!1}throw Error(i(435,a.tag))}return np(r,c,v),qc(),!1}if(et)return s=ii.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,c!==Xd&&(r=Error(i(422),{cause:c}),Ca(Ai(r,a)))):(c!==Xd&&(s=Error(i(423),{cause:c}),Ca(Ai(s,a))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,c=Ai(c,a),v=Mh(r.stateNode,c,v),lh(r,v),Ft!==4&&(Ft=2)),!1;var _=Error(i(520),{cause:c});if(_=Ai(_,a),Ga===null?Ga=[_]:Ga.push(_),Ft!==4&&(Ft=2),s===null)return!0;c=Ai(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=v&-v,a.lanes|=r,r=Mh(a.stateNode,c,r),lh(a,r),!1;case 1:if(s=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wo===null||!wo.has(_))))return a.flags|=65536,v&=-v,a.lanes|=v,v=J0(v),$0(v,r,a,c),lh(a,v),!1}a=a.return}while(a!==null);return!1}var Dh=Error(i(461)),Wt=!1;function _n(r,s,a,c){s.child=r===null?jy(s,null,a,c):ys(s,r.child,a,c)}function K0(r,s,a,c,v){a=a.render;var _=s.ref;if("ref"in c){var x={};for(var I in c)I!=="ref"&&(x[I]=c[I])}else x=c;return hs(s),c=hh(r,s,a,x,_,v),I=ph(),r!==null&&!Wt?(mh(r,s,v),zr(r,s,v)):(et&&I&&Kd(s),s.flags|=1,_n(r,s,c,v),s.child)}function Q0(r,s,a,c,v){if(r===null){var _=a.type;return typeof _=="function"&&!Yd(_)&&_.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=_,X0(r,s,_,c,v)):(r=fc(a.type,null,c,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!zh(r,v)){var x=_.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(x,c)&&r.ref===s.ref)return zr(r,s,v)}return s.flags|=1,r=Pr(_,c),r.ref=s.ref,r.return=s,s.child=r}function X0(r,s,a,c,v){if(r!==null){var _=r.memoizedProps;if(Sa(_,c)&&r.ref===s.ref)if(Wt=!1,s.pendingProps=c=_,zh(r,v))(r.flags&131072)!==0&&(Wt=!0);else return s.lanes=r.lanes,zr(r,s,v)}return kh(r,s,a,c,v)}function j0(r,s,a,c){var v=c.children,_=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,r!==null){for(c=s.child=r.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~_}else c=0,s.child=null;return W0(r,s,_,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&mc(s,_!==null?_.cachePool:null),_!==null?e0(s,_):uh(),t0(s);else return c=s.lanes=536870912,W0(r,s,_!==null?_.baseLanes|a:a,a,c)}else _!==null?(mc(s,_.cachePool),e0(s,_),So(),s.memoizedState=null):(r!==null&&mc(s,null),uh(),So());return _n(r,s,v,a),s.child}function Ua(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function W0(r,s,a,c,v){var _=ih();return _=_===null?null:{parent:Xt._currentValue,pool:_},s.memoizedState={baseLanes:a,cachePool:_},r!==null&&mc(s,null),uh(),t0(s),r!==null&&il(r,s,c,!0),s.childLanes=v,null}function Mc(r,s){return s=kc({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Z0(r,s,a){return ys(s,r.child,null,a),r=Mc(s,s.pendingProps),r.flags|=2,ri(s),s.memoizedState=null,r}function Rw(r,s,a){var c=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(et){if(c.mode==="hidden")return r=Mc(s,c),s.lanes=536870912,Ua(null,r);if(fh(s),(r=bt)?(r=f_(r,wi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:po!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},a=Ly(r),a.return=s,s.child=a,yn=s,bt=null)):r=null,r===null)throw go(s);return s.lanes=536870912,null}return Mc(s,c)}var _=r.memoizedState;if(_!==null){var x=_.dehydrated;if(fh(s),v)if(s.flags&256)s.flags&=-257,s=Z0(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Wt||il(r,s,a,!1),v=(a&r.childLanes)!==0,Wt||v){if(c=Tt,c!==null&&(x=zt(c,a),x!==0&&x!==_.retryLane))throw _.retryLane=x,us(r,x),Yn(c,r,x),Dh;qc(),s=Z0(r,s,a)}else r=_.treeContext,bt=bi(x.nextSibling),yn=s,et=!0,mo=null,wi=!1,r!==null&&Fy(s,r),s=Mc(s,c),s.flags|=4096;return s}return r=Pr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Dc(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function kh(r,s,a,c,v){return hs(s),a=hh(r,s,a,c,void 0,v),c=ph(),r!==null&&!Wt?(mh(r,s,v),zr(r,s,v)):(et&&c&&Kd(s),s.flags|=1,_n(r,s,a,v),s.child)}function ev(r,s,a,c,v,_){return hs(s),s.updateQueue=null,a=i0(s,c,a,v),n0(r),c=ph(),r!==null&&!Wt?(mh(r,s,_),zr(r,s,_)):(et&&c&&Kd(s),s.flags|=1,_n(r,s,a,_),s.child)}function tv(r,s,a,c,v){if(hs(s),s.stateNode===null){var _=Zs,x=a.contextType;typeof x=="object"&&x!==null&&(_=vn(x)),_=new a(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Nh,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},oh(s),x=a.contextType,_.context=typeof x=="object"&&x!==null?vn(x):Zs,_.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Rh(s,a,x,c),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Nh.enqueueReplaceState(_,_.state,null),Da(s,c,_,v),Ma(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){_=s.stateNode;var I=s.memoizedProps,q=_s(a,I);_.props=q;var Z=_.context,re=a.contextType;x=Zs,typeof re=="object"&&re!==null&&(x=vn(re));var ce=a.getDerivedStateFromProps;re=typeof ce=="function"||typeof _.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,re||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(I||Z!==x)&&B0(s,_,c,x),vo=!1;var ee=s.memoizedState;_.state=ee,Da(s,c,_,v),Ma(),Z=s.memoizedState,I||ee!==Z||vo?(typeof ce=="function"&&(Rh(s,a,ce,c),Z=s.memoizedState),(q=vo||z0(s,a,q,c,ee,Z,x))?(re||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),_.props=c,_.state=Z,_.context=x,c=q):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,sh(r,s),x=s.memoizedProps,re=_s(a,x),_.props=re,ce=s.pendingProps,ee=_.context,Z=a.contextType,q=Zs,typeof Z=="object"&&Z!==null&&(q=vn(Z)),I=a.getDerivedStateFromProps,(Z=typeof I=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ce||ee!==q)&&B0(s,_,c,q),vo=!1,ee=s.memoizedState,_.state=ee,Da(s,c,_,v),Ma();var ne=s.memoizedState;x!==ce||ee!==ne||vo||r!==null&&r.dependencies!==null&&hc(r.dependencies)?(typeof I=="function"&&(Rh(s,a,I,c),ne=s.memoizedState),(re=vo||z0(s,a,re,c,ee,ne,q)||r!==null&&r.dependencies!==null&&hc(r.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,q)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),_.props=c,_.state=ne,_.context=q,c=re):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return _=c,Dc(r,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&c?(s.child=ys(s,r.child,null,v),s.child=ys(s,null,a,v)):_n(r,s,a,v),s.memoizedState=_.state,r=s.child):r=zr(r,s,v),r}function nv(r,s,a,c){return fs(),s.flags|=256,_n(r,s,a,c),s.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(r){return{baseLanes:r,cachePool:Yy()}}function Lh(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=si),r}function iv(r,s,a){var c=s.pendingProps,v=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(qt.current&2)!==0),x&&(v=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(et){if(v?To(s):So(),(r=bt)?(r=f_(r,wi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:po!==null?{id:pr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},a=Ly(r),a.return=s,s.child=a,yn=s,bt=null)):r=null,r===null)throw go(s);return vp(r)?s.lanes=32:s.lanes=536870912,null}var I=c.children;return c=c.fallback,v?(So(),v=s.mode,I=kc({mode:"hidden",children:I},v),c=cs(c,v,a,null),I.return=s,c.return=s,I.sibling=c,s.child=I,c=s.child,c.memoizedState=Vh(a),c.childLanes=Lh(r,x,a),s.memoizedState=Ph,Ua(null,c)):(To(s),Uh(s,I))}var q=r.memoizedState;if(q!==null&&(I=q.dehydrated,I!==null)){if(_)s.flags&256?(To(s),s.flags&=-257,s=Oh(r,s,a)):s.memoizedState!==null?(So(),s.child=r.child,s.flags|=128,s=null):(So(),I=c.fallback,v=s.mode,c=kc({mode:"visible",children:c.children},v),I=cs(I,v,a,null),I.flags|=2,c.return=s,I.return=s,c.sibling=I,s.child=c,ys(s,r.child,null,a),c=s.child,c.memoizedState=Vh(a),c.childLanes=Lh(r,x,a),s.memoizedState=Ph,s=Ua(null,c));else if(To(s),vp(I)){if(x=I.nextSibling&&I.nextSibling.dataset,x)var Z=x.dgst;x=Z,c=Error(i(419)),c.stack="",c.digest=x,Ca({value:c,source:null,stack:null}),s=Oh(r,s,a)}else if(Wt||il(r,s,a,!1),x=(a&r.childLanes)!==0,Wt||x){if(x=Tt,x!==null&&(c=zt(x,a),c!==0&&c!==q.retryLane))throw q.retryLane=c,us(r,c),Yn(x,r,c),Dh;yp(I)||qc(),s=Oh(r,s,a)}else yp(I)?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,bt=bi(I.nextSibling),yn=s,et=!0,mo=null,wi=!1,r!==null&&Fy(s,r),s=Uh(s,c.children),s.flags|=4096);return s}return v?(So(),I=c.fallback,v=s.mode,q=r.child,Z=q.sibling,c=Pr(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?I=Pr(Z,I):(I=cs(I,v,a,null),I.flags|=2),I.return=s,c.return=s,c.sibling=I,s.child=c,Ua(null,c),c=s.child,I=r.child.memoizedState,I===null?I=Vh(a):(v=I.cachePool,v!==null?(q=Xt._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=Yy(),I={baseLanes:I.baseLanes|a,cachePool:v}),c.memoizedState=I,c.childLanes=Lh(r,x,a),s.memoizedState=Ph,Ua(r.child,c)):(To(s),a=r.child,r=a.sibling,a=Pr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=a,s.memoizedState=null,a)}function Uh(r,s){return s=kc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function kc(r,s){return r=ni(22,r,null,s),r.lanes=0,r}function Oh(r,s,a){return ys(s,r.child,null,a),r=Uh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function rv(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Zd(r.return,s,a)}function Fh(r,s,a,c,v,_){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:v,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=v,x.treeForkCount=_)}function ov(r,s,a){var c=s.pendingProps,v=c.revealOrder,_=c.tail;c=c.children;var x=qt.current,I=(x&2)!==0;if(I?(x=x&1|2,s.flags|=128):x&=1,b(qt,x),_n(r,s,c,a),c=et?xa:0,!I&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&rv(r,a,s);else if(r.tag===19)rv(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(a=s.child,v=null;a!==null;)r=a.alternate,r!==null&&Tc(r)===null&&(v=a),a=a.sibling;a=v,a===null?(v=s.child,s.child=null):(v=a.sibling,a.sibling=null),Fh(s,!1,v,a,_,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Tc(r)===null){s.child=v;break}r=v.sibling,v.sibling=a,a=v,v=r}Fh(s,!0,a,null,_,c);break;case"together":Fh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function zr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Co|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(il(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Pr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Pr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function zh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&hc(r)))}function Nw(r,s,a){switch(s.tag){case 3:at(s,s.stateNode.containerInfo),yo(s,Xt,r.memoizedState.cache),fs();break;case 27:case 5:pn(s);break;case 4:at(s,s.stateNode.containerInfo);break;case 10:yo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,fh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(To(s),s.flags|=128,null):(a&s.child.childLanes)!==0?iv(r,s,a):(To(s),r=zr(r,s,a),r!==null?r.sibling:null);To(s);break;case 19:var v=(r.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(il(r,s,a,!1),c=(a&s.childLanes)!==0),v){if(c)return ov(r,s,a);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),b(qt,qt.current),c)break;return null;case 22:return s.lanes=0,j0(r,s,a,s.pendingProps);case 24:yo(s,Xt,r.memoizedState.cache)}return zr(r,s,a)}function sv(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Wt=!0;else{if(!zh(r,a)&&(s.flags&128)===0)return Wt=!1,Nw(r,s,a);Wt=(r.flags&131072)!==0}else Wt=!1,et&&(s.flags&1048576)!==0&&Oy(s,xa,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=ms(s.elementType),s.type=r,typeof r=="function")Yd(r)?(c=_s(r,c),s.tag=1,s=tv(null,s,r,c,a)):(s.tag=0,s=kh(null,s,r,c,a));else{if(r!=null){var v=r.$$typeof;if(v===le){s.tag=11,s=K0(null,s,r,c,a);break e}else if(v===M){s.tag=14,s=Q0(null,s,r,c,a);break e}}throw s=ye(r)||r,Error(i(306,s,""))}}return s;case 0:return kh(r,s,s.type,s.pendingProps,a);case 1:return c=s.type,v=_s(c,s.pendingProps),tv(r,s,c,v,a);case 3:e:{if(at(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var _=s.memoizedState;v=_.element,sh(r,s),Da(s,c,null,a);var x=s.memoizedState;if(c=x.cache,yo(s,Xt,c),c!==_.cache&&eh(s,[Xt],a,!0),Ma(),c=x.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=nv(r,s,c,a);break e}else if(c!==v){v=Ai(Error(i(424)),s),Ca(v),s=nv(r,s,c,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=bi(r.firstChild),yn=s,et=!0,mo=null,wi=!0,a=jy(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fs(),c===v){s=zr(r,s,a);break e}_n(r,s,c,a)}s=s.child}return s;case 26:return Dc(r,s),r===null?(a=y_(s.type,null,s.pendingProps,null))?s.memoizedState=a:et||(a=s.type,r=s.pendingProps,c=Qc(Ce.current).createElement(a),c[$t]=s,c[un]=r,En(c,a,r),Kt(c),s.stateNode=c):s.memoizedState=y_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return pn(s),r===null&&et&&(c=s.stateNode=p_(s.type,s.pendingProps,Ce.current),yn=s,wi=!0,v=bt,No(s.type)?(_p=v,bt=bi(c.firstChild)):bt=v),_n(r,s,s.pendingProps.children,a),Dc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&et&&((v=c=bt)&&(c=sI(c,s.type,s.pendingProps,wi),c!==null?(s.stateNode=c,yn=s,bt=bi(c.firstChild),wi=!1,v=!0):v=!1),v||go(s)),pn(s),v=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,c=_.children,pp(v,_)?c=null:x!==null&&pp(v,x)&&(s.flags|=32),s.memoizedState!==null&&(v=hh(r,s,Tw,null,null,a),Wa._currentValue=v),Dc(r,s),_n(r,s,c,a),s.child;case 6:return r===null&&et&&((r=a=bt)&&(a=lI(a,s.pendingProps,wi),a!==null?(s.stateNode=a,yn=s,bt=null,r=!0):r=!1),r||go(s)),null;case 13:return iv(r,s,a);case 4:return at(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ys(s,null,c,a):_n(r,s,c,a),s.child;case 11:return K0(r,s,s.type,s.pendingProps,a);case 7:return _n(r,s,s.pendingProps,a),s.child;case 8:return _n(r,s,s.pendingProps.children,a),s.child;case 12:return _n(r,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,yo(s,s.type,c.value),_n(r,s,c.children,a),s.child;case 9:return v=s.type._context,c=s.pendingProps.children,hs(s),v=vn(v),c=c(v),s.flags|=1,_n(r,s,c,a),s.child;case 14:return Q0(r,s,s.type,s.pendingProps,a);case 15:return X0(r,s,s.type,s.pendingProps,a);case 19:return ov(r,s,a);case 31:return Rw(r,s,a);case 22:return j0(r,s,a,s.pendingProps);case 24:return hs(s),c=vn(Xt),r===null?(v=ih(),v===null&&(v=Tt,_=th(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=a),v=_),s.memoizedState={parent:c,cache:v},oh(s),yo(s,Xt,v)):((r.lanes&a)!==0&&(sh(r,s),Da(s,null,null,a),Ma()),v=r.memoizedState,_=s.memoizedState,v.parent!==c?(v={parent:c,cache:c},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),yo(s,Xt,c)):(c=_.cache,yo(s,Xt,c),c!==v.cache&&eh(s,[Xt],a,!0))),_n(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Br(r){r.flags|=4}function Bh(r,s,a,c,v){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(kv())r.flags|=8192;else throw gs=yc,rh}else r.flags&=-16777217}function lv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!S_(s))if(kv())r.flags|=8192;else throw gs=yc,rh}function Pc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ls():536870912,r.lanes|=s,ml|=s)}function Oa(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Rt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function Mw(r,s,a){var c=s.pendingProps;switch(Qd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Rt(s),null;case 3:return a=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ur(Xt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(nl(s)?Br(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,jd())),Rt(s),null;case 26:var v=s.type,_=s.memoizedState;return r===null?(Br(s),_!==null?(Rt(s),lv(s,_)):(Rt(s),Bh(s,v,null,c,a))):_?_!==r.memoizedState?(Br(s),Rt(s),lv(s,_)):(Rt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Br(s),Rt(s),Bh(s,v,r,c,a)),null;case 27:if(Mn(s),a=Ce.current,v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Br(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}r=pe.current,nl(s)?zy(s):(r=p_(v,c,a),s.stateNode=r,Br(s))}return Rt(s),null;case 5:if(Mn(s),v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Br(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Rt(s),null}if(_=pe.current,nl(s))zy(s);else{var x=Qc(Ce.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?x.createElement(v,{is:c.is}):x.createElement(v)}}_[$t]=s,_[un]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;e:switch(En(_,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Br(s)}}return Rt(s),Bh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Br(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ce.current,nl(s)){if(r=s.stateNode,a=s.memoizedProps,c=null,v=yn,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}r[$t]=s,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||i_(r.nodeValue,a)),r||go(s,!0)}else r=Qc(r).createTextNode(c),r[$t]=s,s.stateNode=r}return Rt(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(c=nl(s),a!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[$t]=s}else fs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),r=!1}else a=jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?(ri(s),s):(ri(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Rt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=nl(s),c!==null&&c.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[$t]=s}else fs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Rt(s),v=!1}else v=jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(ri(s),s):(ri(s),null)}return ri(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=s.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==v&&(c.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),Pc(s,s.updateQueue),Rt(s),null);case 4:return tt(),r===null&&up(s.stateNode.containerInfo),Rt(s),null;case 10:return Ur(s.type),Rt(s),null;case 19:if(ie(qt),c=s.memoizedState,c===null)return Rt(s),null;if(v=(s.flags&128)!==0,_=c.rendering,_===null)if(v)Oa(c,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Tc(r),_!==null){for(s.flags|=128,Oa(c,!1),r=_.updateQueue,s.updateQueue=r,Pc(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Vy(a,r),a=a.sibling;return b(qt,qt.current&1|2),et&&Vr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&It()>Fc&&(s.flags|=128,v=!0,Oa(c,!1),s.lanes=4194304)}else{if(!v)if(r=Tc(_),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,Pc(s,r),Oa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!et)return Rt(s),null}else 2*It()-c.renderingStartTime>Fc&&a!==536870912&&(s.flags|=128,v=!0,Oa(c,!1),s.lanes=4194304);c.isBackwards?(_.sibling=s.child,s.child=_):(r=c.last,r!==null?r.sibling=_:s.child=_,c.last=_)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=It(),r.sibling=null,a=qt.current,b(qt,v?a&1|2:a&1),et&&Vr(s,c.treeForkCount),r):(Rt(s),null);case 22:case 23:return ri(s),ch(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(Rt(s),s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),a=s.updateQueue,a!==null&&Pc(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),r!==null&&ie(ps),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Ur(Xt),Rt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function Dw(r,s){switch(Qd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ur(Xt),tt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Mn(s),null;case 31:if(s.memoizedState!==null){if(ri(s),s.alternate===null)throw Error(i(340));fs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(ri(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));fs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(qt),null;case 4:return tt(),null;case 10:return Ur(s.type),null;case 22:case 23:return ri(s),ch(),r!==null&&ie(ps),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ur(Xt),null;case 25:return null;default:return null}}function av(r,s){switch(Qd(s),s.tag){case 3:Ur(Xt),tt();break;case 26:case 27:case 5:Mn(s);break;case 4:tt();break;case 31:s.memoizedState!==null&&ri(s);break;case 13:ri(s);break;case 19:ie(qt);break;case 10:Ur(s.type);break;case 22:case 23:ri(s),ch(),r!==null&&ie(ps);break;case 24:Ur(Xt)}}function Fa(r,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var v=c.next;a=v;do{if((a.tag&r)===r){c=void 0;var _=a.create,x=a.inst;c=_(),x.destroy=c}a=a.next}while(a!==v)}}catch(I){gt(s,s.return,I)}}function Ao(r,s,a){try{var c=s.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var _=v.next;c=_;do{if((c.tag&r)===r){var x=c.inst,I=x.destroy;if(I!==void 0){x.destroy=void 0,v=s;var q=a,Z=I;try{Z()}catch(re){gt(v,q,re)}}}c=c.next}while(c!==_)}}catch(re){gt(s,s.return,re)}}function uv(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{Zy(s,a)}catch(c){gt(r,r.return,c)}}}function cv(r,s,a){a.props=_s(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){gt(r,s,c)}}function za(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(v){gt(r,s,v)}}function gr(r,s){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(v){gt(r,s,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(v){gt(r,s,v)}else a.current=null}function fv(r){var s=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(v){gt(r,r.return,v)}}function qh(r,s,a){try{var c=r.stateNode;eI(c,r.type,a,s),c[un]=s}catch(v){gt(r,r.return,v)}}function dv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&No(r.type)||r.tag===4}function Hh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||dv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&No(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Bi));else if(c!==4&&(c===27&&No(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Gh(r,s,a),r=r.sibling;r!==null;)Gh(r,s,a),r=r.sibling}function Vc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(c===27&&No(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Vc(r,s,a),r=r.sibling;r!==null;)Vc(r,s,a),r=r.sibling}function hv(r){var s=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);En(s,c,a),s[$t]=r,s[un]=a}catch(_){gt(r,r.return,_)}}var qr=!1,Zt=!1,Yh=!1,pv=typeof WeakSet=="function"?WeakSet:Set,fn=null;function kw(r,s){if(r=r.containerInfo,dp=nf,r=wy(r),Od(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var v=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var x=0,I=-1,q=-1,Z=0,re=0,ce=r,ee=null;t:for(;;){for(var ne;ce!==a||v!==0&&ce.nodeType!==3||(I=x+v),ce!==_||c!==0&&ce.nodeType!==3||(q=x+c),ce.nodeType===3&&(x+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)ee=ce,ce=ne;for(;;){if(ce===r)break t;if(ee===a&&++Z===v&&(I=x),ee===_&&++re===c&&(q=x),(ne=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=ne}a=I===-1||q===-1?null:{start:I,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(hp={focusedElem:r,selectionRange:a},nf=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,_=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)v=r[a],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,a=s,v=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var xe=_s(a.type,v);r=c.getSnapshotBeforeUpdate(xe,_),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){gt(a,a.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)gp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":gp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function mv(r,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Gr(r,a),c&4&&Fa(5,a);break;case 1:if(Gr(r,a),c&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(x){gt(a,a.return,x)}else{var v=_s(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(v,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){gt(a,a.return,x)}}c&64&&uv(a),c&512&&za(a,a.return);break;case 3:if(Gr(r,a),c&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Zy(r,s)}catch(x){gt(a,a.return,x)}}break;case 27:s===null&&c&4&&hv(a);case 26:case 5:Gr(r,a),s===null&&c&4&&fv(a),c&512&&za(a,a.return);break;case 12:Gr(r,a);break;case 31:Gr(r,a),c&4&&vv(r,a);break;case 13:Gr(r,a),c&4&&_v(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=qw.bind(null,a),aI(r,a))));break;case 22:if(c=a.memoizedState!==null||qr,!c){s=s!==null&&s.memoizedState!==null||Zt,v=qr;var _=Zt;qr=c,(Zt=s)&&!_?Yr(r,a,(a.subtreeFlags&8772)!==0):Gr(r,a),qr=v,Zt=_}break;case 30:break;default:Gr(r,a)}}function gv(r){var s=r.alternate;s!==null&&(r.alternate=null,gv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Fs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Dt=null,Bn=!1;function Hr(r,s,a){for(a=a.child;a!==null;)yv(r,s,a),a=a.sibling}function yv(r,s,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:Zt||gr(a,s),Hr(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||gr(a,s);var c=Dt,v=Bn;No(a.type)&&(Dt=a.stateNode,Bn=!1),Hr(r,s,a),Qa(a.stateNode),Dt=c,Bn=v;break;case 5:Zt||gr(a,s);case 6:if(c=Dt,v=Bn,Dt=null,Hr(r,s,a),Dt=c,Bn=v,Dt!==null)if(Bn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(a.stateNode)}catch(_){gt(a,s,_)}else try{Dt.removeChild(a.stateNode)}catch(_){gt(a,s,_)}break;case 18:Dt!==null&&(Bn?(r=Dt,u_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),Al(r)):u_(Dt,a.stateNode));break;case 4:c=Dt,v=Bn,Dt=a.stateNode.containerInfo,Bn=!0,Hr(r,s,a),Dt=c,Bn=v;break;case 0:case 11:case 14:case 15:Ao(2,a,s),Zt||Ao(4,a,s),Hr(r,s,a);break;case 1:Zt||(gr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&cv(a,s,c)),Hr(r,s,a);break;case 21:Hr(r,s,a);break;case 22:Zt=(c=Zt)||a.memoizedState!==null,Hr(r,s,a),Zt=c;break;default:Hr(r,s,a)}}function vv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Al(r)}catch(a){gt(s,s.return,a)}}}function _v(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Al(r)}catch(a){gt(s,s.return,a)}}function Pw(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new pv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new pv),s;default:throw Error(i(435,r.tag))}}function Lc(r,s){var a=Pw(r);s.forEach(function(c){if(!a.has(c)){a.add(c);var v=Hw.bind(null,r,c);c.then(v,v)}})}function qn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var v=a[c],_=r,x=s,I=x;e:for(;I!==null;){switch(I.tag){case 27:if(No(I.type)){Dt=I.stateNode,Bn=!1;break e}break;case 5:Dt=I.stateNode,Bn=!1;break e;case 3:case 4:Dt=I.stateNode.containerInfo,Bn=!0;break e}I=I.return}if(Dt===null)throw Error(i(160));yv(_,x,v),Dt=null,Bn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ev(s,r),s=s.sibling}var $i=null;function Ev(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qn(s,r),Hn(r),c&4&&(Ao(3,r,r.return),Fa(3,r),Ao(5,r,r.return));break;case 1:qn(s,r),Hn(r),c&512&&(Zt||a===null||gr(a,a.return)),c&64&&qr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var v=$i;if(qn(s,r),Hn(r),c&512&&(Zt||a===null||gr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":_=v.getElementsByTagName("title")[0],(!_||_[nr]||_[$t]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(c),v.head.insertBefore(_,v.querySelector("head > title"))),En(_,c,a),_[$t]=r,Kt(_),c=_;break e;case"link":var x=E_("link","href",v).get(c+(a.href||""));if(x){for(var I=0;I<x.length;I++)if(_=x[I],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(I,1);break t}}_=v.createElement(c),En(_,c,a),v.head.appendChild(_);break;case"meta":if(x=E_("meta","content",v).get(c+(a.content||""))){for(I=0;I<x.length;I++)if(_=x[I],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(I,1);break t}}_=v.createElement(c),En(_,c,a),v.head.appendChild(_);break;default:throw Error(i(468,c))}_[$t]=r,Kt(_),c=_}r.stateNode=c}else T_(v,r.type,r.stateNode);else r.stateNode=__(v,c,r.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?T_(v,r.type,r.stateNode):__(v,c,r.memoizedProps)):c===null&&r.stateNode!==null&&qh(r,r.memoizedProps,a.memoizedProps)}break;case 27:qn(s,r),Hn(r),c&512&&(Zt||a===null||gr(a,a.return)),a!==null&&c&4&&qh(r,r.memoizedProps,a.memoizedProps);break;case 5:if(qn(s,r),Hn(r),c&512&&(Zt||a===null||gr(a,a.return)),r.flags&32){v=r.stateNode;try{zn(v,"")}catch(xe){gt(r,r.return,xe)}}c&4&&r.stateNode!=null&&(v=r.memoizedProps,qh(r,v,a!==null?a.memoizedProps:v)),c&1024&&(Yh=!0);break;case 6:if(qn(s,r),Hn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(xe){gt(r,r.return,xe)}}break;case 3:if(Wc=null,v=$i,$i=Xc(s.containerInfo),qn(s,r),$i=v,Hn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Al(s.containerInfo)}catch(xe){gt(r,r.return,xe)}Yh&&(Yh=!1,Tv(r));break;case 4:c=$i,$i=Xc(r.stateNode.containerInfo),qn(s,r),Hn(r),$i=c;break;case 12:qn(s,r),Hn(r);break;case 31:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lc(r,c)));break;case 13:qn(s,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=It()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lc(r,c)));break;case 22:v=r.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,Z=qr,re=Zt;if(qr=Z||v,Zt=re||q,qn(s,r),Zt=re,qr=Z,Hn(r),c&8192)e:for(s=r.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(a===null||q||qr||Zt||Es(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){q=a=s;try{if(_=q.stateNode,v)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{I=q.stateNode;var ce=q.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;I.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(xe){gt(q,q.return,xe)}}}else if(s.tag===6){if(a===null){q=s;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(xe){gt(q,q.return,xe)}}}else if(s.tag===18){if(a===null){q=s;try{var ne=q.stateNode;v?c_(ne,!0):c_(q.stateNode,!1)}catch(xe){gt(q,q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Lc(r,a))));break;case 19:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lc(r,c)));break;case 30:break;case 21:break;default:qn(s,r),Hn(r)}}function Hn(r){var s=r.flags;if(s&2){try{for(var a,c=r.return;c!==null;){if(dv(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var v=a.stateNode,_=Hh(r);Vc(r,_,v);break;case 5:var x=a.stateNode;a.flags&32&&(zn(x,""),a.flags&=-33);var I=Hh(r);Vc(r,I,x);break;case 3:case 4:var q=a.stateNode.containerInfo,Z=Hh(r);Gh(r,Z,q);break;default:throw Error(i(161))}}catch(re){gt(r,r.return,re)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Tv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Gr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mv(r,s.alternate,s),s=s.sibling}function Es(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ao(4,s,s.return),Es(s);break;case 1:gr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&cv(s,s.return,a),Es(s);break;case 27:Qa(s.stateNode);case 26:case 5:gr(s,s.return),Es(s);break;case 22:s.memoizedState===null&&Es(s);break;case 30:Es(s);break;default:Es(s)}r=r.sibling}}function Yr(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,v=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Yr(v,_,a),Fa(4,_);break;case 1:if(Yr(v,_,a),c=_,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){gt(c,c.return,Z)}if(c=_,v=c.updateQueue,v!==null){var I=c.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)Wy(q[v],I)}catch(Z){gt(c,c.return,Z)}}a&&x&64&&uv(_),za(_,_.return);break;case 27:hv(_);case 26:case 5:Yr(v,_,a),a&&c===null&&x&4&&fv(_),za(_,_.return);break;case 12:Yr(v,_,a);break;case 31:Yr(v,_,a),a&&x&4&&vv(v,_);break;case 13:Yr(v,_,a),a&&x&4&&_v(v,_);break;case 22:_.memoizedState===null&&Yr(v,_,a),za(_,_.return);break;case 30:break;default:Yr(v,_,a)}s=s.sibling}}function Jh(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&wa(a))}function $h(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wa(r))}function Ki(r,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Sv(r,s,a,c),s=s.sibling}function Sv(r,s,a,c){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(r,s,a,c),v&2048&&Fa(9,s);break;case 1:Ki(r,s,a,c);break;case 3:Ki(r,s,a,c),v&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wa(r)));break;case 12:if(v&2048){Ki(r,s,a,c),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,I=_.onPostCommit;typeof I=="function"&&I(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){gt(s,s.return,q)}}else Ki(r,s,a,c);break;case 31:Ki(r,s,a,c);break;case 13:Ki(r,s,a,c);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Ki(r,s,a,c):Ba(r,s):_._visibility&2?Ki(r,s,a,c):(_._visibility|=2,dl(r,s,a,c,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Jh(x,s);break;case 24:Ki(r,s,a,c),v&2048&&$h(s.alternate,s);break;default:Ki(r,s,a,c)}}function dl(r,s,a,c,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=r,x=s,I=a,q=c,Z=x.flags;switch(x.tag){case 0:case 11:case 15:dl(_,x,I,q,v),Fa(8,x);break;case 23:break;case 22:var re=x.stateNode;x.memoizedState!==null?re._visibility&2?dl(_,x,I,q,v):Ba(_,x):(re._visibility|=2,dl(_,x,I,q,v)),v&&Z&2048&&Jh(x.alternate,x);break;case 24:dl(_,x,I,q,v),v&&Z&2048&&$h(x.alternate,x);break;default:dl(_,x,I,q,v)}s=s.sibling}}function Ba(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,c=s,v=c.flags;switch(c.tag){case 22:Ba(a,c),v&2048&&Jh(c.alternate,c);break;case 24:Ba(a,c),v&2048&&$h(c.alternate,c);break;default:Ba(a,c)}s=s.sibling}}var qa=8192;function hl(r,s,a){if(r.subtreeFlags&qa)for(r=r.child;r!==null;)Av(r,s,a),r=r.sibling}function Av(r,s,a){switch(r.tag){case 26:hl(r,s,a),r.flags&qa&&r.memoizedState!==null&&EI(a,$i,r.memoizedState,r.memoizedProps);break;case 5:hl(r,s,a);break;case 3:case 4:var c=$i;$i=Xc(r.stateNode.containerInfo),hl(r,s,a),$i=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=qa,qa=16777216,hl(r,s,a),qa=c):hl(r,s,a));break;default:hl(r,s,a)}}function xv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ha(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,wv(c,r)}xv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cv(r),r=r.sibling}function Cv(r){switch(r.tag){case 0:case 11:case 15:Ha(r),r.flags&2048&&Ao(9,r,r.return);break;case 3:Ha(r);break;case 12:Ha(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Uc(r)):Ha(r);break;default:Ha(r)}}function Uc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,wv(c,r)}xv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ao(8,s,s.return),Uc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Uc(s));break;default:Uc(s)}r=r.sibling}}function wv(r,s){for(;fn!==null;){var a=fn;switch(a.tag){case 0:case 11:case 15:Ao(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wa(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,fn=c;else e:for(a=r;fn!==null;){c=fn;var v=c.sibling,_=c.return;if(gv(c),c===a){fn=null;break e}if(v!==null){v.return=_,fn=v;break e}fn=_}}}var Vw={getCacheForType:function(r){var s=vn(Xt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return vn(Xt).controller.signal}},Lw=typeof WeakMap=="function"?WeakMap:Map,ct=0,Tt=null,Ke=null,Xe=0,mt=0,oi=null,xo=!1,pl=!1,Kh=!1,Jr=0,Ft=0,Co=0,Ts=0,Qh=0,si=0,ml=0,Ga=null,Gn=null,Xh=!1,Oc=0,Iv=0,Fc=1/0,zc=null,wo=null,sn=0,Io=null,gl=null,$r=0,jh=0,Wh=null,bv=null,Ya=0,Zh=null;function li(){return(ct&2)!==0&&Xe!==0?Xe&-Xe:Q.T!==null?op():io()}function Rv(){if(si===0)if((Xe&536870912)===0||et){var r=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),si=r}else si=536870912;return r=ii.current,r!==null&&(r.flags|=32),si}function Yn(r,s,a){(r===Tt&&(mt===2||mt===9)||r.cancelPendingCommit!==null)&&(yl(r,0),bo(r,Xe,si,!1)),Ui(r,a),((ct&2)===0||r!==Tt)&&(r===Tt&&((ct&2)===0&&(Ts|=a),Ft===4&&bo(r,Xe,si,!1)),yr(r))}function Nv(r,s,a){if((ct&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&r.expiredLanes)===0||kn(r,s),v=c?Fw(r,s):tp(r,s,!0),_=c;do{if(v===0){pl&&!c&&bo(r,s,0,!1);break}else{if(a=r.current.alternate,_&&!Uw(a)){v=tp(r,s,!1),_=!1;continue}if(v===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var I=r;v=Ga;var q=I.current.memoizedState.isDehydrated;if(q&&(yl(I,x).flags|=256),x=tp(I,x,!1),x!==2){if(Kh&&!q){I.errorRecoveryDisabledLanes|=_,Ts|=_,v=4;break e}_=Gn,Gn=v,_!==null&&(Gn===null?Gn=_:Gn.push.apply(Gn,_))}v=x}if(_=!1,v!==2)continue}}if(v===1){yl(r,0),bo(r,s,0,!0);break}e:{switch(c=r,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:bo(c,s,si,!xo);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Oc+300-It(),10<v)){if(bo(c,s,si,!xo),gi(c,0,!0)!==0)break e;$r=s,c.timeoutHandle=l_(Mv.bind(null,c,a,Gn,zc,Xh,s,si,Ts,ml,xo,_,"Throttled",-0,0),v);break e}Mv(c,a,Gn,zc,Xh,s,si,Ts,ml,xo,_,null,-0,0)}}break}while(!0);yr(r)}function Mv(r,s,a,c,v,_,x,I,q,Z,re,ce,ee,ne){if(r.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},Av(s,_,ce);var xe=(_&62914560)===_?Oc-It():(_&4194048)===_?Iv-It():0;if(xe=TI(ce,xe),xe!==null){$r=_,r.cancelPendingCommit=xe(Fv.bind(null,r,s,_,a,c,v,x,I,q,re,ce,null,ee,ne)),bo(r,_,x,!Z);return}}Fv(r,s,_,a,c,v,x,I,q)}function Uw(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var v=a[c],_=v.getSnapshot;v=v.value;try{if(!ti(_(),v))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bo(r,s,a,c){s&=~Qh,s&=~Ts,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var v=s;0<v;){var _=31-$e(v),x=1<<_;c[_]=-1,v&=~x}a!==0&&ue(r,a,s)}function Bc(){return(ct&6)===0?(Ja(0),!1):!0}function ep(){if(Ke!==null){if(mt===0)var r=Ke.return;else r=Ke,Lr=ds=null,gh(r),ll=null,ba=0,r=Ke;for(;r!==null;)av(r.alternate,r),r=r.return;Ke=null}}function yl(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,iI(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),$r=0,ep(),Tt=r,Ke=a=Pr(r.current,null),Xe=s,mt=0,oi=null,xo=!1,pl=kn(r,s),Kh=!1,ml=si=Qh=Ts=Co=Ft=0,Gn=Ga=null,Xh=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var v=31-$e(c),_=1<<v;s|=r[v],c&=~_}return Jr=s,ac(),a}function Dv(r,s){Be=null,Q.H=La,s===sl||s===gc?(s=Ky(),mt=3):s===rh?(s=Ky(),mt=4):mt=s===Dh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,oi=s,Ke===null&&(Ft=1,Nc(r,Ai(s,r.current)))}function kv(){var r=ii.current;return r===null?!0:(Xe&4194048)===Xe?Ii===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===Ii:!1}function Pv(){var r=Q.H;return Q.H=La,r===null?La:r}function Vv(){var r=Q.A;return Q.A=Vw,r}function qc(){Ft=4,xo||(Xe&4194048)!==Xe&&ii.current!==null||(pl=!0),(Co&134217727)===0&&(Ts&134217727)===0||Tt===null||bo(Tt,Xe,si,!1)}function tp(r,s,a){var c=ct;ct|=2;var v=Pv(),_=Vv();(Tt!==r||Xe!==s)&&(zc=null,yl(r,s)),s=!1;var x=Ft;e:do try{if(mt!==0&&Ke!==null){var I=Ke,q=oi;switch(mt){case 8:ep(),x=6;break e;case 3:case 2:case 9:case 6:ii.current===null&&(s=!0);var Z=mt;if(mt=0,oi=null,vl(r,I,q,Z),a&&pl){x=0;break e}break;default:Z=mt,mt=0,oi=null,vl(r,I,q,Z)}}Ow(),x=Ft;break}catch(re){Dv(r,re)}while(!0);return s&&r.shellSuspendCounter++,Lr=ds=null,ct=c,Q.H=v,Q.A=_,Ke===null&&(Tt=null,Xe=0,ac()),x}function Ow(){for(;Ke!==null;)Lv(Ke)}function Fw(r,s){var a=ct;ct|=2;var c=Pv(),v=Vv();Tt!==r||Xe!==s?(zc=null,Fc=It()+500,yl(r,s)):pl=kn(r,s);e:do try{if(mt!==0&&Ke!==null){s=Ke;var _=oi;t:switch(mt){case 1:mt=0,oi=null,vl(r,s,_,1);break;case 2:case 9:if(Jy(_)){mt=0,oi=null,Uv(s);break}s=function(){mt!==2&&mt!==9||Tt!==r||(mt=7),yr(r)},_.then(s,s);break e;case 3:mt=7;break e;case 4:mt=5;break e;case 7:Jy(_)?(mt=0,oi=null,Uv(s)):(mt=0,oi=null,vl(r,s,_,7));break;case 5:var x=null;switch(Ke.tag){case 26:x=Ke.memoizedState;case 5:case 27:var I=Ke;if(x?S_(x):I.stateNode.complete){mt=0,oi=null;var q=I.sibling;if(q!==null)Ke=q;else{var Z=I.return;Z!==null?(Ke=Z,Hc(Z)):Ke=null}break t}}mt=0,oi=null,vl(r,s,_,5);break;case 6:mt=0,oi=null,vl(r,s,_,6);break;case 8:ep(),Ft=6;break e;default:throw Error(i(462))}}zw();break}catch(re){Dv(r,re)}while(!0);return Lr=ds=null,Q.H=c,Q.A=v,ct=a,Ke!==null?0:(Tt=null,Xe=0,ac(),Ft)}function zw(){for(;Ke!==null&&!Rr();)Lv(Ke)}function Lv(r){var s=sv(r.alternate,r,Jr);r.memoizedProps=r.pendingProps,s===null?Hc(r):Ke=s}function Uv(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=ev(a,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=ev(a,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:gh(s);default:av(a,s),s=Ke=Vy(s,Jr),s=sv(a,s,Jr)}r.memoizedProps=r.pendingProps,s===null?Hc(r):Ke=s}function vl(r,s,a,c){Lr=ds=null,gh(s),ll=null,ba=0;var v=s.return;try{if(bw(r,v,s,a,Xe)){Ft=1,Nc(r,Ai(a,r.current)),Ke=null;return}}catch(_){if(v!==null)throw Ke=v,_;Ft=1,Nc(r,Ai(a,r.current)),Ke=null;return}s.flags&32768?(et||c===1?r=!0:pl||(Xe&536870912)!==0?r=!1:(xo=r=!0,(c===2||c===9||c===3||c===6)&&(c=ii.current,c!==null&&c.tag===13&&(c.flags|=16384))),Ov(s,r)):Hc(s)}function Hc(r){var s=r;do{if((s.flags&32768)!==0){Ov(s,xo);return}r=s.return;var a=Mw(s.alternate,s,Jr);if(a!==null){Ke=a;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);Ft===0&&(Ft=5)}function Ov(r,s){do{var a=Dw(r.alternate,r);if(a!==null){a.flags&=32767,Ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=a}while(r!==null);Ft=6,Ke=null}function Fv(r,s,a,c,v,_,x,I,q){r.cancelPendingCommit=null;do Gc();while(sn!==0);if((ct&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Hd,Us(r,a,_,x,I,q),r===Tt&&(Ke=Tt=null,Xe=0),gl=s,Io=r,$r=a,jh=_,Wh=v,bv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Gw(be,function(){return Gv(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,v=X.p,X.p=2,x=ct,ct|=4;try{kw(r,s,a)}finally{ct=x,X.p=v,Q.T=c}}sn=1,zv(),Bv(),qv()}}function zv(){if(sn===1){sn=0;var r=Io,s=gl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var c=X.p;X.p=2;var v=ct;ct|=4;try{Ev(s,r);var _=hp,x=wy(r.containerInfo),I=_.focusedElem,q=_.selectionRange;if(x!==I&&I&&I.ownerDocument&&Cy(I.ownerDocument.documentElement,I)){if(q!==null&&Od(I)){var Z=q.start,re=q.end;if(re===void 0&&(re=Z),"selectionStart"in I)I.selectionStart=Z,I.selectionEnd=Math.min(re,I.value.length);else{var ce=I.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),xe=I.textContent.length,De=Math.min(q.start,xe),Et=q.end===void 0?De:Math.min(q.end,xe);!ne.extend&&De>Et&&(x=Et,Et=De,De=x);var J=xy(I,De),G=xy(I,Et);if(J&&G&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var W=ce.createRange();W.setStart(J.node,J.offset),ne.removeAllRanges(),De>Et?(ne.addRange(W),ne.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),ne.addRange(W))}}}}for(ce=[],ne=I;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ce.length;I++){var se=ce[I];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}nf=!!dp,hp=dp=null}finally{ct=v,X.p=c,Q.T=a}}r.current=s,sn=2}}function Bv(){if(sn===2){sn=0;var r=Io,s=gl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var c=X.p;X.p=2;var v=ct;ct|=4;try{mv(r,s.alternate,s)}finally{ct=v,X.p=c,Q.T=a}}sn=3}}function qv(){if(sn===4||sn===3){sn=0,Jt();var r=Io,s=gl,a=$r,c=bv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?sn=5:(sn=0,gl=Io=null,Hv(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(wo=null),Oi(a),s=s.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(kt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Q.T,v=X.p,X.p=2,Q.T=null;try{for(var _=r.onRecoverableError,x=0;x<c.length;x++){var I=c[x];_(I.value,{componentStack:I.stack})}}finally{Q.T=s,X.p=v}}($r&3)!==0&&Gc(),yr(r),v=r.pendingLanes,(a&261930)!==0&&(v&42)!==0?r===Zh?Ya++:(Ya=0,Zh=r):Ya=0,Ja(0)}}function Hv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wa(s)))}function Gc(){return zv(),Bv(),qv(),Gv()}function Gv(){if(sn!==5)return!1;var r=Io,s=jh;jh=0;var a=Oi($r),c=Q.T,v=X.p;try{X.p=32>a?32:a,Q.T=null,a=Wh,Wh=null;var _=Io,x=$r;if(sn=0,gl=Io=null,$r=0,(ct&6)!==0)throw Error(i(331));var I=ct;if(ct|=4,Cv(_.current),Sv(_,_.current,x,a),ct=I,Ja(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(kt,_)}catch{}return!0}finally{X.p=v,Q.T=c,Hv(r,s)}}function Yv(r,s,a){s=Ai(a,s),s=Mh(r.stateNode,s,2),r=Eo(r,s,2),r!==null&&(Ui(r,2),yr(r))}function gt(r,s,a){if(r.tag===3)Yv(r,r,a);else for(;s!==null;){if(s.tag===3){Yv(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wo===null||!wo.has(c))){r=Ai(a,r),a=J0(2),c=Eo(s,a,2),c!==null&&($0(a,c,s,r),Ui(c,2),yr(c));break}}s=s.return}}function np(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Lw;var v=new Set;c.set(s,v)}else v=c.get(s),v===void 0&&(v=new Set,c.set(s,v));v.has(a)||(Kh=!0,v.add(a),r=Bw.bind(null,r,s,a),s.then(r,r))}function Bw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,Tt===r&&(Xe&a)===a&&(Ft===4||Ft===3&&(Xe&62914560)===Xe&&300>It()-Oc?(ct&2)===0&&yl(r,0):Qh|=a,ml===Xe&&(ml=0)),yr(r)}function Jv(r,s){s===0&&(s=Ls()),r=us(r,s),r!==null&&(Ui(r,s),yr(r))}function qw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Jv(r,a)}function Hw(r,s){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,v=r.memoizedState;v!==null&&(a=v.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Jv(r,a)}function Gw(r,s){return St(r,s)}var Yc=null,_l=null,ip=!1,Jc=!1,rp=!1,Ro=0;function yr(r){r!==_l&&r.next===null&&(_l===null?Yc=_l=r:_l=_l.next=r),Jc=!0,ip||(ip=!0,Jw())}function Ja(r,s){if(!rp&&Jc){rp=!0;do for(var a=!1,c=Yc;c!==null;){if(r!==0){var v=c.pendingLanes;if(v===0)var _=0;else{var x=c.suspendedLanes,I=c.pingedLanes;_=(1<<31-$e(42|r)+1)-1,_&=v&~(x&~I),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Xv(c,_))}else _=Xe,_=gi(c,c===Tt?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||kn(c,_)||(a=!0,Xv(c,_));c=c.next}while(a);rp=!1}}function Yw(){$v()}function $v(){Jc=ip=!1;var r=0;Ro!==0&&nI()&&(r=Ro);for(var s=It(),a=null,c=Yc;c!==null;){var v=c.next,_=Kv(c,s);_===0?(c.next=null,a===null?Yc=v:a.next=v,v===null&&(_l=a)):(a=c,(r!==0||(_&3)!==0)&&(Jc=!0)),c=v}sn!==0&&sn!==5||Ja(r),Ro!==0&&(Ro=0)}function Kv(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-$e(_),I=1<<x,q=v[x];q===-1?((I&a)===0||(I&c)!==0)&&(v[x]=ra(I,s)):q<=s&&(r.expiredLanes|=I),_&=~I}if(s=Tt,a=Xe,a=gi(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===s&&(mt===2||mt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Dn(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||kn(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(c!==null&&Dn(c),Oi(a)){case 2:case 8:a=ge;break;case 32:a=be;break;case 268435456:a=Je;break;default:a=be}return c=Qv.bind(null,r),a=St(a,c),r.callbackPriority=s,r.callbackNode=a,s}return c!==null&&c!==null&&Dn(c),r.callbackPriority=2,r.callbackNode=null,2}function Qv(r,s){if(sn!==0&&sn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Gc()&&r.callbackNode!==a)return null;var c=Xe;return c=gi(r,r===Tt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(Nv(r,c,s),Kv(r,It()),r.callbackNode!=null&&r.callbackNode===a?Qv.bind(null,r):null)}function Xv(r,s){if(Gc())return null;Nv(r,s,!0)}function Jw(){rI(function(){(ct&6)!==0?St(oe,Yw):$v()})}function op(){if(Ro===0){var r=rl;r===0&&(r=pi,pi<<=1,(pi&261888)===0&&(pi=256)),Ro=r}return Ro}function jv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Hs(""+r)}function Wv(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function $w(r,s,a,c,v){if(s==="submit"&&a&&a.stateNode===v){var _=jv((v[un]||null).action),x=c.submitter;x&&(s=(s=x[un]||null)?jv(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var I=new cr("action","action",null,c,v);r.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ro!==0){var q=x?Wv(v,x):new FormData(v);Ch(a,{pending:!0,data:q,method:v.method,action:_},null,q)}}else typeof _=="function"&&(I.preventDefault(),q=x?Wv(v,x):new FormData(v),Ch(a,{pending:!0,data:q,method:v.method,action:_},_,q))},currentTarget:v}]})}}for(var sp=0;sp<qd.length;sp++){var lp=qd[sp],Kw=lp.toLowerCase(),Qw=lp[0].toUpperCase()+lp.slice(1);Ji(Kw,"on"+Qw)}Ji(Ry,"onAnimationEnd"),Ji(Ny,"onAnimationIteration"),Ji(My,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(fw,"onTransitionRun"),Ji(dw,"onTransitionStart"),Ji(hw,"onTransitionCancel"),Ji(Dy,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function Zv(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],v=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var x=c.length-1;0<=x;x--){var I=c[x],q=I.instance,Z=I.currentTarget;if(I=I.listener,q!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(re){lc(re)}v.currentTarget=null,_=q}else for(x=0;x<c.length;x++){if(I=c[x],q=I.instance,Z=I.currentTarget,I=I.listener,q!==_&&v.isPropagationStopped())break e;_=I,v.currentTarget=Z;try{_(v)}catch(re){lc(re)}v.currentTarget=null,_=q}}}}function Qe(r,s){var a=s[Os];a===void 0&&(a=s[Os]=new Set);var c=r+"__bubble";a.has(c)||(e_(s,r,2,!1),a.add(c))}function ap(r,s,a){var c=0;s&&(c|=4),e_(a,r,c,s)}var $c="_reactListening"+Math.random().toString(36).slice(2);function up(r){if(!r[$c]){r[$c]=!0,oa.forEach(function(a){a!=="selectionchange"&&(Xw.has(a)||ap(a,!1,r),ap(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[$c]||(s[$c]=!0,ap("selectionchange",!1,s))}}function e_(r,s,a,c){switch(R_(s)){case 2:var v=xI;break;case 8:v=CI;break;default:v=xp}a=v.bind(null,s,a,r),v=void 0,!ts||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),c?v!==void 0?r.addEventListener(s,a,{capture:!0,passive:v}):r.addEventListener(s,a,!0):v!==void 0?r.addEventListener(s,a,{passive:v}):r.addEventListener(s,a,!1)}function cp(r,s,a,c,v){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var I=c.stateNode.containerInfo;if(I===v)break;if(x===4)for(x=c.return;x!==null;){var q=x.tag;if((q===3||q===4)&&x.stateNode.containerInfo===v)return;x=x.return}for(;I!==null;){if(x=ir(I),x===null)return;if(q=x.tag,q===5||q===6||q===26||q===27){c=_=x;continue e}I=I.parentNode}}c=c.return}uo(function(){var Z=_,re=_i(a),ce=[];e:{var ee=ky.get(r);if(ee!==void 0){var ne=cr,xe=r;switch(r){case"keypress":if(is(a)===0)break e;case"keydown":case"keyup":ne=rc;break;case"focusin":xe="focus",ne=os;break;case"focusout":xe="blur",ne=os;break;case"beforeblur":case"afterblur":ne=os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S;break;case Ry:case Ny:case My:ne=ju;break;case Dy:ne=N;break;case"scroll":case"scrollend":ne=ya;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=kr;break;case"toggle":case"beforetoggle":ne=ze}var De=(s&4)!==0,Et=!De&&(r==="scroll"||r==="scrollend"),J=De?ee!==null?ee+"Capture":null:ee;De=[];for(var G=Z,W;G!==null;){var se=G;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||J===null||(se=qi(G,J),se!=null&&De.push(Ka(G,se,W))),Et)break;G=G.return}0<De.length&&(ee=new ne(ee,xe,null,a,re),ce.push({event:ee,listeners:De}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&a!==pa&&(xe=a.relatedTarget||a.fromElement)&&(ir(xe)||xe[tr]))break e;if((ne||ee)&&(ee=re.window===re?re:(ee=re.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(xe=a.relatedTarget||a.toElement,ne=Z,xe=xe?ir(xe):null,xe!==null&&(Et=l(xe),De=xe.tag,xe!==Et||De!==5&&De!==27&&De!==6)&&(xe=null)):(ne=null,xe=Z),ne!==xe)){if(De=va,se="onMouseLeave",J="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(De=kr,se="onPointerLeave",J="onPointerEnter",G="pointer"),Et=ne==null?ee:Zn(ne),W=xe==null?ee:Zn(xe),ee=new De(se,G+"leave",ne,a,re),ee.target=Et,ee.relatedTarget=W,se=null,ir(re)===Z&&(De=new De(J,G+"enter",xe,a,re),De.target=W,De.relatedTarget=Et,se=De),Et=se,ne&&xe)t:{for(De=jw,J=ne,G=xe,W=0,se=J;se;se=De(se))W++;se=0;for(var Re=G;Re;Re=De(Re))se++;for(;0<W-se;)J=De(J),W--;for(;0<se-W;)G=De(G),se--;for(;W--;){if(J===G||G!==null&&J===G.alternate){De=J;break t}J=De(J),G=De(G)}De=null}else De=null;ne!==null&&t_(ce,ee,ne,De,!1),xe!==null&&Et!==null&&t_(ce,Et,xe,De,!0)}}e:{if(ee=Z?Zn(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var ot=vy;else if(gy(ee))if(_y)ot=aw;else{ot=sw;var we=ow}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&qs(Z.elementType)&&(ot=vy):ot=lw;if(ot&&(ot=ot(r,Z))){yy(ce,ot,a,re);break e}we&&we(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&fa(ee,"number",ee.value)}switch(we=Z?Zn(Z):window,r){case"focusin":(gy(we)||we.contentEditable==="true")&&(Xs=we,Fd=Z,Aa=null);break;case"focusout":Aa=Fd=Xs=null;break;case"mousedown":zd=!0;break;case"contextmenu":case"mouseup":case"dragend":zd=!1,Iy(ce,a,re);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":Iy(ce,a,re)}var He;if(ut)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Qs?ss(r,a)&&(je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(hr&&a.locale!=="ko"&&(Qs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Qs&&(He=ga()):(ur=re,ma="value"in ur?ur.value:ur.textContent,Qs=!0)),we=Kc(Z,je),0<we.length&&(je=new dr(je,r,null,a,re),ce.push({event:je,listeners:we}),He?je.data=He:(He=Ks(a),He!==null&&(je.data=He)))),(He=Ti?tw(r,a):nw(r,a))&&(je=Kc(Z,"onBeforeInput"),0<je.length&&(we=new dr("onBeforeInput","beforeinput",null,a,re),ce.push({event:we,listeners:je}),we.data=He)),$w(ce,r,Z,a,re)}Zv(ce,s)})}function Ka(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Kc(r,s){for(var a=s+"Capture",c=[];r!==null;){var v=r,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=qi(r,a),v!=null&&c.unshift(Ka(r,v,_)),v=qi(r,s),v!=null&&c.push(Ka(r,v,_))),r.tag===3)return c;r=r.return}return[]}function jw(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function t_(r,s,a,c,v){for(var _=s._reactName,x=[];a!==null&&a!==c;){var I=a,q=I.alternate,Z=I.stateNode;if(I=I.tag,q!==null&&q===c)break;I!==5&&I!==26&&I!==27||Z===null||(q=Z,v?(Z=qi(a,_),Z!=null&&x.unshift(Ka(a,Z,q))):v||(Z=qi(a,_),Z!=null&&x.push(Ka(a,Z,q)))),a=a.return}x.length!==0&&r.push({event:s,listeners:x})}var Ww=/\r\n?/g,Zw=/\u0000|\uFFFD/g;function n_(r){return(typeof r=="string"?r:""+r).replace(Ww,`
`).replace(Zw,"")}function i_(r,s){return s=n_(s),n_(r)===s}function _t(r,s,a,c,v,_){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||zn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&zn(r,""+c);break;case"className":ei(r,"class",c);break;case"tabIndex":ei(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(r,a,c);break;case"style":ha(r,c,_);break;case"data":if(s!=="object"){ei(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Hs(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(s!=="input"&&_t(r,s,"name",v.name,v,null),_t(r,s,"formEncType",v.formEncType,v,null),_t(r,s,"formMethod",v.formMethod,v,null),_t(r,s,"formTarget",v.formTarget,v,null)):(_t(r,s,"encType",v.encType,v,null),_t(r,s,"method",v.method,v,null),_t(r,s,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Hs(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=Bi);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=Hs(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),zs(r,"popover",c);break;case"xlinkActuate":Qt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Qt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Qt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Qt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Qt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Qt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Qt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":zs(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ku.get(a)||a,zs(r,a,c))}}function fp(r,s,a,c,v,_){switch(a){case"style":ha(r,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof c=="string"?zn(r,c):(typeof c=="number"||typeof c=="bigint")&&zn(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(v=a.endsWith("Capture"),s=a.slice(2,v?a.length-7:void 0),_=r[un]||null,_=_!=null?_[a]:null,typeof _=="function"&&r.removeEventListener(s,_,v),typeof c=="function")){typeof _!="function"&&_!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,c,v);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):zs(r,a,c)}}}function En(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,v=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var x=a[_];if(x!=null)switch(_){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:_t(r,s,_,x,a,null)}}v&&_t(r,s,"srcSet",a.srcSet,a,null),c&&_t(r,s,"src",a.src,a,null);return;case"input":Qe("invalid",r);var I=_=x=v=null,q=null,Z=null;for(c in a)if(a.hasOwnProperty(c)){var re=a[c];if(re!=null)switch(c){case"name":v=re;break;case"type":x=re;break;case"checked":q=re;break;case"defaultChecked":Z=re;break;case"value":_=re;break;case"defaultValue":I=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:_t(r,s,c,re,a,null)}}Yu(r,_,I,q,Z,x,v,!1);return;case"select":Qe("invalid",r),c=x=_=null;for(v in a)if(a.hasOwnProperty(v)&&(I=a[v],I!=null))switch(v){case"value":_=I;break;case"defaultValue":x=I;break;case"multiple":c=I;default:_t(r,s,v,I,a,null)}s=_,a=x,r.multiple=!!c,s!=null?oo(r,!!c,s,!1):a!=null&&oo(r,!!c,a,!0);return;case"textarea":Qe("invalid",r),_=v=c=null;for(x in a)if(a.hasOwnProperty(x)&&(I=a[x],I!=null))switch(x){case"value":c=I;break;case"defaultValue":v=I;break;case"children":_=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(i(91));break;default:_t(r,s,x,I,a,null)}so(r,c,v,_);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:_t(r,s,q,c,a,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<$a.length;c++)Qe($a[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(c=a[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:_t(r,s,Z,c,a,null)}return;default:if(qs(s)){for(re in a)a.hasOwnProperty(re)&&(c=a[re],c!==void 0&&fp(r,s,re,c,a,void 0));return}}for(I in a)a.hasOwnProperty(I)&&(c=a[I],c!=null&&_t(r,s,I,c,a,null))}function eI(r,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,x=null,I=null,q=null,Z=null,re=null;for(ne in a){var ce=a[ne];if(a.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ce;default:c.hasOwnProperty(ne)||_t(r,s,ne,null,c,ce)}}for(var ee in c){var ne=c[ee];if(ce=a[ee],c.hasOwnProperty(ee)&&(ne!=null||ce!=null))switch(ee){case"type":_=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":re=ne;break;case"value":x=ne;break;case"defaultValue":I=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ce&&_t(r,s,ee,ne,c,ce)}}Bs(r,x,I,q,Z,re,_,v);return;case"select":ne=x=I=ee=null;for(_ in a)if(q=a[_],a.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(_)||_t(r,s,_,null,c,q)}for(v in c)if(_=c[v],q=a[v],c.hasOwnProperty(v)&&(_!=null||q!=null))switch(v){case"value":ee=_;break;case"defaultValue":I=_;break;case"multiple":x=_;default:_!==q&&_t(r,s,v,_,c,q)}s=I,a=x,c=ne,ee!=null?oo(r,!!a,ee,!1):!!c!=!!a&&(s!=null?oo(r,!!a,s,!0):oo(r,!!a,a?[]:"",!1));return;case"textarea":ne=ee=null;for(I in a)if(v=a[I],a.hasOwnProperty(I)&&v!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:_t(r,s,I,null,c,v)}for(x in c)if(v=c[x],_=a[x],c.hasOwnProperty(x)&&(v!=null||_!=null))switch(x){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&_t(r,s,x,v,c,_)}Ju(r,ee,ne);return;case"option":for(var xe in a)if(ee=a[xe],a.hasOwnProperty(xe)&&ee!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:_t(r,s,xe,null,c,ee)}for(q in c)if(ee=c[q],ne=a[q],c.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:_t(r,s,q,ee,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!c.hasOwnProperty(De)&&_t(r,s,De,null,c,ee);for(Z in c)if(ee=c[Z],ne=a[Z],c.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:_t(r,s,Z,ee,c,ne)}return;default:if(qs(s)){for(var Et in a)ee=a[Et],a.hasOwnProperty(Et)&&ee!==void 0&&!c.hasOwnProperty(Et)&&fp(r,s,Et,void 0,c,ee);for(re in c)ee=c[re],ne=a[re],!c.hasOwnProperty(re)||ee===ne||ee===void 0&&ne===void 0||fp(r,s,re,ee,c,ne);return}}for(var J in a)ee=a[J],a.hasOwnProperty(J)&&ee!=null&&!c.hasOwnProperty(J)&&_t(r,s,J,null,c,ee);for(ce in c)ee=c[ce],ne=a[ce],!c.hasOwnProperty(ce)||ee===ne||ee==null&&ne==null||_t(r,s,ce,ee,c,ne)}function r_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var v=a[c],_=v.transferSize,x=v.initiatorType,I=v.duration;if(_&&I&&r_(x)){for(x=0,I=v.responseEnd,c+=1;c<a.length;c++){var q=a[c],Z=q.startTime;if(Z>I)break;var re=q.transferSize,ce=q.initiatorType;re&&r_(ce)&&(q=q.responseEnd,x+=re*(q<I?1:(I-Z)/(q-Z)))}if(--c,s+=8*(_+x)/(v.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var dp=null,hp=null;function Qc(r){return r.nodeType===9?r:r.ownerDocument}function o_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function pp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mp=null;function nI(){var r=window.event;return r&&r.type==="popstate"?r===mp?!1:(mp=r,!0):(mp=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(r){return a_.resolve(null).then(r).catch(oI)}:l_;function oI(r){setTimeout(function(){throw r})}function No(r){return r==="head"}function u_(r,s){var a=s,c=0;do{var v=a.nextSibling;if(r.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(v),Al(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Qa(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Qa(a);for(var _=a.firstChild;_;){var x=_.nextSibling,I=_.nodeName;_[nr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=x}}else a==="body"&&Qa(r.ownerDocument.body);a=v}while(a);Al(s)}function c_(r,s){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function gp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gp(a),Fs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function sI(r,s,a,c){for(;r.nodeType===1;){var v=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[nr])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=bi(r.nextSibling),r===null)break}return null}function lI(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=bi(r.nextSibling),r===null))return null;return r}function f_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=bi(r.nextSibling),r===null))return null;return r}function yp(r){return r.data==="$?"||r.data==="$~"}function vp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function aI(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function bi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var _p=null;function d_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return bi(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function h_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function p_(r,s,a){switch(s=Qc(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Qa(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Fs(r)}var Ri=new Map,m_=new Set;function Xc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Kr=X.d;X.d={f:uI,r:cI,D:fI,C:dI,L:hI,m:pI,X:gI,S:mI,M:yI};function uI(){var r=Kr.f(),s=Bc();return r||s}function cI(r){var s=vi(r);s!==null&&s.tag===5&&s.type==="form"?D0(s):Kr.r(r)}var El=typeof document>"u"?null:document;function g_(r,s,a){var c=El;if(c&&typeof s=="string"&&s){var v=Fn(s);v='link[rel="'+r+'"][href="'+v+'"]',typeof a=="string"&&(v+='[crossorigin="'+a+'"]'),m_.has(v)||(m_.add(v),r={rel:r,crossOrigin:a,href:s},c.querySelector(v)===null&&(s=c.createElement("link"),En(s,"link",r),Kt(s),c.head.appendChild(s)))}}function fI(r){Kr.D(r),g_("dns-prefetch",r,null)}function dI(r,s){Kr.C(r,s),g_("preconnect",r,s)}function hI(r,s,a){Kr.L(r,s,a);var c=El;if(c&&r&&s){var v='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(v+='[imagesrcset="'+Fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(v+='[imagesizes="'+Fn(a.imageSizes)+'"]')):v+='[href="'+Fn(r)+'"]';var _=v;switch(s){case"style":_=Tl(r);break;case"script":_=Sl(r)}Ri.has(_)||(r=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),Ri.set(_,r),c.querySelector(v)!==null||s==="style"&&c.querySelector(Xa(_))||s==="script"&&c.querySelector(ja(_))||(s=c.createElement("link"),En(s,"link",r),Kt(s),c.head.appendChild(s)))}}function pI(r,s){Kr.m(r,s);var a=El;if(a&&r){var c=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(r)+'"]',_=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sl(r)}if(!Ri.has(_)&&(r=E({rel:"modulepreload",href:r},s),Ri.set(_,r),a.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ja(_)))return}c=a.createElement("link"),En(c,"link",r),Kt(c),a.head.appendChild(c)}}}function mI(r,s,a){Kr.S(r,s,a);var c=El;if(c&&r){var v=rr(c).hoistableStyles,_=Tl(r);s=s||"default";var x=v.get(_);if(!x){var I={loading:0,preload:null};if(x=c.querySelector(Xa(_)))I.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},a),(a=Ri.get(_))&&Ep(r,a);var q=x=c.createElement("link");Kt(q),En(q,"link",r),q._p=new Promise(function(Z,re){q.onload=Z,q.onerror=re}),q.addEventListener("load",function(){I.loading|=1}),q.addEventListener("error",function(){I.loading|=2}),I.loading|=4,jc(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:I},v.set(_,x)}}}function gI(r,s){Kr.X(r,s);var a=El;if(a&&r){var c=rr(a).hoistableScripts,v=Sl(r),_=c.get(v);_||(_=a.querySelector(ja(v)),_||(r=E({src:r,async:!0},s),(s=Ri.get(v))&&Tp(r,s),_=a.createElement("script"),Kt(_),En(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function yI(r,s){Kr.M(r,s);var a=El;if(a&&r){var c=rr(a).hoistableScripts,v=Sl(r),_=c.get(v);_||(_=a.querySelector(ja(v)),_||(r=E({src:r,async:!0,type:"module"},s),(s=Ri.get(v))&&Tp(r,s),_=a.createElement("script"),Kt(_),En(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function y_(r,s,a,c){var v=(v=Ce.current)?Xc(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Tl(a.href),a=rr(v).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=Tl(a.href);var _=rr(v).hoistableStyles,x=_.get(r);if(x||(v=v.ownerDocument||v,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=v.querySelector(Xa(r)))&&!_._p&&(x.instance=_,x.state.loading=5),Ri.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ri.set(r,a),_||vI(v,r,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Sl(a),a=rr(v).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Tl(r){return'href="'+Fn(r)+'"'}function Xa(r){return'link[rel="stylesheet"]['+r+"]"}function v_(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function vI(r,s,a,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),En(s,"link",a),Kt(s),r.head.appendChild(s))}function Sl(r){return'[src="'+Fn(r)+'"]'}function ja(r){return"script[async]"+r}function __(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Fn(a.href)+'"]');if(c)return s.instance=c,Kt(c),c;var v=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Kt(c),En(c,"style",v),jc(c,a.precedence,r),s.instance=c;case"stylesheet":v=Tl(a.href);var _=r.querySelector(Xa(v));if(_)return s.state.loading|=4,s.instance=_,Kt(_),_;c=v_(a),(v=Ri.get(v))&&Ep(c,v),_=(r.ownerDocument||r).createElement("link"),Kt(_);var x=_;return x._p=new Promise(function(I,q){x.onload=I,x.onerror=q}),En(_,"link",c),s.state.loading|=4,jc(_,a.precedence,r),s.instance=_;case"script":return _=Sl(a.src),(v=r.querySelector(ja(_)))?(s.instance=v,Kt(v),v):(c=a,(v=Ri.get(_))&&(c=E({},a),Tp(c,v)),r=r.ownerDocument||r,v=r.createElement("script"),Kt(v),En(v,"link",c),r.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jc(c,a.precedence,r));return s.instance}function jc(r,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,_=v,x=0;x<c.length;x++){var I=c[x];if(I.dataset.precedence===s)_=I;else if(_!==v)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function Ep(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Tp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Wc=null;function E_(r,s,a){if(Wc===null){var c=new Map,v=Wc=new Map;v.set(a,c)}else v=Wc,c=v.get(a),c||(c=new Map,v.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),v=0;v<a.length;v++){var _=a[v];if(!(_[nr]||_[$t]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var I=c.get(x);I?I.push(_):c.set(x,[_])}}return c}function T_(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function _I(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function S_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function EI(r,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=Tl(c.href),_=s.querySelector(Xa(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Zc.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=_,Kt(_);return}_=s.ownerDocument||s,c=v_(c),(v=Ri.get(v))&&Ep(c,v),_=_.createElement("link"),Kt(_);var x=_;x._p=new Promise(function(I,q){x.onload=I,x.onerror=q}),En(_,"link",c),a.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Zc.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var Sp=0;function TI(r,s){return r.stylesheets&&r.count===0&&tf(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&tf(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+s);0<r.imgBytes&&Sp===0&&(Sp=62500*tI());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&tf(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>Sp?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ef=null;function tf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ef=new Map,s.forEach(SI,r),ef=null,Zc.call(r))}function SI(r,s){if(!(s.state.loading&4)){var a=ef.get(r);if(a)var c=a.get(null);else{a=new Map,ef.set(r,a);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var x=v[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}v=s.instance,x=v.getAttribute("data-precedence"),_=a.get(x)||c,_===c&&a.set(null,v),a.set(x,v),this.count++,c=Zc.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),_?_.parentNode.insertBefore(v,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),s.state.loading|=4}}var Wa={$$typeof:Y,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function AI(r,s,a,c,v,_,x,I,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function A_(r,s,a,c,v,_,x,I,q,Z,re,ce){return r=new AI(r,s,a,x,q,Z,re,ce,I),s=1,_===!0&&(s|=24),_=ni(3,null,null,s),r.current=_,_.stateNode=r,s=th(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:s},oh(_),r}function x_(r){return r?(r=Zs,r):Zs}function C_(r,s,a,c,v,_){v=x_(v),c.context===null?c.context=v:c.pendingContext=v,c=_o(s),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=Eo(r,c,s),a!==null&&(Yn(a,r,s),Na(a,r,s))}function w_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Ap(r,s){w_(r,s),(r=r.alternate)&&w_(r,s)}function I_(r){if(r.tag===13||r.tag===31){var s=us(r,67108864);s!==null&&Yn(s,r,67108864),Ap(r,67108864)}}function b_(r){if(r.tag===13||r.tag===31){var s=li();s=Pn(s);var a=us(r,s);a!==null&&Yn(a,r,s),Ap(r,s)}}var nf=!0;function xI(r,s,a,c){var v=Q.T;Q.T=null;var _=X.p;try{X.p=2,xp(r,s,a,c)}finally{X.p=_,Q.T=v}}function CI(r,s,a,c){var v=Q.T;Q.T=null;var _=X.p;try{X.p=8,xp(r,s,a,c)}finally{X.p=_,Q.T=v}}function xp(r,s,a,c){if(nf){var v=Cp(c);if(v===null)cp(r,s,c,rf,a),N_(r,c);else if(II(v,r,s,a,c))c.stopPropagation();else if(N_(r,c),s&4&&-1<wI.indexOf(r)){for(;v!==null;){var _=vi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=mi(_.pendingLanes);if(x!==0){var I=_;for(I.pendingLanes|=2,I.entangledLanes|=2;x;){var q=1<<31-$e(x);I.entanglements[1]|=q,x&=~q}yr(_),(ct&6)===0&&(Fc=It()+500,Ja(0))}}break;case 31:case 13:I=us(_,2),I!==null&&Yn(I,_,2),Bc(),Ap(_,2)}if(_=Cp(c),_===null&&cp(r,s,c,rf,a),_===v)break;v=_}v!==null&&c.stopPropagation()}else cp(r,s,c,null,a)}}function Cp(r){return r=_i(r),wp(r)}var rf=null;function wp(r){if(rf=null,r=ir(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=u(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return rf=r,null}function R_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hi()){case oe:return 2;case ge:return 8;case be:case qe:return 32;case Je:return 268435456;default:return 32}default:return 32}}var Ip=!1,Mo=null,Do=null,ko=null,Za=new Map,eu=new Map,Po=[],wI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N_(r,s){switch(r){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":ko=null;break;case"pointerover":case"pointerout":Za.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(s.pointerId)}}function tu(r,s,a,c,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[v]},s!==null&&(s=vi(s),s!==null&&I_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function II(r,s,a,c,v){switch(s){case"focusin":return Mo=tu(Mo,r,s,a,c,v),!0;case"dragenter":return Do=tu(Do,r,s,a,c,v),!0;case"mouseover":return ko=tu(ko,r,s,a,c,v),!0;case"pointerover":var _=v.pointerId;return Za.set(_,tu(Za.get(_)||null,r,s,a,c,v)),!0;case"gotpointercapture":return _=v.pointerId,eu.set(_,tu(eu.get(_)||null,r,s,a,c,v)),!0}return!1}function M_(r){var s=ir(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){r.blockedOn=s,Fi(r.priority,function(){b_(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,Fi(r.priority,function(){b_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function of(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Cp(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);pa=c,a.target.dispatchEvent(c),pa=null}else return s=vi(a),s!==null&&I_(s),r.blockedOn=a,!1;s.shift()}return!0}function D_(r,s,a){of(r)&&a.delete(s)}function bI(){Ip=!1,Mo!==null&&of(Mo)&&(Mo=null),Do!==null&&of(Do)&&(Do=null),ko!==null&&of(ko)&&(ko=null),Za.forEach(D_),eu.forEach(D_)}function sf(r,s){r.blockedOn===s&&(r.blockedOn=null,Ip||(Ip=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bI)))}var lf=null;function k_(r){lf!==r&&(lf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){lf===r&&(lf=null);for(var s=0;s<r.length;s+=3){var a=r[s],c=r[s+1],v=r[s+2];if(typeof c!="function"){if(wp(c||a)===null)continue;break}var _=vi(a);_!==null&&(r.splice(s,3),s-=3,Ch(_,{pending:!0,data:v,method:a.method,action:c},c,v))}}))}function Al(r){function s(q){return sf(q,r)}Mo!==null&&sf(Mo,r),Do!==null&&sf(Do,r),ko!==null&&sf(ko,r),Za.forEach(s),eu.forEach(s);for(var a=0;a<Po.length;a++){var c=Po[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Po.length&&(a=Po[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Po.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var v=a[c],_=a[c+1],x=v[un]||null;if(typeof _=="function")x||k_(a);else if(x){var I=null;if(_&&_.hasAttribute("formAction")){if(v=_,x=_[un]||null)I=x.formAction;else if(wp(v)!==null)continue}else I=x.action;typeof I=="function"?a[c+1]=I:(a.splice(c,3),c-=3),k_(a)}}}function P_(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return v=x})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function bp(r){this._internalRoot=r}af.prototype.render=bp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=li();C_(a,c,r,s,null,null)},af.prototype.unmount=bp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;C_(r.current,2,null,r,null,null),Bc(),s[tr]=null}};function af(r){this._internalRoot=r}af.prototype.unstable_scheduleHydration=function(r){if(r){var s=io();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Po.length&&s!==0&&s<Po[a].priority;a++);Po.splice(a,0,r),a===0&&M_(r)}};var V_=e.version;if(V_!=="19.2.3")throw Error(i(527,V_,"19.2.3"));X.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var RI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{kt=uf.inject(RI),At=uf}catch{}}return iu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,c="",v=q0,_=H0,x=G0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=A_(r,1,!1,null,null,a,c,null,v,_,x,P_),r[tr]=s.current,up(r),new bp(s)},iu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var c=!1,v="",_=q0,x=H0,I=G0,q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),s=A_(r,1,!0,s,a??null,c,v,q,_,x,I,P_),s.context=x_(null),a=s.current,c=li(),c=Pn(c),v=_o(c),v.callback=null,Eo(a,v,c),a=c,s.current.lanes=a,Ui(s,a),yr(s),r[tr]=s.current,up(r),new af(s)},iu.version="19.2.3",iu}var Y_;function zI(){if(Y_)return Mp.exports;Y_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mp.exports=FI(),Mp.exports}var BI=zI();const qI=rd(BI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),J_=t=>{const e=GI(t);return e.charAt(0).toUpperCase()+e.slice(1)},IA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),YI=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=Ne.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>Ne.createElement("svg",{ref:p,...JI,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:IA("lucide",o),...!l&&!YI(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,g])=>Ne.createElement(d,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=Ne.forwardRef(({className:i,...o},l)=>Ne.createElement($I,{ref:l,iconNode:e,className:IA(`lucide-${HI(J_(t))}`,`lucide-${t}`,i),...o}));return n.displayName=J_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QI=rt("arrow-left",KI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],jI=rt("arrow-right",XI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ZI=rt("book-open",WI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],tb=rt("book",eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],wl=rt("check",nb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$_=rt("chevron-down",ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ob=rt("circle-alert",rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lb=rt("circle-check-big",sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Vp=rt("circle-plus",ab);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K_=rt("circle-question-mark",ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fb=rt("circle-x",cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],hb=rt("code",db);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bA=rt("copy",pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Q_=rt("eye",mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yb=rt("file-text",gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],_b=rt("gavel",vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Tb=rt("heart-pulse",Eb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ab=rt("layout-dashboard",Sb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],um=rt("lightbulb",xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Lp=rt("list",Cb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],X_=rt("loader-circle",wb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],j_=rt("lock",Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cf=rt("pencil",bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nb=rt("refresh-cw",Rb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Db=rt("save",Mb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cm=rt("search",kb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Vb=rt("send",Pb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ub=rt("settings",Lb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Fb=rt("share-2",Ob);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sg=rt("sparkles",zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],fm=rt("stethoscope",Bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Hb=rt("tag",qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],W_=rt("trash-2",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pf=rt("x",Yb);var Pt=(t=>(t.SURGERY="SURGERY",t.WOMEN_PREGNANCY="WOMEN_PREGNANCY",t.ICU_DEATH="ICU_DEATH",t.FASTING_MEDICINE="FASTING_MEDICINE",t.ETHICS="ETHICS",t.GENETICS_REPRODUCTION="GENETICS_REPRODUCTION",t.TATTOO_CORTISONE="TATTOO_CORTISONE",t.PRAYER_PURITY="PRAYER_PURITY",t.MEDICAL_EXPERIMENTS="MEDICAL_EXPERIMENTS",t.PHARMACY_DRUGS="PHARMACY_DRUGS",t.MISCELLANEOUS="MISCELLANEOUS",t))(Pt||{});const mu=[{id:Pt.SURGERY,name:" ",icon:"Scissors",color:"bg-blue-100 text-blue-600"},{id:Pt.WOMEN_PREGNANCY,name:"    ",icon:"Baby",color:"bg-pink-100 text-pink-600"},{id:Pt.ICU_DEATH,name:"     ",icon:"Activity",color:"bg-red-100 text-red-600"},{id:Pt.FASTING_MEDICINE,name:"   ",icon:"Moon",color:"bg-yellow-100 text-yellow-600"},{id:Pt.ETHICS,name:"  ",icon:"Heart",color:"bg-green-100 text-green-600"},{id:Pt.GENETICS_REPRODUCTION,name:"   ",icon:"Dna",color:"bg-purple-100 text-purple-600"},{id:Pt.TATTOO_CORTISONE,name:"      ",icon:"Zap",color:"bg-orange-100 text-orange-600"},{id:Pt.PRAYER_PURITY,name:"   ",icon:"BookOpen",color:"bg-indigo-100 text-indigo-600"},{id:Pt.MEDICAL_EXPERIMENTS,name:"      ",icon:"TestTube2",color:"bg-cyan-100 text-cyan-600"},{id:Pt.PHARMACY_DRUGS,name:"  ",icon:"Pill",color:"bg-lime-100 text-lime-600"},{id:Pt.MISCELLANEOUS,name:" ",icon:"MoreHorizontal",color:"bg-gray-100 text-gray-600"}],Jb=({quote:t})=>C.jsxs("div",{className:"relative bg-white border-r-4 border-r-teal-500 border-y border-l border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-300 w-full mb-1.5 overflow-hidden group mx-auto",children:[C.jsx("div",{className:"absolute -left-2 -top-1 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none group-hover:scale-110 transition-transform duration-500",children:'"'}),C.jsx("div",{className:"absolute -right-2 -bottom-2 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none rotate-180",children:""}),C.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[C.jsxs("p",{className:"text-gray-800 text-base font-bold leading-relaxed mb-1.5 font-amiri",children:['"',t.text,'"']}),C.jsx("div",{className:"w-full flex justify-center",children:C.jsxs("p",{className:"text-teal-700 text-[11px] font-bold bg-teal-50 px-2.5 py-0.5 rounded-full border border-teal-100 font-cairo",children:["- ",t.author]})})]})]});function $b(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Kb=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Qb=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Xb={};function Z_(t,e){return(Xb.jsx?Qb:Kb).test(t)}const jb=/[ \t\n\f\r]/g;function Wb(t){return typeof t=="object"?t.type==="text"?eE(t.value):!1:eE(t)}function eE(t){return t.replace(jb,"")===""}class Pu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Pu.prototype.normal={};Pu.prototype.property={};Pu.prototype.space=void 0;function RA(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Pu(n,i,e)}function dm(t){return t.toLowerCase()}class Xn{constructor(e,n){this.attribute=n,this.property=e}}Xn.prototype.attribute="";Xn.prototype.booleanish=!1;Xn.prototype.boolean=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.defined=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.number=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.property="";Xn.prototype.spaceSeparated=!1;Xn.prototype.space=void 0;let Zb=0;const Ge=bs(),tn=bs(),hm=bs(),ve=bs(),xt=bs(),Pl=bs(),ai=bs();function bs(){return 2**++Zb}const pm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ge,booleanish:tn,commaOrSpaceSeparated:ai,commaSeparated:Pl,number:ve,overloadedBoolean:hm,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),Up=Object.keys(pm);class lg extends Xn{constructor(e,n,i,o){let l=-1;if(super(e,n),tE(this,"space",o),typeof i=="number")for(;++l<Up.length;){const u=Up[l];tE(this,Up[l],(i&pm[u])===pm[u])}}}lg.prototype.defined=!0;function tE(t,e,n){n&&(t[e]=n)}function $l(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const l=new lg(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[dm(i)]=i,n[dm(l.attribute)]=i}return new Pu(e,n,t.space)}const NA=$l({properties:{ariaActiveDescendant:null,ariaAtomic:tn,ariaAutoComplete:null,ariaBusy:tn,ariaChecked:tn,ariaColCount:ve,ariaColIndex:ve,ariaColSpan:ve,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:tn,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:tn,ariaFlowTo:xt,ariaGrabbed:tn,ariaHasPopup:null,ariaHidden:tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:ve,ariaLive:null,ariaModal:tn,ariaMultiLine:tn,ariaMultiSelectable:tn,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:ve,ariaPressed:tn,ariaReadOnly:tn,ariaRelevant:null,ariaRequired:tn,ariaRoleDescription:xt,ariaRowCount:ve,ariaRowIndex:ve,ariaRowSpan:ve,ariaSelected:tn,ariaSetSize:ve,ariaSort:null,ariaValueMax:ve,ariaValueMin:ve,ariaValueNow:ve,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function MA(t,e){return e in t?t[e]:e}function DA(t,e){return MA(t,e.toLowerCase())}const eR=$l({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Pl,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:Ge,allowPaymentRequest:Ge,allowUserMedia:Ge,alt:null,as:null,async:Ge,autoCapitalize:null,autoComplete:xt,autoFocus:Ge,autoPlay:Ge,blocking:xt,capture:null,charSet:null,checked:Ge,cite:null,className:xt,cols:ve,colSpan:null,content:null,contentEditable:tn,controls:Ge,controlsList:xt,coords:ve|Pl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ge,defer:Ge,dir:null,dirName:null,disabled:Ge,download:hm,draggable:tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ge,formTarget:null,headers:xt,height:ve,hidden:hm,high:ve,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:Ge,inputMode:null,integrity:null,is:null,isMap:Ge,itemId:null,itemProp:xt,itemRef:xt,itemScope:Ge,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ge,low:ve,manifest:null,max:null,maxLength:ve,media:null,method:null,min:null,minLength:ve,multiple:Ge,muted:Ge,name:null,nonce:null,noModule:Ge,noValidate:Ge,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ge,optimum:ve,pattern:null,ping:xt,placeholder:null,playsInline:Ge,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ge,referrerPolicy:null,rel:xt,required:Ge,reversed:Ge,rows:ve,rowSpan:ve,sandbox:xt,scope:null,scoped:Ge,seamless:Ge,selected:Ge,shadowRootClonable:Ge,shadowRootDelegatesFocus:Ge,shadowRootMode:null,shape:null,size:ve,sizes:null,slot:null,span:ve,spellCheck:tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ve,step:null,style:null,tabIndex:ve,target:null,title:null,translate:null,type:null,typeMustMatch:Ge,useMap:null,value:tn,width:ve,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:ve,borderColor:null,bottomMargin:ve,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ge,declare:Ge,event:null,face:null,frame:null,frameBorder:null,hSpace:ve,leftMargin:ve,link:null,longDesc:null,lowSrc:null,marginHeight:ve,marginWidth:ve,noResize:Ge,noHref:Ge,noShade:Ge,noWrap:Ge,object:null,profile:null,prompt:null,rev:null,rightMargin:ve,rules:null,scheme:null,scrolling:tn,standby:null,summary:null,text:null,topMargin:ve,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ve,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ge,disableRemotePlayback:Ge,prefix:null,property:null,results:ve,security:null,unselectable:null},space:"html",transform:DA}),tR=$l({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ai,accentHeight:ve,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ve,amplitude:ve,arabicForm:null,ascent:ve,attributeName:null,attributeType:null,azimuth:ve,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ve,by:null,calcMode:null,capHeight:ve,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ve,diffuseConstant:ve,direction:null,display:null,dur:null,divisor:ve,dominantBaseline:null,download:Ge,dx:null,dy:null,edgeMode:null,editable:null,elevation:ve,enableBackground:null,end:null,event:null,exponent:ve,externalResourcesRequired:null,fill:null,fillOpacity:ve,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Pl,g2:Pl,glyphName:Pl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ve,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ve,horizOriginX:ve,horizOriginY:ve,id:null,ideographic:ve,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ve,k:ve,k1:ve,k2:ve,k3:ve,k4:ve,kernelMatrix:ai,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ve,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ve,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ve,overlineThickness:ve,paintOrder:null,panose1:null,path:null,pathLength:ve,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ve,pointsAtY:ve,pointsAtZ:ve,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ai,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ai,rev:ai,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ai,requiredFeatures:ai,requiredFonts:ai,requiredFormats:ai,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ve,specularExponent:ve,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ve,strikethroughThickness:ve,string:null,stroke:null,strokeDashArray:ai,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ve,strokeOpacity:ve,strokeWidth:null,style:null,surfaceScale:ve,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ai,tabIndex:ve,tableValues:null,target:null,targetX:ve,targetY:ve,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ai,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ve,underlineThickness:ve,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ve,values:null,vAlphabetic:ve,vMathematical:ve,vectorEffect:null,vHanging:ve,vIdeographic:ve,version:null,vertAdvY:ve,vertOriginX:ve,vertOriginY:ve,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ve,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:MA}),kA=$l({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),PA=$l({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:DA}),VA=$l({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),nR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},iR=/[A-Z]/g,nE=/-[a-z]/g,rR=/^data[-\w.:]+$/i;function oR(t,e){const n=dm(e);let i=e,o=Xn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&rR.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(nE,lR);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!nE.test(l)){let u=l.replace(iR,sR);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=lg}return new o(i,e)}function sR(t){return"-"+t.toLowerCase()}function lR(t){return t.charAt(1).toUpperCase()}const aR=RA([NA,eR,kA,PA,VA],"html"),ag=RA([NA,tR,kA,PA,VA],"svg");function uR(t){return t.join(" ").trim()}var xl={},Op,iE;function cR(){if(iE)return Op;iE=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,d="/",g="*",E="",T="comment",A="declaration";function k(L,z){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];z=z||{};var K=1,Y=1;function le(ye){var me=ye.match(e);me&&(K+=me.length);var Q=ye.lastIndexOf(p);Y=~Q?ye.length-Q:Y+ye.length}function he(){var ye={line:K,column:Y};return function(me){return me.position=new $(ye),R(),me}}function $(ye){this.start=ye,this.end={line:K,column:Y},this.source=z.source}$.prototype.content=L;function M(ye){var me=new Error(z.source+":"+K+":"+Y+": "+ye);if(me.reason=ye,me.filename=z.source,me.line=K,me.column=Y,me.source=L,!z.silent)throw me}function D(ye){var me=ye.exec(L);if(me){var Q=me[0];return le(Q),L=L.slice(Q.length),me}}function R(){D(n)}function O(ye){var me;for(ye=ye||[];me=V();)me!==!1&&ye.push(me);return ye}function V(){var ye=he();if(!(d!=L.charAt(0)||g!=L.charAt(1))){for(var me=2;E!=L.charAt(me)&&(g!=L.charAt(me)||d!=L.charAt(me+1));)++me;if(me+=2,E===L.charAt(me-1))return M("End of comment missing");var Q=L.slice(2,me-2);return Y+=2,le(Q),L=L.slice(me),Y+=2,ye({type:T,comment:Q})}}function B(){var ye=he(),me=D(i);if(me){if(V(),!D(o))return M("property missing ':'");var Q=D(l),X=ye({type:A,property:U(me[0].replace(t,E)),value:Q?U(Q[0].replace(t,E)):E});return D(u),X}}function P(){var ye=[];O(ye);for(var me;me=B();)me!==!1&&(ye.push(me),O(ye));return ye}return R(),P()}function U(L){return L?L.replace(f,E):E}return Op=k,Op}var rE;function fR(){if(rE)return xl;rE=1;var t=xl&&xl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xl,"__esModule",{value:!0}),xl.default=n;const e=t(cR());function n(i,o){let l=null;if(!i||typeof i!="string")return l;const u=(0,e.default)(i),f=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:d,value:g}=p;f?o(d,g,p):g&&(l=l||{},l[d]=g)}),l}return xl}var ru={},oE;function dR(){if(oE)return ru;oE=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||t.test(d)},u=function(d,g){return g.toUpperCase()},f=function(d,g){return"".concat(g,"-")},p=function(d,g){return g===void 0&&(g={}),l(d)?d:(d=d.toLowerCase(),g.reactCompat?d=d.replace(o,f):d=d.replace(i,f),d.replace(e,u))};return ru.camelCase=p,ru}var ou,sE;function hR(){if(sE)return ou;sE=1;var t=ou&&ou.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(fR()),n=dR();function i(o,l){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(f,p){f&&p&&(u[(0,n.camelCase)(f,l)]=p)}),u}return i.default=i,ou=i,ou}var pR=hR();const mR=rd(pR),LA=UA("end"),ug=UA("start");function UA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function gR(t){const e=ug(t),n=LA(t);if(e&&n)return{start:e,end:n}}function gu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?lE(t.position):"start"in t||"end"in t?lE(t):"line"in t||"column"in t?mm(t):""}function mm(t){return aE(t&&t.line)+":"+aE(t&&t.column)}function lE(t){return mm(t&&t.start)+"-"+mm(t&&t.end)}function aE(t){return t&&typeof t=="number"?t:1}class Nn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?o=e:!l.cause&&e&&(u=!0,o=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=f?f.line:void 0,this.name=gu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Nn.prototype.file="";Nn.prototype.name="";Nn.prototype.reason="";Nn.prototype.message="";Nn.prototype.stack="";Nn.prototype.column=void 0;Nn.prototype.line=void 0;Nn.prototype.ancestors=void 0;Nn.prototype.cause=void 0;Nn.prototype.fatal=void 0;Nn.prototype.place=void 0;Nn.prototype.ruleId=void 0;Nn.prototype.source=void 0;const cg={}.hasOwnProperty,yR=new Map,vR=/[A-Z]/g,_R=new Set(["table","tbody","thead","tfoot","tr"]),ER=new Set(["td","th"]),OA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function TR(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=RR(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=bR(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ag:aR,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=FA(o,t,void 0);return l&&typeof l!="string"?l:o.create(t,o.Fragment,{children:l||void 0},void 0)}function FA(t,e,n){if(e.type==="element")return SR(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return AR(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return CR(t,e,n);if(e.type==="mdxjsEsm")return xR(t,e);if(e.type==="root")return wR(t,e,n);if(e.type==="text")return IR(t,e)}function SR(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=ag,t.schema=o),t.ancestors.push(e);const l=BA(t,e.tagName,!1),u=NR(t,e);let f=dg(t,e);return _R.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!Wb(p):!0})),zA(t,u,l,e),fg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function AR(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}xu(t,e.position)}function xR(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);xu(t,e.position)}function CR(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=ag,t.schema=o),t.ancestors.push(e);const l=e.name===null?t.Fragment:BA(t,e.name,!0),u=MR(t,e),f=dg(t,e);return zA(t,u,l,e),fg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function wR(t,e,n){const i={};return fg(i,dg(t,e)),t.create(e,t.Fragment,i,n)}function IR(t,e){return e.value}function zA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function fg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function bR(t,e,n){return i;function i(o,l,u,f){const d=Array.isArray(u.children)?n:e;return f?d(l,u,f):d(l,u)}}function RR(t,e){return n;function n(i,o,l,u){const f=Array.isArray(l.children),p=ug(i);return e(o,l,u,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function NR(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&cg.call(e.properties,o)){const l=DR(t,o,e.properties[o]);if(l){const[u,f]=l;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&ER.has(e.tagName)?i=f:n[u]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function MR(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else xu(t,e.position);else{const o=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else xu(t,e.position);else l=i.value===null?!0:i.value;n[o]=l}return n}function dg(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:yR;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const d=o.get(p)||0;u=p+"-"+d,o.set(p,d+1)}}const f=FA(t,l,u);f!==void 0&&n.push(f)}return n}function DR(t,e,n){const i=oR(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?$b(n):uR(n)),i.property==="style"){let o=typeof n=="object"?n:kR(t,String(n));return t.stylePropertyNameCase==="css"&&(o=PR(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?nR[i.property]||i.property:i.attribute,n]}}function kR(t,e){try{return mR(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new Nn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=OA+"#cannot-parse-style-attribute",o}}function BA(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let l=-1,u;for(;++l<o.length;){const f=Z_(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=u}else i=Z_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return cg.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);xu(t)}function xu(t,e){const n=new Nn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=OA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function PR(t){const e={};let n;for(n in t)cg.call(t,n)&&(e[VR(n)]=t[n]);return e}function VR(t){let e=t.replace(vR,LR);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function LR(t){return"-"+t.toLowerCase()}const Fp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},UR={};function OR(t,e){const n=UR,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return qA(t,i,o)}function qA(t,e,n){if(FR(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return uE(t.children,e,n)}return Array.isArray(t)?uE(t,e,n):""}function uE(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=qA(t[o],e,n);return i.join("")}function FR(t){return!!(t&&typeof t=="object")}const cE=document.createElement("i");function hg(t){const e="&"+t+";";cE.innerHTML=e;const n=cE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Cr(t,e,n,i){const o=t.length;let l=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Ni(t,e){return t.length>0?(Cr(t,t.length,0,e),t):e}const fE={}.hasOwnProperty;function zR(t){const e={};let n=-1;for(;++n<t.length;)BR(e,t[n]);return e}function BR(t,e){let n;for(n in e){const o=(fE.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){fE.call(o,u)||(o[u]=[]);const f=l[u];qR(o[u],Array.isArray(f)?f:f?[f]:[])}}}function qR(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Cr(t,0,0,i)}function HA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Vl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Er=Ko(/[A-Za-z]/),ui=Ko(/[\dA-Za-z]/),HR=Ko(/[#-'*+\--9=?A-Z^-~]/);function gm(t){return t!==null&&(t<32||t===127)}const ym=Ko(/\d/),GR=Ko(/[\dA-Fa-f]/),YR=Ko(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Qn(t){return t!==null&&(t<0||t===32)}function ft(t){return t===-2||t===-1||t===32}const JR=Ko(new RegExp("\\p{P}|\\p{S}","u")),$R=Ko(/\s/);function Ko(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Kl(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&ui(t.charCodeAt(n+1))&&ui(t.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function wt(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(p){return ft(p)?(t.enter(n),f(p)):e(p)}function f(p){return ft(p)&&l++<o?(t.consume(p),f):(t.exit(n),e(p))}}const KR={tokenize:QR};function QR(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),wt(t,e,"linePrefix")}function o(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Pe(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),u)}}const XR={tokenize:jR},dE={tokenize:WR};function jR(t){const e=this,n=[];let i=0,o,l,u;return f;function f(Y){if(i<n.length){const le=n[i];return e.containerState=le[1],t.attempt(le[0].continuation,p,d)(Y)}return d(Y)}function p(Y){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&K();const le=e.events.length;let he=le,$;for(;he--;)if(e.events[he][0]==="exit"&&e.events[he][1].type==="chunkFlow"){$=e.events[he][1].end;break}z(i);let M=le;for(;M<e.events.length;)e.events[M][1].end={...$},M++;return Cr(e.events,he+1,0,e.events.slice(le)),e.events.length=M,d(Y)}return f(Y)}function d(Y){if(i===n.length){if(!o)return T(Y);if(o.currentConstruct&&o.currentConstruct.concrete)return k(Y);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(dE,g,E)(Y)}function g(Y){return o&&K(),z(i),T(Y)}function E(Y){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,k(Y)}function T(Y){return e.containerState={},t.attempt(dE,A,k)(Y)}function A(Y){return i++,n.push([e.currentConstruct,e.containerState]),T(Y)}function k(Y){if(Y===null){o&&K(),z(0),t.consume(Y);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),U(Y)}function U(Y){if(Y===null){L(t.exit("chunkFlow"),!0),z(0),t.consume(Y);return}return Pe(Y)?(t.consume(Y),L(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(Y),U)}function L(Y,le){const he=e.sliceStream(Y);if(le&&he.push(null),Y.previous=l,l&&(l.next=Y),l=Y,o.defineSkip(Y.start),o.write(he),e.parser.lazy[Y.start.line]){let $=o.events.length;for(;$--;)if(o.events[$][1].start.offset<u&&(!o.events[$][1].end||o.events[$][1].end.offset>u))return;const M=e.events.length;let D=M,R,O;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){if(R){O=e.events[D][1].end;break}R=!0}for(z(i),$=M;$<e.events.length;)e.events[$][1].end={...O},$++;Cr(e.events,D+1,0,e.events.slice(M)),e.events.length=$}}function z(Y){let le=n.length;for(;le-- >Y;){const he=n[le];e.containerState=he[1],he[0].exit.call(e,t)}n.length=Y}function K(){o.write([null]),l=void 0,o=void 0,e.containerState._closeFlow=void 0}}function WR(t,e,n){return wt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function hE(t){if(t===null||Qn(t)||$R(t))return 1;if(JR(t))return 2}function pg(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const l=t[o].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const vm={name:"attention",resolveAll:ZR,tokenize:eN};function ZR(t,e){let n=-1,i,o,l,u,f,p,d,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[i][1].end},T={...t[n][1].start};pE(E,-p),pE(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[i][1].end={...u.start},t[n][1].start={...f.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=Ni(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=Ni(d,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",l,e]]),d=Ni(d,pg(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=Ni(d,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,d=Ni(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,Cr(t,i-1,n-i+3,d),n=i+d.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function eN(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=hE(i);let l;return u;function u(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const d=t.exit("attentionSequence"),g=hE(p),E=!g||g===2&&o||n.includes(p),T=!o||o===2&&g||n.includes(i);return d._open=!!(l===42?E:E&&(o||!T)),d._close=!!(l===42?T:T&&(g||!E)),e(p)}}function pE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const tN={name:"autolink",tokenize:nN};function nN(t,e,n){let i=0;return o;function o(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(A){return Er(A)?(t.consume(A),u):A===64?n(A):d(A)}function u(A){return A===43||A===45||A===46||ui(A)?(i=1,f(A)):d(A)}function f(A){return A===58?(t.consume(A),i=0,p):(A===43||A===45||A===46||ui(A))&&i++<32?(t.consume(A),f):(i=0,d(A))}function p(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):A===null||A===32||A===60||gm(A)?n(A):(t.consume(A),p)}function d(A){return A===64?(t.consume(A),g):HR(A)?(t.consume(A),d):n(A)}function g(A){return ui(A)?E(A):n(A)}function E(A){return A===46?(t.consume(A),i=0,g):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):T(A)}function T(A){if((A===45||ui(A))&&i++<63){const k=A===45?T:E;return t.consume(A),k}return n(A)}}const od={partial:!0,tokenize:iN};function iN(t,e,n){return i;function i(l){return ft(l)?wt(t,o,"linePrefix")(l):o(l)}function o(l){return l===null||Pe(l)?e(l):n(l)}}const GA={continuation:{tokenize:oN},exit:sN,name:"blockQuote",tokenize:rN};function rN(t,e,n){const i=this;return o;function o(u){if(u===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ft(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function oN(t,e,n){const i=this;return o;function o(u){return ft(u)?wt(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(GA,e,n)(u)}}function sN(t){t.exit("blockQuote")}const YA={name:"characterEscape",tokenize:lN};function lN(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),o}function o(l){return YR(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const JA={name:"characterReference",tokenize:aN};function aN(t,e,n){const i=this;let o=0,l,u;return f;function f(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),p}function p(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),l=31,u=ui,g(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=GR,g):(t.enter("characterReferenceValue"),l=7,u=ym,g(E))}function g(E){if(E===59&&o){const T=t.exit("characterReferenceValue");return u===ui&&!hg(i.sliceSerialize(T))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&o++<l?(t.consume(E),g):n(E)}}const mE={partial:!0,tokenize:cN},gE={concrete:!0,name:"codeFenced",tokenize:uN};function uN(t,e,n){const i=this,o={partial:!0,tokenize:he};let l=0,u=0,f;return p;function p($){return d($)}function d($){const M=i.events[i.events.length-1];return l=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,f=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g($)}function g($){return $===f?(u++,t.consume($),g):u<3?n($):(t.exit("codeFencedFenceSequence"),ft($)?wt(t,E,"whitespace")($):E($))}function E($){return $===null||Pe($)?(t.exit("codeFencedFence"),i.interrupt?e($):t.check(mE,U,le)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T($))}function T($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E($)):ft($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),wt(t,A,"whitespace")($)):$===96&&$===f?n($):(t.consume($),T)}function A($){return $===null||Pe($)?E($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),k($))}function k($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E($)):$===96&&$===f?n($):(t.consume($),k)}function U($){return t.attempt(o,le,L)($)}function L($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),z}function z($){return l>0&&ft($)?wt(t,K,"linePrefix",l+1)($):K($)}function K($){return $===null||Pe($)?t.check(mE,U,le)($):(t.enter("codeFlowValue"),Y($))}function Y($){return $===null||Pe($)?(t.exit("codeFlowValue"),K($)):(t.consume($),Y)}function le($){return t.exit("codeFenced"),e($)}function he($,M,D){let R=0;return O;function O(me){return $.enter("lineEnding"),$.consume(me),$.exit("lineEnding"),V}function V(me){return $.enter("codeFencedFence"),ft(me)?wt($,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):B(me)}function B(me){return me===f?($.enter("codeFencedFenceSequence"),P(me)):D(me)}function P(me){return me===f?(R++,$.consume(me),P):R>=u?($.exit("codeFencedFenceSequence"),ft(me)?wt($,ye,"whitespace")(me):ye(me)):D(me)}function ye(me){return me===null||Pe(me)?($.exit("codeFencedFence"),M(me)):D(me)}}}function cN(t,e,n){const i=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const zp={name:"codeIndented",tokenize:dN},fN={partial:!0,tokenize:hN};function dN(t,e,n){const i=this;return o;function o(d){return t.enter("codeIndented"),wt(t,l,"linePrefix",5)(d)}function l(d){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?p(d):Pe(d)?t.attempt(fN,u,p)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Pe(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function p(d){return t.exit("codeIndented"),e(d)}}function hN(t,e,n){const i=this;return o;function o(u){return i.parser.lazy[i.now().line]?n(u):Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):wt(t,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Pe(u)?o(u):n(u)}}const pN={name:"codeText",previous:gN,resolve:mN,tokenize:yN};function mN(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function gN(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yN(t,e,n){let i=0,o,l;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),f(E)}function f(E){return E===96?(t.consume(E),i++,f):(t.exit("codeTextSequence"),p(E))}function p(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),p):E===96?(l=t.enter("codeTextSequence"),o=0,g(E)):Pe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||Pe(E)?(t.exit("codeTextData"),p(E)):(t.consume(E),d)}function g(E){return E===96?(t.consume(E),o++,g):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(l.type="codeTextData",d(E))}}class vN{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&su(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),su(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),su(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);su(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);su(this.left,n.reverse())}}}function su(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function $A(t){const e={};let n=-1,i,o,l,u,f,p,d;const g=new vN(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,_N(g,n)),n=e[n],d=!0);else if(i[1]._container){for(l=n,o=void 0;l--;)if(u=g.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(g.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(i[1].end={...g.get(o)[1].start},f=g.slice(o,n),f.unshift(i),g.splice(o,n-o+1,f))}}return Cr(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!d}function _N(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,p=[],d={};let g,E,T=-1,A=n,k=0,U=0;const L=[U];for(;A;){for(;t.get(++o)[1]!==A;);l.push(o),A._tokenizer||(g=i.sliceStream(A),A.next||g.push(null),E&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=A,A=A.next}for(A=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(U=T+1,L.push(U),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):L.pop(),T=L.length;T--;){const z=f.slice(L[T],L[T+1]),K=l.pop();p.push([K,K+z.length-1]),t.splice(K,2,z)}for(p.reverse(),T=-1;++T<p.length;)d[k+p[T][0]]=k+p[T][1],k+=p[T][1]-p[T][0]-1;return d}const EN={resolve:SN,tokenize:AN},TN={partial:!0,tokenize:xN};function SN(t){return $A(t),t}function AN(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Pe(f)?t.check(TN,u,l)(f):(t.consume(f),o)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function xN(t,e,n){const i=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),wt(t,l,"linePrefix")}function l(u){if(u===null||Pe(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function KA(t,e,n,i,o,l,u,f,p){const d=p||Number.POSITIVE_INFINITY;let g=0;return E;function E(z){return z===60?(t.enter(i),t.enter(o),t.enter(l),t.consume(z),t.exit(l),T):z===null||z===32||z===41||gm(z)?n(z):(t.enter(i),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),U(z))}function T(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(o),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),A(z))}function A(z){return z===62?(t.exit("chunkString"),t.exit(f),T(z)):z===null||z===60||Pe(z)?n(z):(t.consume(z),z===92?k:A)}function k(z){return z===60||z===62||z===92?(t.consume(z),A):A(z)}function U(z){return!g&&(z===null||z===41||Qn(z))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(i),e(z)):g<d&&z===40?(t.consume(z),g++,U):z===41?(t.consume(z),g--,U):z===null||z===32||z===40||gm(z)?n(z):(t.consume(z),z===92?L:U)}function L(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function QA(t,e,n,i,o,l){const u=this;let f=0,p;return d;function d(A){return t.enter(i),t.enter(o),t.consume(A),t.exit(o),t.enter(l),g}function g(A){return f>999||A===null||A===91||A===93&&!p||A===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(A):A===93?(t.exit(l),t.enter(o),t.consume(A),t.exit(o),t.exit(i),e):Pe(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),E(A))}function E(A){return A===null||A===91||A===93||Pe(A)||f++>999?(t.exit("chunkString"),g(A)):(t.consume(A),p||(p=!ft(A)),A===92?T:E)}function T(A){return A===91||A===92||A===93?(t.consume(A),f++,E):E(A)}}function XA(t,e,n,i,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(t.enter(i),t.enter(o),t.consume(T),t.exit(o),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(o),t.consume(T),t.exit(o),t.exit(i),e):(t.enter(l),d(T))}function d(T){return T===u?(t.exit(l),p(u)):T===null?n(T):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),wt(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(T))}function g(T){return T===u||T===null||Pe(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?E:g)}function E(T){return T===u||T===92?(t.consume(T),g):g(T)}}function yu(t,e){let n;return i;function i(o){return Pe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):ft(o)?wt(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const CN={name:"definition",tokenize:IN},wN={partial:!0,tokenize:bN};function IN(t,e,n){const i=this;let o;return l;function l(A){return t.enter("definition"),u(A)}function u(A){return QA.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function f(A){return o=Vl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),p):n(A)}function p(A){return Qn(A)?yu(t,d)(A):d(A)}function d(A){return KA(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function g(A){return t.attempt(wN,E,E)(A)}function E(A){return ft(A)?wt(t,T,"whitespace")(A):T(A)}function T(A){return A===null||Pe(A)?(t.exit("definition"),i.parser.defined.push(o),e(A)):n(A)}}function bN(t,e,n){return i;function i(f){return Qn(f)?yu(t,o)(f):n(f)}function o(f){return XA(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ft(f)?wt(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Pe(f)?e(f):n(f)}}const RN={name:"hardBreakEscape",tokenize:NN};function NN(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),o}function o(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const MN={name:"headingAtx",resolve:DN,tokenize:kN};function DN(t,e){let n=t.length-2,i=3,o,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Cr(t,i,n-i+1,[["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e]])),t}function kN(t,e,n){let i=0;return o;function o(g){return t.enter("atxHeading"),l(g)}function l(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(t.consume(g),u):g===null||Qn(g)?(t.exit("atxHeadingSequence"),f(g)):n(g)}function f(g){return g===35?(t.enter("atxHeadingSequence"),p(g)):g===null||Pe(g)?(t.exit("atxHeading"),e(g)):ft(g)?wt(t,f,"whitespace")(g):(t.enter("atxHeadingText"),d(g))}function p(g){return g===35?(t.consume(g),p):(t.exit("atxHeadingSequence"),f(g))}function d(g){return g===null||g===35||Qn(g)?(t.exit("atxHeadingText"),f(g)):(t.consume(g),d)}}const PN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],yE=["pre","script","style","textarea"],VN={concrete:!0,name:"htmlFlow",resolveTo:ON,tokenize:FN},LN={partial:!0,tokenize:BN},UN={partial:!0,tokenize:zN};function ON(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function FN(t,e,n){const i=this;let o,l,u,f,p;return d;function d(b){return g(b)}function g(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),E}function E(b){return b===33?(t.consume(b),T):b===47?(t.consume(b),l=!0,U):b===63?(t.consume(b),o=3,i.interrupt?e:F):Er(b)?(t.consume(b),u=String.fromCharCode(b),L):n(b)}function T(b){return b===45?(t.consume(b),o=2,A):b===91?(t.consume(b),o=5,f=0,k):Er(b)?(t.consume(b),o=4,i.interrupt?e:F):n(b)}function A(b){return b===45?(t.consume(b),i.interrupt?e:F):n(b)}function k(b){const pe="CDATA[";return b===pe.charCodeAt(f++)?(t.consume(b),f===pe.length?i.interrupt?e:B:k):n(b)}function U(b){return Er(b)?(t.consume(b),u=String.fromCharCode(b),L):n(b)}function L(b){if(b===null||b===47||b===62||Qn(b)){const pe=b===47,Ie=u.toLowerCase();return!pe&&!l&&yE.includes(Ie)?(o=1,i.interrupt?e(b):B(b)):PN.includes(u.toLowerCase())?(o=6,pe?(t.consume(b),z):i.interrupt?e(b):B(b)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(b):l?K(b):Y(b))}return b===45||ui(b)?(t.consume(b),u+=String.fromCharCode(b),L):n(b)}function z(b){return b===62?(t.consume(b),i.interrupt?e:B):n(b)}function K(b){return ft(b)?(t.consume(b),K):O(b)}function Y(b){return b===47?(t.consume(b),O):b===58||b===95||Er(b)?(t.consume(b),le):ft(b)?(t.consume(b),Y):O(b)}function le(b){return b===45||b===46||b===58||b===95||ui(b)?(t.consume(b),le):he(b)}function he(b){return b===61?(t.consume(b),$):ft(b)?(t.consume(b),he):Y(b)}function $(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),p=b,M):ft(b)?(t.consume(b),$):D(b)}function M(b){return b===p?(t.consume(b),p=null,R):b===null||Pe(b)?n(b):(t.consume(b),M)}function D(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Qn(b)?he(b):(t.consume(b),D)}function R(b){return b===47||b===62||ft(b)?Y(b):n(b)}function O(b){return b===62?(t.consume(b),V):n(b)}function V(b){return b===null||Pe(b)?B(b):ft(b)?(t.consume(b),V):n(b)}function B(b){return b===45&&o===2?(t.consume(b),Q):b===60&&o===1?(t.consume(b),X):b===62&&o===4?(t.consume(b),H):b===63&&o===3?(t.consume(b),F):b===93&&o===5?(t.consume(b),Ee):Pe(b)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(LN,ie,P)(b)):b===null||Pe(b)?(t.exit("htmlFlowData"),P(b)):(t.consume(b),B)}function P(b){return t.check(UN,ye,ie)(b)}function ye(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),me}function me(b){return b===null||Pe(b)?P(b):(t.enter("htmlFlowData"),B(b))}function Q(b){return b===45?(t.consume(b),F):B(b)}function X(b){return b===47?(t.consume(b),u="",de):B(b)}function de(b){if(b===62){const pe=u.toLowerCase();return yE.includes(pe)?(t.consume(b),H):B(b)}return Er(b)&&u.length<8?(t.consume(b),u+=String.fromCharCode(b),de):B(b)}function Ee(b){return b===93?(t.consume(b),F):B(b)}function F(b){return b===62?(t.consume(b),H):b===45&&o===2?(t.consume(b),F):B(b)}function H(b){return b===null||Pe(b)?(t.exit("htmlFlowData"),ie(b)):(t.consume(b),H)}function ie(b){return t.exit("htmlFlow"),e(b)}}function zN(t,e,n){const i=this;return o;function o(u){return Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function BN(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(od,e,n)}}const qN={name:"htmlText",tokenize:HN};function HN(t,e,n){const i=this;let o,l,u;return f;function f(F){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(F),p}function p(F){return F===33?(t.consume(F),d):F===47?(t.consume(F),he):F===63?(t.consume(F),Y):Er(F)?(t.consume(F),D):n(F)}function d(F){return F===45?(t.consume(F),g):F===91?(t.consume(F),l=0,k):Er(F)?(t.consume(F),K):n(F)}function g(F){return F===45?(t.consume(F),A):n(F)}function E(F){return F===null?n(F):F===45?(t.consume(F),T):Pe(F)?(u=E,X(F)):(t.consume(F),E)}function T(F){return F===45?(t.consume(F),A):E(F)}function A(F){return F===62?Q(F):F===45?T(F):E(F)}function k(F){const H="CDATA[";return F===H.charCodeAt(l++)?(t.consume(F),l===H.length?U:k):n(F)}function U(F){return F===null?n(F):F===93?(t.consume(F),L):Pe(F)?(u=U,X(F)):(t.consume(F),U)}function L(F){return F===93?(t.consume(F),z):U(F)}function z(F){return F===62?Q(F):F===93?(t.consume(F),z):U(F)}function K(F){return F===null||F===62?Q(F):Pe(F)?(u=K,X(F)):(t.consume(F),K)}function Y(F){return F===null?n(F):F===63?(t.consume(F),le):Pe(F)?(u=Y,X(F)):(t.consume(F),Y)}function le(F){return F===62?Q(F):Y(F)}function he(F){return Er(F)?(t.consume(F),$):n(F)}function $(F){return F===45||ui(F)?(t.consume(F),$):M(F)}function M(F){return Pe(F)?(u=M,X(F)):ft(F)?(t.consume(F),M):Q(F)}function D(F){return F===45||ui(F)?(t.consume(F),D):F===47||F===62||Qn(F)?R(F):n(F)}function R(F){return F===47?(t.consume(F),Q):F===58||F===95||Er(F)?(t.consume(F),O):Pe(F)?(u=R,X(F)):ft(F)?(t.consume(F),R):Q(F)}function O(F){return F===45||F===46||F===58||F===95||ui(F)?(t.consume(F),O):V(F)}function V(F){return F===61?(t.consume(F),B):Pe(F)?(u=V,X(F)):ft(F)?(t.consume(F),V):R(F)}function B(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(t.consume(F),o=F,P):Pe(F)?(u=B,X(F)):ft(F)?(t.consume(F),B):(t.consume(F),ye)}function P(F){return F===o?(t.consume(F),o=void 0,me):F===null?n(F):Pe(F)?(u=P,X(F)):(t.consume(F),P)}function ye(F){return F===null||F===34||F===39||F===60||F===61||F===96?n(F):F===47||F===62||Qn(F)?R(F):(t.consume(F),ye)}function me(F){return F===47||F===62||Qn(F)?R(F):n(F)}function Q(F){return F===62?(t.consume(F),t.exit("htmlTextData"),t.exit("htmlText"),e):n(F)}function X(F){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(F),t.exit("lineEnding"),de}function de(F){return ft(F)?wt(t,Ee,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(F):Ee(F)}function Ee(F){return t.enter("htmlTextData"),u(F)}}const mg={name:"labelEnd",resolveAll:$N,resolveTo:KN,tokenize:QN},GN={tokenize:XN},YN={tokenize:jN},JN={tokenize:WN};function $N(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Cr(t,0,t.length,n),t}function KN(t,e){let n=t.length,i=0,o,l,u,f;for(;n--;)if(o=t[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",p,e],["enter",d,e]],f=Ni(f,t.slice(l+1,l+i+3)),f=Ni(f,[["enter",g,e]]),f=Ni(f,pg(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),f=Ni(f,[["exit",g,e],t[u-2],t[u-1],["exit",d,e]]),f=Ni(f,t.slice(u+1)),f=Ni(f,[["exit",p,e]]),Cr(t,l,t.length,f),t}function QN(t,e,n){const i=this;let o=i.events.length,l,u;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){l=i.events[o][1];break}return f;function f(T){return l?l._inactive?E(T):(u=i.parser.defined.includes(Vl(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(GN,g,u?g:E)(T):T===91?t.attempt(YN,g,u?d:E)(T):u?g(T):E(T)}function d(T){return t.attempt(JN,g,E)(T)}function g(T){return e(T)}function E(T){return l._balanced=!0,n(T)}}function XN(t,e,n){return i;function i(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),o}function o(E){return Qn(E)?yu(t,l)(E):l(E)}function l(E){return E===41?g(E):KA(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return Qn(E)?yu(t,p)(E):g(E)}function f(E){return n(E)}function p(E){return E===34||E===39||E===40?XA(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):g(E)}function d(E){return Qn(E)?yu(t,g)(E):g(E)}function g(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function jN(t,e,n){const i=this;return o;function o(f){return QA.call(i,t,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Vl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function WN(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),o}function o(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const ZN={name:"labelStartImage",resolveAll:mg.resolveAll,tokenize:eM};function eM(t,e,n){const i=this;return o;function o(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const tM={name:"labelStartLink",resolveAll:mg.resolveAll,tokenize:nM};function nM(t,e,n){const i=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Bp={name:"lineEnding",tokenize:iM};function iM(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),wt(t,e,"linePrefix")}}const xf={name:"thematicBreak",tokenize:rM};function rM(t,e,n){let i=0,o;return l;function l(d){return t.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(t.enter("thematicBreakSequence"),p(d)):i>=3&&(d===null||Pe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function p(d){return d===o?(t.consume(d),i++,p):(t.exit("thematicBreakSequence"),ft(d)?wt(t,f,"whitespace")(d):f(d))}}const Jn={continuation:{tokenize:aM},exit:cM,name:"list",tokenize:lM},oM={partial:!0,tokenize:fM},sM={partial:!0,tokenize:uM};function lM(t,e,n){const i=this,o=i.events[i.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(A){const k=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:ym(A)){if(i.containerState.type||(i.containerState.type=k,t.enter(k,{_container:!0})),k==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(xf,n,d)(A):d(A);if(!i.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(A)}return n(A)}function p(A){return ym(A)&&++u<10?(t.consume(A),p):(!i.interrupt||u<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),d(A)):n(A)}function d(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,t.check(od,i.interrupt?n:g,t.attempt(oM,T,E))}function g(A){return i.containerState.initialBlankLine=!0,l++,T(A)}function E(A){return ft(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),T):n(A)}function T(A){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(A)}}function aM(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(od,o,l);function o(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,wt(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ft(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(sM,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,wt(t,t.attempt(Jn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function uM(t,e,n){const i=this;return wt(t,o,"listItemIndent",i.containerState.size+1);function o(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function cM(t){t.exit(this.containerState.type)}function fM(t,e,n){const i=this;return wt(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=i.events[i.events.length-1];return!ft(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const vE={name:"setextUnderline",resolveTo:dM,tokenize:hM};function dM(t,e){let n=t.length,i,o,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",l?(t.splice(o,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function hM(t,e,n){const i=this;let o;return l;function l(d){let g=i.events.length,E;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){E=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||E)?(t.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),ft(d)?wt(t,p,"lineSuffix")(d):p(d))}function p(d){return d===null||Pe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const pM={tokenize:mM};function mM(t){const e=this,n=t.attempt(od,i,t.attempt(this.parser.constructs.flowInitial,o,wt(t,t.attempt(this.parser.constructs.flow,o,t.attempt(EN,o)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gM={resolveAll:WA()},yM=jA("string"),vM=jA("text");function jA(t){return{resolveAll:WA(t==="text"?_M:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],l=n.attempt(o,u,f);return u;function u(g){return d(g)?l(g):f(g)}function f(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),p}function p(g){return d(g)?(n.exit("data"),l(g)):(n.consume(g),p)}function d(g){if(g===null)return!0;const E=o[g];let T=-1;if(E)for(;++T<E.length;){const A=E[T];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function WA(t){return e;function e(n,i){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return t?t(n,i):n}}function _M(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let l=o.length,u=-1,f=0,p;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)p=!0,f++;else if(d!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const EM={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:GA},TM={91:CN},SM={[-2]:zp,[-1]:zp,32:zp},AM={35:MN,42:xf,45:[vE,xf],60:VN,61:vE,95:xf,96:gE,126:gE},xM={38:JA,92:YA},CM={[-5]:Bp,[-4]:Bp,[-3]:Bp,33:ZN,38:JA,42:vm,60:[tN,qN],91:tM,92:[RN,YA],93:mg,95:vm,96:pN},wM={null:[vm,gM]},IM={null:[42,95]},bM={null:[]},RM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:IM,contentInitial:TM,disable:bM,document:EM,flow:AM,flowInitial:SM,insideSpan:wM,string:xM,text:CM},Symbol.toStringTag,{value:"Module"}));function NM(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const p={attempt:M(he),check:M($),consume:K,enter:Y,exit:le,interrupt:M($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:U,events:[],now:k,parser:t,previous:null,sliceSerialize:T,sliceStream:A,write:E};let g=e.tokenize.call(d,p);return e.resolveAll&&l.push(e),d;function E(V){return u=Ni(u,V),L(),u[u.length-1]!==null?[]:(D(e,0),d.events=pg(l,d.events,d),d.events)}function T(V,B){return DM(A(V),B)}function A(V){return MM(u,V)}function k(){const{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}=i;return{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}}function U(V){o[V.line]=V.column,O()}function L(){let V;for(;i._index<u.length;){const B=u[i._index];if(typeof B=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<B.length;)z(B.charCodeAt(i._bufferIndex));else z(B)}}function z(V){g=g(V)}function K(V){Pe(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,O()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=V}function Y(V,B){const P=B||{};return P.type=V,P.start=k(),d.events.push(["enter",P,d]),f.push(P),P}function le(V){const B=f.pop();return B.end=k(),d.events.push(["exit",B,d]),B}function he(V,B){D(V,B.from)}function $(V,B){B.restore()}function M(V,B){return P;function P(ye,me,Q){let X,de,Ee,F;return Array.isArray(ye)?ie(ye):"tokenize"in ye?ie([ye]):H(ye);function H(Ce){return Ve;function Ve(at){const tt=at!==null&&Ce[at],pn=at!==null&&Ce.null,Mn=[...Array.isArray(tt)?tt:tt?[tt]:[],...Array.isArray(pn)?pn:pn?[pn]:[]];return ie(Mn)(at)}}function ie(Ce){return X=Ce,de=0,Ce.length===0?Q:b(Ce[de])}function b(Ce){return Ve;function Ve(at){return F=R(),Ee=Ce,Ce.partial||(d.currentConstruct=Ce),Ce.name&&d.parser.constructs.disable.null.includes(Ce.name)?Ie():Ce.tokenize.call(B?Object.assign(Object.create(d),B):d,p,pe,Ie)(at)}}function pe(Ce){return V(Ee,F),me}function Ie(Ce){return F.restore(),++de<X.length?b(X[de]):Q}}}function D(V,B){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&Cr(d.events,B,d.events.length-B,V.resolve(d.events.slice(B),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function R(){const V=k(),B=d.previous,P=d.currentConstruct,ye=d.events.length,me=Array.from(f);return{from:ye,restore:Q};function Q(){i=V,d.previous=B,d.currentConstruct=P,d.events.length=ye,f=me,O()}}function O(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function MM(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,l=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(i,l)];else{if(u=t.slice(n,o),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}l>0&&u.push(t[o].slice(0,l))}return u}function DM(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,i.push(u)}return i.join("")}function kM(t){const i={constructs:zR([RM,...(t||{}).extensions||[]]),content:o(KR),defined:[],document:o(XR),flow:o(pM),lazy:{},string:o(yM),text:o(vM)};return i;function o(l){return u;function u(f){return NM(i,l,f)}}}function PM(t){for(;!$A(t););return t}const _E=/[\0\t\n\r]/g;function VM(){let t=1,e="",n=!0,i;return o;function o(l,u,f){const p=[];let d,g,E,T,A;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),E=0,e="",n&&(l.charCodeAt(0)===65279&&E++,n=void 0);E<l.length;){if(_E.lastIndex=E,d=_E.exec(l),T=d&&d.index!==void 0?d.index:l.length,A=l.charCodeAt(T),!d){e=l.slice(E);break}if(A===10&&E===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),E<T&&(p.push(l.slice(E,T)),t+=T-E),A){case 0:{p.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,p.push(-2);t++<g;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}E=T+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const LM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function UM(t){return t.replace(LM,OM)}function OM(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return HA(n.slice(l?2:1),l?16:10)}return hg(n)||t}const ZA={}.hasOwnProperty;function FM(t,e,n){return typeof e!="string"&&(n=e,e=void 0),zM(n)(PM(kM(n).document().write(VM()(t,e,!0))))}function zM(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ht),autolinkProtocol:R,autolinkEmail:R,atxHeading:l(jn),blockQuote:l(pn),characterEscape:R,characterReference:R,codeFenced:l(Mn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Mn,u),codeText:l(Li,u),codeTextData:R,data:R,codeFlowValue:R,definition:l(er),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(mn),hardBreakEscape:l(fi),hardBreakTrailing:l(fi),htmlFlow:l(di,u),htmlFlowData:R,htmlText:l(di,u),htmlTextData:R,image:l(br),label:u,link:l(ht),listItem:l(Dn),listItemValue:T,listOrdered:l(St,E),listUnordered:l(St),paragraph:l(Rr),reference:b,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(jn),strong:l(Jt),thematicBreak:l(hi)},exit:{atxHeading:p(),atxHeadingSequence:he,autolink:p(),autolinkEmail:tt,autolinkProtocol:at,blockQuote:p(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:Ie,characterReferenceMarkerNumeric:Ie,characterReferenceValue:Ce,characterReference:Ve,codeFenced:p(L),codeFencedFence:U,codeFencedFenceInfo:A,codeFencedFenceMeta:k,codeFlowValue:O,codeIndented:p(z),codeText:p(me),codeTextData:O,data:O,definition:p(),definitionDestinationString:le,definitionLabelString:K,definitionTitleString:Y,emphasis:p(),hardBreakEscape:p(B),hardBreakTrailing:p(B),htmlFlow:p(P),htmlFlowData:O,htmlText:p(ye),htmlTextData:O,image:p(X),label:Ee,labelText:de,lineEnding:V,link:p(Q),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:pe,resourceDestinationString:F,resourceTitleString:H,resource:ie,setextHeading:p(D),setextHeadingLineSequence:M,setextHeadingText:$,strong:p(),thematicBreak:p()}};ex(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(oe){let ge={type:"root",children:[]};const be={stack:[ge],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:g,data:n},qe=[];let Je=-1;for(;++Je<oe.length;)if(oe[Je][1].type==="listOrdered"||oe[Je][1].type==="listUnordered")if(oe[Je][0]==="enter")qe.push(Je);else{const on=qe.pop();Je=o(oe,on,Je)}for(Je=-1;++Je<oe.length;){const on=e[oe[Je][0]];ZA.call(on,oe[Je][1].type)&&on[oe[Je][1].type].call(Object.assign({sliceSerialize:oe[Je][2].sliceSerialize},be),oe[Je][1])}if(be.tokenStack.length>0){const on=be.tokenStack[be.tokenStack.length-1];(on[1]||EE).call(be,void 0,on[0])}for(ge.position={start:Lo(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Lo(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},Je=-1;++Je<e.transforms.length;)ge=e.transforms[Je](ge)||ge;return ge}function o(oe,ge,be){let qe=ge-1,Je=-1,on=!1,xn,kt,At,Lt;for(;++qe<=be;){const $e=oe[qe];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?Je++:Je--,Lt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(xn&&!Lt&&!Je&&!At&&(At=qe),Lt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Lt=void 0}if(!Je&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||Je===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(xn){let Wn=qe;for(kt=void 0;Wn--;){const an=oe[Wn];if(an[1].type==="lineEnding"||an[1].type==="lineEndingBlank"){if(an[0]==="exit")continue;kt&&(oe[kt][1].type="lineEndingBlank",on=!0),an[1].type="lineEnding",kt=Wn}else if(!(an[1].type==="linePrefix"||an[1].type==="blockQuotePrefix"||an[1].type==="blockQuotePrefixWhitespace"||an[1].type==="blockQuoteMarker"||an[1].type==="listItemIndent"))break}At&&(!kt||At<kt)&&(xn._spread=!0),xn.end=Object.assign({},kt?oe[kt][1].start:$e[1].end),oe.splice(kt||qe,0,["exit",xn,$e[2]]),qe++,be++}if($e[1].type==="listItemPrefix"){const Wn={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};xn=Wn,oe.splice(qe,0,["enter",Wn,$e[2]]),qe++,be++,At=void 0,Lt=!0}}}return oe[ge][1]._spread=on,be}function l(oe,ge){return be;function be(qe){f.call(this,oe(qe),qe),ge&&ge.call(this,qe)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(oe,ge,be){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([ge,be||void 0]),oe.position={start:Lo(ge.start),end:void 0}}function p(oe){return ge;function ge(be){oe&&oe.call(this,be),d.call(this,be)}}function d(oe,ge){const be=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==oe.type&&(ge?ge.call(this,oe,qe[0]):(qe[1]||EE).call(this,oe,qe[0]));else throw new Error("Cannot close `"+oe.type+"` ("+gu({start:oe.start,end:oe.end})+"): its not open");be.position.end=Lo(oe.end)}function g(){return OR(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function T(oe){if(this.data.expectingFirstListItemValue){const ge=this.stack[this.stack.length-2];ge.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function A(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.lang=oe}function k(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.meta=oe}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe.replace(/(\r?\n|\r)$/g,"")}function K(oe){const ge=this.resume(),be=this.stack[this.stack.length-1];be.label=ge,be.identifier=Vl(this.sliceSerialize(oe)).toLowerCase()}function Y(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.title=oe}function le(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.url=oe}function he(oe){const ge=this.stack[this.stack.length-1];if(!ge.depth){const be=this.sliceSerialize(oe).length;ge.depth=be}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function M(oe){const ge=this.stack[this.stack.length-1];ge.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function D(){this.data.setextHeadingSlurpLineEnding=void 0}function R(oe){const be=this.stack[this.stack.length-1].children;let qe=be[be.length-1];(!qe||qe.type!=="text")&&(qe=It(),qe.position={start:Lo(oe.start),end:void 0},be.push(qe)),this.stack.push(qe)}function O(oe){const ge=this.stack.pop();ge.value+=this.sliceSerialize(oe),ge.position.end=Lo(oe.end)}function V(oe){const ge=this.stack[this.stack.length-1];if(this.data.atHardBreak){const be=ge.children[ge.children.length-1];be.position.end=Lo(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ge.type)&&(R.call(this,oe),O.call(this,oe))}function B(){this.data.atHardBreak=!0}function P(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function ye(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function me(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.value=oe}function Q(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ge,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function X(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const ge=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=ge,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function de(oe){const ge=this.sliceSerialize(oe),be=this.stack[this.stack.length-2];be.label=UM(ge),be.identifier=Vl(ge).toLowerCase()}function Ee(){const oe=this.stack[this.stack.length-1],ge=this.resume(),be=this.stack[this.stack.length-1];if(this.data.inReference=!0,be.type==="link"){const qe=oe.children;be.children=qe}else be.alt=ge}function F(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.url=oe}function H(){const oe=this.resume(),ge=this.stack[this.stack.length-1];ge.title=oe}function ie(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function pe(oe){const ge=this.resume(),be=this.stack[this.stack.length-1];be.label=ge,be.identifier=Vl(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function Ie(oe){this.data.characterReferenceType=oe.type}function Ce(oe){const ge=this.sliceSerialize(oe),be=this.data.characterReferenceType;let qe;be?(qe=HA(ge,be==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=hg(ge);const Je=this.stack[this.stack.length-1];Je.value+=qe}function Ve(oe){const ge=this.stack.pop();ge.position.end=Lo(oe.end)}function at(oe){O.call(this,oe);const ge=this.stack[this.stack.length-1];ge.url=this.sliceSerialize(oe)}function tt(oe){O.call(this,oe);const ge=this.stack[this.stack.length-1];ge.url="mailto:"+this.sliceSerialize(oe)}function pn(){return{type:"blockquote",children:[]}}function Mn(){return{type:"code",lang:null,meta:null,value:""}}function Li(){return{type:"inlineCode",value:""}}function er(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function mn(){return{type:"emphasis",children:[]}}function jn(){return{type:"heading",depth:0,children:[]}}function fi(){return{type:"break"}}function di(){return{type:"html",value:""}}function br(){return{type:"image",title:null,url:"",alt:null}}function ht(){return{type:"link",title:null,url:"",children:[]}}function St(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Dn(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Rr(){return{type:"paragraph",children:[]}}function Jt(){return{type:"strong",children:[]}}function It(){return{type:"text",value:""}}function hi(){return{type:"thematicBreak"}}}function Lo(t){return{line:t.line,column:t.column,offset:t.offset}}function ex(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?ex(t,i):BM(t,i)}}function BM(t,e){let n;for(n in e)if(ZA.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function EE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+gu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+gu({start:e.start,end:e.end})+") is still open")}function qM(t){const e=this;e.parser=n;function n(i){return FM(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function HM(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function GM(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function YM(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function JM(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function $M(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KM(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Kl(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const d={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,d),t.applyData(e,d)}function QM(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XM(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function tx(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=i:o.push({type:"text",value:i}),o}function jM(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return tx(t,e);const o={src:Kl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,l),t.applyData(e,l)}function WM(t,e){const n={src:Kl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function ZM(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function e2(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return tx(t,e);const o={href:Kl(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function t2(t,e){const n={href:Kl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function n2(t,e,n){const i=t.all(e),o=n?i2(n):nx(e),l={},u=[];if(typeof e.checked=="boolean"){const g=i[0];let E;g&&g.type==="element"&&g.tagName==="p"?E=g:(E={type:"element",tagName:"p",properties:{},children:[]},i.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const g=i[f];(o||f!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!o?u.push(...g.children):u.push(g)}const p=i[i.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,d),t.applyData(e,d)}function i2(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=nx(n[i])}return e}function nx(t){const e=t.spread;return e??t.children.length>1}function r2(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const u=i[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function o2(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function s2(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function l2(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function a2(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=ug(e.children[1]),p=LA(e.children[e.children.length-1]);f&&p&&(u.position={start:f,end:p}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,l),t.applyData(e,l)}function u2(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let p=-1;const d=[];for(;++p<f;){const E=e.children[p],T={},A=u?u[p]:void 0;A&&(T.align=A);let k={type:"element",tagName:l,properties:T,children:[]};E&&(k.children=t.all(E),t.patch(E,k),k=t.applyData(E,k)),d.push(k)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,g),t.applyData(e,g)}function c2(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const TE=9,SE=32;function f2(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const l=[];for(;i;)l.push(AE(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return l.push(AE(e.slice(o),o>0,!1)),l.join("")}function AE(t,e,n){let i=0,o=t.length;if(e){let l=t.codePointAt(i);for(;l===TE||l===SE;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(o-1);for(;l===TE||l===SE;)o--,l=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function d2(t,e){const n={type:"text",value:f2(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function h2(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const p2={blockquote:HM,break:GM,code:YM,delete:JM,emphasis:$M,footnoteReference:KM,heading:QM,html:XM,imageReference:jM,image:WM,inlineCode:ZM,linkReference:e2,link:t2,listItem:n2,list:r2,paragraph:o2,root:s2,strong:l2,table:a2,tableCell:c2,tableRow:u2,text:d2,thematicBreak:h2,toml:ff,yaml:ff,definition:ff,footnoteDefinition:ff};function ff(){}const ix=-1,sd=0,vu=1,Vf=2,gg=3,yg=4,vg=5,_g=6,rx=7,ox=8,xE=typeof self=="object"?self:globalThis,m2=(t,e)=>{const n=(o,l)=>(t.set(l,o),o),i=o=>{if(t.has(o))return t.get(o);const[l,u]=e[o];switch(l){case sd:case ix:return n(u,o);case vu:{const f=n([],o);for(const p of u)f.push(i(p));return f}case Vf:{const f=n({},o);for(const[p,d]of u)f[i(p)]=i(d);return f}case gg:return n(new Date(u),o);case yg:{const{source:f,flags:p}=u;return n(new RegExp(f,p),o)}case vg:{const f=n(new Map,o);for(const[p,d]of u)f.set(i(p),i(d));return f}case _g:{const f=n(new Set,o);for(const p of u)f.add(i(p));return f}case rx:{const{name:f,message:p}=u;return n(new xE[f](p),o)}case ox:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new xE[l](u),o)};return i},CE=t=>m2(new Map,t)(0),Cl="",{toString:g2}={},{keys:y2}=Object,lu=t=>{const e=typeof t;if(e!=="object"||!t)return[sd,e];const n=g2.call(t).slice(8,-1);switch(n){case"Array":return[vu,Cl];case"Object":return[Vf,Cl];case"Date":return[gg,Cl];case"RegExp":return[yg,Cl];case"Map":return[vg,Cl];case"Set":return[_g,Cl];case"DataView":return[vu,n]}return n.includes("Array")?[vu,n]:n.includes("Error")?[rx,n]:[Vf,n]},df=([t,e])=>t===sd&&(e==="function"||e==="symbol"),v2=(t,e,n,i)=>{const o=(u,f)=>{const p=i.push(u)-1;return n.set(f,p),p},l=u=>{if(n.has(u))return n.get(u);let[f,p]=lu(u);switch(f){case sd:{let g=u;switch(p){case"bigint":f=ox,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);g=null;break;case"undefined":return o([ix],u)}return o([f,g],u)}case vu:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),o([p,[...T]],u)}const g=[],E=o([f,g],u);for(const T of u)g.push(l(T));return E}case Vf:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const g=[],E=o([f,g],u);for(const T of y2(u))(t||!df(lu(u[T])))&&g.push([l(T),l(u[T])]);return E}case gg:return o([f,u.toISOString()],u);case yg:{const{source:g,flags:E}=u;return o([f,{source:g,flags:E}],u)}case vg:{const g=[],E=o([f,g],u);for(const[T,A]of u)(t||!(df(lu(T))||df(lu(A))))&&g.push([l(T),l(A)]);return E}case _g:{const g=[],E=o([f,g],u);for(const T of u)(t||!df(lu(T)))&&g.push(l(T));return E}}const{message:d}=u;return o([f,{name:p,message:d}],u)};return l},wE=(t,{json:e,lossy:n}={})=>{const i=[];return v2(!(e||n),!!e,new Map,i)(t),i},Lf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?CE(wE(t,e)):structuredClone(t):(t,e)=>CE(wE(t,e));function _2(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function E2(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function T2(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||_2,i=t.options.footnoteBackLabel||E2,o=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[p]);if(!d)continue;const g=t.all(d),E=String(d.identifier).toUpperCase(),T=Kl(E.toLowerCase());let A=0;const k=[],U=t.footnoteCounts.get(E);for(;U!==void 0&&++A<=U;){k.length>0&&k.push({type:"text",value:" "});let K=typeof n=="string"?n:n(p,A);typeof K=="string"&&(K={type:"text",value:K}),k.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,A),className:["data-footnote-backref"]},children:Array.isArray(K)?K:[K]})}const L=g[g.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const K=L.children[L.children.length-1];K&&K.type==="text"?K.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...k)}else g.push(...k);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(g,!0)};t.patch(d,z),f.push(z)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Lf(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const sx=(function(t){if(t==null)return C2;if(typeof t=="function")return ld(t);if(typeof t=="object")return Array.isArray(t)?S2(t):A2(t);if(typeof t=="string")return x2(t);throw new Error("Expected function, string, or object as test")});function S2(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sx(t[n]);return ld(i);function i(...o){let l=-1;for(;++l<e.length;)if(e[l].apply(this,o))return!0;return!1}}function A2(t){const e=t;return ld(n);function n(i){const o=i;let l;for(l in t)if(o[l]!==e[l])return!1;return!0}}function x2(t){return ld(e);function e(n){return n&&n.type===t}}function ld(t){return e;function e(n,i,o){return!!(w2(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function C2(){return!0}function w2(t){return t!==null&&typeof t=="object"&&"type"in t}const lx=[],I2=!0,IE=!1,b2="skip";function R2(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const l=sx(o),u=i?-1:1;f(t,void 0,[])();function f(p,d,g){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const A=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(A?"<"+A+">":""))+")"})}return T;function T(){let A=lx,k,U,L;if((!e||l(p,d,g[g.length-1]||void 0))&&(A=N2(n(p,g)),A[0]===IE))return A;if("children"in p&&p.children){const z=p;if(z.children&&A[0]!==b2)for(U=(i?z.children.length:-1)+u,L=g.concat(z);U>-1&&U<z.children.length;){const K=z.children[U];if(k=f(K,U,L)(),k[0]===IE)return k;U=typeof k[1]=="number"?k[1]:U+u}}return A}}}function N2(t){return Array.isArray(t)?t:typeof t=="number"?[I2,t]:t==null?lx:[t]}function ax(t,e,n,i){let o,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,o=n):(l=e,u=n,o=i),R2(t,l,f,o);function f(p,d){const g=d[d.length-1],E=g?g.children.indexOf(p):void 0;return u(p,E,g)}}const _m={}.hasOwnProperty,M2={};function D2(t,e){const n=e||M2,i=new Map,o=new Map,l=new Map,u={...p2,...n.handlers},f={all:d,applyData:P2,definitionById:i,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:p,options:n,patch:k2,wrap:L2};return ax(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const E=g.type==="definition"?i:o,T=String(g.identifier).toUpperCase();E.has(T)||E.set(T,g)}}),f;function p(g,E){const T=g.type,A=f.handlers[T];if(_m.call(f.handlers,T)&&A)return A(f,g,E);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in g){const{children:U,...L}=g,z=Lf(L);return z.children=f.all(g),z}return Lf(g)}return(f.options.unknownHandler||V2)(f,g,E)}function d(g){const E=[];if("children"in g){const T=g.children;let A=-1;for(;++A<T.length;){const k=f.one(T[A],g);if(k){if(A&&T[A-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=bE(k.value)),!Array.isArray(k)&&k.type==="element")){const U=k.children[0];U&&U.type==="text"&&(U.value=bE(U.value))}Array.isArray(k)?E.push(...k):E.push(k)}}}return E}}function k2(t,e){t.position&&(e.position=gR(t))}function P2(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Lf(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function V2(t,e){const n=e.data||{},i="value"in e&&!(_m.call(n,"hProperties")||_m.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function L2(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function bE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function RE(t,e){const n=D2(t,e),i=n.one(t,void 0),o=T2(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function U2(t,e){return t&&"run"in t?async function(n,i){const o=RE(n,{file:i,...e});await t.run(o,i)}:function(n,i){return RE(n,{file:i,...t||e})}}function NE(t){if(t)throw t}var qp,ME;function O2(){if(ME)return qp;ME=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},l=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var g=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!g&&!E)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},u=function(d,g){n&&g.name==="__proto__"?n(d,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):d[g.name]=g.newValue},f=function(d,g){if(g==="__proto__")if(t.call(d,g)){if(i)return i(d,g).value}else return;return d[g]};return qp=function p(){var d,g,E,T,A,k,U=arguments[0],L=1,z=arguments.length,K=!1;for(typeof U=="boolean"&&(K=U,U=arguments[1]||{},L=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});L<z;++L)if(d=arguments[L],d!=null)for(g in d)E=f(U,g),T=f(d,g),U!==T&&(K&&T&&(l(T)||(A=o(T)))?(A?(A=!1,k=E&&o(E)?E:[]):k=E&&l(E)?E:{},u(U,{name:g,newValue:p(K,k,T)})):typeof T<"u"&&u(U,{name:g,newValue:T}));return U},qp}var F2=O2();const Hp=rd(F2);function Em(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function z2(){const t=[],e={run:n,use:i};return e;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(p,...d){const g=t[++l];let E=-1;if(p){u(p);return}for(;++E<o.length;)(d[E]===null||d[E]===void 0)&&(d[E]=o[E]);o=d,g?B2(g,f)(...d):u(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function B2(t,e){let n;return i;function i(...u){const f=t.length>u.length;let p;f&&u.push(o);try{p=t.apply(this,u)}catch(d){const g=d;if(f&&n)throw g;return o(g)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,o):p instanceof Error?o(p):l(p))}function o(u,...f){n||(n=!0,e(u,...f))}function l(u){o(null,u)}}const vr={basename:q2,dirname:H2,extname:G2,join:Y2,sep:"/"};function q2(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Vu(t);let n=0,i=-1,o=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else i<0&&(l=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,f=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(t.codePointAt(o)===e.codePointAt(f--)?f<0&&(i=o):(f=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function H2(t){if(Vu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function G2(t){Vu(t);let e=t.length,n=-1,i=0,o=-1,l=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?o<0?o=e:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function Y2(...t){let e=-1,n;for(;++e<t.length;)Vu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":J2(n)}function J2(t){Vu(t);const e=t.codePointAt(0)===47;let n=$2(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function $2(t,e){let n="",i=0,o=-1,l=0,u=-1,f,p;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",i=0,o=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),i=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Vu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const K2={cwd:Q2};function Q2(){return"/"}function Tm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function X2(t){if(typeof t=="string")t=new URL(t);else if(!Tm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return j2(t)}function j2(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Gp=["history","path","basename","stem","extname","dirname"];class ux{constructor(e){let n;e?Tm(e)?n={path:e}:typeof e=="string"||W2(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":K2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Gp.length;){const l=Gp[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)Gp.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?vr.basename(this.path):void 0}set basename(e){Jp(e,"basename"),Yp(e,"basename"),this.path=vr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vr.dirname(this.path):void 0}set dirname(e){DE(this.basename,"dirname"),this.path=vr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vr.extname(this.path):void 0}set extname(e){if(Yp(e,"extname"),DE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Tm(e)&&(e=X2(e)),Jp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vr.basename(this.path,this.extname):void 0}set stem(e){Jp(e,"stem"),Yp(e,"stem"),this.path=vr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new Nn(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Yp(t,e){if(t&&t.includes(vr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vr.sep+"`")}function Jp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function DE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function W2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Z2=(function(t){const i=this.constructor.prototype,o=i[t],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),eD={}.hasOwnProperty;class Eg extends Z2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=z2()}copy(){const e=new Eg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Hp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Qp("data",this.frozen),this.namespace[e]=n,this):eD.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Qp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=hf(e),i=this.parser||this.Parser;return $p("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),$p("process",this.parser||this.Parser),Kp("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=hf(e),p=i.parse(f);i.run(p,f,function(g,E,T){if(g||!E||!T)return d(g);const A=E,k=i.stringify(A,T);iD(k)?T.value=k:T.result=k,d(g,T)});function d(g,E){g||!E?u(g):l?l(E):n(void 0,E)}}}processSync(e){let n=!1,i;return this.freeze(),$p("processSync",this.parser||this.Parser),Kp("processSync",this.compiler||this.Compiler),this.process(e,o),PE("processSync","process",n),i;function o(l,u){n=!0,NE(l),i=u}}run(e,n,i){kE(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,f){const p=hf(n);o.run(e,p,d);function d(g,E,T){const A=E||e;g?f(g):u?u(A):i(void 0,A,T)}}}runSync(e,n){let i=!1,o;return this.run(e,n,l),PE("runSync","run",i),o;function l(u,f){NE(u),o=f,i=!0}}stringify(e,n){this.freeze();const i=hf(n),o=this.compiler||this.Compiler;return Kp("stringify",o),kE(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if(Qp("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[g,...E]=d;p(g,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=Hp(!0,o.settings,d.settings))}function f(d){let g=-1;if(d!=null)if(Array.isArray(d))for(;++g<d.length;){const E=d[g];l(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,g){let E=-1,T=-1;for(;++E<i.length;)if(i[E][0]===d){T=E;break}if(T===-1)i.push([d,...g]);else if(g.length>0){let[A,...k]=g;const U=i[T][1];Em(U)&&Em(A)&&(A=Hp(!0,U,A)),i[T]=[d,A,...k]}}}}const tD=new Eg().freeze();function $p(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Kp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Qp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function kE(t){if(!Em(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function PE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function hf(t){return nD(t)?t:new ux(t)}function nD(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function iD(t){return typeof t=="string"||rD(t)}function rD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const oD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",VE=[],LE={allowDangerousHtml:!0},sD=/^(https?|ircs?|mailto|xmpp)$/i,lD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function cx(t){const e=aD(t),n=uD(t);return cD(e.runSync(e.parse(n),n),t)}function aD(t){const e=t.rehypePlugins||VE,n=t.remarkPlugins||VE,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...LE}:LE;return tD().use(qM).use(n).use(U2,i).use(e)}function uD(t){const e=t.children||"",n=new ux;return typeof e=="string"&&(n.value=e),n}function cD(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,l=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||fD;for(const g of lD)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+oD+g.id,void 0);return ax(t,d),TR(t,{Fragment:C.Fragment,components:o,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function d(g,E,T){if(g.type==="raw"&&T&&typeof E=="number")return u?T.children.splice(E,1):T.children[E]={type:"text",value:g.value},E;if(g.type==="element"){let A;for(A in Fp)if(Object.hasOwn(Fp,A)&&Object.hasOwn(g.properties,A)){const k=g.properties[A],U=Fp[A];(U===null||U.includes(g.tagName))&&(g.properties[A]=p(String(k||""),A,g))}}if(g.type==="element"){let A=n?!n.includes(g.tagName):l?l.includes(g.tagName):!1;if(!A&&i&&typeof E=="number"&&(A=!i(g,E,T)),A&&T&&typeof E=="number")return f&&g.children?T.children.splice(E,1,...g.children):T.children.splice(E,1),E}}}function fD(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||sD.test(t.slice(0,e))?t:""}const Cf=({fatwa:t,detailsMode:e=!1,onGoBack:n})=>{var L;const[i,o]=Ne.useState(!1),[l,u]=Ne.useState(!1),f=z=>{switch(z){case"PERMITTED":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"CONDITIONAL":return"bg-amber-50 text-amber-700 border-amber-200";case"FORBIDDEN":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=z=>{switch(z){case"PERMITTED":return" / ";case"CONDITIONAL":return"  /  ";case"FORBIDDEN":return" / ";default:return" "}},d=z=>{switch(z){case"PERMITTED":return C.jsx(lb,{className:"w-4 h-4"});case"CONDITIONAL":return C.jsx(ob,{className:"w-4 h-4"});case"FORBIDDEN":return C.jsx(fb,{className:"w-4 h-4"});default:return C.jsx(K_,{className:"w-4 h-4"})}},g=()=>`*${t.title}*

*:* ${t.question}

*:* ${t.ruling.substring(0,300)}${t.ruling.length>300?"...":""}

*:* ${t.source}

    " "`,E=()=>{navigator.clipboard.writeText(g()),o(!0),setTimeout(()=>o(!1),2e3)},T={whatsapp:`https://wa.me/?text=${encodeURIComponent(g())}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(t.title)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(g())}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.title)}&url=${encodeURIComponent(window.location.href)}`},A=((L=mu.find(z=>z.id===t.category))==null?void 0:L.name)||t.category,U=(z=>z?z.replace(//g,"****").split(/\n\n+/).map(Y=>Y.replace(/\n/g,`  
`)).join(`

`):"")(t.ruling);return C.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg mb-2 w-full mx-auto flex flex-col font-cairo animate-in fade-in duration-500"+(e?" max-w-4xl p-0 sm:p-8 gap-4 sm:gap-8 scale-[1.04] shadow-2xl min-h-[70vh]":" max-w-2xl p-2 sm:p-5 gap-4 sm:gap-5 h-full max-h-[85vh]"),style:{direction:"rtl"},children:[e&&n&&C.jsx("div",{className:"w-full bg-white border-b-2 border-teal-200 flex-shrink-0",children:C.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 text-teal-600 hover:text-teal-700 transition-colors font-bold text-base px-4 py-4 w-full",children:[C.jsx(jI,{className:"w-5 h-5"}),C.jsx("span",{children:"  "})]})}),C.jsx("div",{className:`bg-gradient-to-b from-gray-50 to-white border-b border-gray-100 flex-shrink-0 ${e?"p-3 sm:p-5":"p-5"}`,children:C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border flex items-center gap-1.5 w-fit shadow-sm ${f(t.verdict)}`,children:[d(t.verdict),p(t.verdict)]}),C.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 flex items-center gap-1",children:A})]}),C.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 leading-snug tracking-tight",children:t.title})]})}),C.jsxs("div",{className:`space-y-6 flex-1 overflow-y-auto custom-scrollbar ${e?"p-3 sm:p-5":"p-5"}`,children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-700",children:[C.jsx("div",{className:"bg-teal-50 p-1.5 rounded-lg",children:C.jsx(K_,{className:"w-4 h-4"})}),C.jsx("span",{className:"text-sm font-bold",children:":"})]}),C.jsx("p",{className:"text-gray-700 font-medium text-base leading-relaxed bg-gray-50/50 p-4 rounded-xl border border-gray-100",children:t.question})]}),t.medical_context&&C.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 p-3 rounded-xl border border-blue-100/50",children:[C.jsx("div",{className:"bg-blue-100 p-1.5 rounded-lg mt-0.5 shrink-0",children:C.jsx(fm,{className:"w-3.5 h-3.5 text-blue-600"})}),C.jsxs("div",{children:[C.jsx("span",{className:"text-xs font-bold text-blue-700 block mb-1",children:"   :"}),C.jsx("p",{className:"text-xs text-blue-800/80 font-mono leading-relaxed dir-ltr text-right",children:t.medical_context})]})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 border-b border-gray-100 pb-2 font-cairo",children:[C.jsx("div",{className:"bg-teal-100 p-1.5 rounded-lg",children:C.jsx(_b,{className:"w-4 h-4 text-teal-700"})}),C.jsx("span",{className:"font-bold text-base",children:"  :"})]}),C.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-loose",style:{fontFamily:"'Amiri', serif"},children:C.jsx(cx,{components:{p:({node:z,...K})=>C.jsx("p",{className:"mb-6",...K}),li:({node:z,...K})=>C.jsx("li",{className:"mb-2",...K}),h1:({node:z,...K})=>C.jsx("h1",{className:"text-2xl font-bold mb-4 mt-6 text-teal-900",...K}),h2:({node:z,...K})=>C.jsx("h2",{className:"text-xl font-bold mb-3 mt-5 text-teal-800",...K}),h3:({node:z,...K})=>C.jsx("h3",{className:"text-lg font-bold mb-2 mt-4 text-teal-700",...K}),strong:({node:z,...K})=>C.jsx("strong",{className:"font-bold text-teal-900",...K})},children:U})})]}),C.jsxs("div",{className:"pt-4 border-t border-dashed border-gray-200 flex flex-col gap-3 font-cairo",children:[C.jsxs("div",{className:"flex items-start gap-2",children:[C.jsx(tb,{className:"w-3.5 h-3.5 text-gray-400 mt-1 shrink-0"}),C.jsxs("div",{className:"text-xs text-gray-500",children:[C.jsx("span",{className:"font-bold text-gray-600",children:": "}),C.jsx("span",{className:"italic",children:t.source})]})]}),t.tags&&t.tags.length>0&&C.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[C.jsx(Hb,{className:"w-3.5 h-3.5 text-gray-300 shrink-0"}),C.jsx("div",{className:"flex gap-1.5",children:t.tags.map((z,K)=>C.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 whitespace-nowrap",children:["#",z]},K))})]})]})]}),C.jsx("div",{className:`bg-gray-50 border-t border-gray-100 flex-shrink-0 font-cairo ${e?"p-2 sm:p-3":"p-3"}`,children:l?C.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom-2 fade-in duration-300",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsx("span",{className:"text-xs font-bold text-gray-500",children:"  :"}),C.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1",children:C.jsx(Pf,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"flex gap-3 justify-center",children:[C.jsxs("a",{href:T.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#229ED9] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),C.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),C.jsx("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]})]})]}):C.jsxs("div",{className:"flex justify-between items-center gap-3",children:[C.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center gap-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 hover:text-teal-600 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[i?C.jsx(wl,{className:"w-4 h-4"}):C.jsx(bA,{className:"w-4 h-4"}),i?" ":" "]}),C.jsxs("button",{onClick:()=>u(!0),className:"flex-1 flex items-center justify-center gap-2 text-white bg-teal-600 hover:bg-teal-700 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[C.jsx(Fb,{className:"w-4 h-4"})," "]})]})})]})};var dD={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hD,pD;function mD(){return{geminiUrl:hD,vertexUrl:pD}}function gD(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const u=mD();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let d=0;d<p.length;d++){const g=p[d];m(g,e.slice(l+1),n[d])}else for(const d of p)m(d,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>h(f,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function yD(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),u=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const d=l[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}Sm(t,o,l,0,u)}}function Sm(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])Sm(p,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(d=>!d.startsWith("_")&&!o.has(d)),p={};for(const d of f)p[d]=u[d];for(const[d,g]of Object.entries(p)){const E=[];for(const T of n.slice(i))T==="*"?E.push(d):E.push(T);m(u,E,g)}for(const d of f)delete u[d]}}else{const u=t;l in u&&Sm(u[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vD(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function _D(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],TD(u)),e}function ED(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],SD(u)),e}function TD(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>AD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function SD(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>xD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function AD(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],ND(n)),e}function xD(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],MD(n)),e}function CD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function wD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function ID(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],bD(u)),e}function bD(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function fx(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],RD(u)),e}function RD(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function ND(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Tg(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function MD(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Tg(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var UE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(UE||(UE={}));var OE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(OE||(OE={}));var FE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(FE||(FE={}));var Di;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Di||(Di={}));var zE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zE||(zE={}));var BE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(BE||(BE={}));var qE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(qE||(qE={}));var HE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(HE||(HE={}));var GE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(GE||(GE={}));var YE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(YE||(YE={}));var JE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(JE||(JE={}));var $E;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})($E||($E={}));var KE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(KE||(KE={}));var QE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(QE||(QE={}));var XE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(XE||(XE={}));var jE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(jE||(jE={}));var WE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(WE||(WE={}));var ZE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(ZE||(ZE={}));var eT;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eT||(eT={}));var Uf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Uf||(Uf={}));var tT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(tT||(tT={}));var nT;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nT||(nT={}));var iT;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(iT||(iT={}));var Am;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Am||(Am={}));var rT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rT||(rT={}));var oT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(oT||(oT={}));var sT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(sT||(sT={}));var lT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lT||(lT={}));var aT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(aT||(aT={}));var uT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uT||(uT={}));var cT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(cT||(cT={}));var fT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(fT||(fT={}));var dT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(dT||(dT={}));var hT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hT||(hT={}));var pT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pT||(pT={}));var mT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mT||(mT={}));var gT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gT||(gT={}));var yT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(yT||(yT={}));var vT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(vT||(vT={}));var _T;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(_T||(_T={}));var ET;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(ET||(ET={}));var TT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(TT||(TT={}));var ST;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ST||(ST={}));var AT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(AT||(AT={}));var xT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(xT||(xT={}));var CT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(CT||(CT={}));var wT;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(wT||(wT={}));var IT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IT||(IT={}));var bT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(bT||(bT={}));var RT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(RT||(RT={}));var NT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(NT||(NT={}));var MT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(MT||(MT={}));var DT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(DT||(DT={}));var kT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(kT||(kT={}));var PT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(PT||(PT={}));var Dl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Dl||(Dl={}));class xm{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class au{get text(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",g=!1;const E=[];for(const T of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[A,k]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(k!==null||k!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;g=!0,d+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?d:void 0}get data(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const g=[];for(const E of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&g.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(d+=atob(E.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(d=g==null?void 0:g[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((g==null?void 0:g.length)!==0)return(d=g==null?void 0:g[0])===null||d===void 0?void 0:d.output}}class VT{}class LT{}class DD{}class kD{}class PD{}class VD{}class UT{}class OT{}class FT{}class LD{}class Of{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Of;let o;const l=e;return n?o=ED(l):o=_D(l),Object.assign(i,o),i}}class zT{}class BT{}class qT{}class HT{}class UD{}class OD{}class FD{}class Sg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Sg,l=ID(e);return Object.assign(i,l),i}}class zD{}class BD{}class qD{}class GT{}class HD{get text(){var e,n,i;let o="",l=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(f))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class GD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ag{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ag,l=fx(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function dx(t,e){const n=lt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function hx(t){return Array.isArray(t)?t.map(e=>Ff(e)):[Ff(t)]}function Ff(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function px(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function mx(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function YT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function gx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>YT(e)):[YT(t)]}function Cm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function JT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function $T(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Rn(t){if(t==null)throw new Error("ContentUnion is required");return Cm(t)?t:{role:"user",parts:gx(t)}}function xg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Rn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Rn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Rn(n)):[Rn(e)]}function ki(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(JT(t)||$T(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Rn(t)]}const e=[],n=[],i=Cm(t[0]);for(const o of t){const l=Cm(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(JT(o)||$T(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:gx(n)}),e}function YD(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Di).includes(n[0].toUpperCase())?n[0].toUpperCase():Di.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Di).includes(i.toUpperCase())?i.toUpperCase():Di.TYPE_UNSPECIFIED})}}function Ll(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&YD(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Di).includes(f.toUpperCase())?f.toUpperCase():Di.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Ll(f);else if(i.includes(u)){const p=[];for(const d of f){if(d.type=="null"){e.nullable=!0;continue}p.push(Ll(d))}e[u]=p}else if(o.includes(u)){const p={};for(const[d,g]of Object.entries(f))p[d]=Ll(g);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Cg(t){return Ll(t)}function wg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ig(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ql(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ll(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ll(e.response));return t}function Xl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function JD(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function no(t,e){if(typeof e!="string")throw new Error("name must be a string");return JD(t,e,"cachedContents")}function yx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Qo(t){return Tg(t)}function $D(t){return t!=null&&typeof t=="object"&&"name"in t}function KD(t){return t!=null&&typeof t=="object"&&"video"in t}function QD(t){return t!=null&&typeof t=="object"&&"uri"in t}function vx(t){var e;let n;if($D(t)&&(n=t.name),!(QD(t)&&(n=t.uri,n===void 0))&&!(KD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function _x(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Ex(t){for(const e of["models","tunedModels","publisherModels"])if(XD(t,e))return t[e];return[]}function XD(t,e){return t!==null&&typeof t=="object"&&e in t}function jD(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function WD(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=jD(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Tx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function ZD(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Sx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function jl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Ax(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ek(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Pk(u))),m(e,["inlinedResponses"],l)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function tk(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function nk(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wf(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],Ax(o));const l=h(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=h(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&m(e,["dest"],ek(Sx(d))),e}function wm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["state"]);o!=null&&m(e,["state"],Ax(o));const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const g=h(t,["model"]);g!=null&&m(e,["model"],g);const E=h(t,["inputConfig"]);E!=null&&m(e,["src"],ik(E));const T=h(t,["outputConfig"]);T!=null&&m(e,["dest"],tk(Sx(T)));const A=h(t,["completionStats"]);return A!=null&&m(e,["completionStats"],A),e}function ik(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function rk(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&m(n,["fileName"],i);const o=h(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>kk(t,u))),m(n,["requests","requests"],l)}return n}function ok(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function lk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function ak(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function uk(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],ck(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const g=h(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function ck(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function xx(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Bk(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function fk(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dk(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],nk(ZD(o))),n}function KT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],rk(t,Tx(t,o)));const l=h(e,["config"]);return l!=null&&fk(l,n),n}function hk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],ok(Tx(t,o)));const l=h(e,["config"]);return l!=null&&dk(l,n),n}function pk(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function mk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],Sk(t,o));const l=h(e,["config"]);return l!=null&&pk(l,n),n}function gk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function yk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function vk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function _k(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function Ek(t,e){const n={},i=h(e,["contents"]);if(i!=null){let l=xg(t,i);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["requests[]","request","content"],l)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],Tk(o,n)),yD(n,{"requests[].*":"requests[].request.*"})),n}function Tk(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Sk(t,e){const n={},i=h(e,["fileName"]);i!=null&&m(n,["file_name"],i);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],Ek(t,o)),n}function Ak(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function xk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ck(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wk(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],xx(Rn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const g=h(e,["stopSequences"]);g!=null&&m(i,["stopSequences"],g);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Cg(z));const K=h(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>qk(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=Xl(le);Array.isArray(P)&&(P=P.map(ye=>Gk(Ql(ye)))),m(n,["tools"],P)}const he=h(e,["toolConfig"]);if(n!==void 0&&he!=null&&m(n,["toolConfig"],Hk(he)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],no(t,$));const M=h(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const D=h(e,["mediaResolution"]);D!=null&&m(i,["mediaResolution"],D);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],wg(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&m(i,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],Dk(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function Ik(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>uk(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function bk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function Rk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jl(t,i)),n}function Nk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Mk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Dk(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["request","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let f=ki(o);Array.isArray(f)&&(f=f.map(p=>xx(p))),m(n,["request","contents"],f)}const l=h(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],wk(t,u,h(n,["request"],{}))),n}function Pk(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],Ik(n));const i=h(t,["error"]);return i!=null&&m(e,["error"],i),e}function Vk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Lk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=h(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function Uk(t){const e={},n=h(t,["config"]);return n!=null&&Vk(n,e),e}function Ok(t){const e={},n=h(t,["config"]);return n!=null&&Lk(n,e),e}function Fk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>wf(u))),m(e,["batchJobs"],l)}return e}function zk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>wm(u))),m(e,["batchJobs"],l)}return e}function Bk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],Ak(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],xk(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],sk(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function qk(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Hk(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Ck(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function Gk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(E=>E)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Nk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Mk(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Xr||(Xr={}));class Rs{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yk extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Xr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=KT(this.apiClient,e),i=n._url,o=Te("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,d=[];for(const g of p){const E=Object.assign({},g);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}d.push(E)}return f.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=hk(this.apiClient,e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>wm(g))}else{const d=KT(this.apiClient,e);return f=Te("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>wf(g))}}async createEmbeddingsInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=mk(this.apiClient,e);return l=Te("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>wf(p))}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Rk(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>wm(g))}else{const d=bk(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>wf(g))}}async cancel(e){var n,i,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const p=ak(this.apiClient,e);u=Te("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=lk(this.apiClient,e);u=Te("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Ok(e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=zk(g),T=new GT;return Object.assign(T,E),T})}else{const d=Uk(e);return f=Te("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=Fk(g),T=new GT;return Object.assign(T,E),T})}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=yk(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>_k(g))}else{const d=gk(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>vk(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function QT(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>mP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function $k(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let g=ki(u);Array.isArray(g)&&(g=g.map(E=>QT(E))),m(e,["contents"],g)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],QT(Rn(f)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(E=>yP(E))),m(e,["tools"],g)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],gP(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Kk(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let E=ki(u);Array.isArray(E)&&(E=E.map(T=>T)),m(e,["contents"],E)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],Rn(f));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>vP(T))),m(e,["tools"],E)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],d);const g=h(t,["kmsKeyName"]);return e!==void 0&&g!=null&&m(e,["encryption_spec","kmsKeyName"],g),n}function Qk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],dx(t,i));const o=h(e,["config"]);return o!=null&&$k(o,n),n}function Xk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],dx(t,i));const o=h(e,["config"]);return o!=null&&Kk(o,n),n}function jk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],no(t,i)),n}function Wk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],no(t,i)),n}function Zk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function eP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function tP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function nP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iP(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function rP(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function oP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],no(t,i)),n}function sP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],no(t,i)),n}function lP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function aP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function uP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function cP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function fP(t){const e={},n=h(t,["config"]);return n!=null&&uP(n,e),e}function dP(t){const e={},n=h(t,["config"]);return n!=null&&cP(n,e),e}function hP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function pP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function mP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],tP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],nP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Jk(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function gP(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],iP(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function yP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(E=>E)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],lP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],aP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function vP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>rP(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function _P(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function EP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function TP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],no(t,i));const o=h(e,["config"]);return o!=null&&_P(o,n),n}function SP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],no(t,i));const o=h(e,["config"]);return o!=null&&EP(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AP extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Xr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Xk(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const d=Qk(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=sP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const d=oP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Wk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=eP(g),T=new qT;return Object.assign(T,E),T})}else{const d=jk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=Zk(g),T=new qT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=SP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const d=TP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=dP(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=pP(g),T=new HT;return Object.assign(T,E),T})}else{const d=fP(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=hP(g),T=new HT;return Object.assign(T,E),T})}}}function zf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function XT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Le(t){return this instanceof Le?(this.v=t,this):new Le(t)}function Qi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(A){return function(k){return Promise.resolve(k).then(A,E)}}function f(A,k){i[A]&&(o[A]=function(U){return new Promise(function(L,z){l.push([A,U,L,z])>1||p(A,U)})},k&&(o[A]=k(o[A])))}function p(A,k){try{d(i[A](k))}catch(U){T(l[0][3],U)}}function d(A){A.value instanceof Le?Promise.resolve(A.value.v).then(g,E):T(l[0][2],A)}function g(A){p("next",A)}function E(A){p("throw",A)}function T(A,k){A(k),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Xi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XT=="function"?XT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),o(f,p,u.done,u.value)})}}function o(l,u,f,p){Promise.resolve(p).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xP(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Cx(n)}function Cx(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function CP(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!Cx(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class wP{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new IP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class IP{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),CP(l)}async sendMessage(e){var n;await this.sendPromise;const i=Rn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const p=await o,d=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,g=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];g!=null&&(T=(f=g.slice(E))!==null&&f!==void 0?f:[]);const A=d?[d]:[];this.recordHistory(i,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=Rn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?jT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Qi(this,arguments,function*(){var o,l,u,f,p,d;const g=[];try{for(var E=!0,T=Xi(e),A;A=yield Le(T.next()),o=A.done,!o;E=!0){f=A.value,E=!1;const k=f;if(xP(k)){const U=(d=(p=k.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;U!==void 0&&g.push(U)}yield yield Le(k)}}catch(k){l={error:k}}finally{try{!E&&!o&&(u=T.return)&&(yield Le(u.call(T)))}finally{if(l)throw l.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...jT(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ad extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ad.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bP(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function RP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function NP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],vx(n)),e}function MP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function DP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],vx(n)),e}function kP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function PP(t){const e={},n=h(t,["config"]);return n!=null&&kP(n,e),e}function VP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LP extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Xr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=PP(e);return l=Te("files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const d=VP(p),g=new zD;return Object.assign(g,d),g})}}async createInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=bP(e);return l=Te("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=RP(p),g=new BD;return Object.assign(g,d),g})}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=DP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=NP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const d=MP(p),g=new qD;return Object.assign(g,d),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function If(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UP(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>ZP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function OP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function FP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function zP(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function BP(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const g=h(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const k=h(t,["responseModalities"]);k!=null&&m(e,["responseModalities"],k);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const K=h(t,["speechConfig"]);K!=null&&m(e,["speechConfig"],K);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const he=h(t,["thinkingConfig"]);he!=null&&m(e,["thinkingConfig"],he);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const M=h(t,["topP"]);if(M!=null&&m(e,["topP"],M),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function HP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function GP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Ig(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],UP(Rn(k)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let $=Xl(U);Array.isArray($)&&($=$.map(M=>tV(Ql(M)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],eV(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);if(e!==void 0&&he!=null&&m(e,["setup","proactivity"],he),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function YP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],BP(i));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Ig(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],Rn(k));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let M=Xl(U);Array.isArray(M)&&(M=M.map(D=>nV(Ql(D)))),m(e,["setup","tools"],M)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],L);const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);e!==void 0&&he!=null&&m(e,["setup","proactivity"],he);const $=h(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&m(e,["setup","explicitVadSignal"],$),n}function JP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],GP(o,n)),n}function $P(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],YP(o,n)),n}function KP(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function QP(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["weightedPrompts"],i)}return e}function XP(t){const e={},n=h(t,["media"]);if(n!=null){let d=hx(n);Array.isArray(d)&&(d=d.map(g=>If(g))),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],If(mx(i)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],If(px(l)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function jP(t){const e={},n=h(t,["media"]);if(n!=null){let d=hx(n);Array.isArray(d)&&(d=d.map(g=>g)),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],mx(i));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],px(l));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function WP(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=h(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],iV(u));const f=h(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=h(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&m(e,["voiceActivityDetectionSignal"],d),e}function ZP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],OP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],FP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],If(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function eV(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(E=>E)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],qP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],HP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function nV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>zP(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function iV(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=h(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=h(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=h(t,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["promptTokensDetails"],A)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["cacheTokensDetails"],A)}const g=h(t,["candidatesTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["responseTokensDetails"],A)}const E=h(t,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(k=>k)),m(e,["toolUsePromptTokensDetails"],A)}const T=h(t,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rV(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function oV(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],sV(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const g=h(t,["safetyRatings"]);if(g!=null){let T=g;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function sV(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function lV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let l=ki(o);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["contents"],l)}return n}function aV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function uV(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&m(e,["statistics"],cV(i)),e}function cV(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function ud(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>_4(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function fV(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function dV(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hV(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],Rn(i));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>Rx(f))),m(e,["tools"],u)}const l=h(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],r4(l)),n}function pV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=ki(o);Array.isArray(u)&&(u=u.map(f=>ud(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&dV(l),n}function mV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=ki(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&hV(l,n),n}function gV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function yV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function vV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function _V(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function EV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function TV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function SV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const k=h(t,["outputMimeType"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","mimeType"],k);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const K=h(t,["editMode"]);e!==void 0&&K!=null&&m(e,["parameters","editMode"],K);const Y=h(t,["baseSteps"]);return e!==void 0&&Y!=null&&m(e,["parameters","editConfig","baseSteps"],Y),n}function AV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>C4(p))),m(n,["instances[0]","referenceImages"],f)}const u=h(e,["config"]);return u!=null&&SV(u,n),n}function xV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cd(l))),m(e,["generatedImages"],o)}return e}function CV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=h(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=h(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function IV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let f=xg(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=h(e,["config"]);l!=null&&CV(l,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],lt(t,u)),n}function bV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=xg(t,o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const l=h(e,["config"]);return l!=null&&wV(l,n),n}function RV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function NV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>uV(u))),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function MV(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function DV(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function kV(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PV(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function VV(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function LV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],ud(Rn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const g=h(e,["stopSequences"]);g!=null&&m(i,["stopSequences"],g);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Cg(z));const K=h(e,["responseJsonSchema"]);if(K!=null&&m(i,["responseJsonSchema"],K),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>w4(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=Xl(le);Array.isArray(P)&&(P=P.map(ye=>k4(Ql(ye)))),m(n,["tools"],P)}const he=h(e,["toolConfig"]);if(n!==void 0&&he!=null&&m(n,["toolConfig"],D4(he)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],no(t,$));const M=h(e,["responseModalities"]);M!=null&&m(i,["responseModalities"],M);const D=h(e,["mediaResolution"]);D!=null&&m(i,["mediaResolution"],D);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],wg(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=h(e,["thinkingConfig"]);O!=null&&m(i,["thinkingConfig"],O);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],u4(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function UV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],Rn(o));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const g=h(e,["stopSequences"]);g!=null&&m(i,["stopSequences"],g);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const k=h(e,["frequencyPenalty"]);k!=null&&m(i,["frequencyPenalty"],k);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Cg(z));const K=h(e,["responseJsonSchema"]);K!=null&&m(i,["responseJsonSchema"],K);const Y=h(e,["routingConfig"]);Y!=null&&m(i,["routingConfig"],Y);const le=h(e,["modelSelectionConfig"]);le!=null&&m(i,["modelConfig"],le);const he=h(e,["safetySettings"]);if(n!==void 0&&he!=null){let Q=he;Array.isArray(Q)&&(Q=Q.map(X=>X)),m(n,["safetySettings"],Q)}const $=h(e,["tools"]);if(n!==void 0&&$!=null){let Q=Xl($);Array.isArray(Q)&&(Q=Q.map(X=>Rx(Ql(X)))),m(n,["tools"],Q)}const M=h(e,["toolConfig"]);n!==void 0&&M!=null&&m(n,["toolConfig"],M);const D=h(e,["labels"]);n!==void 0&&D!=null&&m(n,["labels"],D);const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&m(n,["cachedContent"],no(t,R));const O=h(e,["responseModalities"]);O!=null&&m(i,["responseModalities"],O);const V=h(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const B=h(e,["speechConfig"]);B!=null&&m(i,["speechConfig"],wg(B));const P=h(e,["audioTimestamp"]);P!=null&&m(i,["audioTimestamp"],P);const ye=h(e,["thinkingConfig"]);ye!=null&&m(i,["thinkingConfig"],ye);const me=h(e,["imageConfig"]);if(me!=null&&m(i,["imageConfig"],c4(me)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function WT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=ki(o);Array.isArray(u)&&(u=u.map(f=>ud(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],LV(t,l,n)),n}function ZT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["contents"]);if(o!=null){let u=ki(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],UV(t,l,n)),n}function eS(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>oV(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function tS(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(g=>g)),m(e,["candidates"],d)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=h(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=h(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function OV(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=h(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const g=h(t,["language"]);e!==void 0&&g!=null&&m(e,["parameters","language"],g);const E=h(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const T=h(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=h(t,["imageSize"]);if(e!==void 0&&A!=null&&m(e,["parameters","sampleImageSize"],A),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function FV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const k=h(t,["outputMimeType"]);e!==void 0&&k!=null&&m(e,["parameters","outputOptions","mimeType"],k);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const K=h(t,["imageSize"]);e!==void 0&&K!=null&&m(e,["parameters","sampleImageSize"],K);const Y=h(t,["enhancePrompt"]);return e!==void 0&&Y!=null&&m(e,["parameters","enhancePrompt"],Y),n}function zV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&OV(l,n),n}function BV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&FV(l,n),n}function qV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>e4(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],Ix(o)),e}function HV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cd(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],bx(o)),e}function GV(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=h(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&m(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=h(t,["lastFrame"]);e!==void 0&&g!=null&&m(e,["instances[0]","lastFrame"],fd(g));const E=h(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>J4(A))),m(e,["instances[0]","referenceImages"],T)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function YV(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=h(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=h(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const g=h(t,["personGeneration"]);e!==void 0&&g!=null&&m(e,["parameters","personGeneration"],g);const E=h(t,["pubsubTopic"]);e!==void 0&&E!=null&&m(e,["parameters","pubsubTopic"],E);const T=h(t,["negativePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","negativePrompt"],T);const A=h(t,["enhancePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A);const k=h(t,["generateAudio"]);e!==void 0&&k!=null&&m(e,["parameters","generateAudio"],k);const U=h(t,["lastFrame"]);e!==void 0&&U!=null&&m(e,["instances[0]","lastFrame"],Zi(U));const L=h(t,["referenceImages"]);if(e!==void 0&&L!=null){let Y=L;Array.isArray(Y)&&(Y=Y.map(le=>$4(le))),m(e,["instances[0]","referenceImages"],Y)}const z=h(t,["mask"]);e!==void 0&&z!=null&&m(e,["instances[0]","mask"],Y4(z));const K=h(t,["compressionQuality"]);return e!==void 0&&K!=null&&m(e,["parameters","compressionQuality"],K),n}function JV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],XV(u)),e}function $V(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],jV(u)),e}function KV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],fd(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],Nx(u));const f=h(e,["source"]);f!=null&&WV(f,n);const p=h(e,["config"]);return p!=null&&GV(p,n),n}function QV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],Zi(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],Mx(u));const f=h(e,["source"]);f!=null&&ZV(f,n);const p=h(e,["config"]);return p!=null&&YV(p,n),n}function XV(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>n4(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function jV(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>i4(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function WV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],fd(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],Nx(l)),n}function ZV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Zi(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],Mx(l)),n}function e4(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],f4(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],Ix(o)),e}function cd(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],wx(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],bx(o));const l=h(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function t4(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],wx(n));const i=h(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function n4(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],H4(n)),e}function i4(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],G4(n)),e}function r4(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const g=h(t,["mediaResolution"]);g!=null&&m(e,["mediaResolution"],g);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const k=h(t,["responseModalities"]);k!=null&&m(e,["responseModalities"],k);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const K=h(t,["speechConfig"]);K!=null&&m(e,["speechConfig"],K);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const he=h(t,["thinkingConfig"]);he!=null&&m(e,["thinkingConfig"],he);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const M=h(t,["topP"]);if(M!=null&&m(e,["topP"],M),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function o4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function s4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],lt(t,i)),n}function l4(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function a4(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function u4(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function c4(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const l=h(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function f4(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Qo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function wx(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Qo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function fd(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Qo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Zi(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Qo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function d4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],_x(t,f)),i}function h4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],_x(t,f)),i}function p4(t,e){const n={},i=h(e,["config"]);return i!=null&&d4(t,i,n),n}function m4(t,e){const n={},i=h(e,["config"]);return i!=null&&h4(t,i,n),n}function g4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=Ex(o);Array.isArray(l)&&(l=l.map(u=>Im(u))),m(e,["models"],l)}return e}function y4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=Ex(o);Array.isArray(l)&&(l=l.map(u=>bm(u))),m(e,["models"],l)}return e}function v4(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Im(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["version"]);l!=null&&m(e,["version"],l);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],P4(u));const f=h(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&m(e,["supportedActions"],d);const g=h(t,["temperature"]);g!=null&&m(e,["temperature"],g);const E=h(t,["maxTemperature"]);E!=null&&m(e,["maxTemperature"],E);const T=h(t,["topP"]);T!=null&&m(e,["topP"],T);const A=h(t,["topK"]);A!=null&&m(e,["topK"],A);const k=h(t,["thinking"]);return k!=null&&m(e,["thinking"],k),e}function bm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["versionId"]);l!=null&&m(e,["version"],l);const u=h(t,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>MV(T))),m(e,["endpoints"],E)}const f=h(t,["labels"]);f!=null&&m(e,["labels"],f);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],V4(p));const d=h(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const g=h(t,["checkpoints"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["checkpoints"],E)}return e}function _4(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],DV(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],kV(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],rV(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function E4(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],Zi(n)),e}function T4(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=h(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&m(e,["parameters","addWatermark"],d);const g=h(t,["outputMimeType"]);e!==void 0&&g!=null&&m(e,["parameters","outputOptions","mimeType"],g);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const T=h(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=h(t,["labels"]);return e!==void 0&&A!=null&&m(e,["labels"],A),n}function S4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["source"]);o!=null&&x4(o,n);const l=h(e,["config"]);return l!=null&&T4(l,n),n}function A4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cd(o))),m(e,["generatedImages"],i)}return e}function x4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Zi(o));const l=h(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>E4(f))),m(e,["instances[0]","productImages"],u)}return n}function C4(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Zi(n));const i=h(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=h(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],v4(l));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],fV(u));const f=h(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function Ix(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function bx(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function w4(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function I4(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],Zi(n)),e}function b4(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=h(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=h(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function R4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["source"]);o!=null&&M4(o,n);const l=h(e,["config"]);return l!=null&&b4(l,n),n}function N4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>t4(o))),m(e,["generatedMasks"],i)}return e}function M4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Zi(o));const l=h(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],I4(l)),n}function D4(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],PV(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function k4(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(E=>E)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],l4(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],a4(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Rx(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>VV(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const g=h(t,["urlContext"]);return g!=null&&m(e,["urlContext"],g),e}function P4(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function V4(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function L4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function U4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function O4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","name"],lt(t,i));const o=h(e,["config"]);return o!=null&&L4(o,n),n}function F4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&U4(o,n),n}function z4(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],d);const g=h(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["numberOfImages"]);e!==void 0&&T!=null&&m(e,["parameters","sampleCount"],T);const A=h(t,["mode"]);return e!==void 0&&A!=null&&m(e,["parameters","mode"],A),n}function B4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],lt(t,i));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],Zi(o));const l=h(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=h(e,["config"]);return u!=null&&z4(u,n),n}function q4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cd(l))),m(e,["generatedImages"],o)}return e}function H4(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Qo(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function G4(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Qo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function Y4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],Zi(n));const i=h(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function J4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],fd(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function $4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],Zi(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function Nx(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Qo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function Mx(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Qo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K4(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function Q4(t){const e={},n=h(t,["config"]);return n!=null&&K4(n,e),e}function X4(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function j4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&X4(i,e),e}function W4(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Z4(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function eL(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],nL(u)),e}function tL(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&m(e,["fileName"],i);const o=h(t,["config"]);return o!=null&&Z4(o,e),e}function nL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function iL(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function rL(t){const e={},n=h(t,["config"]);return n!=null&&iL(n,e),e}function oL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function Dx(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=h(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function sL(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&Dx(i,e),e}function lL(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aL="Content-Type",uL="X-Server-Timeout",cL="User-Agent",Rm="x-goog-api-client",fL="1.34.0",dL=`google-genai-sdk/${fL}`,hL="v1beta1",pL="v1beta";class mL{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hL,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:pL,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&gL(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await nS(o),new xm(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await nS(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Qi(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:g}=yield Le(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=l.decode(g,{stream:!0});try{const k=JSON.parse(E);if("error"in k){const U=JSON.parse(JSON.stringify(k.error)),L=U.status,z=U.code,K=`got status: ${L}. ${JSON.stringify(k)}`;if(z>=400&&z<600)throw new ad({message:K,status:z})}}catch(k){if(k.name==="ApiError")throw k}u+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const L of p){const z=u.indexOf(L);z!==-1&&(T===-1||z<T)&&(T=z,A=L.length)}if(T===-1)break;const k=u.substring(0,T);u=u.substring(T+A);const U=k.trim();if(U.startsWith(f)){const L=U.substring(f.length).trim();try{const z=new Response(L,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Le(new xm(z))}catch(z){throw new Error(`exception parsing stream chunk ${L}. ${z}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=dL+" "+this.clientOptions.userAgentExtra;return e[cL]=n,e[Rm]=n,e[aL]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(uL,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const f=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},d=this.getFileName(e),g=Te("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(g,o.sizeBytes,o.mimeType,d,p,n==null?void 0:n.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),E={};i!=null&&Dx(i,E);const T=await this.fetchUploadUrl(d,f,p,g,E,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(f=d==null?void 0:d.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function nS(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new ad({message:o,status:n}):new Error(o)}}function gL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const f=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],g=f[p];d&&typeof d=="object"&&!Array.isArray(d)&&g&&typeof g=="object"&&!Array.isArray(g)?f[p]=i(g,d):(g&&d&&typeof g!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof g}, New type: ${typeof d}. Overwriting.`),f[p]=d)}return f}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yL="mcp_used/unknown";let vL=!1;function kx(t){for(const e of t)if(_L(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vL}function Px(t){var e;const n=(e=t[Rm])!==null&&e!==void 0?e:"";t[Rm]=(n+` ${yL}`).trimStart()}function _L(t){return t!==null&&typeof t=="object"&&t instanceof bg}function EL(t){return Qi(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const u=yield Le(n.listTools({cursor:o}));for(const f of u.tools)yield yield Le(f),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class bg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bg(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const g of this.mcpClients)try{for(var f=!0,p=(n=void 0,Xi(EL(g))),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const E=o;u.push(E);const T=E.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=g}}catch(E){n={error:E}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),WD(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TL(t,e,n){const i=new GD;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class SL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=CL(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let d=()=>{};const g=new Promise(Y=>{d=Y}),E=e.callbacks,T=function(){d({})},A=this.apiClient,k={onopen:T,onmessage:Y=>{TL(A,E.onmessage,Y)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(Y){}},U=this.webSocketFactory.create(p,xL(u),k);U.connect(),await g;const K={setup:{model:lt(this.apiClient,e.model)}};return U.send(JSON.stringify(K)),new AL(U,this.apiClient)}}class AL{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=QP(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=KP(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Dl.PLAY)}pause(){this.sendPlaybackControl(Dl.PAUSE)}stop(){this.sendPlaybackControl(Dl.STOP)}resetContext(){this.sendPlaybackControl(Dl.RESET_CONTEXT)}close(){this.conn.close()}}function xL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function CL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function IL(t,e,n){const i=new HD;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=WP(l);Object.assign(i,u)}else Object.assign(i,l);e(i)}class bL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new SL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let g;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&kx(e.config.tools)&&Px(E);const T=DL(E);if(this.apiClient.isVertexAI())g=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,g);else{const R=this.apiClient.getApiKey();let O="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),O="BidiGenerateContentConstrained",V="access_token"),g=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${O}?${V}=${R}`}let A=()=>{};const k=new Promise(R=>{A=R}),U=e.callbacks,L=function(){var R;(R=U==null?void 0:U.onopen)===null||R===void 0||R.call(U),A({})},z=this.apiClient,K={onopen:L,onmessage:R=>{IL(z,U.onmessage,R)},onerror:(n=U==null?void 0:U.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=U==null?void 0:U.onclose)!==null&&i!==void 0?i:function(R){}},Y=this.webSocketFactory.create(g,ML(T),K);Y.connect(),await k;let le=lt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const R=this.apiClient.getProject(),O=this.apiClient.getLocation();le=`projects/${R}/locations/${O}/`+le}let he={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Uf.AUDIO]}:e.config.responseModalities=[Uf.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],M=[];for(const R of $)if(this.isCallableTool(R)){const O=R;M.push(await O.tool())}else M.push(R);M.length>0&&(e.config.tools=M);const D={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?he=$P(this.apiClient,D):he=JP(this.apiClient,D),delete he.config,Y.send(JSON.stringify(he)),new NL(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const RL={turnComplete:!0};class NL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ki(n.turns),e.isVertexAI()||(i=i.map(o=>ud(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(wL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},RL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:jP(e)}:n={realtimeInput:XP(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function ML(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function DL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iS=10;function rS(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ul(u)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Ul(t){return"callTool"in t&&typeof t.callTool=="function"}function kL(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Ul(o)))!==null&&i!==void 0?i:!1}function oS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Ul(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function sS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL extends to{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!kL(n)||rS(n.config))return await this.generateContentInternal(p);const d=oS(n);if(d.length>0){const U=d.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let g,E;const T=ki(p.contents),A=(l=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:iS;let k=0;for(;k<A&&(g=await this.generateContentInternal(p),!(!g.functionCalls||g.functionCalls.length===0));){const U=g.candidates[0].content,L=[];for(const z of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Ul(z)){const Y=await z.callTool(g.functionCalls);L.push(...Y)}k++,E={role:"user",parts:L},p.contents=ki(p.contents),p.contents.push(U),p.contents.push(E),sS(p.config)&&(T.push(U),T.push(E))}return sS(p.config)&&(g.automaticFunctionCallingHistory=T),g},this.generateContentStream=async n=>{var i,o,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),rS(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const p=oS(n);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,g=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(d&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Rs(Xr.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>Ul(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&kx(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Px(d),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return f}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ul(u)){const f=u,p=await f.tool();for(const d of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,f)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:iS;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(d,g,E){return Qi(this,arguments,function*(){for(var T,A,k,U,L,z;f<l;){u&&(f++,u=!1);const he=yield Le(d.processParamsMaybeAddMcpUsage(E)),$=yield Le(d.generateContentStreamInternal(he)),M=[],D=[];try{for(var K=!0,Y=(A=void 0,Xi($)),le;le=yield Le(Y.next()),T=le.done,!T;K=!0){U=le.value,K=!1;const R=U;if(yield yield Le(R),R.candidates&&(!((L=R.candidates[0])===null||L===void 0)&&L.content)){D.push(R.candidates[0].content);for(const O of(z=R.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(f<l&&O.functionCall){if(!O.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(O.functionCall.name)){const V=yield Le(g.get(O.functionCall.name).callTool([O.functionCall]));M.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${O.functionCall.name}`)}}}}catch(R){A={error:R}}finally{try{!K&&!T&&(k=Y.return)&&(yield Le(k.call(Y)))}finally{if(A)throw A.error}}if(M.length>0){u=!0;const R=new au;R.candidates=[{content:{role:"user",parts:M}}],yield yield Le(R);const O=[];O.push(...D),O.push({role:"user",parts:M});const V=ki(E.contents).concat(O);E.contents=V}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=ZT(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=tS(g),T=new au;return Object.assign(T,E),T})}else{const d=WT(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=eS(g),T=new au;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=ZT(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return Qi(this,arguments,function*(){var T,A,k,U;try{for(var L=!0,z=Xi(E),K;K=yield Le(z.next()),T=K.done,!T;L=!0){U=K.value,L=!1;const Y=U,le=tS(yield Le(Y.json()));le.sdkHttpResponse={headers:Y.headers};const he=new au;Object.assign(he,le),yield yield Le(he)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(k=z.return)&&(yield Le(k.call(z)))}finally{if(A)throw A.error}}})})}else{const d=WT(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(E){return Qi(this,arguments,function*(){var T,A,k,U;try{for(var L=!0,z=Xi(E),K;K=yield Le(z.next()),T=K.done,!T;L=!0){U=K.value,L=!1;const Y=U,le=eS(yield Le(Y.json()));le.sdkHttpResponse={headers:Y.headers};const he=new au;Object.assign(he,le),yield yield Le(he)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(k=z.return)&&(yield Le(k.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=bV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=NV(g),T=new VT;return Object.assign(T,E),T})}else{const d=IV(this.apiClient,e);return f=Te("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=RV(g),T=new VT;return Object.assign(T,E),T})}}async generateImagesInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=BV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=HV(g),T=new LT;return Object.assign(T,E),T})}else{const d=zV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=qV(g),T=new LT;return Object.assign(T,E),T})}}async editImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=AV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const d=xV(p),g=new DD;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=B4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const d=q4(p),g=new kD;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=S4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=A4(p),g=new PD;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=R4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=N4(p),g=new VD;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=s4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>bm(g))}else{const d=o4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Im(g))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=m4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=y4(g),T=new UT;return Object.assign(T,E),T})}else{const d=p4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=g4(g),T=new UT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=F4(this.apiClient,e);return f=Te("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>bm(g))}else{const d=O4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Im(g))}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=_V(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=TV(g),T=new OT;return Object.assign(T,E),T})}else{const d=vV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=EV(g),T=new OT;return Object.assign(T,E),T})}}async countTokens(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=mV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=yV(g),T=new FT;return Object.assign(T,E),T})}else{const d=pV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=gV(g),T=new FT;return Object.assign(T,E),T})}}async computeTokens(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=lV(this.apiClient,e);return l=Te("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>{const d=aV(p),g=new LD;return Object.assign(g,d),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=QV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const E=$V(g),T=new Of;return Object.assign(T,E),T})}else{const d=KV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const E=JV(g),T=new Of;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VL extends to{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=wD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u}else{const d=CD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=vD(e);return l=Te("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LL(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function UL(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>JL(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function OL(t,e,n){const i={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=h(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=h(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],YL(t,f));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function FL(t,e){const n={},i=h(e,["config"]);return i!=null&&m(n,["config"],OL(t,i,n)),n}function zL(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function BL(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qL(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function HL(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function GL(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const g=h(t,["seed"]);e!==void 0&&g!=null&&m(e,["setup","generationConfig","seed"],g);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Ig(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const k=h(t,["systemInstruction"]);e!==void 0&&k!=null&&m(e,["setup","systemInstruction"],UL(Rn(k)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let $=Xl(U);Array.isArray($)&&($=$.map(M=>KL(Ql(M)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],$L(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const K=h(t,["outputAudioTranscription"]);e!==void 0&&K!=null&&m(e,["setup","outputAudioTranscription"],K);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const he=h(t,["proactivity"]);if(e!==void 0&&he!=null&&m(e,["setup","proactivity"],he),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function YL(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],lt(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],GL(o,n)),n}function JL(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],zL(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],BL(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],LL(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const g=h(t,["thought"]);g!=null&&m(e,["thought"],g);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function $L(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function KL(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(E=>E)),m(e,["functionDeclarations"],g)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],qL(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],HL(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function XL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=QL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class jL extends to{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=FL(this.apiClient,e);l=Te("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=XL(f,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WL(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function ZL(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&WL(i,e),e}function eU(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function tU(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function nU(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&tU(i,e),e}function iU(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rU extends to{constructor(e){super(),this.apiClient=e,this.list=async n=>new Rs(Xr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=eU(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZL(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=nU(e);return l=Te("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=iU(p),g=new UD;return Object.assign(g,d),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oU extends to{constructor(e,n=new rU(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Rs(Xr.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Q4(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=W4(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j4(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=rL(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=oL(p),g=new OD;return Object.assign(g,d),g})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=sL(e);return l=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=lL(p),g=new FD;return Object.assign(g,d),g})}}async importFile(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=tL(e);return l=Te("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=eL(p),g=new Sg;return Object.assign(g,d),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vx=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Vx=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const sU=()=>Vx();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Mm=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi extends Error{}class On extends Vi{constructor(e,n,i,o){super(`${On.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new dd({message:i,cause:Mm(n)});const l=n;return e===400?new Ux(e,l,i,o):e===401?new Ox(e,l,i,o):e===403?new Fx(e,l,i,o):e===404?new zx(e,l,i,o):e===409?new Bx(e,l,i,o):e===422?new qx(e,l,i,o):e===429?new Hx(e,l,i,o):e>=500?new Gx(e,l,i,o):new On(e,l,i,o)}}class Dm extends On{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class dd extends On{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Lx extends dd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Ux extends On{}class Ox extends On{}class Fx extends On{}class zx extends On{}class Bx extends On{}class qx extends On{}class Hx extends On{}class Gx extends On{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lU=/^[a-z][a-z0-9+.-]*:/i,aU=t=>lU.test(t);let km=t=>(km=Array.isArray,km(t));const uU=km;let cU=uU;const lS=cU;function fU(t){if(!t)return!0;for(const e in t)return!1;return!0}function dU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const hU=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Vi(`${t} must be an integer`);if(e<0)throw new Vi(`${t} must be a positive integer`);return e},pU=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mU=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Il="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const yU=()=>{var t,e,n,i,o;const l=gU();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Il,"X-Stainless-OS":uS(Deno.build.os),"X-Stainless-Arch":aS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Il,"X-Stainless-OS":uS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":aS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=vU();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Il,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function vU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${o}.${l}.${u}`}}}return null}const aS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",uS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let pf;const _U=()=>pf??(pf=yU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Yx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function TU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Yx({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Jx(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $x=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xp(t,e,n){return $x(),new File(t,e??"unknown_file",n)}function xU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const CU=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",wU=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Kx(t),IU=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function bU(t,e,n){if($x(),t=await t,wU(t))return t instanceof File?t:Xp([await t.arrayBuffer()],t.name);if(IU(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xp(await Pm(o),e,n)}const i=await Pm(t);if(e||(e=xU(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Xp(i,e,n)}async function Pm(t){var e,n,i,o,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(Kx(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(CU(t))try{for(var f=!0,p=Xi(t),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const g=o;u.push(...await Pm(g))}}catch(g){n={error:g}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const g=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${RU(t)}`)}return u}function RU(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx{constructor(e){this._client=e}}Qx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xx(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const cS=Object.freeze(Object.create(null)),NU=(t=Xx)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],u=n.reduce((g,E,T)=>{var A,k,U;/[?#]/.test(E)&&(o=!0);const L=i[T];let z=(o?encodeURIComponent:t)(""+L);return T!==i.length&&(L==null||typeof L=="object"&&L.toString===((U=Object.getPrototypeOf((k=Object.getPrototypeOf((A=L.hasOwnProperty)!==null&&A!==void 0?A:cS))!==null&&k!==void 0?k:cS))===null||U===void 0?void 0:U.toString))&&(z=L+"",l.push({start:g.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),g+E+(T===i.length?"":z)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(f))!==null;)l.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(l.sort((g,E)=>g.start-E.start),l.length>0){let g=0;const E=l.reduce((T,A)=>{const k=" ".repeat(A.start-g),U="^".repeat(A.length);return g=A.start+A.length,T+k+U},"");throw new Vi(`Path parameters result in path with invalid segments:
${l.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),mf=NU(Xx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jx extends Qx{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=zf(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Vi("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Vi("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(mf`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(mf`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(mf`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=zf(l,["api_version"]);return this._client.get(mf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}jx._key=Object.freeze(["interactions"]);class Wx extends jx{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MU(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let gf;function Rg(t){let e;return(gf??(e=new globalThis.TextEncoder,gf=e.encode.bind(e)))(t)}let yf;function fS(t){let e;return(yf??(e=new globalThis.TextDecoder,yf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Rg(e):e;this.buffer=MU([this.buffer,n]);const i=[];let o;for(;(o=DU(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(fS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=fS(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}hd.NEWLINE_CHARS=new Set([`
`,"\r"]);hd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function DU(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function kU(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bf={off:0,error:200,warn:300,info:400,debug:500},dS=(t,e,n)=>{if(t){if(dU(Bf,t))return t;Un(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Bf))}`)}};function cu(){}function vf(t,e,n){return!e||Bf[t]>Bf[n]?cu:e[t].bind(e)}const PU={error:cu,warn:cu,info:cu,debug:cu};let hS=new WeakMap;function Un(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return PU;const o=hS.get(n);if(o&&o[0]===i)return o[1];const l={error:vf("error",n,i),warn:vf("warn",n,i),info:vf("info",n,i),debug:vf("debug",n,i)};return hS.set(n,[i,l]),l}const Ss=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?Un(i):console;function u(){return Qi(this,arguments,function*(){var p,d,g,E;if(o)throw new Vi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,k=Xi(VU(e,n)),U;U=yield Le(k.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const L=E;if(!T)if(L.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Le(JSON.parse(L.data))}catch(z){throw l.error("Could not parse message into JSON:",L.data),l.error("From chunk:",L.raw),z}}}catch(L){d={error:L}}finally{try{!A&&!p&&(g=k.return)&&(yield Le(g.call(k)))}finally{if(d)throw d.error}}T=!0}catch(L){if(Nm(L))return yield Le(void 0);throw L}finally{T||n.abort()}})}return new kl(u,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return Qi(this,arguments,function*(){var p,d,g,E;const T=new hd,A=Jx(e);try{for(var k=!0,U=Xi(A),L;L=yield Le(U.next()),p=L.done,!p;k=!0){E=L.value,k=!1;const z=E;for(const K of T.decode(z))yield yield Le(K)}}catch(z){d={error:z}}finally{try{!k&&!p&&(g=U.return)&&(yield Le(g.call(U)))}finally{if(d)throw d.error}}for(const z of T.flush())yield yield Le(z)})}function u(){return Qi(this,arguments,function*(){var p,d,g,E;if(o)throw new Vi("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,k=Xi(l()),U;U=yield Le(k.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const L=E;T||L&&(yield yield Le(JSON.parse(L)))}}catch(L){d={error:L}}finally{try{!A&&!p&&(g=k.return)&&(yield Le(g.call(k)))}finally{if(d)throw d.error}}T=!0}catch(L){if(Nm(L))return yield Le(void 0);throw L}finally{T||n.abort()}})}return new kl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new kl(()=>o(e),this.controller,this.client),new kl(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return Yx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const u=Rg(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function VU(t,e){return Qi(this,arguments,function*(){var i,o,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Vi("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Vi("Attempted to iterate over a response with no body");const f=new UU,p=new hd,d=Jx(t.body);try{for(var g=!0,E=Xi(LU(d)),T;T=yield Le(E.next()),i=T.done,!i;g=!0){u=T.value,g=!1;const A=u;for(const k of p.decode(A)){const U=f.decode(k);U&&(yield yield Le(U))}}}catch(A){o={error:A}}finally{try{!g&&!i&&(l=E.return)&&(yield Le(l.call(E)))}finally{if(o)throw o.error}}for(const A of p.flush()){const k=f.decode(A);k&&(yield yield Le(k))}})}function LU(t){return Qi(this,arguments,function*(){var n,i,o,l;let u=new Uint8Array;try{for(var f=!0,p=Xi(t),d;d=yield Le(p.next()),n=d.done,!n;f=!0){l=d.value,f=!1;const g=l;if(g==null)continue;const E=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?Rg(g):g;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let A;for(;(A=kU(u))!==-1;)yield yield Le(u.slice(0,A)),u=u.slice(A)}}catch(g){i={error:g}}finally{try{!f&&!n&&(o=p.return)&&(yield Le(o.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Le(u))})}class UU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=OU(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function OU(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FU(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return Un(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):kl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return Un(t).debug(`[${i}] response parsed`,Ss({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ng extends Promise{constructor(e,n,i=FU){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Ng(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zx=Symbol("brand.privateNullableHeaders");function*zU(t){if(!t)return;if(Zx in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lS(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=lS(i[1])?i[1]:[i[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,f])}}const uu=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,u]of zU(i)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[Zx]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jp=t=>{var e,n,i,o,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=dD)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var eC;class pd{constructor(e){var n,i,o,l,u,f,p,{baseURL:d=jp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=jp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,T=zf(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:g,apiVersion:E},T),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:pd.DEFAULT_TIMEOUT,this.logger=(o=A.logger)!==null&&o!==void 0?o:console;const k="warn";this.logLevel=k,this.logLevel=(u=(l=dS(A.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:dS(jp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:k,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:EU(),this.encoder=AU,this._options=A,this.apiKey=g,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=uu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Vi(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Il}`}defaultIdempotencyKey(){return`stainless-node-retry-${sU()}`}makeStatusError(e,n,i,o){return On.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=aU(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return fU(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Ng(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,u;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:d,url:g,timeout:E}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(d,{url:g,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=i===void 0?"":`, retryOf: ${i}`,k=Date.now();if(Un(this).debug(`[${T}] sending request`,Ss({retryOfRequestLogID:i,method:f.method,url:g,options:f,headers:d.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Dm;const U=new AbortController,L=await this.fetchWithTimeout(g,d,E,U).catch(Mm),z=Date.now();if(L instanceof globalThis.Error){const Y=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new Dm;const le=Nm(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(n)return Un(this).info(`[${T}] connection ${le?"timed out":"failed"} - ${Y}`),Un(this).debug(`[${T}] connection ${le?"timed out":"failed"} (${Y})`,Ss({retryOfRequestLogID:i,url:g,durationMs:z-k,message:L.message})),this.retryRequest(f,n,i??T);throw Un(this).info(`[${T}] connection ${le?"timed out":"failed"} - error; no more retries left`),Un(this).debug(`[${T}] connection ${le?"timed out":"failed"} (error; no more retries left)`,Ss({retryOfRequestLogID:i,url:g,durationMs:z-k,message:L.message})),le?new Lx:new dd({cause:L})}const K=`[${T}${A}] ${d.method} ${g} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${z-k}ms`;if(!L.ok){const Y=await this.shouldRetry(L);if(n&&Y){const R=`retrying, ${n} attempts remaining`;return await SU(L.body),Un(this).info(`${K} - ${R}`),Un(this).debug(`[${T}] response error (${R})`,Ss({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-k})),this.retryRequest(f,n,i??T,L.headers)}const le=Y?"error; no more retries left":"error; not retryable";Un(this).info(`${K} - ${le}`);const he=await L.text().catch(R=>Mm(R).message),$=pU(he),M=$?void 0:he;throw Un(this).debug(`[${T}] response error (${le})`,Ss({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,message:M,durationMs:Date.now()-k})),this.makeStatusError(L.status,$,M,L.headers)}return Un(this).info(K),Un(this).debug(`[${T}] response start`,Ss({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-k})),{response:L,options:f,controller:U,requestLogID:T,retryOfRequestLogID:i,startTime:k}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:u,method:f}=l,p=zf(l,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const d=setTimeout(()=>o.abort(),i),g=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:o.signal},g?{duplex:"half"}:{}),{method:"GET"}),p);f&&(E.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let u;const f=o==null?void 0:o.get("retry-after-ms");if(f){const d=parseFloat(f);Number.isNaN(d)||(u=d)}const p=o==null?void 0:o.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await mU(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const u=Object.assign({},e),{method:f,path:p,query:d,defaultBaseURL:g}=u,E=this.buildURL(p,d,g);"timeout"in u&&hU("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:u}),k=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:k},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=uu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),_U()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=uu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:TU(e)}:this.encoder({body:e,headers:i})}}pd.DEFAULT_TIMEOUT=6e4;class hn extends pd{constructor(){super(...arguments),this.interactions=new Wx(this)}}eC=hn;hn.GeminiNextGenAPIClient=eC;hn.GeminiNextGenAPIClientError=Vi;hn.APIError=On;hn.APIConnectionError=dd;hn.APIConnectionTimeoutError=Lx;hn.APIUserAbortError=Dm;hn.NotFoundError=zx;hn.ConflictError=Bx;hn.RateLimitError=Hx;hn.BadRequestError=Ux;hn.AuthenticationError=Ox;hn.InternalServerError=Gx;hn.PermissionDeniedError=Fx;hn.UnprocessableEntityError=qx;hn.toFile=bU;hn.Interactions=Wx;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function qU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function HU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function GU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function YU(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=h(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=h(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function JU(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec"],pS(A))}else if(o==="PREFERENCE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec"],pS(A))}const l=h(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(f==="PREFERENCE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(p==="PREFERENCE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let g=h(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(g==="PREFERENCE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["beta"]);return e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function $U(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&r3(l);const u=h(t,["config"]);return u!=null&&YU(u,n),n}function KU(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&o3(l,n,e);const u=h(t,["config"]);return u!=null&&JU(u,n,e),n}function QU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function XU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function jU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function WU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function ZU(t,e){const n={},i=h(t,["config"]);return i!=null&&jU(i,n),n}function e3(t,e){const n={},i=h(t,["config"]);return i!=null&&WU(i,n),n}function t3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>tC(f))),m(n,["tuningJobs"],u)}return n}function n3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Vm(f))),m(n,["tuningJobs"],u)}return n}function i3(t,e){const n={},i=h(t,["name"]);i!=null&&m(n,["model"],i);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function r3(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function o3(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function tC(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],yx(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const g=h(t,["description"]);g!=null&&m(n,["description"],g);const E=h(t,["baseModel"]);E!=null&&m(n,["baseModel"],E);const T=h(t,["_self"]);return T!=null&&m(n,["tunedModel"],i3(T)),n}function Vm(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],yx(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const g=h(t,["error"]);g!=null&&m(n,["error"],g);const E=h(t,["description"]);E!=null&&m(n,["description"],E);const T=h(t,["baseModel"]);T!=null&&m(n,["baseModel"],T);const A=h(t,["tunedModel"]);A!=null&&m(n,["tunedModel"],A);const k=h(t,["preTunedModel"]);k!=null&&m(n,["preTunedModel"],k);const U=h(t,["supervisedTuningSpec"]);U!=null&&m(n,["supervisedTuningSpec"],U);const L=h(t,["preferenceOptimizationSpec"]);L!=null&&m(n,["preferenceOptimizationSpec"],L);const z=h(t,["tuningDataStats"]);z!=null&&m(n,["tuningDataStats"],z);const K=h(t,["encryptionSpec"]);K!=null&&m(n,["encryptionSpec"],K);const Y=h(t,["partnerModelTuningSpec"]);Y!=null&&m(n,["partnerModelTuningSpec"],Y);const le=h(t,["customBaseModel"]);le!=null&&m(n,["customBaseModel"],le);const he=h(t,["experiment"]);he!=null&&m(n,["experiment"],he);const $=h(t,["labels"]);$!=null&&m(n,["labels"],$);const M=h(t,["outputUri"]);M!=null&&m(n,["outputUri"],M);const D=h(t,["pipelineJob"]);D!=null&&m(n,["pipelineJob"],D);const R=h(t,["serviceAccount"]);R!=null&&m(n,["serviceAccount"],R);const O=h(t,["tunedModelDisplayName"]);O!=null&&m(n,["tunedModelDisplayName"],O);const V=h(t,["veoTuningSpec"]);return V!=null&&m(n,["veoTuningSpec"],V),n}function s3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const f=h(t,["error"]);return f!=null&&m(n,["error"],f),n}function pS(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l3 extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Rs(Xr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:Am.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=XU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>Vm(g))}else{const d=QU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>tC(g))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=e3(e);return f=Te("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=n3(g),T=new zT;return Object.assign(T,E),T})}else{const d=ZU(e);return f=Te("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=t3(g),T=new zT;return Object.assign(T,E),T})}}async cancel(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=qU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=GU(g),T=new BT;return Object.assign(T,E),T})}else{const d=BU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:g.headers},T})),u.then(g=>{const E=HU(g),T=new BT;return Object.assign(T,E),T})}}async tuneInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=KU(e,e);return l=Te("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>Vm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=$U(e);return l=Te("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const g=d;return g.sdkHttpResponse={headers:p.headers},g})),o.then(p=>s3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const u3=1024*1024*8,c3=3,f3=1e3,d3=2,qf="x-goog-upload-status";async function h3(t,e,n){var i;const o=await nC(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[qf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function p3(t,e,n){var i;const o=await nC(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[qf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=fx(l),f=new Ag;return Object.assign(f,u),f}async function nC(t,e,n){var i,o;let l=0,u=0,f=new xm(new Response),p="upload";for(l=t.size;u<l;){const d=Math.min(u3,l-u),g=t.slice(u,u+d);u+d>=l&&(p+=", finalize");let E=0,T=f3;for(;E<c3&&(f=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[qf]));)E++,await g3(T),T=T*d3;if(u+=d,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[qf])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function m3(t){return{size:t.size,type:t.type}}function g3(t){return new Promise(e=>setTimeout(e,t))}class y3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await p3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v3{create(e,n,i){return new _3(e,n,i)}}class _3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mS="x-goog-api-key";class E3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(mS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(mS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T3="gl-node/";class S3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new hn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=gD(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new E3(this.apiKey);this.apiClient=new mL({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:T3+"web",uploader:new y3,downloader:new a3}),this.models=new PL(this.apiClient),this.live=new bL(this.apiClient,o,new v3),this.batches=new Yk(this.apiClient),this.chats=new wP(this.models,this.apiClient),this.caches=new AP(this.apiClient),this.files=new LP(this.apiClient),this.operations=new VL(this.apiClient),this.authTokens=new jL(this.apiClient),this.tunings=new l3(this.apiClient),this.fileSearchStores=new oU(this.apiClient)}}const A3=async t=>{try{const n=await new S3({apiKey:"AIzaSyDi-aNH2xR674uo_FFcgzi0Rgydp7TeZqMVITE_ADMIN_PASSWORD=Faioumy9954"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Based on the Fatwa title: "${t}", suggest:
      1. "medical_context": A string of relevant English medical terms (comma separated).
      2. "tags": An array of relevant Arabic search tags (short keywords).
      
      Return ONLY JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:Di.OBJECT,properties:{medical_context:{type:Di.STRING},tags:{type:Di.ARRAY,items:{type:Di.STRING}}}}}});return n.text?JSON.parse(n.text):{medical_context:"",tags:[]}}catch(e){return console.error("Gemini Suggestion Error:",e),{medical_context:"",tags:[]}}},x3=()=>{};var gS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},C3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,p=o+2<t.length,d=p?t[o+2]:0,g=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|d>>6,A=d&63;p||(A=64,u||(T=64)),i.push(n[g],n[E],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||d==null||E==null)throw new w3;const T=l<<2|f>>4;if(i.push(T),d!==64){const A=f<<4&240|d>>2;if(i.push(A),E!==64){const k=d<<6&192|E;i.push(k)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const I3=function(t){const e=iC(t);return rC.encodeByteArray(e,!0)},Hf=function(t){return I3(t).replace(/\./g,"")},b3=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3=()=>R3().__FIREBASE_DEFAULTS__,M3=()=>{if(typeof process>"u"||typeof gS>"u")return;const t=gS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&b3(t[1]);return e&&JSON.parse(e)},Mg=()=>{try{return x3()||N3()||M3()||D3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k3=t=>{var e,n;return(n=(e=Mg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},P3=t=>{const e=k3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},oC=()=>{var t;return(t=Mg())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function L3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(u)),""].join(".")}const _u={};function O3(){const t={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?t.emulator.push(e):t.prod.push(e);return t}function F3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yS=!1;function z3(t,e){if(typeof window>"u"||typeof document>"u"||!Dg(window.location.host)||_u[t]===e||_u[t]||yS)return;_u[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=O3().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{yS=!0,u()},T}function g(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=F3(i),A=n("text"),k=document.getElementById(A)||document.createElement("span"),U=n("learnmore"),L=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),K=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),g(L,U);const le=d();p(K,z),Y.append(K,k,L,le),document.body.appendChild(Y)}l?(k.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q3(){var e;const t=(e=Mg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H3(){return!q3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G3(){try{return typeof indexedDB=="object"}catch{return!1}}function Y3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3="FirebaseError";class Wl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=J3,Object.setPrototypeOf(this,Wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sC.prototype.create)}}class sC{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?$3(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Wl(o,f,i)}}function $3(t,e){return t.replace(K3,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const K3=/\{\$([^}]+)}/g;function Gf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(vS(l)&&vS(u)){if(!Gf(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function vS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class Cu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new V3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j3(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:X3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X3(t){return t===As?void 0:t}function j3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Q3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const Z3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},e6=it.INFO,t6={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},n6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=t6[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lC{constructor(e){this.name=e,this._logLevel=e6,this._logHandler=n6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const i6=(t,e)=>e.some(n=>t instanceof n);let _S,ES;function r6(){return _S||(_S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o6(){return ES||(ES=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aC=new WeakMap,Lm=new WeakMap,uC=new WeakMap,Wp=new WeakMap,kg=new WeakMap;function s6(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Oo(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&aC.set(n,t)}).catch(()=>{}),kg.set(e,t),e}function l6(t){if(Lm.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Lm.set(t,e)}let Um={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Lm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a6(t){Um=t(Um)}function u6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zp(this),e,...n);return uC.set(i,e.sort?e.sort():[e]),Oo(i)}:o6().includes(t)?function(...e){return t.apply(Zp(this),e),Oo(aC.get(this))}:function(...e){return Oo(t.apply(Zp(this),e))}}function c6(t){return typeof t=="function"?u6(t):(t instanceof IDBTransaction&&l6(t),i6(t,r6())?new Proxy(t,Um):t)}function Oo(t){if(t instanceof IDBRequest)return s6(t);if(Wp.has(t))return Wp.get(t);const e=c6(t);return e!==t&&(Wp.set(t,e),kg.set(e,t)),e}const Zp=t=>kg.get(t);function f6(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=Oo(u);return i&&u.addEventListener("upgradeneeded",p=>{i(Oo(u.result),p.oldVersion,p.newVersion,Oo(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const d6=["get","getKey","getAll","getAllKeys","count"],h6=["put","add","delete","clear"],em=new Map;function TS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=h6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||d6.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),o&&p.done]))[0]};return em.set(e,l),l}a6(t=>({...t,get:(e,n,i)=>TS(e,n)||t.get(e,n,i),has:(e,n)=>!!TS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function m6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Om="@firebase/app",SS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new lC("@firebase/app"),g6="@firebase/app-compat",y6="@firebase/analytics-compat",v6="@firebase/analytics",_6="@firebase/app-check-compat",E6="@firebase/app-check",T6="@firebase/auth",S6="@firebase/auth-compat",A6="@firebase/database",x6="@firebase/data-connect",C6="@firebase/database-compat",w6="@firebase/functions",I6="@firebase/functions-compat",b6="@firebase/installations",R6="@firebase/installations-compat",N6="@firebase/messaging",M6="@firebase/messaging-compat",D6="@firebase/performance",k6="@firebase/performance-compat",P6="@firebase/remote-config",V6="@firebase/remote-config-compat",L6="@firebase/storage",U6="@firebase/storage-compat",O6="@firebase/firestore",F6="@firebase/ai",z6="@firebase/firestore-compat",B6="firebase",q6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",H6={[Om]:"fire-core",[g6]:"fire-core-compat",[v6]:"fire-analytics",[y6]:"fire-analytics-compat",[E6]:"fire-app-check",[_6]:"fire-app-check-compat",[T6]:"fire-auth",[S6]:"fire-auth-compat",[A6]:"fire-rtdb",[x6]:"fire-data-connect",[C6]:"fire-rtdb-compat",[w6]:"fire-fn",[I6]:"fire-fn-compat",[b6]:"fire-iid",[R6]:"fire-iid-compat",[N6]:"fire-fcm",[M6]:"fire-fcm-compat",[D6]:"fire-perf",[k6]:"fire-perf-compat",[P6]:"fire-rc",[V6]:"fire-rc-compat",[L6]:"fire-gcs",[U6]:"fire-gcs-compat",[O6]:"fire-fst",[z6]:"fire-fst-compat",[F6]:"fire-vertex","fire-js":"fire-js",[B6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,G6=new Map,zm=new Map;function AS(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jf(t){const e=t.name;if(zm.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of Yf.values())AS(n,t);for(const n of G6.values())AS(n,t);return!0}function Y6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function J6(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fo=new sC("app","Firebase",$6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=q6;function cC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Fm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Fo.create("bad-app-name",{appName:String(o)});if(n||(n=oC()),!n)throw Fo.create("no-options");const l=Yf.get(o);if(l){if(Gf(n,l.options)&&Gf(i,l.config))return l;throw Fo.create("duplicate-app",{appName:o})}const u=new W3(o);for(const p of zm.values())u.addComponent(p);const f=new K6(n,i,u);return Yf.set(o,f),f}function X6(t=Fm){const e=Yf.get(t);if(!e&&t===Fm&&oC())return cC();if(!e)throw Fo.create("no-app",{appName:t});return e}function Ol(t,e,n){let i=H6[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(u.join(" "));return}Jf(new Cu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="firebase-heartbeat-database",W6=1,wu="firebase-heartbeat-store";let tm=null;function fC(){return tm||(tm=f6(j6,W6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fo.create("idb-open",{originalErrorMessage:t.message})})),tm}async function Z6(t){try{const n=(await fC()).transaction(wu),i=await n.objectStore(wu).get(dC(t));return await n.done,i}catch(e){if(e instanceof Wl)Wr.warn(e.message);else{const n=Fo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function xS(t,e){try{const i=(await fC()).transaction(wu,"readwrite");await i.objectStore(wu).put(e,dC(t)),await i.done}catch(n){if(n instanceof Wl)Wr.warn(n.message);else{const i=Fo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(i.message)}}}function dC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=1024,t5=30;class n5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=CS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>t5){const u=o5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=CS(),{heartbeatsToSend:i,unsentEntries:o}=i5(this._heartbeatsCache.heartbeats),l=Hf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Wr.warn(n),""}}}function CS(){return new Date().toISOString().substring(0,10)}function i5(t,e=e5){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),wS(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class r5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G3()?Y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function wS(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function o5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){Jf(new Cu("platform-logger",e=>new p6(e),"PRIVATE")),Jf(new Cu("heartbeat",e=>new n5(e),"PRIVATE")),Ol(Om,SS,t),Ol(Om,SS,"esm2020"),Ol("fire-js","")}s5("");var l5="firebase",a5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol(l5,a5,"app");var IS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,hC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,D){function R(){}R.prototype=D.prototype,M.F=D.prototype,M.prototype=new R,M.prototype.constructor=M,M.D=function(O,V,B){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return D.prototype[V].apply(O,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,D,R){R||(R=0);const O=Array(16);if(typeof D=="string")for(var V=0;V<16;++V)O[V]=D.charCodeAt(R++)|D.charCodeAt(R++)<<8|D.charCodeAt(R++)<<16|D.charCodeAt(R++)<<24;else for(V=0;V<16;++V)O[V]=D[R++]|D[R++]<<8|D[R++]<<16|D[R++]<<24;D=M.g[0],R=M.g[1],V=M.g[2];let B=M.g[3],P;P=D+(B^R&(V^B))+O[0]+3614090360&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[1]+3905402710&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[4]+4118548399&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[5]+1200080426&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[8]+1770035416&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[9]+2336552879&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(B^R&(V^B))+O[12]+1804603682&4294967295,D=R+(P<<7&4294967295|P>>>25),P=B+(V^D&(R^V))+O[13]+4254626195&4294967295,B=D+(P<<12&4294967295|P>>>20),P=V+(R^B&(D^R))+O[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(D^V&(B^D))+O[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=D+(V^B&(R^V))+O[1]+4129170786&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[6]+3225465664&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[5]+3593408605&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[10]+38016083&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[9]+568446438&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[14]+3275163606&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(V^B&(R^V))+O[13]+2850285829&4294967295,D=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(D^R))+O[2]+4243563512&4294967295,B=D+(P<<9&4294967295|P>>>23),P=V+(D^R&(B^D))+O[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^D&(V^B))+O[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=D+(R^V^B)+O[5]+4294588738&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[8]+2272392833&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[1]+2763975236&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[4]+1272893353&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[13]+681279174&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[0]+3936430074&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(R^V^B)+O[9]+3654602809&4294967295,D=R+(P<<4&4294967295|P>>>28),P=B+(D^R^V)+O[12]+3873151461&4294967295,B=D+(P<<11&4294967295|P>>>21),P=V+(B^D^R)+O[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^D)+O[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=D+(V^(R|~B))+O[0]+4096336452&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[7]+1126891415&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[12]+1700485571&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[3]+2399980690&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[8]+1873313359&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[15]+4264355552&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=D+(V^(R|~B))+O[4]+4149444226&4294967295,D=R+(P<<6&4294967295|P>>>26),P=B+(R^(D|~V))+O[11]+3174756917&4294967295,B=D+(P<<10&4294967295|P>>>22),P=V+(D^(B|~R))+O[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~D))+O[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.v=function(M,D){D===void 0&&(D=M.length);const R=D-this.blockSize,O=this.C;let V=this.h,B=0;for(;B<D;){if(V==0)for(;B<=R;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<D;)if(O[V++]=M.charCodeAt(B++),V==this.blockSize){o(this,O),V=0;break}}else for(;B<D;)if(O[V++]=M[B++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=D},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var R=M.length-8;R<M.length;++R)M[R]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)M[D++]=this.g[R]>>>O&255;return M};function l(M,D){var R=f;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=D(M)}function u(M,D){this.h=D;const R=[];let O=!0;for(let V=M.length-1;V>=0;V--){const B=M[V]|0;O&&B==D||(R[V]=B,O=!1)}this.g=R}var f={};function p(M){return-128<=M&&M<128?l(M,function(D){return new u([D|0],D<0?-1:0)}):new u([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return E;if(M<0)return L(d(-M));const D=[];let R=1;for(let O=0;M>=R;O++)D[O]=M/R|0,R*=4294967296;return new u(D,0)}function g(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return L(g(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(D,8));let O=E;for(let B=0;B<M.length;B+=8){var V=Math.min(8,M.length-B);const P=parseInt(M.substring(B,B+V),D);V<8?(V=d(Math.pow(D,V)),O=O.j(V).add(d(P))):(O=O.j(R),O=O.add(d(P)))}return O}var E=p(0),T=p(1),A=p(16777216);t=u.prototype,t.m=function(){if(U(this))return-L(this).m();let M=0,D=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);M+=(O>=0?O:4294967296+O)*D,D*=4294967296}return M},t.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(U(this))return"-"+L(this).toString(M);const D=d(Math.pow(M,6));var R=this;let O="";for(;;){const V=le(R,D).g;R=z(R,V.j(D));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(M);if(R=V,k(R))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},t.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function U(M){return M.h==-1}t.l=function(M){return M=z(this,M),U(M)?-1:k(M)?0:1};function L(M){const D=M.g.length,R=[];for(let O=0;O<D;O++)R[O]=~M.g[O];return new u(R,~M.h).add(T)}t.abs=function(){return U(this)?L(this):this},t.add=function(M){const D=Math.max(this.g.length,M.g.length),R=[];let O=0;for(let V=0;V<=D;V++){let B=O+(this.i(V)&65535)+(M.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);O=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(M,D){return M.add(L(D))}t.j=function(M){if(k(this)||k(M))return E;if(U(this))return U(M)?L(this).j(L(M)):L(L(this).j(M));if(U(M))return L(this.j(L(M)));if(this.l(A)<0&&M.l(A)<0)return d(this.m()*M.m());const D=this.g.length+M.g.length,R=[];for(var O=0;O<2*D;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<M.g.length;V++){const B=this.i(O)>>>16,P=this.i(O)&65535,ye=M.i(V)>>>16,me=M.i(V)&65535;R[2*O+2*V]+=P*me,K(R,2*O+2*V),R[2*O+2*V+1]+=B*me,K(R,2*O+2*V+1),R[2*O+2*V+1]+=P*ye,K(R,2*O+2*V+1),R[2*O+2*V+2]+=B*ye,K(R,2*O+2*V+2)}for(M=0;M<D;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=D;M<2*D;M++)R[M]=0;return new u(R,0)};function K(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function Y(M,D){this.g=M,this.h=D}function le(M,D){if(k(D))throw Error("division by zero");if(k(M))return new Y(E,E);if(U(M))return D=le(L(M),D),new Y(L(D.g),L(D.h));if(U(D))return D=le(M,L(D)),new Y(L(D.g),D.h);if(M.g.length>30){if(U(M)||U(D))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=D;O.l(M)<=0;)R=he(R),O=he(O);var V=$(R,1),B=$(O,1);for(O=$(O,2),R=$(R,2);!k(O);){var P=B.add(O);P.l(M)<=0&&(V=V.add(R),B=P),O=$(O,1),R=$(R,1)}return D=z(M,V.j(D)),new Y(V,D)}for(V=E;M.l(D)>=0;){for(R=Math.max(1,Math.floor(M.m()/D.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=d(R),P=B.j(D);U(P)||P.l(M)>0;)R-=O,B=d(R),P=B.j(D);k(B)&&(B=T),V=V.add(B),M=z(M,P)}return new Y(V,M)}t.B=function(M){return le(this,M).h},t.and=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)&M.i(O);return new u(R,this.h&M.h)},t.or=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)|M.i(O);return new u(R,this.h|M.h)},t.xor=function(M){const D=Math.max(this.g.length,M.g.length),R=[];for(let O=0;O<D;O++)R[O]=this.i(O)^M.i(O);return new u(R,this.h^M.h)};function he(M){const D=M.g.length+1,R=[];for(let O=0;O<D;O++)R[O]=M.i(O)<<1|M.i(O-1)>>>31;return new u(R,M.h)}function $(M,D){const R=D>>5;D%=32;const O=M.g.length-R,V=[];for(let B=0;B<O;B++)V[B]=D>0?M.i(B+R)>>>D|M.i(B+R+1)<<32-D:M.i(B+R);return new u(V,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,hC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,zo=u}).apply(typeof IS<"u"?IS:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pC,fu,mC,bf,Bm,gC,yC,vC;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var S=0;S<y.length;++S){var w=y[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(y,S){if(S)e:{var w=i;y=y.split(".");for(var N=0;N<y.length-1;N++){var j=y[N];if(!(j in w))break e;w=w[j]}y=y[y.length-1],N=w[y],S=S(N),S!=N&&S!=null&&e(w,y,{configurable:!0,writable:!0,value:S})}}o("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(y){return y||function(S){var w=[],N;for(N in S)Object.prototype.hasOwnProperty.call(S,N)&&w.push([N,S[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(y){var S=typeof y;return S=="object"&&y!=null||S=="function"}function p(y,S,w){return y.call.apply(y.bind,arguments)}function d(y,S,w){return d=p,d.apply(null,arguments)}function g(y,S){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),y.apply(this,N)}}function E(y,S){function w(){}w.prototype=S.prototype,y.Z=S.prototype,y.prototype=new w,y.prototype.constructor=y,y.Ob=function(N,j,te){for(var _e=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)_e[ze-2]=arguments[ze];return S.prototype[j].apply(N,_e)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function A(y){const S=y.length;if(S>0){const w=Array(S);for(let N=0;N<S;N++)w[N]=y[N];return w}return[]}function k(y,S){for(let N=1;N<arguments.length;N++){const j=arguments[N];var w=typeof j;if(w=w!="object"?w:j?Array.isArray(j)?"array":w:"null",w=="array"||w=="object"&&typeof j.length=="number"){w=y.length||0;const te=j.length||0;y.length=w+te;for(let _e=0;_e<te;_e++)y[w+_e]=j[_e]}else y.push(j)}}class U{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function L(y){u.setTimeout(()=>{throw y},0)}function z(){var y=M;let S=null;return y.g&&(S=y.g,y.g=y.g.next,y.g||(y.h=null),S.next=null),S}class K{constructor(){this.h=this.g=null}add(S,w){const N=Y.get();N.set(S,w),this.h?this.h.next=N:this.g=N,this.h=N}}var Y=new U(()=>new le,y=>y.reset());class le{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let he,$=!1,M=new K,D=()=>{const y=Promise.resolve(void 0);he=()=>{y.then(R)}};function R(){for(var y;y=z();){try{y.h.call(y.g)}catch(w){L(w)}var S=Y;S.j(y),S.h<100&&(S.h++,y.next=S.g,S.g=y)}$=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(y,S){this.type=y,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var y=!1,S=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return y})();function P(y){return/^[\s\xa0]*$/.test(y)}function ye(y,S){V.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,S)}E(ye,V),ye.prototype.init=function(y,S){const w=this.type=y.type,N=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=S,S=y.relatedTarget,S||(w=="mouseover"?S=y.fromElement:w=="mouseout"&&(S=y.toElement)),this.relatedTarget=S,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function X(y,S,w,N,j){this.listener=y,this.proxy=null,this.src=S,this.type=w,this.capture=!!N,this.ha=j,this.key=++Q,this.da=this.fa=!1}function de(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ee(y,S,w){for(const N in y)S.call(w,y[N],N,y)}function F(y,S){for(const w in y)S.call(void 0,y[w],w,y)}function H(y){const S={};for(const w in y)S[w]=y[w];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(y,S){let w,N;for(let j=1;j<arguments.length;j++){N=arguments[j];for(w in N)y[w]=N[w];for(let te=0;te<ie.length;te++)w=ie[te],Object.prototype.hasOwnProperty.call(N,w)&&(y[w]=N[w])}}function pe(y){this.src=y,this.g={},this.h=0}pe.prototype.add=function(y,S,w,N,j){const te=y.toString();y=this.g[te],y||(y=this.g[te]=[],this.h++);const _e=Ce(y,S,N,j);return _e>-1?(S=y[_e],w||(S.fa=!1)):(S=new X(S,this.src,te,!!N,j),S.fa=w,y.push(S)),S};function Ie(y,S){const w=S.type;if(w in y.g){var N=y.g[w],j=Array.prototype.indexOf.call(N,S,void 0),te;(te=j>=0)&&Array.prototype.splice.call(N,j,1),te&&(de(S),y.g[w].length==0&&(delete y.g[w],y.h--))}}function Ce(y,S,w,N){for(let j=0;j<y.length;++j){const te=y[j];if(!te.da&&te.listener==S&&te.capture==!!w&&te.ha==N)return j}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),at={};function tt(y,S,w,N,j){if(Array.isArray(S)){for(let te=0;te<S.length;te++)tt(y,S[te],w,N,j);return null}return w=br(w),y&&y[me]?y.J(S,w,f(N)?!!N.capture:!1,j):pn(y,S,w,!1,N,j)}function pn(y,S,w,N,j,te){if(!S)throw Error("Invalid event type");const _e=f(j)?!!j.capture:!!j;let ze=fi(y);if(ze||(y[Ve]=ze=new pe(y)),w=ze.add(S,w,N,_e,te),w.proxy)return w;if(N=Mn(),w.proxy=N,N.src=y,N.listener=w,y.addEventListener)B||(j=_e),j===void 0&&(j=!1),y.addEventListener(S.toString(),N,j);else if(y.attachEvent)y.attachEvent(mn(S.toString()),N);else if(y.addListener&&y.removeListener)y.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Mn(){function y(w){return S.call(y.src,y.listener,w)}const S=jn;return y}function Li(y,S,w,N,j){if(Array.isArray(S))for(var te=0;te<S.length;te++)Li(y,S[te],w,N,j);else N=f(N)?!!N.capture:!!N,w=br(w),y&&y[me]?(y=y.i,te=String(S).toString(),te in y.g&&(S=y.g[te],w=Ce(S,w,N,j),w>-1&&(de(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete y.g[te],y.h--)))):y&&(y=fi(y))&&(S=y.g[S.toString()],y=-1,S&&(y=Ce(S,w,N,j)),(w=y>-1?S[y]:null)&&er(w))}function er(y){if(typeof y!="number"&&y&&!y.da){var S=y.src;if(S&&S[me])Ie(S.i,y);else{var w=y.type,N=y.proxy;S.removeEventListener?S.removeEventListener(w,N,y.capture):S.detachEvent?S.detachEvent(mn(w),N):S.addListener&&S.removeListener&&S.removeListener(N),(w=fi(S))?(Ie(w,y),w.h==0&&(w.src=null,S[Ve]=null)):de(y)}}}function mn(y){return y in at?at[y]:at[y]="on"+y}function jn(y,S){if(y.da)y=!0;else{S=new ye(S,this);const w=y.listener,N=y.ha||y.src;y.fa&&er(y),y=w.call(N,S)}return y}function fi(y){return y=y[Ve],y instanceof pe?y:null}var di="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(y){return typeof y=="function"?y:(y[di]||(y[di]=function(S){return y.handleEvent(S)}),y[di])}function ht(){O.call(this),this.i=new pe(this),this.M=this,this.G=null}E(ht,O),ht.prototype[me]=!0,ht.prototype.removeEventListener=function(y,S,w,N){Li(this,y,S,w,N)};function St(y,S){var w,N=y.G;if(N)for(w=[];N;N=N.G)w.push(N);if(y=y.M,N=S.type||S,typeof S=="string")S=new V(S,y);else if(S instanceof V)S.target=S.target||y;else{var j=S;S=new V(N,y),b(S,j)}j=!0;let te,_e;if(w)for(_e=w.length-1;_e>=0;_e--)te=S.g=w[_e],j=Dn(te,N,!0,S)&&j;if(te=S.g=y,j=Dn(te,N,!0,S)&&j,j=Dn(te,N,!1,S)&&j,w)for(_e=0;_e<w.length;_e++)te=S.g=w[_e],j=Dn(te,N,!1,S)&&j}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var y=this.i;for(const S in y.g){const w=y.g[S];for(let N=0;N<w.length;N++)de(w[N]);delete y.g[S],y.h--}}this.G=null},ht.prototype.J=function(y,S,w,N){return this.i.add(String(y),S,!1,w,N)},ht.prototype.K=function(y,S,w,N){return this.i.add(String(y),S,!0,w,N)};function Dn(y,S,w,N){if(S=y.i.g[String(S)],!S)return!0;S=S.concat();let j=!0;for(let te=0;te<S.length;++te){const _e=S[te];if(_e&&!_e.da&&_e.capture==w){const ze=_e.listener,Bt=_e.ha||_e.src;_e.fa&&Ie(y.i,_e),j=ze.call(Bt,N)!==!1&&j}}return j&&!N.defaultPrevented}function Rr(y,S){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(y,S||0)}function Jt(y){y.g=Rr(()=>{y.g=null,y.i&&(y.i=!1,Jt(y))},y.l);const S=y.h;y.h=null,y.m.apply(null,S)}class It extends O{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(y){O.call(this),this.h=y,this.g={}}E(hi,O);var oe=[];function ge(y){Ee(y.g,function(S,w){this.g.hasOwnProperty(w)&&er(S)},y),y.g={}}hi.prototype.N=function(){hi.Z.N.call(this),ge(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=u.JSON.stringify,qe=u.JSON.parse,Je=class{stringify(y){return u.JSON.stringify(y,void 0)}parse(y){return u.JSON.parse(y,void 0)}};function on(){}function xn(){}var kt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function At(){V.call(this,"d")}E(At,V);function Lt(){V.call(this,"c")}E(Lt,V);var $e={},Wn=null;function an(){return Wn=Wn||new ht}$e.Ia="serverreachability";function Vs(y){V.call(this,$e.Ia,y)}E(Vs,V);function pi(y){const S=an();St(S,new Vs(S))}$e.STAT_EVENT="statevent";function Nr(y,S){V.call(this,$e.STAT_EVENT,y),this.stat=S}E(Nr,V);function Ut(y){const S=an();St(S,new Nr(S,y))}$e.Ja="timingevent";function mi(y,S){V.call(this,$e.Ja,y),this.size=S}E(mi,V);function gi(y,S){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){y()},S)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function ra(y,S,w,N,j,te){y.info(function(){if(y.g)if(te){var _e="",ze=te.split("&");for(let ut=0;ut<ze.length;ut++){var Bt=ze[ut].split("=");if(Bt.length>1){const Mt=Bt[0];Bt=Bt[1];const Ti=Mt.split("_");_e=Ti.length>=2&&Ti[1]=="type"?_e+(Mt+"="+Bt+"&"):_e+(Mt+"=redacted&")}}}else _e=null;else _e=te;return"XMLHTTP REQ ("+N+") [attempt "+j+"]: "+S+`
`+w+`
`+_e})}function Ls(y,S,w,N,j,te,_e){y.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+j+"]: "+S+`
`+w+`
`+te+" "+_e})}function yi(y,S,w,N){y.info(function(){return"XMLHTTP TEXT ("+S+"): "+Us(y,w)+(N?" "+N:"")})}function Ui(y,S){y.info(function(){return"TIMEOUT: "+S})}kn.prototype.info=function(){};function Us(y,S){if(!y.g)return S;if(!S)return null;try{const te=JSON.parse(S);if(te){for(y=0;y<te.length;y++)if(Array.isArray(te[y])){var w=te[y];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var j=N[0];if(j!="noop"&&j!="stop"&&j!="close")for(let _e=1;_e<N.length;_e++)N[_e]=""}}}}return be(te)}catch{return S}}var ue={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ye={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zt;function Pn(){}E(Pn,on),Pn.prototype.g=function(){return new XMLHttpRequest},zt=new Pn;function Oi(y){return encodeURIComponent(String(y))}function io(y){var S=1;y=y.split(":");const w=[];for(;S>0&&y.length;)w.push(y.shift()),S--;return y.length&&w.push(y.join(":")),w}function Fi(y,S,w,N){this.j=y,this.i=S,this.l=w,this.S=N||1,this.V=new hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zi}function zi(){this.i=null,this.g="",this.h=!1}var $t={},un={};function tr(y,S,w){y.M=1,y.A=Wo(Qt(S)),y.u=w,y.R=!0,Os(y,null)}function Os(y,S){y.F=Date.now(),nr(y),y.B=Qt(y.A);var w=y.B,N=y.S;Array.isArray(N)||(N=[String(N)]),qs(w.i,"t",N),y.C=0,w=y.j.L,y.h=new zi,y.g=nc(y.j,w?S:null,!y.u),y.P>0&&(y.O=new It(d(y.Y,y,y.g),y.P)),S=y.V,w=y.g,N=y.ba;var j="readystatechange";Array.isArray(j)||(j&&(oe[0]=j.toString()),j=oe);for(let te=0;te<j.length;te++){const _e=tt(w,j[te],N||S.handleEvent,!1,S.h||S);if(!_e)break;S.g[_e.key]=_e}S=y.J?H(y.J):{},y.u?(y.v||(y.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,S)):(y.v="GET",y.g.ea(y.B,y.v,null,S)),pi(),ra(y.i,y.v,y.B,y.l,y.S,y.u)}Fi.prototype.ba=function(y){y=y.target;const S=this.O;S&&Hi(y)==3?S.j():this.Y(y)},Fi.prototype.Y=function(y){try{if(y==this.g)e:{const ze=Hi(this.g),Bt=this.g.ya(),ut=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||ze!=4||Bt==7||(Bt==8||ut<=0?pi(3):pi(2)),ir(this);var S=this.g.ca();this.X=S;var w=Vd(this);if(this.o=S==200,Ls(this.i,this.v,this.B,this.l,this.S,ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var N,j=this.g;if((N=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var te=N;break t}}te=null}if(y=te)yi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rr(this,y);else{this.o=!1,this.m=3,Ut(12),Zn(this),vi(this);break e}}if(this.R){y=!0;let Mt;for(;!this.K&&this.C<w.length;)if(Mt=Hu(this,w),Mt==un){ze==4&&(this.m=4,Ut(14),y=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==$t){this.m=4,Ut(15),yi(this.i,this.l,w,"[Invalid Chunk]"),y=!1;break}else yi(this.i,this.l,Mt,null),rr(this,Mt);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||w.length!=0||this.h.h||(this.m=1,Ut(16),y=!1),this.o=this.o&&y,!y)yi(this.i,this.l,w,"[Invalid Chunked Response]"),Zn(this),vi(this);else if(w.length>0&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.aa&&!_e.P&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),_a(_e),_e.P=!0,Ut(11))}}else yi(this.i,this.l,w,null),rr(this,w);ze==4&&Zn(this),this.o&&!this.K&&(ze==4?Wu(this.j,this):(this.o=!1,nr(this)))}else Dr(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,Ut(12)):(this.m=0,Ut(13)),Zn(this),vi(this)}}}catch{}finally{}};function Vd(y){if(!qu(y))return y.g.la();const S=gn(y.g);if(S==="")return"";let w="";const N=S.length,j=Hi(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return Zn(y),vi(y),"";y.h.i=new u.TextDecoder}for(let te=0;te<N;te++)y.h.h=!0,w+=y.h.i.decode(S[te],{stream:!(j&&te==N-1)});return S.length=0,y.h.g+=w,y.C=0,y.h.g}function qu(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Hu(y,S){var w=y.C,N=S.indexOf(`
`,w);return N==-1?un:(w=Number(S.substring(w,N)),isNaN(w)?$t:(N+=1,N+w>S.length?un:(S=S.slice(N,N+w),y.C=N+w,S)))}Fi.prototype.cancel=function(){this.K=!0,Zn(this)};function nr(y){y.T=Date.now()+y.H,Fs(y,y.H)}function Fs(y,S){if(y.D!=null)throw Error("WatchDog timer not null");y.D=gi(d(y.aa,y),S)}function ir(y){y.D&&(u.clearTimeout(y.D),y.D=null)}Fi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Ui(this.i,this.B),this.M!=2&&(pi(),Ut(17)),Zn(this),this.m=2,vi(this)):Fs(this,this.T-y)};function vi(y){y.j.I==0||y.K||Wu(y.j,y)}function Zn(y){ir(y);var S=y.O;S&&typeof S.dispose=="function"&&S.dispose(),y.O=null,ge(y.V),y.g&&(S=y.g,y.g=null,S.abort(),S.dispose())}function rr(y,S){try{var w=y.j;if(w.I!=0&&(w.g==y||sr(w.h,y))){if(!y.L&&sr(w.h,y)&&w.I==3){try{var N=w.Ba.g.parse(S)}catch{N=null}if(Array.isArray(N)&&N.length==3){var j=N;if(j[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<y.F)$s(w),fo(w);else break e;os(w),Ut(18)}}else w.xa=j[1],0<w.xa-w.K&&j[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=gi(d(w.Va,w),6e3));or(w.h)<=1&&w.ta&&(w.ta=void 0)}else dr(w,11)}else if((y.L||w.g==y)&&$s(w),!P(S))for(j=w.Ba.g.parse(S),S=0;S<j.length;S++){let ut=j[S];const Mt=ut[0];if(!(Mt<=w.K))if(w.K=Mt,ut=ut[1],w.I==2)if(ut[0]=="c"){w.M=ut[1],w.ba=ut[2];const Ti=ut[3];Ti!=null&&(w.ka=Ti,w.j.info("VER="+w.ka));const hr=ut[4];hr!=null&&(w.za=hr,w.j.info("SVER="+w.za));const Gi=ut[5];Gi!=null&&typeof Gi=="number"&&Gi>0&&(N=1.5*Gi,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Yi=y.g;if(Yi){const ss=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ss){var te=N.h;te.g||ss.indexOf("spdy")==-1&&ss.indexOf("quic")==-1&&ss.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(la(te,te.h),te.h=null))}if(N.G){const Ks=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(N.wa=Ks,pt(N.J,N.G,Ks))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-y.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var _e=y;if(N.na=tc(N,N.L?N.ba:null,N.W),_e.L){aa(N.h,_e);var ze=_e,Bt=N.O;Bt&&(ze.H=Bt),ze.D&&(ir(ze),nr(ze)),N.g=_e}else Xu(N);w.i.length>0&&fr(w)}else ut[0]!="stop"&&ut[0]!="close"||dr(w,7);else w.I==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?dr(w,7):ya(w):ut[0]!="noop"&&w.l&&w.l.qa(ut),w.A=0)}}pi(4)}catch{}}var Kt=class{constructor(y,S){this.g=y,this.map=S}};function oa(y){this.l=y||10,u.PerformanceNavigationTiming?(y=u.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function sa(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function or(y){return y.h?1:y.g?y.g.size:0}function sr(y,S){return y.h?y.h==S:y.g?y.g.has(S):!1}function la(y,S){y.g?y.g.add(S):y.h=S}function aa(y,S){y.h&&y.h==S?y.h=null:y.g&&y.g.has(S)&&y.g.delete(S)}oa.prototype.cancel=function(){if(this.i=ua(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function ua(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let S=y.i;for(const w of y.g.values())S=S.concat(w.G);return S}return A(y.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zs(y,S){if(y){y=y.split("&");for(let w=0;w<y.length;w++){const N=y[w].indexOf("=");let j,te=null;N>=0?(j=y[w].substring(0,N),te=y[w].substring(N+1)):j=y[w],S(j,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ei(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;y instanceof ei?(this.l=y.l,cn(this,y.j),this.o=y.o,this.g=y.g,ro(this,y.u),this.h=y.h,ca(this,Ku(y.i)),this.m=y.m):y&&(S=String(y).match(Gu))?(this.l=!1,cn(this,S[1]||"",!0),this.o=lr(S[2]||""),this.g=lr(S[3]||"",!0),ro(this,S[4]),this.h=lr(S[5]||"",!0),ca(this,S[6]||"",!0),this.m=lr(S[7]||"")):(this.l=!1,this.i=new so(null,this.l))}ei.prototype.toString=function(){const y=[];var S=this.j;S&&y.push(Zo(S,Bs,!0),":");var w=this.g;return(w||S=="file")&&(y.push("//"),(S=this.o)&&y.push(Zo(S,Bs,!0),"@"),y.push(Oi(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&y.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&y.push("/"),y.push(Zo(w,w.charAt(0)=="/"?fa:Yu,!0))),(w=this.i.toString())&&y.push("?",w),(w=this.m)&&y.push("#",Zo(w,Ju)),y.join("")},ei.prototype.resolve=function(y){const S=Qt(this);let w=!!y.j;w?cn(S,y.j):w=!!y.o,w?S.o=y.o:w=!!y.g,w?S.g=y.g:w=y.u!=null;var N=y.h;if(w)ro(S,y.u);else if(w=!!y.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var j=S.h.lastIndexOf("/");j!=-1&&(N=S.h.slice(0,j+1)+N)}if(j=N,j==".."||j==".")N="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){N=j.lastIndexOf("/",0)==0,j=j.split("/");const te=[];for(let _e=0;_e<j.length;){const ze=j[_e++];ze=="."?N&&_e==j.length&&te.push(""):ze==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),N&&_e==j.length&&te.push("")):(te.push(ze),N=!0)}N=te.join("/")}else N=j}return w?S.h=N:w=y.i.toString()!=="",w?ca(S,Ku(y.i)):w=!!y.m,w&&(S.m=y.m),S};function Qt(y){return new ei(y)}function cn(y,S,w){y.j=w?lr(S,!0):S,y.j&&(y.j=y.j.replace(/:$/,""))}function ro(y,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);y.u=S}else y.u=null}function ca(y,S,w){S instanceof so?(y.i=S,Hs(y.i,y.l)):(w||(S=Zo(S,oo)),y.i=new so(S,y.l))}function pt(y,S,w){y.i.set(S,w)}function Wo(y){return pt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function lr(y,S){return y?S?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Zo(y,S,w){return typeof y=="string"?(y=encodeURI(y).replace(S,Fn),w&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Fn(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Bs=/[#\/\?@]/g,Yu=/[#\?:]/g,fa=/[#\?]/g,oo=/[#\?@]/g,Ju=/#/g;function so(y,S){this.h=this.g=null,this.i=y||null,this.j=!!S}function zn(y){y.g||(y.g=new Map,y.h=0,y.i&&zs(y.i,function(S,w){y.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=so.prototype,t.add=function(y,S){zn(this),this.i=null,y=lo(this,y);let w=this.g.get(y);return w||this.g.set(y,w=[]),w.push(S),this.h+=1,this};function $u(y,S){zn(y),S=lo(y,S),y.g.has(S)&&(y.i=null,y.h-=y.g.get(S).length,y.g.delete(S))}function da(y,S){return zn(y),S=lo(y,S),y.g.has(S)}t.forEach=function(y,S){zn(this),this.g.forEach(function(w,N){w.forEach(function(j){y.call(S,j,N,this)},this)},this)};function ha(y,S){zn(y);let w=[];if(typeof S=="string")da(y,S)&&(w=w.concat(y.g.get(lo(y,S))));else for(y=Array.from(y.g.values()),S=0;S<y.length;S++)w=w.concat(y[S]);return w}t.set=function(y,S){return zn(this),this.i=null,y=lo(this,y),da(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[S]),this.h+=1,this},t.get=function(y,S){return y?(y=ha(this,y),y.length>0?String(y[0]):S):S};function qs(y,S,w){$u(y,S),w.length>0&&(y.i=null,y.g.set(lo(y,S),A(w)),y.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],S=Array.from(this.g.keys());for(let N=0;N<S.length;N++){var w=S[N];const j=Oi(w);w=ha(this,w);for(let te=0;te<w.length;te++){let _e=j;w[te]!==""&&(_e+="="+Oi(w[te])),y.push(_e)}}return this.i=y.join("&")};function Ku(y){const S=new so;return S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),S}function lo(y,S){return S=String(S),y.j&&(S=S.toLowerCase()),S}function Hs(y,S){S&&!y.j&&(zn(y),y.i=null,y.g.forEach(function(w,N){const j=N.toLowerCase();N!=j&&($u(this,N),qs(this,j,w))},y)),y.j=S}function Bi(y,S){const w=new kn;if(u.Image){const N=new Image;N.onload=g(_i,w,"TestLoadImage: loaded",!0,S,N),N.onerror=g(_i,w,"TestLoadImage: error",!1,S,N),N.onabort=g(_i,w,"TestLoadImage: abort",!1,S,N),N.ontimeout=g(_i,w,"TestLoadImage: timeout",!1,S,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=y}else S(!1)}function pa(y,S){const w=new kn,N=new AbortController,j=setTimeout(()=>{N.abort(),_i(w,"TestPingServer: timeout",!1,S)},1e4);fetch(y,{signal:N.signal}).then(te=>{clearTimeout(j),te.ok?_i(w,"TestPingServer: ok",!0,S):_i(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(j),_i(w,"TestPingServer: error",!1,S)})}function _i(y,S,w,N,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),N(w)}catch{}}function ao(){this.g=new Je}function ar(y){this.i=y.Sb||null,this.h=y.ab||!1}E(ar,on),ar.prototype.g=function(){return new es(this.i,this.h)};function es(y,S){ht.call(this),this.H=y,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(es,ht),t=es.prototype,t.open=function(y,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=S,this.readyState=1,qi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(S.body=y),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,uo(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Gs(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Gs(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var S=y.value?y.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!y.done}))&&(this.response=this.responseText+=S)}y.done?uo(this):qi(this),this.readyState==3&&Gs(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,uo(this))},t.Na=function(y){this.g&&(this.response=y,uo(this))},t.ga=function(){this.g&&uo(this)};function uo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,qi(y)}t.setRequestHeader=function(y,S){this.A.append(y,S)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,y.push(w[0]+": "+w[1]),w=S.next();return y.join(`\r
`)};function qi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Ei(y){let S="";return Ee(y,function(w,N){S+=N,S+=":",S+=w,S+=`\r
`}),S}function ts(y,S,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=Ei(w),typeof y=="string"?w!=null&&Oi(w):pt(y,S,w))}function yt(y){ht.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(yt,ht);var ur=/^https?$/i,ma=["POST","PUT"];t=yt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,S,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);S=S?S.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zt.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(y),!0),this.B=!1}catch(te){ns(this,te);return}if(y=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var j in N)w.set(j,N[j]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const te of N.keys())w.set(te,N.get(te));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),j=u.FormData&&y instanceof u.FormData,!(Array.prototype.indexOf.call(ma,S,void 0)>=0)||N||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,_e]of w)this.g.setRequestHeader(te,_e);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(te){ns(this,te)}};function ns(y,S){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=S,y.o=5,ga(y),Mr(y)}function ga(y){y.A||(y.A=!0,St(y,"complete"),St(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,St(this,"complete"),St(this,"abort"),Mr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),yt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?is(this):this.Xa())},t.Xa=function(){is(this)};function is(y){if(y.h&&typeof l<"u"){if(y.v&&Hi(y)==4)setTimeout(y.Ca.bind(y),0);else if(St(y,"readystatechange"),Hi(y)==4){y.h=!1;try{const te=y.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var N;if(N=te===0){let _e=String(y.D).match(Gu)[1]||null;!_e&&u.self&&u.self.location&&(_e=u.self.location.protocol.slice(0,-1)),N=!ur.test(_e?_e.toLowerCase():"")}w=N}if(w)St(y,"complete"),St(y,"success");else{y.o=6;try{var j=Hi(y)>2?y.g.statusText:""}catch{j=""}y.l=j+" ["+y.ca()+"]",ga(y)}}finally{Mr(y)}}}}function Mr(y,S){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const w=y.g;y.g=null,S||St(y,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Hi(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var S=this.g.responseText;return y&&S.indexOf(y)==0&&(S=S.substring(y.length)),qe(S)}};function gn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Dr(y){const S={};y=(y.g&&Hi(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<y.length;N++){if(P(y[N]))continue;var w=io(y[N]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=S[j]||[];S[j]=te,te.push(w)}F(S,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(y,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[y]||S}function co(y){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=cr("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=cr("baseRetryDelayMs",5e3,y),this.Za=cr("retryDelaySeedMs",1e4,y),this.Ta=cr("forwardChannelMaxRetries",2,y),this.va=cr("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new oa(y&&y.concurrentRequestLimit),this.Ba=new ao,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=co.prototype,t.ka=8,t.I=1,t.connect=function(y,S,w,N){Ut(0),this.W=y,this.H=S||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=tc(this,null,this.W),fr(this)};function ya(y){if(Ys(y),y.I==3){var S=y.V++,w=Qt(y.J);if(pt(w,"SID",y.M),pt(w,"RID",S),pt(w,"TYPE","terminate"),rs(y,w),S=new Fi(y,y.j,S),S.M=2,S.A=Wo(Qt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=nc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),nr(S)}ec(y)}function fo(y){y.g&&(_a(y),y.g.cancel(),y.g=null)}function Ys(y){fo(y),y.v&&(u.clearTimeout(y.v),y.v=null),$s(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&u.clearTimeout(y.m),y.m=null)}function fr(y){if(!sa(y.h)&&!y.m){y.m=!0;var S=y.Ea;he||D(),$||(he(),$=!0),M.add(S,y),y.D=0}}function Js(y,S){return or(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=S.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=gi(d(y.Ea,y,S),Zu(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const j=new Fi(this,this.j,y);let te=this.o;if(this.U&&(te?(te=H(te),b(te,this.U)):te=this.U),this.u!==null||this.R||(j.J=te,te=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(S+=N,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=Qu(this,j,S),w=Qt(this.J),pt(w,"RID",y),pt(w,"CVER",22),this.G&&pt(w,"X-HTTP-Session-Id",this.G),rs(this,w),te&&(this.R?S="headers="+Oi(Ei(te))+"&"+S:this.u&&ts(w,this.u,te)),la(this.h,j),this.Ra&&pt(w,"TYPE","init"),this.S?(pt(w,"$req",S),pt(w,"SID","null"),j.U=!0,tr(j,w,null)):tr(j,w,S),this.I=2}}else this.I==3&&(y?va(this,y):this.i.length==0||sa(this.h)||va(this))};function va(y,S){var w;S?w=S.l:w=y.V++;const N=Qt(y.J);pt(N,"SID",y.M),pt(N,"RID",w),pt(N,"AID",y.K),rs(y,N),y.u&&y.o&&ts(N,y.u,y.o),w=new Fi(y,y.j,w,y.D+1),y.u===null&&(w.J=y.o),S&&(y.i=S.G.concat(y.i)),S=Qu(y,w,1e3),w.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),la(y.h,w),tr(w,N,S)}function rs(y,S){y.H&&Ee(y.H,function(w,N){pt(S,N,w)}),y.l&&Ee({},function(w,N){pt(S,N,w)})}function Qu(y,S,w){w=Math.min(y.i.length,w);const N=y.l?d(y.l.Ka,y.l,y):null;e:{var j=y.i;let ze=-1;for(;;){const Bt=["count="+w];ze==-1?w>0?(ze=j[0].g,Bt.push("ofs="+ze)):ze=0:Bt.push("ofs="+ze);let ut=!0;for(let Mt=0;Mt<w;Mt++){var te=j[Mt].g;const Ti=j[Mt].map;if(te-=ze,te<0)ze=Math.max(0,j[Mt].g-100),ut=!1;else try{te="req"+te+"_"||"";try{var _e=Ti instanceof Map?Ti:Object.entries(Ti);for(const[hr,Gi]of _e){let Yi=Gi;f(Gi)&&(Yi=be(Gi)),Bt.push(te+hr+"="+encodeURIComponent(Yi))}}catch(hr){throw Bt.push(te+"type="+encodeURIComponent("_badmap")),hr}}catch{N&&N(Ti)}}if(ut){_e=Bt.join("&");break e}}_e=void 0}return y=y.i.splice(0,w),S.G=y,_e}function Xu(y){if(!y.g&&!y.v){y.Y=1;var S=y.Da;he||D(),$||(he(),$=!0),M.add(S,y),y.A=0}}function os(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=gi(d(y.Da,y),Zu(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=gi(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ut(10),fo(this),ju(this))};function _a(y){y.B!=null&&(u.clearTimeout(y.B),y.B=null)}function ju(y){y.g=new Fi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var S=Qt(y.na);pt(S,"RID","rpc"),pt(S,"SID",y.M),pt(S,"AID",y.K),pt(S,"CI",y.F?"0":"1"),!y.F&&y.ia&&pt(S,"TO",y.ia),pt(S,"TYPE","xmlhttp"),rs(y,S),y.u&&y.o&&ts(S,y.u,y.o),y.O&&(y.g.H=y.O);var w=y.g;y=y.ba,w.M=1,w.A=Wo(Qt(S)),w.u=null,w.R=!0,Os(w,y)}t.Va=function(){this.C!=null&&(this.C=null,fo(this),os(this),Ut(19))};function $s(y){y.C!=null&&(u.clearTimeout(y.C),y.C=null)}function Wu(y,S){var w=null;if(y.g==S){$s(y),_a(y),y.g=null;var N=2}else if(sr(y.h,S))w=S.G,aa(y.h,S),N=1;else return;if(y.I!=0){if(S.o)if(N==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var j=y.D;N=an(),St(N,new mi(N,w)),fr(y)}else Xu(y);else if(j=S.m,j==3||j==0&&S.X>0||!(N==1&&Js(y,S)||N==2&&os(y)))switch(w&&w.length>0&&(S=y.h,S.i=S.i.concat(w)),j){case 1:dr(y,5);break;case 4:dr(y,10);break;case 3:dr(y,6);break;default:dr(y,2)}}}function Zu(y,S){let w=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(w*=2),w*S}function dr(y,S){if(y.j.info("Error code "+S),S==2){var w=d(y.bb,y),N=y.Ua;const j=!N;N=new ei(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(N,"https"),Wo(N),j?Bi(N.toString(),w):pa(N.toString(),w)}else Ut(2);y.I=0,y.l&&y.l.pa(S),ec(y),Ys(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function ec(y){if(y.I=0,y.ja=[],y.l){const S=ua(y.h);(S.length!=0||y.i.length!=0)&&(k(y.ja,S),k(y.ja,y.i),y.h.i.length=0,A(y.i),y.i.length=0),y.l.oa()}}function tc(y,S,w){var N=w instanceof ei?Qt(w):new ei(w);if(N.g!="")S&&(N.g=S+"."+N.g),ro(N,N.u);else{var j=u.location;N=j.protocol,S=S?S+"."+j.hostname:j.hostname,j=+j.port;const te=new ei(null);N&&cn(te,N),S&&(te.g=S),j&&ro(te,j),w&&(te.h=w),N=te}return w=y.G,S=y.wa,w&&S&&pt(N,w,S),pt(N,"VER",y.ka),rs(y,N),N}function nc(y,S,w){if(S&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=y.Aa&&!y.ma?new yt(new ar({ab:w})):new yt(y.ma),S.Fa(y.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}t=ic.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ho(){}ho.prototype.g=function(y,S){return new Vn(y,S)};function Vn(y,S){ht.call(this),this.g=new co(S),this.l=y,this.h=S&&S.messageUrlParams||null,y=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(y?y["X-WebChannel-Content-Type"]=S.messageContentType:y={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(y?y["X-WebChannel-Client-Profile"]=S.sa:y={"X-WebChannel-Client-Profile":S.sa}),this.g.U=y,(y=S&&S.Qb)&&!P(y)&&(this.g.u=y),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,y=this.h,y!==null&&S in y&&(y=this.h,S in y&&delete y[S])),this.j=new kr(this)}E(Vn,ht),Vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Vn.prototype.close=function(){ya(this.g)},Vn.prototype.o=function(y){var S=this.g;if(typeof y=="string"){var w={};w.__data__=y,y=w}else this.v&&(w={},w.__data__=be(y),y=w);S.i.push(new Kt(S.Ya++,y)),S.I==3&&fr(S)},Vn.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,Vn.Z.N.call(this)};function rc(y){At.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var S=y.__sm__;if(S){e:{for(const w in S){y=w;break e}y=void 0}(this.i=y)&&(y=this.i,S=S!==null&&y in S?S[y]:void 0),this.data=S}else this.data=y}E(rc,At);function oc(){Lt.call(this),this.status=1}E(oc,Lt);function kr(y){this.g=y}E(kr,ic),kr.prototype.ra=function(){St(this.g,"a")},kr.prototype.qa=function(y){St(this.g,new rc(y))},kr.prototype.pa=function(y){St(this.g,new oc)},kr.prototype.oa=function(){St(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Vn.prototype.send=Vn.prototype.o,Vn.prototype.open=Vn.prototype.m,Vn.prototype.close=Vn.prototype.close,vC=function(){return new ho},yC=function(){return an()},gC=$e,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,bf=ue,Ye.COMPLETE="complete",mC=Ye,xn.EventType=kt,kt.OPEN="a",kt.CLOSE="b",kt.ERROR="c",kt.MESSAGE="d",ht.prototype.listen=ht.prototype.J,fu=xn,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,pC=yt}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});const bS="@firebase/firestore",RS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new lC("@firebase/firestore");function bl(){return ws.logLevel}function Ae(t,...e){if(ws.logLevel<=it.DEBUG){const n=e.map(Pg);ws.debug(`Firestore (${Zl}): ${t}`,...n)}}function Zr(t,...e){if(ws.logLevel<=it.ERROR){const n=e.map(Pg);ws.error(`Firestore (${Zl}): ${t}`,...n)}}function Bl(t,...e){if(ws.logLevel<=it.WARN){const n=e.map(Pg);ws.warn(`Firestore (${Zl}): ${t}`,...n)}}function Pg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,_C(t,i,n)}function _C(t,e,n){let i=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Zr(i),new Error(i)}function dt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||_C(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Wl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(In.UNAUTHENTICATED)))}shutdown(){}}class c5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class f5{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qr,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qr)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(dt(typeof i.accessToken=="string",31837,{l:i}),new EC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class d5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new d5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(In.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,J6(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=m5(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function qm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return nm(o)===nm(l)?We(o,l):nm(o)?1:-1}return We(t.length,e.length)}const g5=55296,y5=57343;function nm(t){const e=t.charCodeAt(0);return e>=g5&&e<=y5}function ql(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="__name__";class _r{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=_r.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const i=_r.isNumericId(e),o=_r.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?_r.extractNumericId(e).compare(_r.extractNumericId(n)):qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return zo.fromString(e.substring(4,e.length-2))}}class Ct extends _r{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const v5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sn extends _r{construct(e,n,i){return new Sn(e,n,i)}static isValidIdentifier(e){return v5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===MS}static keyField(){return new Sn([MS])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sn(n)}static emptyPath(){return new Sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Ct.fromString(e))}static fromName(e){return new Me(Ct.fromString(e).popFirst(5))}static empty(){return new Me(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _5(t,e,n,i){if(e===!0&&i===!0)throw new Se(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function DS(t){if(!Me.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kS(t){if(Me.isDocumentKey(t))throw new Se(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function ji(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(t);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Lu(t,e){if(!SC(t))throw new Se(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Se(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=-62135596800,VS=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*VS);return new Nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<PS)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VS}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:rn("string",Nt._jsonSchemaVersion),seconds:rn("number"),nanoseconds:rn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{static fromTimestamp(e){return new Ue(e)}static min(){return new Ue(new Nt(0,0))}static max(){return new Ue(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=-1;function E5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Ue.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new qo(o,Me.empty(),e)}function T5(t){return new qo(t.readTime,t.key,Iu)}class qo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qo(Ue.min(),Me.empty(),Iu)}static max(){return new qo(Ue.max(),Me.empty(),Iu)}}function S5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Me.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==A5)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new fe(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof fe?n:fe.resolve(n)}catch(n){return fe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):fe.reject(n)}static resolve(e){return new fe(((n,i)=>{n(e)}))}static reject(e){return new fe(((n,i)=>{i(e)}))}static waitFor(e){return new fe(((n,i)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&n()}),(p=>i(p)))})),u=!0,l===o&&n()}))}static or(e){let n=fe.resolve(!1);for(const i of e)n=n.next((o=>o?fe.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,l)=>{i.push(n.call(this,o,l))})),this.waitFor(i)}static mapArray(e,n){return new fe(((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((g=>{u[d]=g,++f,f===l&&i(u)}),(g=>o(g)))}}))}static doWhile(e,n){return new fe(((i,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):i()};l()}))}}function C5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg=-1;function yd(t){return t==null}function $f(t){return t===0&&1/t==-1/0}function w5(t){return typeof t=="number"&&Number.isInteger(t)&&!$f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="";function I5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=LS(e)),e=b5(t.get(n),e);return LS(e)}function b5(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case AC:n+="";break;default:n+=l}}return n}function LS(t){return t+AC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.comparator=e,this.root=n||Tn.EMPTY}insert(e,n){return new Vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ef(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ef(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ef(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ef(this.root,e,this.comparator,!0)}}class Ef{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??Tn.RED,this.left=o??Tn.EMPTY,this.right=l??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new Tn(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Tn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new Tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OS(this.data.getIterator())}getIteratorFrom(e){return new OS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class OS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(Sn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new ln(Sn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CC("Invalid base64 string: "+l):l}})(e);return new An(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const R5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ho(t){if(dt(!!t,39018),typeof t=="string"){let e=0;const n=R5.exec(t);if(dt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Go(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="server_timestamp",IC="__type__",bC="__previous_value__",RC="__local_write_time__";function Ug(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[IC])==null?void 0:i.stringValue)===wC}function vd(t){const e=t.mapValue.fields[bC];return Ug(e)?vd(e):e}function bu(t){const e=Ho(t.mapValue.fields[RC].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,i,o,l,u,f,p,d,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=g}}const Kf="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__type__",M5="__max__",Tf={mapValue:{}},MC="__vector__",Qf="value";function Yo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:k5(t)?9007199254740991:D5(t)?10:11:ke(28295,{value:t})}function wr(t,e){if(t===e)return!0;const n=Yo(t);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bu(t).isEqual(bu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Ho(o.timestampValue),f=Ho(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return Go(o.bytesValue).isEqual(Go(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Gt(o.geoPointValue.latitude)===Gt(l.geoPointValue.latitude)&&Gt(o.geoPointValue.longitude)===Gt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Gt(o.integerValue)===Gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Gt(o.doubleValue),f=Gt(l.doubleValue);return u===f?$f(u)===$f(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(US(u)!==US(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!wr(u[p],f[p])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Nu(t,e){return(t.values||[]).find((n=>wr(n,e)))!==void 0}function Hl(t,e){if(t===e)return 0;const n=Yo(t),i=Yo(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Gt(l.integerValue||l.doubleValue),p=Gt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return FS(t.timestampValue,e.timestampValue);case 4:return FS(bu(t),bu(e));case 5:return qm(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=Go(l),p=Go(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const g=We(f[d],p[d]);if(g!==0)return g}return We(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=We(Gt(l.latitude),Gt(u.latitude));return f!==0?f:We(Gt(l.longitude),Gt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return zS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var T,A,k,U;const f=l.fields||{},p=u.fields||{},d=(T=f[Qf])==null?void 0:T.arrayValue,g=(A=p[Qf])==null?void 0:A.arrayValue,E=We(((k=d==null?void 0:d.values)==null?void 0:k.length)||0,((U=g==null?void 0:g.values)==null?void 0:U.length)||0);return E!==0?E:zS(d,g)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Tf.mapValue&&u===Tf.mapValue)return 0;if(l===Tf.mapValue)return 1;if(u===Tf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},g=Object.keys(d);p.sort(),g.sort();for(let E=0;E<p.length&&E<g.length;++E){const T=qm(p[E],g[E]);if(T!==0)return T;const A=Hl(f[p[E]],d[g[E]]);if(A!==0)return A}return We(p.length,g.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function FS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Ho(t),i=Ho(e),o=We(n.seconds,i.seconds);return o!==0?o:We(n.nanos,i.nanos)}function zS(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Hl(n[o],i[o]);if(l)return l}return We(n.length,i.length)}function Gl(t){return Hm(t)}function Hm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Ho(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Me.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Hm(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Hm(n.fields[u])}`;return o+"}"})(t.mapValue):ke(61005,{value:t})}function Rf(t){switch(Yo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return Go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Rf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Xo(i.fields,((l,u)=>{o+=l.length+Rf(u)})),o})(t.mapValue);default:throw ke(13486,{value:t})}}function BS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Gm(t){return!!t&&"integerValue"in t}function Og(t){return!!t&&"arrayValue"in t}function qS(t){return!!t&&"nullValue"in t}function HS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function D5(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NC])==null?void 0:i.stringValue)===MC}function Eu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=Eu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(t.arrayValue.values[n]);return e}return{...t}}function k5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Sn.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=Eu(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Xo(n,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Kn(Eu(this.value))}}function DC(t){const e=[];return Xo(t.fields,((n,i)=>{const o=new Sn([n]);if(Nf(i)){const l=DC(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new bn(e,0,Ue.min(),Ue.min(),Ue.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,o){return new bn(e,1,n,Ue.min(),i,o,0)}static newNoDocument(e,n){return new bn(e,2,n,Ue.min(),Ue.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Ue.min(),Ue.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.position=e,this.inclusive=n}}function GS(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=Me.comparator(Me.fromName(u.referenceValue),n.key):i=Hl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function YS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function P5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{}class nn extends kC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new L5(e,n,i):n==="array-contains"?new F5(e,i):n==="in"?new z5(e,i):n==="not-in"?new B5(e,i):n==="array-contains-any"?new q5(e,i):new nn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new U5(e,i):new O5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&Yo(this.value)===Yo(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends kC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wi(e,n)}matches(e){return PC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function PC(t){return t.op==="and"}function VC(t){return V5(t)&&PC(t)}function V5(t){for(const e of t.filters)if(e instanceof Wi)return!1;return!0}function Ym(t){if(t instanceof nn)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(VC(t))return t.filters.map((e=>Ym(e))).join(",");{const e=t.filters.map((n=>Ym(n))).join(",");return`${t.op}(${e})`}}function LC(t,e){return t instanceof nn?(function(i,o){return o instanceof nn&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)})(t,e):t instanceof Wi?(function(i,o){return o instanceof Wi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,u,f)=>l&&LC(u,o.filters[f])),!0):!1})(t,e):void ke(19439)}function UC(t){return t instanceof nn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`})(t):t instanceof Wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(UC).join(" ,")+"}"})(t):"Filter"}class L5 extends nn{constructor(e,n,i){super(e,n,i),this.key=Me.fromName(i.referenceValue)}matches(e){const n=Me.comparator(e.key,this.key);return this.matchesComparison(n)}}class U5 extends nn{constructor(e,n){super(e,"in",n),this.keys=OC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class O5 extends nn{constructor(e,n){super(e,"not-in",n),this.keys=OC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function OC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Me.fromName(i.referenceValue)))}class F5 extends nn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Og(n)&&Nu(n.arrayValue,this.value)}}class z5 extends nn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class B5 extends nn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Nu(this.value.arrayValue,n)}}class q5 extends nn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Nu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function JS(t,e=null,n=[],i=[],o=null,l=null,u=null){return new H5(t,e,n,i,o,l,u)}function Fg(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>Ym(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Gl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Gl(i))).join(",")),e.Te=n}return e.Te}function zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!P5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YS(t.startAt,e.startAt)&&YS(t.endAt,e.endAt)}function Jm(t){return Me.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G5(t,e,n,i,o,l,u,f){return new na(t,e,n,i,o,l,u,f)}function Bg(t){return new na(t)}function $S(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FC(t){return t.collectionGroup!==null}function Tu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ln(Sn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Mu(l,i))})),n.has(Sn.keyField().canonicalString())||e.Ie.push(new Mu(Sn.keyField(),i))}return e.Ie}function Tr(t){const e=Fe(t);return e.Ee||(e.Ee=Y5(e,Tu(t))),e.Ee}function Y5(t,e){if(t.limitType==="F")return JS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Mu(o.field,l)}));const n=t.endAt?new Xf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Xf(t.startAt.position,t.startAt.inclusive):null;return JS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $m(t,e){const n=t.filters.concat([e]);return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Km(t,e,n){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return zg(Tr(t),Tr(e))&&t.limitType===e.limitType}function zC(t){return`${Fg(Tr(t))}|lt:${t.limitType}`}function Rl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>UC(o))).join(", ")}]`),yd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Gl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Gl(o))).join(",")),`Target(${i})`})(Tr(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Me.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,o){for(const l of Tu(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,p){const d=GS(u,f,p);return u.inclusive?d<=0:d<0})(i.startAt,Tu(i),o)||i.endAt&&!(function(u,f,p){const d=GS(u,f,p);return u.inclusive?d>=0:d>0})(i.endAt,Tu(i),o))})(t,e)}function J5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BC(t){return(e,n)=>{let i=!1;for(const o of Tu(t)){const l=$5(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function $5(t,e,n){const i=t.field.isKeyField()?Me.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Hl(p,d):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,((n,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return xC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new Vt(Me.comparator);function eo(){return K5}const qC=new Vt(Me.comparator);function du(...t){let e=qC;for(const n of t)e=e.insert(n.key,n);return e}function HC(t){let e=qC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function xs(){return Su()}function GC(){return Su()}function Su(){return new Ns((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Q5=new Vt(Me.comparator),X5=new ln(Me.comparator);function Ze(...t){let e=X5;for(const n of t)e=e.add(n);return e}const j5=new ln(We);function W5(){return j5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function YC(t){return{integerValue:""+t}}function Z5(t,e){return w5(e)?YC(e):qg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function eO(t,e,n){return t instanceof jf?(function(o,l){const u={fields:{[IC]:{stringValue:wC},[RC]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ug(l)&&(l=vd(l)),l&&(u.fields[bC]=l),{mapValue:u}})(n,e):t instanceof Du?$C(t,e):t instanceof ku?KC(t,e):(function(o,l){const u=JC(o,l),f=KS(u)+KS(o.Ae);return Gm(u)&&Gm(o.Ae)?YC(f):qg(o.serializer,f)})(t,e)}function tO(t,e,n){return t instanceof Du?$C(t,e):t instanceof ku?KC(t,e):n}function JC(t,e){return t instanceof Wf?(function(i){return Gm(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class jf extends Td{}class Du extends Td{constructor(e){super(),this.elements=e}}function $C(t,e){const n=QC(e);for(const i of t.elements)n.some((o=>wr(o,i)))||n.push(i);return{arrayValue:{values:n}}}class ku extends Td{constructor(e){super(),this.elements=e}}function KC(t,e){let n=QC(e);for(const i of t.elements)n=n.filter((o=>!wr(o,i)));return{arrayValue:{values:n}}}class Wf extends Td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KS(t){return Gt(t.integerValue||t.doubleValue)}function QC(t){return Og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nO(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Du&&o instanceof Du||i instanceof ku&&o instanceof ku?ql(i.elements,o.elements,wr):i instanceof Wf&&o instanceof Wf?wr(i.Ae,o.Ae):i instanceof jf&&o instanceof jf})(t.transform,e.transform)}class iO{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hg(t.key,Pi.none()):new Uu(t.key,t.data,Pi.none());{const n=t.data,i=Kn.empty();let o=new ln(Sn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new jo(t.key,i,new ci(o.toArray()),Pi.none())}}function rO(t,e,n){t instanceof Uu?(function(o,l,u){const f=o.value.clone(),p=XS(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof jo?(function(o,l,u){if(!Mf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=XS(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(jC(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Au(t,e,n,i){return t instanceof Uu?(function(l,u,f,p){if(!Mf(l.precondition,u))return f;const d=l.value.clone(),g=jS(l.fieldTransforms,p,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof jo?(function(l,u,f,p){if(!Mf(l.precondition,u))return f;const d=jS(l.fieldTransforms,p,u),g=u.data;return g.setAll(jC(l)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,u,f){return Mf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function oO(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=JC(i.transform,o||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,l))}return n||null}function QS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ql(i,o,((l,u)=>nO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uu extends Sd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class jo extends Sd{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function XS(t,e,n){const i=new Map;dt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,tO(u,f,n[o]))}return i}function jS(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,eO(l,u,e))}return i}class Hg extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sO extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&rO(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Au(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Au(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=GC();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const p=XC(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Ue.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,((n,i)=>QS(n,i)))&&ql(this.baseMutations,e.baseMutations,((n,i)=>QS(n,i)))}}class Gg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){dt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return Q5})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Gg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en,nt;function cO(t){switch(t){case ae.OK:return ke(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function WC(t){if(t===void 0)return Zr("GRPC error has no .code"),ae.UNKNOWN;switch(t){case en.OK:return ae.OK;case en.CANCELLED:return ae.CANCELLED;case en.UNKNOWN:return ae.UNKNOWN;case en.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case en.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case en.INTERNAL:return ae.INTERNAL;case en.UNAVAILABLE:return ae.UNAVAILABLE;case en.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case en.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case en.NOT_FOUND:return ae.NOT_FOUND;case en.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case en.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case en.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case en.ABORTED:return ae.ABORTED;case en.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case en.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case en.DATA_LOSS:return ae.DATA_LOSS;default:return ke(39323,{code:t})}}(nt=en||(en={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new zo([4294967295,4294967295],0);function WS(t){const e=fO().encode(t),n=new hC;return n.update(e),new Uint8Array(n.digest())}function ZS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new zo([n,i],0),new zo([o,l],0)]}class Yg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=zo.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(zo.fromNumber(i)));return o.compare(dO)===1&&(o=new zo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=WS(e),[i,o]=ZS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Yg(l,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=WS(e),[i,o]=ZS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ad(Ue.min(),o,new Vt(We),eo(),Ze())}}class Ou{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ou(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class ZC{constructor(e,n){this.targetId=e,this.Ce=n}}class e1{constructor(e,n,i=An.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class eA{constructor(){this.ve=0,this.Fe=tA(),this.Me=An.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),i=Ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=tA()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hO{constructor(e){this.Ge=e,this.ze=new Map,this.je=eo(),this.Je=Sf(),this.He=Sf(),this.Ye=new Vt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Jm(l))if(i===0){const u=new Me(l.path);this.et(n,u,bn.newNoDocument(u,Ue.min()))}else dt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=Go(i).toUint8Array()}catch(p){if(p instanceof CC)return Bl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Yg(u,o,l)}catch(p){return Bl(p instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Jm(f.target)){const p=new Me(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,bn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Ze();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Ad(e,n,this.Ye,this.je,i);return this.je=eo(),this.Je=Sf(),this.He=Sf(),this.Ye=new Vt(We),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eA,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eA),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Sf(){return new Vt(Me.comparator)}function tA(){return new Vt(Me.comparator)}const pO={asc:"ASCENDING",desc:"DESCENDING"},mO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gO={and:"AND",or:"OR"};class yO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Qm(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vO(t,e){return Zf(t,e.toTimestamp())}function Sr(t){return dt(!!t,49232),Ue.fromTimestamp((function(n){const i=Ho(n);return new Nt(i.seconds,i.nanos)})(t))}function Jg(t,e){return Xm(t,e).canonicalString()}function Xm(t,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function n1(t){const e=Ct.fromString(t);return dt(l1(e),10190,{key:e.toString()}),e}function jm(t,e){return Jg(t.databaseId,e.path)}function im(t,e){const n=n1(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Me(r1(n))}function i1(t,e){return Jg(t.databaseId,e)}function _O(t){const e=n1(t);return e.length===4?Ct.emptyPath():r1(e)}function Wm(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function r1(t){return dt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nA(t,e,n){return{name:jm(t,e),fields:n.value.mapValue.fields}}function EO(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,g){return d.useProto3Json?(dt(g===void 0||typeof g=="string",58123),An.fromBase64String(g||"")):(dt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),An.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const g=d.code===void 0?ae.UNKNOWN:WC(d.code);return new Se(g,d.message||"")})(u);n=new e1(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=im(t,i.document.name),l=Sr(i.document.updateTime),u=i.document.createTime?Sr(i.document.createTime):Ue.min(),f=new Kn({mapValue:{fields:i.document.fields}}),p=bn.newFoundDocument(o,l,u,f),d=i.targetIds||[],g=i.removedTargetIds||[];n=new Df(d,g,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=im(t,i.document),l=i.readTime?Sr(i.readTime):Ue.min(),u=bn.newNoDocument(o,l),f=i.removedTargetIds||[];n=new Df([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=im(t,i.document),l=i.removedTargetIds||[];n=new Df([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new uO(o,l),f=i.targetId;n=new ZC(f,u)}}return n}function TO(t,e){let n;if(e instanceof Uu)n={update:nA(t,e.key,e.value)};else if(e instanceof Hg)n={delete:jm(t,e.key)};else if(e instanceof jo)n={update:nA(t,e.key,e.data),updateMask:NO(e.fieldMask)};else{if(!(e instanceof sO))return ke(16599,{Vt:e.type});n={verify:jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof jf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Du)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ku)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Wf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:vO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function SO(t,e){return t&&t.length>0?(dt(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?Sr(o.updateTime):Sr(l);return u.isEqual(Ue.min())&&(u=Sr(l)),new iO(u,o.transformResults||[])})(n,e)))):[]}function AO(t,e){return{documents:[i1(t,e.path)]}}function xO(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=i1(t,o);const l=(function(d){if(d.length!==0)return s1(Wi.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((g=>(function(T){return{field:Nl(T.field),direction:IO(T.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Qm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function CO(t){let e=_O(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){dt(i===1,65062);const g=n.from[0];g.allDescendants?o=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(E){const T=o1(E);return T instanceof Wi&&VC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(k){return new Mu(Ml(k.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,yd(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,A=E.values||[];return new Xf(A,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(E){const T=!E.before,A=E.values||[];return new Xf(A,T)})(n.endAt)),G5(e,o,u,l,f,"F",p,d)}function wO(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ml(n.unaryFilter.field);return nn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ml(n.unaryFilter.field);return nn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ml(n.unaryFilter.field);return nn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ml(n.unaryFilter.field);return nn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return nn.create(Ml(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Wi.create(n.compositeFilter.filters.map((i=>o1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function IO(t){return pO[t]}function bO(t){return mO[t]}function RO(t){return gO[t]}function Nl(t){return{fieldPath:t.canonicalString()}}function Ml(t){return Sn.fromServerFormat(t.fieldPath)}function s1(t){return t instanceof nn?(function(n){if(n.op==="=="){if(HS(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NAN"}};if(qS(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HS(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NAN"}};if(qS(n.value))return{unaryFilter:{field:Nl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Nl(n.field),op:bO(n.op),value:n.value}}})(t):t instanceof Wi?(function(n){const i=n.getFilters().map((o=>s1(o)));return i.length===1?i[0]:{compositeFilter:{op:RO(n.op),filters:i}}})(t):ke(54877,{filter:t})}function NO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function l1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,i,o,l=Ue.min(),u=Ue.min(),f=An.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.yt=e}}function DO(t){const e=CO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(){this.Cn=new PO}addToCollectionParentIndex(e,n){return this.Cn.add(n),fe.resolve()}getCollectionParents(e,n){return fe.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return fe.resolve()}deleteFieldIndex(e,n){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,n){return fe.resolve()}getDocumentsMatchingTarget(e,n){return fe.resolve(null)}getIndexType(e,n){return fe.resolve(0)}getFieldIndexes(e,n){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,n){return fe.resolve(qo.min())}getMinOffsetFromCollectionGroup(e,n){return fe.resolve(qo.min())}updateCollectionGroup(e,n,i){return fe.resolve()}updateIndexEntries(e,n){return fe.resolve()}}class PO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new ln(Ct.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new ln(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(a1,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yl(0)}static cr(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="LruGarbageCollector",VO=1048576;function oA([t,e],[n,i]){const o=We(t,n);return o===0?We(e,i):o}class LO{constructor(e){this.Ir=e,this.buffer=new ln(oA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();oA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(rA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ta(n)?Ae(rA,"Ignoring IndexedDB error during garbage collection: ",n):await ea(n)}await this.Vr(3e5)}))}}class OO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return fe.resolve(gd.ce);const i=new LO(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(iA)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iA):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,p,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(d=Date.now(),bl()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(d-p)+`ms
Total Duration: ${d-g}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function FO(t,e){return new OO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(){this.changes=new Ns((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?fe.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&Au(i.mutation,o,ci.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ze()){const o=xs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((l=>{let u=du();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=xs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ze())))}populateOverlays(e,n,i){const o=[];return i.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let l=eo();const u=Su(),f=(function(){return Su()})();return n.forEach(((p,d)=>{const g=i.get(d.key);o.has(d.key)&&(g===void 0||g.mutation instanceof jo)?l=l.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),Au(g.mutation,d,g.mutation.getFieldMask(),Nt.now())):u.set(d.key,ci.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,g)=>u.set(d,g))),n.forEach(((d,g)=>f.set(d,new BO(g,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=Su();let o=new Vt(((u,f)=>u-f)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let g=i.get(p)||ci.empty();g=f.applyToLocalView(d,g),i.set(p,g);const E=(o.get(f.batchId)||Ze()).add(p);o=o.insert(f.batchId,E)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,g=p.value,E=GC();g.forEach((T=>{if(!l.has(T)){const A=XC(n.get(T),i.get(T));A!==null&&E.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return fe.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):fe.resolve(xs());let f=Iu,p=l;return u.next((d=>fe.forEach(d,((g,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(g)?fe.resolve():this.remoteDocumentCache.getEntry(e,g).next((T=>{p=p.insert(g,T)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,Ze()))).next((g=>({batchId:f,changes:HC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Me(n)).next((i=>{let o=du();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=du();return this.indexManager.getCollectionParents(e,l).next((f=>fe.forEach(f,(p=>{const d=(function(E,T){return new na(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((g=>{g.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o)))).next((u=>{l.forEach(((p,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,bn.newInvalidDocument(g)))}));let f=du();return u.forEach(((p,d)=>{const g=l.get(p);g!==void 0&&Au(g.mutation,d,ci.empty(),Nt.now()),Ed(n,d)&&(f=f.insert(p,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return fe.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Sr(o.createTime)}})(n)),fe.resolve()}getNamedQuery(e,n){return fe.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:DO(o.bundledQuery),readTime:Sr(o.readTime)}})(n)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.overlays=new Vt(Me.comparator),this.qr=new Map}getOverlay(e,n){return fe.resolve(this.overlays.get(n))}getOverlays(e,n){const i=xs();return fe.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,l)=>{this.St(e,n,l)})),fe.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),fe.resolve()}getOverlaysForCollection(e,n,i){const o=xs(),l=n.length+1,u=new Me(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return fe.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new Vt(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let g=l.get(d.largestBatchId);g===null&&(g=xs(),l=l.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const f=xs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,g)=>f.set(d,g))),!(f.size()>=o)););return fe.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new aO(n,i));let l=this.qr.get(n);l===void 0&&(l=Ze(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.Qr=new ln(dn.$r),this.Ur=new ln(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new dn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Me(new Ct([])),i=new dn(n,e),o=new dn(n,e+1),l=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Me(new Ct([])),i=new dn(n,e),o=new dn(n,e+1);let l=Ze();return this.Ur.forEachInRange([i,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Me.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(dn.$r)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lO(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,n){return fe.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Lg:this.tr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dn(n,0),o=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ln(We);return n.forEach((o=>{const l=new dn(o,0),u=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),fe.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Me.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Me(l),0);let f=new ln(We);return this.Zr.forEachWhile((p=>{const d=p.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(f=f.add(p.Yr)),!0)}),u),fe.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){dt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return fe.forEach(n.mutations,(o=>{const l=new dn(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new dn(n,0),o=this.Zr.firstAfterOrEqual(i);return fe.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.ri=e,this.docs=(function(){return new Vt(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return fe.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=eo();return n.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():bn.newInvalidDocument(o))})),fe.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=eo();const u=n.path,f=new Me(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:g}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||S5(T5(g),i)<=0||(o.has(g.key)||Ed(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ke(9500)}ii(e,n){return fe.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new KO(this)}getSize(e){return fe.resolve(this.size)}}class KO extends zO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),fe.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(e){this.persistence=e,this.si=new Ns((n=>Fg(n)),zg),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.oi=0,this._i=new $g,this.targetCount=0,this.ai=Yl.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),fe.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,fe.resolve()}updateTargetData(e,n){return this.Pr(n),fe.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),fe.waitFor(l).next((()=>o))}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return fe.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),fe.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),fe.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),fe.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return fe.resolve(i)}containsKey(e,n){return fe.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new YO,this.referenceDelegate=e(this),this.Pi=new QO(this),this.indexManager=new kO,this.remoteDocumentCache=(function(o){return new $O(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new MO(n),this.Ii=new HO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new JO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ae("MemoryPersistence","Starting transaction:",e);const o=new XO(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return fe.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class XO extends x5{constructor(e){super(),this.currentSequenceNumber=e}}class Kg{constructor(e){this.persistence=e,this.Ri=new $g,this.Vi=null}static mi(e){return new Kg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),fe.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),fe.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),fe.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.fi,(i=>{const o=Me.fromPath(i);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Ue.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return fe.or([()=>fe.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ed{constructor(e,n){this.persistence=e,this.pi=new Ns((i=>I5(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=FO(this,n)}static mi(e,n){return new ed(e,n)}Ei(){}di(e){return fe.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return fe.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?fe.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Ue.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),fe.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,i){return fe.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return fe.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ze(),o=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Qg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return H3()?8:C5(B3())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,o,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new jO;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(bl()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),fe.resolve()):(bl()<=it.DEBUG&&Ae("QueryEngine","Query:",Rl(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(bl()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tr(n))):fe.resolve())}ys(e,n){if($S(n))return fe.resolve(null);let i=Tr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),i=Tr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ze(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const d=this.Ds(n,f);return this.Cs(n,d,u,p.readTime)?this.ys(e,Km(n,null,"F")):this.vs(e,d,n,p)}))))})))))}ws(e,n,i,o){return $S(n)||o.isEqual(Ue.min())?fe.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?fe.resolve(null):(bl()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rl(n)),this.vs(e,u,n,E5(o,Iu)).next((f=>f)))}))}Ds(e,n){let i=new ln(BC(e));return n.forEach(((o,l)=>{Ed(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return bl()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.ps.getDocumentsMatchingQuery(e,n,qo.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="LocalStore",ZO=3e8;class e9{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Vt(We),this.xs=new Ns((l=>Fg(l)),zg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function t9(t,e,n,i){return new e9(t,e,n,i)}async function c1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=Ze();for(const d of o){u.push(d.batchId);for(const g of d.mutations)p=p.add(g.key)}for(const d of l){f.push(d.batchId);for(const g of d.mutations)p=p.add(g.key)}return n.localDocuments.getDocuments(i,p).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function n9(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,g){const E=d.batch,T=E.keys();let A=fe.resolve();return T.forEach((k=>{A=A.next((()=>g.getEntry(p,k))).next((U=>{const L=d.docVersions.get(k);dt(L!==null,48541),U.version.compareTo(L)<0&&(E.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),g.addEntry(U)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(p,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ze();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function f1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function i9(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((g,E)=>{const T=o.get(E);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,g.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,g.addedDocuments,E))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(An.EMPTY_BYTE_STRING,Ue.min()).withLastLimboFreeSnapshotVersion(Ue.min()):g.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(g.resumeToken,i)),o=o.insert(E,A),(function(U,L,z){return U.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ZO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,g)&&f.push(n.Pi.updateTargetData(l,A))}));let p=eo(),d=Ze();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),f.push(r9(l,u,e.documentUpdates).next((g=>{p=g.ks,d=g.qs}))),!i.isEqual(Ue.min())){const g=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(g)}return fe.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function r9(t,e,n){let i=Ze(),o=Ze();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=eo();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ue.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Ae(Xg,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function o9(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Lg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function s9(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((l=>l?(o=l,fe.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Uo(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Zm(t,e,n){const i=Fe(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!ta(u))throw u;Ae(Xg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function sA(t,e,n){const i=Fe(t);let o=Ue.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,g){const E=Fe(p),T=E.xs.get(g);return T!==void 0?fe.resolve(E.Ms.get(T)):E.Pi.getTargetData(d,g)})(i,u,Tr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Ue.min(),n?l:Ze()))).next((f=>(l9(i,J5(e),f),{documents:f,Qs:l})))))}function l9(t,e,n){let i=t.Os.get(e)||Ue.min();n.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class lA{constructor(){this.activeTargetIds=W5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a9{constructor(){this.Mo=new lA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="ConnectivityMonitor";class uA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(aA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(aA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af=null;function eg(){return Af===null?Af=(function(){return 268435456+Math.round(2147483648*Math.random())})():Af++,"0x"+Af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",c9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Kf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=eg(),f=this.zo(e,n.toUriEncodedString());Ae(rm,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:d}=new URL(f),g=Dg(d);return this.Jo(e,f,p,i,g).then((E=>(Ae(rm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Bl(rm,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const i=c9[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class h9 extends f9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=eg();return new Promise(((f,p)=>{const d=new pC;d.setWithCredentials(!0),d.listenOnce(mC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case bf.NO_ERROR:const E=d.getResponseJson();Ae(wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case bf.TIMEOUT:Ae(wn,`RPC '${e}' ${u} timed out`),p(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case bf.HTTP_ERROR:const T=d.getStatus();if(Ae(wn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const k=A==null?void 0:A.error;if(k&&k.status&&k.message){const U=(function(z){const K=z.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(K)>=0?K:ae.UNKNOWN})(k.status);p(new Se(U,k.message))}else p(new Se(ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(wn,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(o);Ae(wn,`RPC '${e}' ${u} sending request:`,o),d.send(n,"POST",g,i,15)}))}T_(e,n,i){const o=eg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=vC(),f=yC(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(p.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const g=l.join("");Ae(wn,`Creating RPC '${e}' stream ${o}: ${g}`,p);const E=u.createWebChannel(g,p);this.I_(E);let T=!1,A=!1;const k=new d9({Yo:L=>{A?Ae(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(Ae(wn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Ae(wn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),U=(L,z,K)=>{L.listen(z,(Y=>{try{K(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return U(E,fu.EventType.OPEN,(()=>{A||(Ae(wn,`RPC '${e}' stream ${o} transport opened.`),k.o_())})),U(E,fu.EventType.CLOSE,(()=>{A||(A=!0,Ae(wn,`RPC '${e}' stream ${o} transport closed`),k.a_(),this.E_(E))})),U(E,fu.EventType.ERROR,(L=>{A||(A=!0,Bl(wn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),k.a_(new Se(ae.UNAVAILABLE,"The operation could not be completed")))})),U(E,fu.EventType.MESSAGE,(L=>{var z;if(!A){const K=L.data[0];dt(!!K,16349);const Y=K,le=(Y==null?void 0:Y.error)||((z=Y[0])==null?void 0:z.error);if(le){Ae(wn,`RPC '${e}' stream ${o} received error:`,le);const he=le.status;let $=(function(R){const O=en[R];if(O!==void 0)return WC(O)})(he),M=le.message;$===void 0&&($=ae.INTERNAL,M="Unknown error status: "+he+" with message "+le.message),A=!0,k.a_(new Se($,M)),E.close()}else Ae(wn,`RPC '${e}' stream ${o} received:`,K),k.u_(K)}})),U(f,gC.STAT_EVENT,(L=>{L.stat===Bm.PROXY?Ae(wn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Bm.NOPROXY&&Ae(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new yO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="PersistentStream";class h1{constructor(e,n,i,o,l,u,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new d1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Se(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(cA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(cA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p9 extends h1{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EO(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ue.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ue.min():u.readTime?Sr(u.readTime):Ue.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Jm(p)?{documents:AO(l,p)}:{query:xO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=t1(l,u.resumeToken);const d=Qm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Ue.min())>0){f.readTime=Zf(l,u.snapshotVersion.toTimestamp());const d=Qm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=wO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class m9 extends h1{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SO(e.writeResults,e.commitTime),i=Sr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>TO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{}class y9 extends g9{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Xm(n,i),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ae.UNKNOWN,l.toString())}))}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Xm(n,i),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class v9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class _9{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ms(this)&&(Ae(Is,"Restarting streams for network reachability change."),await(async function(p){const d=Fe(p);d.Ea.add(4),await Fu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Cd(d)})(this))}))})),this.Ra=new v9(i,o)}}async function Cd(t){if(Ms(t))for(const e of t.da)await e(!0)}async function Fu(t){for(const e of t.da)await e(!1)}function p1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ey(n)?Zg(n):ia(n).O_()&&Wg(n,e))}function jg(t,e){const n=Fe(t),i=ia(n);n.Ia.delete(e),i.O_()&&m1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ms(n)&&n.Ra.set("Unknown"))}function Wg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ia(t).Y_(e)}function m1(t,e){t.Va.Ue(e),ia(t).Z_(e)}function Zg(t){t.Va=new hO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ia(t).start(),t.Ra.ua()}function ey(t){return Ms(t)&&!ia(t).x_()&&t.Ia.size>0}function Ms(t){return Fe(t).Ea.size===0}function g1(t){t.Va=void 0}async function E9(t){t.Ra.set("Online")}async function T9(t){t.Ia.forEach(((e,n)=>{Wg(t,e)}))}async function S9(t,e){g1(t),ey(t)?(t.Ra.ha(e),Zg(t)):t.Ra.set("Unknown")}async function A9(t,e,n){if(t.Ra.set("Online"),e instanceof e1&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){Ae(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await td(t,i)}else if(e instanceof Df?t.Va.Ze(e):e instanceof ZC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ue.min()))try{const i=await f1(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const g=l.Ia.get(d);g&&l.Ia.set(d,g.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const g=l.Ia.get(p);if(!g)return;l.Ia.set(p,g.withResumeToken(An.EMPTY_BYTE_STRING,g.snapshotVersion)),m1(l,p);const E=new Uo(g.target,p,d,g.sequenceNumber);Wg(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){Ae(Is,"Failed to raise snapshot:",i),await td(t,i)}}async function td(t,e,n){if(!ta(e))throw e;t.Ea.add(1),await Fu(t),t.Ra.set("Offline"),n||(n=()=>f1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(Is,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)}))}function y1(t,e){return e().catch((n=>td(t,n,e)))}async function wd(t){const e=Fe(t),n=Jo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lg;for(;x9(e);)try{const o=await o9(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,C9(e,o)}catch(o){await td(e,o)}v1(e)&&_1(e)}function x9(t){return Ms(t)&&t.Ta.length<10}function C9(t,e){t.Ta.push(e);const n=Jo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function v1(t){return Ms(t)&&!Jo(t).x_()&&t.Ta.length>0}function _1(t){Jo(t).start()}async function w9(t){Jo(t).ra()}async function I9(t){const e=Jo(t);for(const n of t.Ta)e.ea(n.mutations)}async function b9(t,e,n){const i=t.Ta.shift(),o=Gg.from(i,e,n);await y1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await wd(t)}async function R9(t,e){e&&Jo(t).X_&&await(async function(i,o){if((function(u){return cO(u)&&u!==ae.ABORTED})(o.code)){const l=i.Ta.shift();Jo(i).B_(),await y1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await wd(i)}})(t,e),v1(t)&&_1(t)}async function fA(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Ae(Is,"RemoteStore received new credentials");const i=Ms(n);n.Ea.add(3),await Fu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function N9(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Fu(n),n.Ra.set("Unknown"))}function ia(t){return t.ma||(t.ma=(function(n,i,o){const l=Fe(n);return l.sa(),new p9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:E9.bind(null,t),t_:T9.bind(null,t),r_:S9.bind(null,t),H_:A9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),ey(t)?Zg(t):t.Ra.set("Unknown")):(await t.ma.stop(),g1(t))}))),t.ma}function Jo(t){return t.fa||(t.fa=(function(n,i,o){const l=Fe(n);return l.sa(),new m9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:w9.bind(null,t),r_:R9.bind(null,t),ta:I9.bind(null,t),na:b9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wd(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(Is,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new ty(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),ta(t))return new Se(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{static emptySet(e){return new Fl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Me.comparator(n.key,i.key):(n,i)=>Me.comparator(n.key,i.key),this.keyedMap=du(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Fl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.ga=new Vt(Me.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Jl{constructor(e,n,i,o,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Jl(e,n,Fl.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class D9{constructor(){this.queries=hA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),l=o.queries;o.queries=hA(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function hA(){return new Ns((t=>zC(t)),_d)}async function E1(t,e){const n=Fe(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new M9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=ny(u,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&iy(n)}async function T1(t,e){const n=Fe(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function k9(t,e){const n=Fe(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&iy(n)}function P9(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function iy(t){t.Ca.forEach((e=>{e.next()}))}var tg,pA;(pA=tg||(tg={})).Ma="default",pA.Cache="cache";class S1{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Jl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class V9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=BC(e),this.tu=new Fl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new dA,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((g,E)=>{const T=o.get(g),A=Ed(this.query,E)?E:null,k=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;T&&A?T.data.isEqual(A.data)?k!==U&&(i.track({type:3,doc:A}),L=!0):this.su(T,A)||(i.track({type:2,doc:A}),L=!0,(p&&this.eu(A,p)>0||d&&this.eu(A,d)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),L=!0):T&&!A&&(i.track({type:1,doc:T}),L=!0,(p||d)&&(f=!0)),L&&(A?(u=u.add(A),l=U?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,E)=>(function(A,k){const U=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:L})}};return U(A)-U(k)})(g.type,E.type)||this.eu(g.doc,E.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,d=p!==this.Za;return this.Za=p,u.length!==0||d?{snapshot:new Jl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new x1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new A1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ry="SyncEngine";class L9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class U9{constructor(e){this.key=e,this.hu=!1}}class O9{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Ns((f=>zC(f)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new Vt(Me.comparator),this.Au=new Map,this.Ru=new $g,this.Vu={},this.mu=new Map,this.fu=Yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F9(t,e,n=!0){const i=N1(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await C1(i,e,n,!0),o}async function z9(t,e){const n=N1(t);await C1(n,e,!0,!1)}async function C1(t,e,n,i){const o=await s9(t.localStore,Tr(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await B9(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&p1(t.remoteStore,o),f}async function B9(t,e,n,i,o){t.pu=(E,T,A)=>(async function(U,L,z,K){let Y=L.view.ru(z);Y.Cs&&(Y=await sA(U.localStore,L.query,!1).then((({documents:M})=>L.view.ru(M,Y))));const le=K&&K.targetChanges.get(L.targetId),he=K&&K.targetMismatches.get(L.targetId)!=null,$=L.view.applyChanges(Y,U.isPrimaryClient,le,he);return gA(U,L.targetId,$.au),$.snapshot})(t,E,T,A);const l=await sA(t.localStore,e,!0),u=new V9(e,l.Qs),f=u.ru(l.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),d=u.applyChanges(f,t.isPrimaryClient,p);gA(t,n,d.au);const g=new L9(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function q9(t,e,n){const i=Fe(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((u=>!_d(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&jg(i.remoteStore,o.targetId),ng(i,o.targetId)})).catch(ea)):(ng(i,o.targetId),await Zm(i.localStore,o.targetId,!0))}async function H9(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jg(n.remoteStore,i.targetId))}async function G9(t,e,n){const i=j9(t);try{const o=await(function(u,f){const p=Fe(u),d=Nt.now(),g=f.reduce(((A,k)=>A.add(k.key)),Ze());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let k=eo(),U=Ze();return p.Ns.getEntries(A,g).next((L=>{k=L,k.forEach(((z,K)=>{K.isValidDocument()||(U=U.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,k))).next((L=>{E=L;const z=[];for(const K of f){const Y=oO(K,E.get(K.key).overlayedDocument);Y!=null&&z.push(new jo(K.key,Y,DC(Y.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,d,z,f)})).next((L=>{T=L;const z=L.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(A,L.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:HC(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let d=u.Vu[u.currentUser.toKey()];d||(d=new Vt(We)),d=d.insert(f,p),u.Vu[u.currentUser.toKey()]=d})(i,o.batchId,n),await zu(i,o.changes),await wd(i.remoteStore)}catch(o){const l=ny(o,"Failed to persist write");n.reject(l)}}async function w1(t,e){const n=Fe(t);try{const i=await i9(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(dt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?dt(u.hu,14607):o.removedDocuments.size>0&&(dt(u.hu,42227),u.hu=!1))})),await zu(n,i,e)}catch(i){await ea(i)}}function mA(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=Fe(u);p.onlineState=f;let d=!1;p.queries.forEach(((g,E)=>{for(const T of E.Sa)T.va(f)&&(d=!0)})),d&&iy(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Y9(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new Vt(Me.comparator);u=u.insert(l,bn.newNoDocument(l,Ue.min()));const f=Ze().add(l),p=new Ad(Ue.min(),new Map,new Vt(We),u,f);await w1(i,p),i.du=i.du.remove(l),i.Au.delete(e),oy(i)}else await Zm(i.localStore,e,!1).then((()=>ng(i,e,n))).catch(ea)}async function J9(t,e){const n=Fe(t),i=e.batch.batchId;try{const o=await n9(n.localStore,e);b1(n,i,null),I1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zu(n,o)}catch(o){await ea(o)}}async function $9(t,e,n){const i=Fe(t);try{const o=await(function(u,f){const p=Fe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return p.mutationQueue.lookupMutationBatch(d,f).next((E=>(dt(E!==null,37113),g=E.keys(),p.mutationQueue.removeMutationBatch(d,E)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,g,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>p.localDocuments.getDocuments(d,g)))}))})(i.localStore,e);b1(i,e,n),I1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await zu(i,o)}catch(o){await ea(o)}}function I1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function b1(t,e,n){const i=Fe(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function ng(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||R1(t,i)}))}function R1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),oy(t))}function gA(t,e,n){for(const i of n)i instanceof A1?(t.Ru.addReference(i.key,e),K9(t,i)):i instanceof x1?(Ae(ry,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||R1(t,i.key)):ke(19791,{wu:i})}function K9(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ae(ry,"New document in limbo: "+n),t.Eu.add(i),oy(t))}function oy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Me(Ct.fromString(e)),i=t.fu.next();t.Au.set(i,new U9(n)),t.du=t.du.insert(n,i),p1(t.remoteStore,new Uo(Tr(Bg(n.path)),i,"TargetPurposeLimboResolution",gd.ce))}}async function zu(t,e,n){const i=Fe(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((d=>{var g;if((d||n)&&i.isPrimaryClient){const E=d?!d.fromCache:(g=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:g.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(d){o.push(d);const E=Qg.As(p.targetId,d);l.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(p,d){const g=Fe(p);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>fe.forEach(d,(T=>fe.forEach(T.Es,(A=>g.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>fe.forEach(T.ds,(A=>g.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!ta(E))throw E;Ae(Xg,"Failed to update sequence numbers: "+E)}for(const E of d){const T=E.targetId;if(!E.fromCache){const A=g.Ms.get(T),k=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(T,U)}}})(i.localStore,l))}async function Q9(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Ae(ry,"User change. New user:",e.toKey());const i=await c1(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Se(ae.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await zu(n,i.Ls)}}function X9(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let o=Ze();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function N1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=w1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=X9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y9.bind(null,e),e.Pu.H_=k9.bind(null,e.eventManager),e.Pu.yu=P9.bind(null,e.eventManager),e}function j9(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$9.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return t9(this.persistence,new WO,e.initialUser,this.serializer)}Cu(e){return new u1(Kg.mi,this.serializer)}Du(e){return new a9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class W9 extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dt(this.persistence.referenceDelegate instanceof ed,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new u1((i=>ed.mi(i,n)),this.serializer)}}class ig{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q9.bind(null,this.syncEngine),await N9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new D9})()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),i=(function(l){return new h9(l)})(e.databaseInfo);return(function(l,u,f,p){return new y9(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,l,u,f){return new _9(i,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>mA(this.syncEngine,n,0)),(function(){return uA.v()?new uA:new u9})())}createSyncEngine(e,n){return(function(o,l,u,f,p,d,g){const E=new O9(o,l,u,f,p,d);return g&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Fe(o);Ae(Is,"RemoteStore shutting down."),l.Ea.add(5),await Fu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ig.provider={build:()=>new ig};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="FirestoreClient";class Z9{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=Vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{Ae($o,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ae($o,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ny(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function sm(t,e){t.asyncQueue.verifyOperationInProgress(),Ae($o,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await c1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function yA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eF(t);Ae($o,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>fA(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>fA(e.remoteStore,o))),t._onlineComponents=e}async function eF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae($o,"Using user provided OfflineComponentProvider");try{await sm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await sm(t,new nd)}}else Ae($o,"Using default OfflineComponentProvider"),await sm(t,new W9(void 0));return t._offlineComponents}async function D1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae($o,"Using user provided OnlineComponentProvider"),await yA(t,t._uninitializedComponentsProvider._online)):(Ae($o,"Using default OnlineComponentProvider"),await yA(t,new ig))),t._onlineComponents}function tF(t){return D1(t).then((e=>e.syncEngine))}async function k1(t){const e=await D1(t),n=e.eventManager;return n.onListen=F9.bind(null,e.syncEngine),n.onUnlisten=q9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H9.bind(null,e.syncEngine),n}function nF(t,e,n={}){const i=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const g=new M1({next:T=>{g.Nu(),u.enqueueAndForget((()=>T1(l,E)));const A=T.docs.has(f);!A&&T.fromCache?d.reject(new Se(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&p&&p.source==="server"?d.reject(new Se(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(T)},error:T=>d.reject(T)}),E=new S1(Bg(f.path),g,{includeMetadataChanges:!0,qa:!0});return E1(l,E)})(await k1(t),t.asyncQueue,e,n,i))),i.promise}function iF(t,e,n={}){const i=new Qr;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const g=new M1({next:T=>{g.Nu(),u.enqueueAndForget((()=>T1(l,E))),T.fromCache&&p.source==="server"?d.reject(new Se(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),E=new S1(f,g,{includeMetadataChanges:!0,qa:!0});return E1(l,E)})(await k1(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firestore.googleapis.com",_A=!0;class EA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V1,this.ssl=_A}else this.host=e.host,this.ssl=e.ssl??_A;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VO)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Id{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new u5;switch(i.type){case"firstParty":return new h5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=vA.get(n);i&&(Ae("ComponentProvider","Removing Datastore"),vA.delete(n),i.terminate())})(this),Promise.resolve()}}function rF(t,e,n,i={}){var d;t=ji(t,Id);const o=Dg(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(L3(`https://${f}`),z3("Firestore",!0)),l.host!==V1&&l.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!Gf(p,u)&&(t._setSettings(p),i.mockUserToken)){let g,E;if(typeof i.mockUserToken=="string")g=i.mockUserToken,E=In.MOCK_USER;else{g=U3(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new In(T)}t._authCredentials=new c5(new EC(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class Yt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Lu(n,Yt._jsonSchema))return new Yt(e,i||null,new Me(Ct.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:rn("string",Yt._jsonSchemaVersion),referencePath:rn("string")};class Bo extends Ds{constructor(e,n,i){super(e,n,Bg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new Me(e))}withConverter(e){return new Bo(this.firestore,e,this._path)}}function bd(t,e,...n){if(t=jr(t),TC("collection","path",e),t instanceof Id){const i=Ct.fromString(e,...n);return kS(i),new Bo(t,null,i)}{if(!(t instanceof Yt||t instanceof Bo))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return kS(i),new Bo(t.firestore,null,i)}}function ks(t,e,...n){if(t=jr(t),arguments.length===1&&(e=Vg.newId()),TC("doc","path",e),t instanceof Id){const i=Ct.fromString(e,...n);return DS(i),new Yt(t,null,new Me(i))}{if(!(t instanceof Yt||t instanceof Bo))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return DS(i),new Yt(t.firestore,t instanceof Bo?t.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="AsyncQueue";class SA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new d1(this,"async_queue_retry"),this._c=()=>{const i=om();i&&Ae(TA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ta(e))throw e;Ae(TA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",AA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ty.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:AA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function AA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ps extends Id{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new SA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SA(e),this._firestoreClient=void 0,await e}}}function oF(t,e){const n=typeof t=="object"?t:X6(),i=typeof t=="string"?t:Kf,o=Y6(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=P3("firestore");l&&rF(o,...l)}return o}function sy(t){if(t._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sF(t),t._firestoreClient}function sF(t){var i,o,l;const e=t._freezeSettings(),n=(function(f,p,d,g){return new N5(f,p,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,P1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Z9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mi(An.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mi(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Mi._jsonSchema))return Mi.fromBase64String(e.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:rn("string",Mi._jsonSchemaVersion),bytes:rn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ar._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Ar._jsonSchema))return new Ar(e.latitude,e.longitude)}}Ar._jsonSchemaVersion="firestore/geoPoint/1.0",Ar._jsonSchema={type:rn("string",Ar._jsonSchemaVersion),latitude:rn("number"),longitude:rn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:xr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,xr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new xr(e.vectorValues);throw new Se(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xr._jsonSchemaVersion="firestore/vectorValue/1.0",xr._jsonSchema={type:rn("string",xr._jsonSchemaVersion),vectorValues:rn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=/^__.*__$/;class aF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new jo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uu(e,this.data,n,this.fieldTransforms)}}class L1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new jo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function U1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class ay{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(U1(this.Ac)&&lF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xd(e)}Cc(e,n,i,o=!1){return new ay({Ac:e,methodName:n,Dc:i,path:Sn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new uF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function O1(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);uy("Data must be an object, but it was:",u,i);const f=F1(i,u);let p,d;if(l.merge)p=new ci(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const E of l.mergeFields){const T=rg(e,E,n);if(!u.contains(T))throw new Se(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);B1(g,T)||g.push(T)}p=new ci(g),d=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,d=u.fieldTransforms;return new aF(new Kn(f),p,d)}class Md extends ly{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}function cF(t,e,n,i){const o=t.Cc(1,e,n);uy("Data must be an object, but it was:",o,i);const l=[],u=Kn.empty();Xo(i,((p,d)=>{const g=cy(e,p,n);d=jr(d);const E=o.yc(g);if(d instanceof Md)l.push(g);else{const T=Bu(d,E);T!=null&&(l.push(g),u.set(g,T))}}));const f=new ci(l);return new L1(u,f,o.fieldTransforms)}function fF(t,e,n,i,o,l){const u=t.Cc(1,e,n),f=[rg(e,i,n)],p=[o];if(l.length%2!=0)throw new Se(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(rg(e,l[T])),p.push(l[T+1]);const d=[],g=Kn.empty();for(let T=f.length-1;T>=0;--T)if(!B1(d,f[T])){const A=f[T];let k=p[T];k=jr(k);const U=u.yc(A);if(k instanceof Md)d.push(A);else{const L=Bu(k,U);L!=null&&(d.push(A),g.set(A,L))}}const E=new ci(d);return new L1(g,E,u.fieldTransforms)}function dF(t,e,n,i=!1){return Bu(n,t.Cc(i?4:3,e))}function Bu(t,e){if(z1(t=jr(t)))return uy("Unsupported field value:",e,t),F1(t,e);if(t instanceof ly)return(function(i,o){if(!U1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let u=0;for(const f of i){let p=Bu(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,o){if((i=jr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Z5(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:Zf(o.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zf(o.serializer,l)}}if(i instanceof Ar)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mi)return{bytesValue:t1(o.serializer,i._byteString)};if(i instanceof Yt){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof xr)return(function(u,f){return{mapValue:{fields:{[NC]:{stringValue:MC},[Qf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return qg(f.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${md(i)}`)})(t,e)}function F1(t,e){const n={};return xC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(t,((i,o)=>{const l=Bu(o,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function z1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof Ar||t instanceof Mi||t instanceof Yt||t instanceof ly||t instanceof xr)}function uy(t,e,n){if(!z1(n)||!SC(n)){const i=md(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function rg(t,e,n){if((e=jr(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return cy(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}const hF=new RegExp("[~\\*/\\[\\]]");function cy(t,e,n){if(e.search(hF)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new Se(ae.INVALID_ARGUMENT,f+t+p)}function B1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pF extends q1{data(){return super.data()}}function fy(t,e){return typeof e=="string"?cy(t,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dy{}class H1 extends dy{}function G1(t,e,...n){let i=[];e instanceof dy&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof py)).length,f=l.filter((p=>p instanceof hy)).length;if(u>1||u>0&&f>0)throw new Se(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class hy extends H1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new hy(e,n,i)}_apply(e){const n=this._parse(e);return Y1(e._query,n),new Ds(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=Nd(e.firestore);return(function(l,u,f,p,d,g,E){let T;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){CA(E,g);const k=[];for(const U of E)k.push(xA(p,l,U));T={arrayValue:{values:k}}}else T=xA(p,l,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||CA(E,g),T=dF(f,u,E,g==="in"||g==="not-in");return nn.create(d,g,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class py extends dy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new py(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)Y1(u,p),u=$m(u,p)})(e._query,n),new Ds(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class my extends H1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new my(e,n)}_apply(e){const n=(function(o,l,u){if(o.startAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Se(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mu(l,u)})(e._query,this._field,this._direction);return new Ds(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new na(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function gF(t,e="asc"){const n=e,i=fy("orderBy",t);return my._create(i,n)}function xA(t,e,n){if(typeof(n=jr(n))=="string"){if(n==="")throw new Se(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FC(e)&&n.indexOf("/")!==-1)throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ct.fromString(n));if(!Me.isDocumentKey(i))throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return BS(t,new Me(i))}if(n instanceof Yt)return BS(t,n._key);throw new Se(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function CA(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y1(t,e){const n=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yF{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Xo(e,((o,l)=>{i[o]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,o,l;const n=(l=(o=(i=e.fields)==null?void 0:i[Qf].arrayValue)==null?void 0:o.values)==null?void 0:l.map((u=>Gt(u.doubleValue)));return new xr(n)}convertGeoPoint(e){return new Ar(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=vd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Ho(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);dt(l1(i),9688,{name:e});const o=new Ru(i.get(1),i.get(3)),l=new Me(i.popFirst(5));return o.isEqual(n)||Zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends q1{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(fy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:rn("string",Cs._jsonSchemaVersion),bundleSource:rn("string","DocumentSnapshot"),bundleName:rn("string"),bundle:rn("string")};class kf extends Cs{data(e={}){return super.data(e)}}class zl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new pu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new kf(this._firestore,this._userDataWriter,i.key,i,new pu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new pu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,g=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),g=u.indexOf(f.doc.key)),{type:vF(f.type),doc:p,oldIndex:d,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _F(t){t=ji(t,Yt);const e=ji(t.firestore,Ps);return nF(sy(e),t._key).then((n=>TF(e,t,n)))}zl._jsonSchemaVersion="firestore/querySnapshot/1.0",zl._jsonSchema={type:rn("string",zl._jsonSchemaVersion),bundleSource:rn("string","QuerySnapshot"),bundleName:rn("string"),bundle:rn("string")};class $1 extends yF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}function K1(t){t=ji(t,Ds);const e=ji(t.firestore,Ps),n=sy(e),i=new $1(e);return mF(t._query),iF(n,t._query).then((o=>new zl(e,i,t,o)))}function EF(t,e,n){t=ji(t,Yt);const i=ji(t.firestore,Ps),o=J1(t.converter,e,n);return Dd(i,[O1(Nd(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,Pi.none())])}function Q1(t,e,n,...i){t=ji(t,Yt);const o=ji(t.firestore,Ps),l=Nd(o);let u;return u=typeof(e=jr(e))=="string"||e instanceof Rd?fF(l,"updateDoc",t._key,e,n,i):cF(l,"updateDoc",t._key,e),Dd(o,[u.toMutation(t._key,Pi.exists(!0))])}function X1(t){return Dd(ji(t.firestore,Ps),[new Hg(t._key,Pi.none())])}function j1(t,e){const n=ji(t.firestore,Ps),i=ks(t),o=J1(t.converter,e);return Dd(n,[O1(Nd(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Pi.exists(!1))]).then((()=>i))}function Dd(t,e){return(function(i,o){const l=new Qr;return i.asyncQueue.enqueueAndForget((async()=>G9(await tF(i),o,l))),l.promise})(sy(t),e)}function TF(t,e,n){const i=n.docs.get(e._key),o=new $1(t);return new Cs(t,o,e._key,i,new pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Zl=o})(Q6),Jf(new Cu("firestore",((i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Ps(new f5(i.getProvider("auth-internal")),new p5(u,i.getProvider("app-check-internal")),(function(d,g){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(d.options.projectId,g)})(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ol(bS,RS,e),Ol(bS,RS,"esm2020")})();const SF={apiKey:"AIzaSyDgdUYq80uSRJLQcJYMzQM6nk77D4ql5Rg",authDomain:"tabibfaqih.firebaseapp.com",projectId:"tabibfaqih",storageBucket:"tabibfaqih.firebasestorage.app",messagingSenderId:"202460803784",appId:"1:202460803784:web:9c6cd0a97b622206f4abfd",measurementId:"G-KMCRY4YDWN"},AF=cC(SF),Ir=oF(AF),kd="fatwas",Pd="lataif",xF=async()=>{try{const t=G1(bd(Ir,kd)),e=await K1(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching fatwas: ",t),[]}},CF=async t=>{try{return(await j1(bd(Ir,kd),t)).id}catch(e){return console.error("Error adding fatwa: ",e),null}},wF=async t=>{try{return await X1(ks(Ir,kd,t)),!0}catch(e){return console.error("Error deleting fatwa: ",e),!1}},IF=async t=>{if(!t._firestoreId)return!1;try{const e=ks(Ir,kd,t._firestoreId),{_firestoreId:n,...i}=t;return await Q1(e,i),!0}catch(e){return console.error("Error updating fatwa: ",e),!1}},bF=async()=>{try{const t=G1(bd(Ir,Pd),gF("id")),e=await K1(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching lataif: ",t),[]}},RF=async t=>{try{const e=JSON.parse(JSON.stringify(t));return(await j1(bd(Ir,Pd),e)).id}catch(e){return console.error("Error adding latifa: ",e),null}},NF=async t=>{if(!t._firestoreId)return!1;try{const e=ks(Ir,Pd,t._firestoreId),{_firestoreId:n,...i}=t;return await Q1(e,i),!0}catch(e){return console.error("Error updating latifa: ",e),!1}},MF=async t=>{try{return await X1(ks(Ir,Pd,t)),!0}catch(e){return console.error("Error deleting latifa: ",e),!1}},W1="admin_settings",Z1="password",wA=async()=>{try{const t=ks(Ir,W1,Z1),e=await _F(t);if(e.exists()){const n=e.data();return(n==null?void 0:n.password)||null}return null}catch(t){return console.error("Error fetching admin password: ",t),null}},DF=async t=>{try{const e=ks(Ir,W1,Z1);return await EF(e,{password:t,updatedAt:new Date().toISOString()},{merge:!0}),!0}catch(e){return console.error("Error updating admin password: ",e),!1}};var lm={};const kF={[Pt.SURGERY]:"surg",[Pt.WOMEN_PREGNANCY]:"obgyn",[Pt.ICU_DEATH]:"icu",[Pt.FASTING_MEDICINE]:"fast",[Pt.ETHICS]:"ethics",[Pt.GENETICS_REPRODUCTION]:"genetic",[Pt.TATTOO_CORTISONE]:"tattoo",[Pt.PRAYER_PURITY]:"prayer",[Pt.MEDICAL_EXPERIMENTS]:"exp",[Pt.PHARMACY_DRUGS]:"pharm",[Pt.MISCELLANEOUS]:"misc"},PF=({onClose:t,onAddFatwa:e,onDeleteFatwa:n,onUpdateFatwa:i,currentFatwas:o,currentLataif:l,onAddLatifa:u,onUpdateLatifa:f,onDeleteLatifa:p})=>{var Us;const[d,g]=Ne.useState(!1),[E,T]=Ne.useState(""),[A,k]=Ne.useState(""),[U,L]=Ne.useState(!1),[z,K]=Ne.useState(null),[Y,le]=Ne.useState(!1),[he,$]=Ne.useState(""),[M,D]=Ne.useState(""),[R,O]=Ne.useState(""),[V,B]=Ne.useState(""),[P,ye]=Ne.useState(""),[me,Q]=Ne.useState(!1);Ne.useEffect(()=>{(async()=>{const Ye=await wA();K(Ye||lm.VITE_ADMIN_PASSWORD||"Faioumy9954")})()},[]);const X=async ue=>{ue.preventDefault(),L(!0),k("");const Ye=z||lm.VITE_ADMIN_PASSWORD||"Faioumy9954";E===Ye?(g(!0),T("")):k("   "),L(!1)},de=async ue=>{ue.preventDefault(),B(""),ye(""),Q(!0);const Ye=z||lm.VITE_ADMIN_PASSWORD||"Faioumy9954";if(he!==Ye){B("    "),Q(!1);return}if(M.length<6){B("      6   "),Q(!1);return}if(M!==R){B("    "),Q(!1);return}if(await DF(M)){K(M);const Pn=await wA();Pn&&K(Pn),ye("      "),$(""),D(""),O(""),setTimeout(()=>{le(!1),ye("")},2e3)}else B("     ");Q(!1)},[Ee,F]=Ne.useState("fatwas"),[H,ie]=Ne.useState("add"),[b,pe]=Ne.useState({verdict:"CONDITIONAL",tags:[]}),[Ie,Ce]=Ne.useState(""),[Ve,at]=Ne.useState(""),[tt,pn]=Ne.useState(!1),[Mn,Li]=Ne.useState(!1),[er,mn]=Ne.useState(!1),[jn,fi]=Ne.useState(""),[di,br]=Ne.useState(""),[ht,St]=Ne.useState(null),[Dn,Rr]=Ne.useState("add"),[Jt,It]=Ne.useState({text:"",category:"",source:""}),[hi,oe]=Ne.useState(""),[ge,be]=Ne.useState(null),[qe,Je]=Ne.useState(void 0),[on,xn]=Ne.useState(0);Ne.useEffect(()=>{if(l.length>0){const ue=Math.max(...l.map(Ye=>Ye.id));xn(ue+1)}else xn(1)},[l,Dn]);const kt=()=>{g(!1),T("")};Ne.useEffect(()=>{b.category&&!b.id&&At(b.category)},[b.category]);const At=ue=>{const Ye=kF[ue],zt=o.filter(io=>io.category===ue).length+1,Pn=new Date().getFullYear(),Oi=`${Ye}_${String(zt).padStart(3,"0")}_${Pn}`;pe(io=>({...io,id:Oi}))},Lt=()=>b.title&&b.category&&b.question&&b.ruling&&b.id,$e=()=>{if(!Lt()){alert("    (   )");return}mn(!0)},Wn=()=>{b&&Lt()&&(ht?(i(b),alert("   "),St(null)):(e(b),alert("   ")),pe({verdict:"CONDITIONAL",tags:[]}),mn(!1),at(""))},an=ue=>{pe(ue),St(ue.id),ie("add")},Vs=()=>{pe({verdict:"CONDITIONAL",tags:[]}),St(null)},pi=()=>{if(!Lt()){alert("    (   )");return}const ue=`  {
    id: '${b.id}',
    category: CategoryId.${b.category},
    title: '${b.title}',
    question: '${b.question}',
    medical_context: '${b.medical_context||""}',
    ruling: \`${b.ruling}\`,
    verdict: '${b.verdict}',
    source: '${b.source||""}',
    tags: [${(b.tags||[]).map(Ye=>`'${Ye}'`).join(", ")}]
  },`;at(ue)},Nr=ue=>{navigator.clipboard.writeText(ue),pn(!0),setTimeout(()=>pn(!1),2e3)},Ut=ue=>{ue.key==="Enter"&&Ie.trim()&&(ue.preventDefault(),pe(Ye=>({...Ye,tags:[...Ye.tags||[],Ie.trim()]})),Ce(""))},mi=ue=>{pe(Ye=>({...Ye,tags:(Ye.tags||[]).filter(zt=>zt!==ue)}))},gi=async()=>{if(!b.title){alert("    ");return}Li(!0);try{const ue=await A3(b.title);pe(Ye=>({...Ye,medical_context:ue.medical_context,tags:[...Ye.tags||[],...ue.tags]}))}catch(ue){console.error(ue),alert("    ")}finally{Li(!1)}},kn=o.filter(ue=>{const Ye=ue.title.includes(jn)||ue.id.includes(jn)||ue.question.includes(jn),zt=di?ue.category===di:!0;return Ye&&zt}),ra=()=>{if(!Jt.text){alert("   ");return}if(ge!==null){const ue={id:ge,text:Jt.text,category:Jt.category||void 0,source:Jt.source||void 0,_firestoreId:qe};f(ue),alert("   "),be(null),Je(void 0)}else{const ue={id:on,text:Jt.text,category:Jt.category||void 0,source:Jt.source||void 0};u(ue),alert("   "),xn(Ye=>Ye+1)}It({text:"",category:"",source:""})},Ls=ue=>{It({text:ue.text,category:ue.category||"",source:ue.source||""}),be(ue.id),Je(ue._firestoreId),Rr("add")},yi=()=>{be(null),Je(void 0),It({text:"",category:"",source:""})},Ui=l.filter(ue=>{var zt,Pn;const Ye=hi.toLowerCase();return ue.text.toLowerCase().includes(Ye)||((zt=ue.category)==null?void 0:zt.toLowerCase().includes(Ye))||((Pn=ue.source)==null?void 0:Pn.toLowerCase().includes(Ye))});return d?er&&b?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm overflow-hidden",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-purple-50 rounded-t-3xl",children:[C.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[C.jsx(Q_,{className:"w-5 h-5"}),"  "]}),C.jsx("button",{onClick:()=>mn(!1),className:"p-2 hover:bg-purple-100 rounded-full text-purple-600",children:C.jsx(Pf,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:C.jsx("div",{className:"max-w-xl mx-auto",children:C.jsx(Cf,{fatwa:b})})}),C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white rounded-b-3xl flex gap-3",children:[C.jsxs("button",{onClick:()=>mn(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[C.jsx(QI,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:Wn,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all hover:scale-[1.02]",children:[C.jsx(wl,{className:"w-5 h-5"}),"  "]})]})]})}):Y?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-l from-purple-50 to-purple-100 rounded-t-3xl",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:C.jsx(j_,{className:"w-5 h-5 text-white"})}),C.jsx("h3",{className:"text-xl font-bold text-purple-800",children:"  "})]}),C.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"    "})]}),C.jsxs("form",{onSubmit:de,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:he,onChange:ue=>$(ue.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"   ",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:M,onChange:ue=>D(ue.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    (6   )",required:!0}),C.jsx("p",{className:`text-xs mt-1 ${M.length>=6?"text-green-600":"text-orange-600"}`,children:M.length>=6?"   ":`${M.length}/6 `})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),C.jsx("input",{type:"password",value:R,onChange:ue=>O(ue.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    ",required:!0}),R&&M!==R&&C.jsx("p",{className:"text-xs text-red-600 mt-1",children:"   "}),R&&M===R&&C.jsx("p",{className:"text-xs text-green-600 mt-1",children:" "})]}),V&&C.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm font-bold",children:V}),P&&C.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm font-bold flex items-center gap-2",children:[C.jsx(wl,{className:"w-5 h-5"}),P]}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 mt-6",children:[C.jsx("button",{type:"button",onClick:()=>{le(!1),$(""),D(""),O(""),B(""),ye("")},className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold transition-colors",children:""}),C.jsx("button",{type:"submit",disabled:!he||!M||!R||M.length<6||M!==R||me,className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:me?C.jsxs(C.Fragment,{children:[C.jsx(X_,{className:"w-5 h-5 animate-spin"})," ..."]}):C.jsxs(C.Fragment,{children:[C.jsx(wl,{className:"w-5 h-5"}),"  "]})})]})]})]})}):C.jsxs("div",{className:"fixed inset-0 bg-gray-100 z-50 overflow-y-auto font-cairo dir-rtl text-right",children:[C.jsxs("div",{className:"bg-[#7c3aed] text-white p-6 shadow-lg relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-20 -mt-20"}),C.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white opacity-5 rounded-full -ml-10 -mb-10"}),C.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center relative z-10",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:C.jsx(Ab,{className:"w-6 h-6 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold",children:"  "}),C.jsx("p",{className:"text-purple-100 text-xs opacity-90",children:"   "})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-sm text-white font-bold",children:" "}),C.jsx("p",{className:"text-xs text-purple-100",children:" "})]}),C.jsxs("button",{onClick:()=>le(!Y),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-white text-sm font-bold flex items-center gap-2",title:"  ",children:[C.jsx(cf,{className:"w-4 h-4"}),"  "]}),C.jsx("button",{onClick:kt,className:"px-4 py-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors text-white text-sm font-bold",children:" "})]})]})]}),C.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:C.jsx("div",{className:"max-w-5xl mx-auto flex justify-center",children:C.jsxs("div",{className:"flex w-full max-w-md p-1 bg-gray-100 rounded-xl my-2",children:[C.jsxs("button",{onClick:()=>F("fatwas"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${Ee==="fatwas"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(yb,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>F("lataif"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${Ee==="lataif"?"bg-white text-amber-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(um,{className:"w-4 h-4"})," "]})]})})}),C.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[Ee==="fatwas"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>ie("add"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${H==="add"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Vp,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>ie("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${H==="list"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Lp,{className:"w-4 h-4"}),"  (",o.length,")"]})]}),H==="add"?C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx("div",{className:"lg:col-span-2 space-y-6",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-800",children:[C.jsx(Vp,{className:"w-6 h-6 text-[#7c3aed]"}),C.jsx("h2",{className:"text-xl font-bold",children:ht?" ":"  "}),ht&&C.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-bold",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] focus:border-transparent outline-none transition-all",value:b.category||"",onChange:ue=>pe({...b,category:ue.target.value}),children:[C.jsx("option",{value:"",children:" "}),mu.map(ue=>C.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (ID) - "}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm dir-ltr text-right",value:b.id||""}),C.jsx("button",{onClick:()=>b.category&&At(b.category),className:"p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:" ",children:C.jsx(Nb,{className:"w-5 h-5"})})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:":   ",value:b.title||"",onChange:ue=>pe({...b,title:ue.target.value})}),C.jsxs("button",{onClick:gi,disabled:Mn,className:"min-w-[140px] flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl px-4 font-bold text-xs shadow-md hover:shadow-lg transition-all active:scale-95 disabled:opacity-50",children:[Mn?C.jsx(X_,{className:"w-4 h-4 animate-spin"}):C.jsx(sg,{className:"w-4 h-4"}),Mn?" ...":" "]})]}),C.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'    " "       .'})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("textarea",{rows:3,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   ...",value:b.question||"",onChange:ue=>pe({...b,question:ue.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",value:b.verdict,onChange:ue=>pe({...b,verdict:ue.target.value}),children:[C.jsx("option",{value:"CONDITIONAL",children:" ( )"}),C.jsx("option",{value:"PERMITTED",children:" / "}),C.jsx("option",{value:"FORBIDDEN",children:" / "})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   -   ...",value:b.source||"",onChange:ue=>pe({...b,source:ue.target.value})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   *"}),C.jsx("div",{className:"bg-orange-50 border border-orange-100 p-2 rounded-lg mb-2 text-xs text-orange-700",children:":      ."}),C.jsx("textarea",{rows:8,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none font-mono text-sm leading-relaxed",placeholder:"   ...",value:b.ruling||"",onChange:ue=>pe({...b,ruling:ue.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none text-left dir-ltr placeholder:text-right",placeholder:"surgery, transplant, ...   ",value:b.medical_context||"",onChange:ue=>pe({...b,medical_context:ue.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ( Enter )"}),C.jsxs("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus-within:ring-2 focus-within:ring-[#7c3aed] focus-within:bg-white transition-all flex flex-wrap gap-2",children:[(Us=b.tags)==null?void 0:Us.map((ue,Ye)=>C.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-lg text-sm flex items-center gap-1",children:["#",ue,C.jsx("button",{onClick:()=>mi(ue),className:"hover:text-purple-900",children:C.jsx(Pf,{className:"w-3 h-3"})})]},Ye)),C.jsx("input",{type:"text",className:"bg-transparent outline-none flex-1 min-w-[120px]",placeholder:"   Enter",value:Ie,onChange:ue=>Ce(ue.target.value),onKeyDown:Ut})]})]}),C.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-100 mt-4",children:[C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:$e,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95",children:[C.jsx(Q_,{className:"w-5 h-5"}),ht?" ":"  "]}),C.jsx("button",{onClick:()=>pe({verdict:"CONDITIONAL",tags:[]}),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-bold transition-colors",children:" "}),ht&&C.jsx("button",{onClick:Vs,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-bold transition-colors",children:" "})]}),C.jsxs("button",{onClick:pi,className:"w-full bg-green-50 text-green-700 hover:bg-green-100 border border-green-200 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-sm",children:[C.jsx(hb,{className:"w-4 h-4"}),"   ()"]})]})]})]})}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:`bg-[#1e1e1e] rounded-2xl shadow-lg border border-gray-800 overflow-hidden transition-all duration-500 ${Ve?"opacity-100 translate-y-0":"opacity-50 translate-y-4 grayscale"}`,children:[C.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-gray-700",children:[C.jsx("span",{className:"text-gray-400 text-xs font-mono",children:"constants.ts snippet"}),C.jsxs("button",{onClick:()=>Nr(Ve),disabled:!Ve,className:"flex items-center gap-1 text-xs bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors disabled:opacity-50",children:[tt?C.jsx(wl,{className:"w-3 h-3"}):C.jsx(bA,{className:"w-3 h-3"}),tt?" ":""]})]}),C.jsx("div",{className:"p-4 relative",children:C.jsx("textarea",{readOnly:!0,value:Ve||'//  " "     ...',className:"w-full h-[400px] bg-transparent text-green-400 font-mono text-xs outline-none resize-none dir-ltr text-left"})})]}),C.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5",children:[C.jsxs("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[C.jsx(Lp,{className:"w-4 h-4"})," "]}),C.jsxs("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:[" ",C.jsx("strong",{children:'"  "'}),"         (   ).         ",C.jsx("strong",{children:'" "'}),"  ."]})]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:kn.length})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[C.jsxs("select",{value:di,onChange:ue=>br(ue.target.value),className:"p-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm min-w-[150px]",children:[C.jsx("option",{value:"",children:" "}),mu.map(ue=>C.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:jn,onChange:ue=>fi(ue.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm"}),C.jsx(cm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right",children:"ID"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:kn.length>0?kn.map(ue=>{var Ye;return C.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500 dir-ltr text-right text-xs",children:ue.id}),C.jsx("td",{className:"px-4 py-3",children:C.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs whitespace-nowrap",children:(Ye=mu.find(zt=>zt.id===ue.category))==null?void 0:Ye.name})}),C.jsx("td",{className:"px-4 py-3 font-bold text-gray-800 max-w-xs truncate",children:ue.title}),C.jsx("td",{className:"px-4 py-3 text-gray-500 truncate max-w-[150px] text-xs",children:ue.source}),C.jsxs("td",{className:"px-4 py-3 text-center",children:[C.jsx("button",{onClick:zt=>{zt.stopPropagation(),an(ue)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(cf,{className:"w-4 h-4"})}),C.jsx("button",{onClick:zt=>{zt.stopPropagation(),window.confirm("      ")&&n(ue.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(W_,{className:"w-4 h-4"})})]})]},ue.id)}):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"    "})})})]})})]})]}),Ee==="lataif"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>{Rr("add"),be(null),Je(void 0),It({text:"",category:"",source:""})},className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Dn==="add"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Vp,{className:"w-4 h-4"}),ge!==null?" ":" "]}),C.jsxs("button",{onClick:()=>Rr("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Dn==="list"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Lp,{className:"w-4 h-4"}),"  (",l.length,")"]})]}),Dn==="add"?C.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-800",children:[ge!==null?C.jsx(cf,{className:"w-6 h-6 text-amber-500"}):C.jsx(um,{className:"w-6 h-6 text-amber-500"}),C.jsx("h2",{className:"text-xl font-bold",children:ge!==null?" ":"  "})]}),ge!==null&&C.jsx("button",{onClick:yi,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm",value:ge!==null?ge:on})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsx("textarea",{rows:4,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"  ...",value:Jt.text,onChange:ue=>It({...Jt,text:ue.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":  ",value:Jt.category||"",onChange:ue=>It({...Jt,category:ue.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":   ",value:Jt.source||"",onChange:ue=>It({...Jt,source:ue.target.value})})]})]}),C.jsxs("button",{onClick:ra,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-md transition-all hover:scale-[1.02] mt-4",children:[ge!==null?C.jsx(Db,{className:"w-5 h-5"}):C.jsx(wl,{className:"w-5 h-5"}),ge!==null?" ":" "]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-bold",children:Ui.length})]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:hi,onChange:ue=>oe(ue.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm"}),C.jsx(cm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right w-16",children:"#"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-center w-28",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:Ui.length>0?Ui.map(ue=>C.jsxs("tr",{className:"hover:bg-amber-50/30 transition-colors",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500",children:ue.id}),C.jsx("td",{className:"px-4 py-3 font-medium text-gray-800 line-clamp-2",children:ue.text}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ue.category||"-"}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ue.source||"-"}),C.jsx("td",{className:"px-4 py-3 text-center",children:C.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C.jsx("button",{type:"button",onClick:()=>Ls(ue),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:C.jsx(cf,{className:"w-4 h-4"})}),C.jsx("button",{type:"button",onClick:()=>{window.confirm("      ")&&p(ue.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:C.jsx(W_,{className:"w-4 h-4"})})]})})]},ue.id)):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"  "})})})]})})]})]})]})]}):C.jsx("div",{className:"fixed inset-0 bg-gray-100 z-50 flex items-center justify-center font-cairo dir-rtl",children:C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[C.jsxs("div",{className:"flex flex-col items-center mb-6",children:[C.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:C.jsx(j_,{className:"w-8 h-8 text-purple-600"})}),C.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" "}),C.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),C.jsxs("form",{onSubmit:X,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),C.jsx("input",{type:"password",value:E,onChange:ue=>T(ue.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-center text-lg",placeholder:"  ",required:!0,disabled:U})]}),A&&C.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:A}),C.jsxs("div",{className:"flex gap-3 mt-6",children:[C.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors disabled:opacity-50",disabled:U,children:""}),C.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50",disabled:U,children:U?" ...":""})]})]})]})})},VF=({data:t})=>{const[e,n]=Ne.useState(null),[i,o]=Ne.useState(!1);return Ne.useEffect(()=>{t&&t.length>0&&(sessionStorage.getItem("latifa_shown_session")||requestAnimationFrame(()=>{const u=Math.floor(Math.random()*t.length);n(t[u]),o(!0),sessionStorage.setItem("latifa_shown_session","true")}))},[t]),!e||!i?null:C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/10 backdrop-blur-[2px] animate-in fade-in duration-500 cursor-pointer",onClick:()=>o(!1),children:C.jsxs("div",{className:"w-full max-w-lg bg-white/95 backdrop-blur-xl rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-amber-100 p-6 relative transform transition-all hover:scale-[1.02] duration-300",onClick:l=>{o(!1)},children:[C.jsx("button",{className:"absolute top-4 left-4 p-2 bg-gray-100/50 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded-full transition-colors",onClick:l=>{l.stopPropagation(),o(!1)},children:C.jsx(Pf,{className:"w-4 h-4"})}),C.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[C.jsx("div",{className:"bg-amber-100 p-2 rounded-full shadow-inner",children:C.jsx(sg,{className:"w-5 h-5 text-amber-600 fill-amber-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-gray-800 text-lg font-cairo",children:" "}),e.category&&C.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 px-2 py-0.5 rounded-full border border-amber-100 font-bold",children:e.category})]})]}),C.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-[0.03] pointer-events-none",children:C.jsx(um,{className:"w-48 h-48"})}),C.jsxs("div",{className:"text-center py-2 px-2 relative z-10",children:[C.jsxs("p",{className:"text-xl font-bold text-gray-800 font-amiri leading-10 text-right dir-rtl whitespace-pre-wrap",children:['"',e.text,'"']}),e.source&&C.jsxs("div",{className:"mt-4 flex items-center justify-end gap-1 text-sm text-gray-500 font-medium dir-rtl",children:[C.jsx("span",{className:"text-amber-500",children:"~"}),C.jsx("span",{children:e.source})]})]}),C.jsx("div",{className:"mt-6 flex justify-center",children:C.jsx("p",{className:"text-[10px] text-gray-400 font-cairo animate-pulse",children:"(    )"})})]})})},LF=[{id:1,text:"        ",author:" "},{id:2,text:"            ",author:" "}],am=t=>t?t.replace(/(||)/g,"").replace(//g,"").replace(//g,"").replace(/[\u064B-\u065F]/g,"").replace(/[^\w\s\u0600-\u06FF]/g," ").toLowerCase().trim().replace(/(^|\s)/g,"$1"):"",UF=()=>{const[t,e]=Ne.useState("chat"),[n,i]=Ne.useState(null),[o,l]=Ne.useState([]),[u,f]=Ne.useState([]),[p,d]=Ne.useState(""),[g,E]=Ne.useState([]),[T,A]=Ne.useState(!1),[k,U]=Ne.useState(!1),[L,z]=Ne.useState(null),K=Ne.useRef(null),Y=()=>{var X;t==="chat"&&((X=K.current)==null||X.scrollIntoView({behavior:"smooth"}))};Ne.useEffect(()=>{(async()=>{const[de,Ee]=await Promise.all([xF(),bF()]);l(de),f(Ee)})()},[]),Ne.useEffect(()=>{Y()},[g,T,t]);const le=async X=>{const de=await CF(X);de?l(Ee=>[...Ee,{...X,_firestoreId:de}]):alert("     ")},he=async X=>{const de=o.find(Ee=>Ee.id===X);de&&de._firestoreId&&(await wF(de._firestoreId)?l(F=>F.filter(H=>H.id!==X)):alert("      ."))},$=async X=>{X._firestoreId&&(await IF(X)||alert("     ")),l(de=>de.map(Ee=>Ee.id===X.id?X:Ee))},M=async X=>{const de=await RF(X);de?f(Ee=>[...Ee,{...X,_firestoreId:de}]):alert("     ")},D=async X=>{if(X._firestoreId&&!await NF(X)){alert("     ");return}f(de=>de.map(Ee=>Ee.id===X.id?X:Ee))},R=async X=>{const de=u.find(Ee=>Ee.id===X);if(!de){alert("  ");return}if(de._firestoreId){if(!await MF(de._firestoreId)){alert("    ");return}const F=u.filter(ie=>ie.id!==X),H=O(F);f(H)}},O=X=>X.map((de,Ee)=>({...de,id:Ee+1})),V=()=>{if(!p.trim())return;t!=="chat"&&e("chat");const X={role:"user",content:p,timestamp:new Date,isFatwa:!1};E(de=>[...de,X]),A(!0),setTimeout(()=>{const Ee=am(p).split(/\s+/).filter(Boolean),F=o.filter(H=>{const ie=am(H.title||""),b=am(H.question||"");return Ee.every(pe=>ie.includes(pe))||Ee.every(pe=>b.includes(pe))});if(F.length>0){const H={role:"model",content:F,timestamp:new Date,isFatwa:!0};E(ie=>[...ie,H])}else{const H={role:"model",content:"             .        .",timestamp:new Date,isFatwa:!1};E(ie=>[...ie,H])}A(!1)},600),d("")},B=X=>{X.key==="Enter"&&V()},P=X=>{i(X),e("details"),U(!1)},ye=X=>{z(de=>de===X?null:X)},me=()=>{e("chat"),i(null)},Q=o.reduce((X,de)=>(X[de.category]||(X[de.category]=[]),X[de.category].push(de),X),{});return C.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50 relative font-cairo text-right",children:[C.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar w-full max-w-3xl mx-auto px-4 pt-6 pb-4",children:[C.jsxs("div",{className:"flex flex-col items-center mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[C.jsx(fm,{className:"w-6 h-6 text-teal-600"}),C.jsx("h1",{className:"text-2xl font-extrabold text-gray-800 tracking-tight",children:" "}),C.jsx(fm,{className:"w-6 h-6 text-teal-600 transform scale-x-[-1]"})]}),C.jsx("p",{className:"text-teal-600 font-medium text-xs",children:"(  )"})]}),t==="admin"?C.jsx(PF,{onClose:()=>e("chat"),onAddFatwa:le,onDeleteFatwa:he,onUpdateFatwa:$,currentFatwas:o,currentLataif:u,onAddLatifa:M,onUpdateLatifa:D,onDeleteLatifa:R}):t==="details"&&n?C.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-500 w-full min-h-screen bg-white flex flex-col items-center justify-start px-0 py-0",children:C.jsx("div",{className:"w-full max-w-4xl mx-auto px-0 sm:px-4 pt-0 sm:pt-8 pb-8",children:C.jsx(Cf,{fatwa:n,detailsMode:!0,onGoBack:me})})}):C.jsx(C.Fragment,{children:g.length===0?C.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in duration-500",children:[C.jsx(VF,{data:u}),C.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm mb-4 animate-pulse",children:C.jsx(Tb,{className:"w-8 h-8 text-teal-600"})}),C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),C.jsx("p",{className:"text-gray-500 text-xs",children:"        "})]}),C.jsx("div",{className:"w-full space-y-3 mb-2",children:LF.map(X=>C.jsx(Jb,{quote:X},X.id))})]}):C.jsxs("div",{className:"w-full space-y-6 mb-4",children:[g.map((X,de)=>C.jsx("div",{className:`flex w-full ${X.role==="user"?"justify-start":"justify-end"}`,children:X.isFatwa&&Array.isArray(X.content)?C.jsxs("div",{className:"w-full max-w-2xl space-y-4 animate-in slide-in-from-bottom-4 fade-in",children:[C.jsxs("div",{className:"bg-teal-50 border border-teal-100 p-3 rounded-xl text-teal-800 text-sm font-bold flex items-center gap-2",children:[C.jsx(cm,{className:"w-4 h-4"}),C.jsxs("span",{children:["   ",X.content.length,"   :"]})]}),X.content.map((Ee,F)=>C.jsx(Cf,{fatwa:Ee},Ee.id||F))]}):X.isFatwa&&!Array.isArray(X.content)&&typeof X.content!="string"?C.jsx("div",{className:"w-full max-w-2xl",children:C.jsx(Cf,{fatwa:X.content})}):C.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm text-base ${X.role==="user"?"bg-teal-600 text-white rounded-tr-none":"bg-white border border-gray-100 text-gray-800 rounded-tl-none"}`,children:X.role==="model"?C.jsx("div",{className:"prose prose-sm max-w-none text-right font-medium leading-7 dir-rtl",children:C.jsx(cx,{children:X.content})}):C.jsx("p",{className:"font-medium",children:X.content})})},de)),T&&C.jsx("div",{className:"flex justify-end w-full",children:C.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center gap-2",children:[C.jsx(sg,{className:"w-4 h-4 text-teal-500 animate-spin"}),C.jsx("span",{className:"text-sm text-gray-400",children:"   ..."})]})}),C.jsx("div",{ref:K})]})})]}),t!=="admin"&&t!=="details"&&C.jsx("footer",{className:"flex-shrink-0 w-full bg-white border-t border-gray-200 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:C.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-2 flex flex-col gap-2",children:[C.jsxs("div",{className:"w-full relative",children:[C.jsxs("button",{onClick:()=>U(!k),className:`w-full border rounded-lg py-2 px-3 flex items-center justify-between font-semibold transition-colors text-xs ${k?"bg-teal-50 border-teal-200 text-teal-700":"bg-sky-50 border-sky-100 text-gray-700 hover:bg-sky-100"}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(ZI,{className:"w-3.5 h-3.5"}),C.jsx("span",{className:"text-sm",children:" "})]}),C.jsx($_,{className:`w-3.5 h-3.5 transition-transform duration-300 ${k?"rotate-180":""}`})]}),k&&C.jsxs("div",{className:"absolute z-50 bottom-full mb-2 w-full bg-white rounded-xl shadow-2xl border border-gray-200 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[C.jsx("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white rounded-t-xl",children:C.jsxs("a",{href:"https://drive.google.com/drive/folders/1p54qWPMLT5ghN2dlOhFybCkWwrIfbg3j",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 text-amber-800 rounded-lg text-xs font-bold transition-colors border border-amber-200",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[C.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),C.jsx("polyline",{points:"14 2 14 8 20 8"})]}),C.jsx("span",{children:"            -  "})]})}),mu.map(X=>{const de=Q[X.id];if(!de||de.length===0)return null;const Ee=L===X.id;return C.jsxs("div",{className:"border-b border-gray-100 last:border-0",children:[C.jsxs("button",{onClick:()=>ye(X.id),className:`w-full flex items-center justify-between p-2 text-right hover:bg-gray-50 transition-colors ${Ee?"bg-gray-50":""}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx("span",{className:`w-2 h-6 rounded-full ${X.color.replace("text-","bg-").split(" ")[0]}`}),C.jsx("span",{className:"text-xs font-bold text-gray-700",children:X.name}),C.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded-full",children:de.length})]}),C.jsx($_,{className:`w-3.5 h-3.5 text-gray-400 transition-transform duration-300 ${Ee?"rotate-180":""}`})]}),C.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Ee?"max-h-[3000px] opacity-100":"max-h-0 opacity-0"}`,children:C.jsx("div",{className:"bg-gray-50/50 p-1.5 space-y-0.5",children:de.map(F=>C.jsxs("button",{onClick:()=>P(F),className:"w-full text-right px-3 py-2 text-xs text-gray-600 hover:bg-white hover:text-teal-700 hover:shadow-sm rounded-lg transition-all duration-200 flex items-center gap-1.5 group",children:[C.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300 group-hover:bg-teal-500 transition-colors"}),C.jsx("span",{className:"truncate",children:F.title})]},F.id))})})]},X.id)})]})]}),C.jsxs("div",{className:"w-full relative",children:[C.jsx("input",{type:"text",value:p,onChange:X=>d(X.target.value),onKeyDown:B,placeholder:"      ",className:"w-full bg-gray-50 border-2 border-gray-100 hover:border-teal-200 focus:border-teal-500 rounded-full py-2 pr-5 pl-12 text-base text-gray-700 placeholder-gray-400 outline-none transition-all shadow-sm focus:bg-white"}),C.jsx("button",{onClick:V,disabled:T||!p.trim(),className:"absolute left-1.5 top-1/2 -translate-y-1/2 p-1.5 bg-transparent hover:bg-teal-50 rounded-full transition-colors disabled:opacity-50",children:C.jsx(Vb,{className:`w-4 h-4 ${p.trim()?"text-teal-600":"text-gray-300"}`})})]}),C.jsx("div",{className:"text-center pt-1",children:C.jsx("p",{className:"text-gray-400 text-[10px] font-medium leading-tight",children:"(         -   )"})}),C.jsxs("div",{className:"flex justify-between items-center w-full pb-0.5 pt-0.5",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-[13px] font-bold text-teal-700",children:" :"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("a",{href:"https://www.facebook.com/share/17XjZt9zR5/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("a",{href:"https://t.me/El_Faioumy",target:"_blank",rel:"noopener noreferrer",className:"bg-sky-500 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),C.jsx("path",{d:"M22 2 11 13"})]})})]})]}),C.jsx("button",{onClick:()=>e("admin"),className:"w-8 h-8 bg-teal-600 hover:bg-teal-700 text-white rounded-full shadow-md flex items-center justify-center transition-transform hover:scale-105 active:scale-95",children:C.jsx(Ub,{className:"w-4 h-4 animate-[spin_10s_linear_infinite]"})})]})]})})]})},ew=document.getElementById("root");if(!ew)throw new Error("Could not find root element to mount to");const OF=qI.createRoot(ew);OF.render(C.jsx(PI.StrictMode,{children:C.jsx(UF,{})}));
