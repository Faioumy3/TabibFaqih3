(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function rd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bp={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function vb(){if(k_)return Za;k_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return Za.Fragment=e,Za.jsx=n,Za.jsxs=n,Za}var P_;function _b(){return P_||(P_=1,bp.exports=vb()),bp.exports}var C=_b(),Ip={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Eb(){if(V_)return Oe;V_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(H){return H===null||typeof H!="object"?null:(H=T&&H[T]||H["@@iterator"],typeof H=="function"?H:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,L={};function z(H,ie,k){this.props=H,this.context=ie,this.refs=L,this.updater=k||D}z.prototype.isReactComponent={},z.prototype.setState=function(H,ie){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ie,"setState")},z.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function Y(H,ie,k){this.props=H,this.context=ie,this.refs=L,this.updater=k||D}var le=Y.prototype=new Q;le.constructor=Y,O(le,z.prototype),le.isPureReactComponent=!0;var pe=Array.isArray;function $(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function R(H,ie,k){var _e=k.ref;return{$$typeof:t,type:H,key:ie,ref:_e!==void 0?_e:null,props:k}}function F(H,ie){return R(H.type,ie,H.props)}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function B(H){var ie={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(k){return ie[k]})}var P=/\/+/g;function ye(H,ie){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):ie.toString(36)}function me(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then($,$):(H.status="pending",H.then(function(ie){H.status==="pending"&&(H.status="fulfilled",H.value=ie)},function(ie){H.status==="pending"&&(H.status="rejected",H.reason=ie)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function X(H,ie,k,_e,be){var Ce=typeof H;(Ce==="undefined"||Ce==="boolean")&&(H=null);var Ue=!1;if(H===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(H.$$typeof){case t:case e:Ue=!0;break;case y:return Ue=H._init,X(Ue(H._payload),ie,k,_e,be)}}if(Ue)return be=be(H),Ue=_e===""?"."+ye(H,0):_e,pe(be)?(k="",Ue!=null&&(k=Ue.replace(P,"$&/")+"/"),X(be,ie,k,"",function(rn){return rn})):be!=null&&(V(be)&&(be=F(be,k+(be.key==null||H&&H.key===be.key?"":(""+be.key).replace(P,"$&/")+"/")+Ue)),ie.push(be)),1;Ue=0;var ut=_e===""?".":_e+":";if(pe(H))for(var ot=0;ot<H.length;ot++)_e=H[ot],Ce=ut+ye(_e,ot),Ue+=X(_e,ie,k,Ce,be);else if(ot=A(H),typeof ot=="function")for(H=ot.call(H),ot=0;!(_e=H.next()).done;)_e=_e.value,Ce=ut+ye(_e,ot++),Ue+=X(_e,ie,k,Ce,be);else if(Ce==="object"){if(typeof H.then=="function")return X(me(H),ie,k,_e,be);throw ie=String(H),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function K(H,ie,k){if(H==null)return H;var _e=[],be=0;return X(H,_e,"","",function(Ce){return ie.call(k,Ce,be++)}),_e}function he(H){if(H._status===-1){var ie=H._result;ie=ie(),ie.then(function(k){(H._status===0||H._status===-1)&&(H._status=1,H._result=k)},function(k){(H._status===0||H._status===-1)&&(H._status=2,H._result=k)}),H._status===-1&&(H._status=0,H._result=ie)}if(H._status===1)return H._result.default;throw H._result}var ae=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},U={map:K,forEach:function(H,ie,k){K(H,function(){ie.apply(this,arguments)},k)},count:function(H){var ie=0;return K(H,function(){ie++}),ie},toArray:function(H){return K(H,function(ie){return ie})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Oe.Activity=E,Oe.Children=U,Oe.Component=z,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=Y,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(H){return N.H.useMemoCache(H)}},Oe.cache=function(H){return function(){return H.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(H,ie,k){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var _e=O({},H.props),be=H.key;if(ie!=null)for(Ce in ie.key!==void 0&&(be=""+ie.key),ie)!M.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(_e[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)_e.children=k;else if(1<Ce){for(var Ue=Array(Ce),ut=0;ut<Ce;ut++)Ue[ut]=arguments[ut+2];_e.children=Ue}return R(H.type,be,_e)},Oe.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},Oe.createElement=function(H,ie,k){var _e,be={},Ce=null;if(ie!=null)for(_e in ie.key!==void 0&&(Ce=""+ie.key),ie)M.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(be[_e]=ie[_e]);var Ue=arguments.length-2;if(Ue===1)be.children=k;else if(1<Ue){for(var ut=Array(Ue),ot=0;ot<Ue;ot++)ut[ot]=arguments[ot+2];be.children=ut}if(H&&H.defaultProps)for(_e in Ue=H.defaultProps,Ue)be[_e]===void 0&&(be[_e]=Ue[_e]);return R(H,Ce,be)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(H){return{$$typeof:f,render:H}},Oe.isValidElement=V,Oe.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:he}},Oe.memo=function(H,ie){return{$$typeof:d,type:H,compare:ie===void 0?null:ie}},Oe.startTransition=function(H){var ie=N.T,k={};N.T=k;try{var _e=H(),be=N.S;be!==null&&be(k,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then($,ae)}catch(Ce){ae(Ce)}finally{ie!==null&&k.types!==null&&(ie.types=k.types),N.T=ie}},Oe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Oe.use=function(H){return N.H.use(H)},Oe.useActionState=function(H,ie,k){return N.H.useActionState(H,ie,k)},Oe.useCallback=function(H,ie){return N.H.useCallback(H,ie)},Oe.useContext=function(H){return N.H.useContext(H)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(H,ie){return N.H.useDeferredValue(H,ie)},Oe.useEffect=function(H,ie){return N.H.useEffect(H,ie)},Oe.useEffectEvent=function(H){return N.H.useEffectEvent(H)},Oe.useId=function(){return N.H.useId()},Oe.useImperativeHandle=function(H,ie,k){return N.H.useImperativeHandle(H,ie,k)},Oe.useInsertionEffect=function(H,ie){return N.H.useInsertionEffect(H,ie)},Oe.useLayoutEffect=function(H,ie){return N.H.useLayoutEffect(H,ie)},Oe.useMemo=function(H,ie){return N.H.useMemo(H,ie)},Oe.useOptimistic=function(H,ie){return N.H.useOptimistic(H,ie)},Oe.useReducer=function(H,ie,k){return N.H.useReducer(H,ie,k)},Oe.useRef=function(H){return N.H.useRef(H)},Oe.useState=function(H){return N.H.useState(H)},Oe.useSyncExternalStore=function(H,ie,k){return N.H.useSyncExternalStore(H,ie,k)},Oe.useTransition=function(){return N.H.useTransition()},Oe.version="19.2.3",Oe}var L_;function ng(){return L_||(L_=1,Ip.exports=Eb()),Ip.exports}var Me=ng();const Tb=rd(Me);var Rp={exports:{}},eu={},Np={exports:{}},Mp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function Sb(){return U_||(U_=1,(function(t){function e(X,K){var he=X.length;X.push(K);e:for(;0<he;){var ae=he-1>>>1,U=X[ae];if(0<o(U,K))X[ae]=K,X[he]=U,he=ae;else break e}}function n(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var K=X[0],he=X.pop();if(he!==K){X[0]=he;e:for(var ae=0,U=X.length,H=U>>>1;ae<H;){var ie=2*(ae+1)-1,k=X[ie],_e=ie+1,be=X[_e];if(0>o(k,he))_e<U&&0>o(be,k)?(X[ae]=be,X[_e]=he,ae=_e):(X[ae]=k,X[ie]=he,ae=ie);else if(_e<U&&0>o(be,he))X[ae]=be,X[_e]=he,ae=_e;else break e}}return K}function o(X,K){var he=X.sortIndex-K.sortIndex;return he!==0?he:X.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,E=null,T=3,A=!1,D=!1,O=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(X){for(var K=n(d);K!==null;){if(K.callback===null)i(d);else if(K.startTime<=X)i(d),K.sortIndex=K.expirationTime,e(p,K);else break;K=n(d)}}function pe(X){if(O=!1,le(X),!D)if(n(p)!==null)D=!0,$||($=!0,B());else{var K=n(d);K!==null&&me(pe,K.startTime-X)}}var $=!1,N=-1,M=5,R=-1;function F(){return L?!0:!(t.unstable_now()-R<M)}function V(){if(L=!1,$){var X=t.unstable_now();R=X;var K=!0;try{e:{D=!1,O&&(O=!1,Q(N),N=-1),A=!0;var he=T;try{t:{for(le(X),E=n(p);E!==null&&!(E.expirationTime>X&&F());){var ae=E.callback;if(typeof ae=="function"){E.callback=null,T=E.priorityLevel;var U=ae(E.expirationTime<=X);if(X=t.unstable_now(),typeof U=="function"){E.callback=U,le(X),K=!0;break t}E===n(p)&&i(p),le(X)}else i(p);E=n(p)}if(E!==null)K=!0;else{var H=n(d);H!==null&&me(pe,H.startTime-X),K=!1}}break e}finally{E=null,T=he,A=!1}K=void 0}}finally{K?B():$=!1}}}var B;if(typeof Y=="function")B=function(){Y(V)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ye=P.port2;P.port1.onmessage=V,B=function(){ye.postMessage(null)}}else B=function(){z(V,0)};function me(X,K){N=z(function(){X(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(X){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var he=T;T=K;try{return X()}finally{T=he}},t.unstable_requestPaint=function(){L=!0},t.unstable_runWithPriority=function(X,K){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=T;T=X;try{return K()}finally{T=he}},t.unstable_scheduleCallback=function(X,K,he){var ae=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ae+he:ae):he=ae,X){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=he+U,X={id:y++,callback:K,priorityLevel:X,startTime:he,expirationTime:U,sortIndex:-1},he>ae?(X.sortIndex=he,e(d,X),n(p)===null&&X===n(d)&&(O?(Q(N),N=-1):O=!0,me(pe,he-ae))):(X.sortIndex=U,e(p,X),D||A||(D=!0,$||($=!0,B()))),X},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(X){var K=T;return function(){var he=T;T=K;try{return X.apply(this,arguments)}finally{T=he}}}})(Mp)),Mp}var O_;function Ab(){return O_||(O_=1,Np.exports=Sb()),Np.exports}var Dp={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function xb(){if(F_)return xn;F_=1;var t=ng();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,d,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,xn.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},xn.flushSync=function(p){var d=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=y,i.d.f()}},xn.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},xn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},xn.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},xn.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},xn.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin);i.d.L(p,y,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},xn.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},xn.requestFormReset=function(p){i.d.r(p)},xn.unstable_batchedUpdates=function(p,d){return p(d)},xn.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},xn.useFormStatus=function(){return u.H.useHostTransitionStatus()},xn.version="19.2.3",xn}var z_;function Cb(){if(z_)return Dp.exports;z_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dp.exports=xb(),Dp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function wb(){if(B_)return eu;B_=1;var t=Ab(),e=ng(),n=Cb();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,c=s;;){var v=a.return;if(v===null)break;var _=v.alternate;if(_===null){if(c=v.return,c!==null){a=c;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===a)return p(v),r;if(_===c)return p(v),s;_=_.sibling}throw Error(i(188))}if(a.return!==c.return)a=v,c=_;else{for(var x=!1,b=v.child;b;){if(b===a){x=!0,a=v,c=_;break}if(b===c){x=!0,c=v,a=_;break}b=b.sibling}if(!x){for(b=_.child;b;){if(b===a){x=!0,a=_,c=v;break}if(b===c){x=!0,c=_,a=v;break}b=b.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=V&&r[V]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function ye(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case O:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case pe:return"Suspense";case $:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case Y:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case le:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:ye(r.type)||"Memo";case M:s=r._payload,r=r._init;try{return ye(r(s))}catch{}}return null}var me=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ae=[],U=-1;function H(r){return{current:r}}function ie(r){0>U||(r.current=ae[U],ae[U]=null,U--)}function k(r,s){U++,ae[U]=r.current,r.current=s}var _e=H(null),be=H(null),Ce=H(null),Ue=H(null);function ut(r,s){switch(k(Ce,s),k(be,r),k(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?n_(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=n_(s),r=i_(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(_e),k(_e,r)}function ot(){ie(_e),ie(be),ie(Ce)}function rn(r){r.memoizedState!==null&&k(Ue,r);var s=_e.current,a=i_(s,r.type);s!==a&&(k(be,r),k(_e,a))}function An(r){be.current===r&&(ie(_e),ie(be)),Ue.current===r&&(ie(Ue),Qa._currentValue=he)}var ji,di;function Vn(r){if(ji===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ji=s&&s[1]||"",di=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ji+r+di}var Ln=!1;function Un(r,s){if(!r||Ln)return"";Ln=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ne){var ee=ne}Reflect.construct(r,[],ue)}else{try{ue.call()}catch(ne){ee=ne}r.call(ue.prototype)}}else{try{throw Error()}catch(ne){ee=ne}(ue=r())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ne){if(ne&&ee&&typeof ne.stack=="string")return[ne.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=c.DetermineComponentFrameRoot(),x=_[0],b=_[1];if(x&&b){var q=x.split(`
`),Z=b.split(`
`);for(v=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;v<Z.length&&!Z[v].includes("DetermineComponentFrameRoot");)v++;if(c===q.length||v===Z.length)for(c=q.length-1,v=Z.length-1;1<=c&&0<=v&&q[c]!==Z[v];)v--;for(;1<=c&&0<=v;c--,v--)if(q[c]!==Z[v]){if(c!==1||v!==1)do if(c--,v--,0>v||q[c]!==Z[v]){var oe=`
`+q[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=v);break}}}finally{Ln=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?Vn(a):""}function jn(r,s){switch(r.tag){case 26:case 27:case 5:return Vn(r.type);case 16:return Vn("Lazy");case 13:return r.child!==s&&s!==null?Vn("Suspense Fallback"):Vn("Suspense");case 19:return Vn("SuspenseList");case 0:case 15:return Un(r.type,!1);case 11:return Un(r.type.render,!1);case 1:return Un(r.type,!0);case 31:return Vn("Activity");default:return""}}function ki(r){try{var s="",a=null;do s+=jn(r,a),a=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Je=Object.prototype.hasOwnProperty,ht=t.unstable_scheduleCallback,Wn=t.unstable_cancelCallback,Qo=t.unstable_shouldYield,pn=t.unstable_requestPaint,Vt=t.unstable_now,Pi=t.unstable_getCurrentPriorityLevel,re=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,Ie=t.unstable_NormalPriority,He=t.unstable_LowPriority,et=t.unstable_IdlePriority,Gt=t.log,On=t.unstable_setDisableYieldValue,Dt=null,wt=null;function Yt(r){if(typeof Gt=="function"&&On(r),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Dt,r)}catch{}}var $e=Math.clz32?Math.clz32:Ds,Zn=Math.log,an=Math.LN2;function Ds(r){return r>>>=0,r===0?32:31-(Zn(r)/an|0)|0}var hi=256,Vi=262144,Lt=4194304;function pi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mi(r,s,a){var c=r.pendingLanes;if(c===0)return 0;var v=0,_=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var b=c&134217727;return b!==0?(c=b&~_,c!==0?v=pi(c):(x&=b,x!==0?v=pi(x):a||(a=b&~r,a!==0&&(v=pi(a))))):(b=c&~_,b!==0?v=pi(b):x!==0?v=pi(x):a||(a=c&~r,a!==0&&(v=pi(a)))),v===0?0:s!==0&&s!==v&&(s&_)===0&&(_=v&-v,a=s&-s,_>=a||_===32&&(a&4194048)!==0)?s:v}function Nn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ks(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(){var r=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),r}function ze(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Ut(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wr(r,s,a,c,v,_){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var b=r.entanglements,q=r.expirationTimes,Z=r.hiddenUpdates;for(a=x&~a;0<a;){var oe=31-$e(a),ue=1<<oe;b[oe]=0,q[oe]=-1;var ee=Z[oe];if(ee!==null)for(Z[oe]=null,oe=0;oe<ee.length;oe++){var ne=ee[oe];ne!==null&&(ne.lane&=-536870913)}a&=~ue}c!==0&&xr(r,c,0),_!==0&&v===0&&r.tag!==0&&(r.suspendedLanes|=_&~(x&~s))}function xr(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-$e(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Cr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-$e(a),v=1<<c;v&s|r[c]&s&&(r[c]|=s),a&=~v}}function ta(r,s){var a=s&-s;return a=(a&42)!==0?1:Xo(a),(a&(r.suspendedLanes|s))!==0?0:a}function Xo(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function wr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function zu(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:w_(r.type))}function Li(r,s){var a=K.p;try{return K.p=r,s()}finally{K.p=a}}var Ui=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Ui,un="__reactProps$"+Ui,Wi="__reactContainer$"+Ui,Ps="__reactEvents$"+Ui,kd="__reactListeners$"+Ui,Bu="__reactHandles$"+Ui,qu="__reactResources$"+Ui,Zi="__reactMarker$"+Ui;function Vs(r){delete r[Jt],delete r[un],delete r[Ps],delete r[kd],delete r[Bu]}function er(r){var s=r[Jt];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Wi]||a[Jt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=c_(r);r!==null;){if(a=r[Jt])return a;r=c_(r)}return s}r=a,a=r.parentNode}return null}function gi(r){if(r=r[Jt]||r[Wi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function ei(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function tr(r){var s=r[qu];return s||(s=r[qu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(r){r[Zi]=!0}var na=new Set,ia={};function nr(r,s){ir(r,s),ir(r+"Capture",s)}function ir(r,s){for(ia[r]=s,r=0;r<s.length;r++)na.add(s[r])}var ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oa={},sa={};function Hu(r){return Je.call(sa,r)?!0:Je.call(oa,r)?!1:ra.test(r)?sa[r]=!0:(oa[r]=!0,!1)}function Ls(r,s,a){if(Hu(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function ti(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Kt(r,s,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+c)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Zr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function la(r,s,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var v=c.get,_=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return v.call(this)},set:function(x){a=""+x,_.call(this,x)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mt(r){if(!r._valueTracker){var s=Zr(r)?"checked":"value";r._valueTracker=la(r,s,""+r[s])}}function jo(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=Zr(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function rr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Wo=/[\n"\\]/g;function Fn(r){return r.replace(Wo,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Us(r,s,a,c,v,_,x,b){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+cn(s)):r.value!==""+cn(s)&&(r.value=""+cn(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?aa(r,x,cn(s)):a!=null?aa(r,x,cn(a)):c!=null&&r.removeAttribute("value"),v==null&&_!=null&&(r.defaultChecked=!!_),v!=null&&(r.checked=v&&typeof v!="function"&&typeof v!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+cn(b):r.removeAttribute("name")}function Gu(r,s,a,c,v,_,x,b){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.type=_),s!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){mt(r);return}a=a!=null?""+cn(a):"",s=s!=null?""+cn(s):a,b||s===r.value||(r.value=s),r.defaultValue=s}c=c??v,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=b?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),mt(r)}function aa(r,s,a){s==="number"&&rr(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function eo(r,s,a,c){if(r=r.options,s){s={};for(var v=0;v<a.length;v++)s["$"+a[v]]=!0;for(a=0;a<r.length;a++)v=s.hasOwnProperty("$"+r[a].value),r[a].selected!==v&&(r[a].selected=v),v&&c&&(r[a].defaultSelected=!0)}else{for(a=""+cn(a),s=null,v=0;v<r.length;v++){if(r[v].value===a){r[v].selected=!0,c&&(r[v].defaultSelected=!0);return}s!==null||r[v].disabled||(s=r[v])}s!==null&&(s.selected=!0)}}function Yu(r,s,a){if(s!=null&&(s=""+cn(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+cn(a):""}function to(r,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=cn(s),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),mt(r)}function zn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ju=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ua(r,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,a):typeof a!="number"||a===0||Ju.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function ca(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var v in s)c=s[v],s.hasOwnProperty(v)&&a[v]!==c&&ua(r,v,c)}else for(var _ in s)s.hasOwnProperty(_)&&ua(r,_,s[_])}function Os(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),no=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(r){return no.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Oi(){}var fa=null;function yi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var io=null,or=null;function Zo(r){var s=gi(r);if(s&&(r=s.stateNode)){var a=r[un]||null;e:switch(r=s.stateNode,s.type){case"input":if(Us(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var v=c[un]||null;if(!v)throw Error(i(90));Us(c,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===r.form&&jo(c)}break e;case"textarea":Yu(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&eo(r,!!a.multiple,s,!1)}}}var zs=!1;function ro(r,s,a){if(zs)return r(s,a);zs=!0;try{var c=r(s);return c}finally{if(zs=!1,(io!==null||or!==null)&&(zc(),io&&(s=io,r=or,or=io=null,Zo(s),r)))for(s=0;s<r.length;s++)Zo(r[s])}}function Fi(r,s){var a=r.stateNode;if(a===null)return null;var c=a[un]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),es=!1;if(vi)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){es=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{es=!1}var sr=null,da=null,ts=null;function ha(){if(ts)return ts;var r,s=da,a=s.length,c,v="value"in sr?sr.value:sr.textContent,_=v.length;for(r=0;r<a&&s[r]===v[r];r++);var x=a-r;for(c=1;c<=x&&s[a-c]===v[_-c];c++);return ts=v.slice(r,1<c?1-c:void 0)}function ns(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function br(){return!0}function zi(){return!1}function mn(r){function s(a,c,v,_,x){this._reactName=a,this._targetInst=v,this.type=c,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(a=r[b],this[b]=a?a(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?br:zi,this.isPropagationStopped=zi,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=br)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=br)},persist:function(){},isPersistent:br}),s}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=mn(Ir),oo=E({},Ir,{view:0,detail:0}),pa=mn(oo),so,Bs,ar,qs=E({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ar&&(ar&&r.type==="mousemove"?(so=r.screenX-ar.screenX,Bs=r.screenY-ar.screenY):Bs=so=0,ar=r),so)},movementY:function(r){return"movementY"in r?r.movementY:Bs}}),ma=mn(qs),is=E({},qs,{dataTransfer:0}),Ku=mn(is),Qu=E({},oo,{relatedTarget:0}),rs=mn(Qu),ga=E({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),Xu=mn(ga),Hs=E({},Ir,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ju=mn(Hs),Wu=E({},Ir,{data:0}),ur=mn(Wu),Zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tc[r])?!!s[r]:!1}function lo(){return nc}var Mn=E({},oo,{key:function(r){if(r.key){var s=Zu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ns(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ec[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(r){return r.type==="keypress"?ns(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ns(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ic=mn(Mn),rc=E({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rr=mn(rc),g=E({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),S=mn(g),w=E({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=mn(w),j=E({},qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),te=mn(j),Ee=E({},Ir,{newState:0,oldState:0}),Be=mn(Ee),zt=[9,13,27,32],ct=vi&&"CompositionEvent"in window,Nt=null;vi&&"documentMode"in document&&(Nt=document.documentMode);var _i=vi&&"TextEvent"in window&&!Nt,cr=vi&&(!ct||Nt&&8<Nt&&11>=Nt),Bi=" ",qi=!1;function os(r,s){switch(r){case"keyup":return zt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gs(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ys=!1;function q1(r,s){switch(r){case"compositionend":return Gs(s);case"keypress":return s.which!==32?null:(qi=!0,Bi);case"textInput":return r=s.data,r===Bi&&qi?null:r;default:return null}}function H1(r,s){if(Ys)return r==="compositionend"||!ct&&os(r,s)?(r=ha(),ts=da=sr=null,Ys=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cr&&s.locale!=="ko"?null:s.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!G1[r.type]:s==="textarea"}function py(r,s,a,c){io?or?or.push(c):or=[c]:io=c,s=$c(s,"onChange"),0<s.length&&(a=new lr("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var ya=null,va=null;function Y1(r){Xv(r,0)}function oc(r){var s=ei(r);if(jo(s))return r}function my(r,s){if(r==="change")return s}var gy=!1;if(vi){var Pd;if(vi){var Vd="oninput"in document;if(!Vd){var yy=document.createElement("div");yy.setAttribute("oninput","return;"),Vd=typeof yy.oninput=="function"}Pd=Vd}else Pd=!1;gy=Pd&&(!document.documentMode||9<document.documentMode)}function vy(){ya&&(ya.detachEvent("onpropertychange",_y),va=ya=null)}function _y(r){if(r.propertyName==="value"&&oc(va)){var s=[];py(s,va,r,yi(r)),ro(Y1,s)}}function J1(r,s,a){r==="focusin"?(vy(),ya=s,va=a,ya.attachEvent("onpropertychange",_y)):r==="focusout"&&vy()}function $1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return oc(va)}function K1(r,s){if(r==="click")return oc(s)}function Q1(r,s){if(r==="input"||r==="change")return oc(s)}function X1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ni=typeof Object.is=="function"?Object.is:X1;function _a(r,s){if(ni(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var v=a[c];if(!Je.call(s,v)||!ni(r[v],s[v]))return!1}return!0}function Ey(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ty(r,s){var a=Ey(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ey(a)}}function Sy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Sy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ay(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=rr(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=rr(r.document)}return s}function Ld(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var j1=vi&&"documentMode"in document&&11>=document.documentMode,Js=null,Ud=null,Ea=null,Od=!1;function xy(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Od||Js==null||Js!==rr(c)||(c=Js,"selectionStart"in c&&Ld(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ea&&_a(Ea,c)||(Ea=c,c=$c(Ud,"onSelect"),0<c.length&&(s=new lr("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=Js)))}function ss(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var $s={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Fd={},Cy={};vi&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete $s.animationend.animation,delete $s.animationiteration.animation,delete $s.animationstart.animation),"TransitionEvent"in window||delete $s.transitionend.transition);function ls(r){if(Fd[r])return Fd[r];if(!$s[r])return r;var s=$s[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Cy)return Fd[r]=s[a];return r}var wy=ls("animationend"),by=ls("animationiteration"),Iy=ls("animationstart"),W1=ls("transitionrun"),Z1=ls("transitionstart"),ew=ls("transitioncancel"),Ry=ls("transitionend"),Ny=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zd.push("scrollEnd");function Hi(r,s){Ny.set(r,s),nr(s,[r])}var sc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Ei=[],Ks=0,Bd=0;function lc(){for(var r=Ks,s=Bd=Ks=0;s<r;){var a=Ei[s];Ei[s++]=null;var c=Ei[s];Ei[s++]=null;var v=Ei[s];Ei[s++]=null;var _=Ei[s];if(Ei[s++]=null,c!==null&&v!==null){var x=c.pending;x===null?v.next=v:(v.next=x.next,x.next=v),c.pending=v}_!==0&&My(a,v,_)}}function ac(r,s,a,c){Ei[Ks++]=r,Ei[Ks++]=s,Ei[Ks++]=a,Ei[Ks++]=c,Bd|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function qd(r,s,a,c){return ac(r,s,a,c),uc(r)}function as(r,s){return ac(r,null,null,s),uc(r)}function My(r,s,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var v=!1,_=r.return;_!==null;)_.childLanes|=a,c=_.alternate,c!==null&&(c.childLanes|=a),_.tag===22&&(r=_.stateNode,r===null||r._visibility&1||(v=!0)),r=_,_=_.return;return r.tag===3?(_=r.stateNode,v&&s!==null&&(v=31-$e(a),r=_.hiddenUpdates,c=r[v],c===null?r[v]=[s]:c.push(s),s.lane=a|536870912),_):null}function uc(r){if(50<qa)throw qa=0,jh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Qs={};function tw(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ii(r,s,a,c){return new tw(r,s,a,c)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Nr(r,s){var a=r.alternate;return a===null?(a=ii(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Dy(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function cc(r,s,a,c,v,_){var x=0;if(c=r,typeof r=="function")Hd(r)&&(x=1);else if(typeof r=="string")x=sb(r,a,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case R:return r=ii(31,a,s,v),r.elementType=R,r.lanes=_,r;case O:return us(a.children,v,_,s);case L:x=8,v|=24;break;case z:return r=ii(12,a,s,v|2),r.elementType=z,r.lanes=_,r;case pe:return r=ii(13,a,s,v),r.elementType=pe,r.lanes=_,r;case $:return r=ii(19,a,s,v),r.elementType=$,r.lanes=_,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:x=10;break e;case Q:x=9;break e;case le:x=11;break e;case N:x=14;break e;case M:x=16,c=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=ii(x,a,s,v),s.elementType=r,s.type=c,s.lanes=_,s}function us(r,s,a,c){return r=ii(7,r,c,s),r.lanes=a,r}function Gd(r,s,a){return r=ii(6,r,null,s),r.lanes=a,r}function ky(r){var s=ii(18,null,null,0);return s.stateNode=r,s}function Yd(r,s,a){return s=ii(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Py=new WeakMap;function Ti(r,s){if(typeof r=="object"&&r!==null){var a=Py.get(r);return a!==void 0?a:(s={value:r,source:s,stack:ki(s)},Py.set(r,s),s)}return{value:r,source:s,stack:ki(s)}}var Xs=[],js=0,fc=null,Ta=0,Si=[],Ai=0,ao=null,fr=1,dr="";function Mr(r,s){Xs[js++]=Ta,Xs[js++]=fc,fc=r,Ta=s}function Vy(r,s,a){Si[Ai++]=fr,Si[Ai++]=dr,Si[Ai++]=ao,ao=r;var c=fr;r=dr;var v=32-$e(c)-1;c&=~(1<<v),a+=1;var _=32-$e(s)+v;if(30<_){var x=v-v%5;_=(c&(1<<x)-1).toString(32),c>>=x,v-=x,fr=1<<32-$e(s)+v|a<<v|c,dr=_+r}else fr=1<<_|a<<v|c,dr=r}function Jd(r){r.return!==null&&(Mr(r,1),Vy(r,1,0))}function $d(r){for(;r===fc;)fc=Xs[--js],Xs[js]=null,Ta=Xs[--js],Xs[js]=null;for(;r===ao;)ao=Si[--Ai],Si[Ai]=null,dr=Si[--Ai],Si[Ai]=null,fr=Si[--Ai],Si[Ai]=null}function Ly(r,s){Si[Ai++]=fr,Si[Ai++]=dr,Si[Ai++]=ao,fr=s.id,dr=s.overflow,ao=r}var gn=null,bt=null,tt=!1,uo=null,xi=!1,Kd=Error(i(519));function co(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sa(Ti(s,r)),Kd}function Uy(r){var s=r.stateNode,a=r.type,c=r.memoizedProps;switch(s[Jt]=r,s[un]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<Ga.length;a++)Qe(Ga[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Gu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),to(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||e_(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Oi),s=!0):s=!1,s||co(r,!0)}function Oy(r){for(gn=r.return;gn;)switch(gn.tag){case 5:case 31:case 13:xi=!1;return;case 27:case 3:xi=!0;return;default:gn=gn.return}}function Ws(r){if(r!==gn)return!1;if(!tt)return Oy(r),tt=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||dp(r.type,r.memoizedProps)),a=!a),a&&bt&&co(r),Oy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=u_(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));bt=u_(r)}else s===27?(s=bt,Co(r.type)?(r=yp,yp=null,bt=r):bt=s):bt=gn?wi(r.stateNode.nextSibling):null;return!0}function cs(){bt=gn=null,tt=!1}function Qd(){var r=uo;return r!==null&&(Gn===null?Gn=r:Gn.push.apply(Gn,r),uo=null),r}function Sa(r){uo===null?uo=[r]:uo.push(r)}var Xd=H(null),fs=null,Dr=null;function fo(r,s,a){k(Xd,s._currentValue),s._currentValue=a}function kr(r){r._currentValue=Xd.current,ie(Xd)}function jd(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Wd(r,s,a,c){var v=r.child;for(v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){var x=v.child;_=_.firstContext;e:for(;_!==null;){var b=_;_=v;for(var q=0;q<s.length;q++)if(b.context===s[q]){_.lanes|=a,b=_.alternate,b!==null&&(b.lanes|=a),jd(_.return,a,r),c||(x=null);break e}_=b.next}}else if(v.tag===18){if(x=v.return,x===null)throw Error(i(341));x.lanes|=a,_=x.alternate,_!==null&&(_.lanes|=a),jd(x,a,r),x=null}else x=v.child;if(x!==null)x.return=v;else for(x=v;x!==null;){if(x===r){x=null;break}if(v=x.sibling,v!==null){v.return=x.return,x=v;break}x=x.return}v=x}}function Zs(r,s,a,c){r=null;for(var v=s,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var x=v.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var b=v.type;ni(v.pendingProps.value,x.value)||(r!==null?r.push(b):r=[b])}}else if(v===Ue.current){if(x=v.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(r!==null?r.push(Qa):r=[Qa])}v=v.return}r!==null&&Wd(s,r,a,c),s.flags|=262144}function dc(r){for(r=r.firstContext;r!==null;){if(!ni(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ds(r){fs=r,Dr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function yn(r){return Fy(fs,r)}function hc(r,s){return fs===null&&ds(r),Fy(r,s)}function Fy(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Dr===null){if(r===null)throw Error(i(308));Dr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Dr=Dr.next=s;return a}var nw=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},iw=t.unstable_scheduleCallback,rw=t.unstable_NormalPriority,Qt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zd(){return{controller:new nw,data:new Map,refCount:0}}function Aa(r){r.refCount--,r.refCount===0&&iw(rw,function(){r.controller.abort()})}var xa=null,eh=0,el=0,tl=null;function ow(r,s){if(xa===null){var a=xa=[];eh=0,el=ip(),tl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return eh++,s.then(zy,zy),s}function zy(){if(--eh===0&&xa!==null){tl!==null&&(tl.status="fulfilled");var r=xa;xa=null,el=0,tl=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function sw(r,s){var a=[],c={status:"pending",value:null,reason:null,then:function(v){a.push(v)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var v=0;v<a.length;v++)(0,a[v])(s)},function(v){for(c.status="rejected",c.reason=v,v=0;v<a.length;v++)(0,a[v])(void 0)}),c}var By=X.S;X.S=function(r,s){xv=Vt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&ow(r,s),By!==null&&By(r,s)};var hs=H(null);function th(){var r=hs.current;return r!==null?r:St.pooledCache}function pc(r,s){s===null?k(hs,hs.current):k(hs,s.pool)}function qy(){var r=th();return r===null?null:{parent:Qt._currentValue,pool:r}}var nl=Error(i(460)),nh=Error(i(474)),mc=Error(i(542)),gc={then:function(){}};function Hy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Gy(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Oi,Oi),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Jy(r),r;default:if(typeof s.status=="string")s.then(Oi,Oi);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=c}},function(c){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Jy(r),r}throw ms=s,nl}}function ps(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ms=a,nl):a}}var ms=null;function Yy(){if(ms===null)throw Error(i(459));var r=ms;return ms=null,r}function Jy(r){if(r===nl||r===mc)throw Error(i(483))}var il=null,Ca=0;function yc(r){var s=Ca;return Ca+=1,il===null&&(il=[]),Gy(il,r,s)}function wa(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function vc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function $y(r){function s(J,G){if(r){var W=J.deletions;W===null?(J.deletions=[G],J.flags|=16):W.push(G)}}function a(J,G){if(!r)return null;for(;G!==null;)s(J,G),G=G.sibling;return null}function c(J){for(var G=new Map;J!==null;)J.key!==null?G.set(J.key,J):G.set(J.index,J),J=J.sibling;return G}function v(J,G){return J=Nr(J,G),J.index=0,J.sibling=null,J}function _(J,G,W){return J.index=W,r?(W=J.alternate,W!==null?(W=W.index,W<G?(J.flags|=67108866,G):W):(J.flags|=67108866,G)):(J.flags|=1048576,G)}function x(J){return r&&J.alternate===null&&(J.flags|=67108866),J}function b(J,G,W,se){return G===null||G.tag!==6?(G=Gd(W,J.mode,se),G.return=J,G):(G=v(G,W),G.return=J,G)}function q(J,G,W,se){var Re=W.type;return Re===O?oe(J,G,W.props.children,se,W.key):G!==null&&(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&ps(Re)===G.type)?(G=v(G,W.props),wa(G,W),G.return=J,G):(G=cc(W.type,W.key,W.props,null,J.mode,se),wa(G,W),G.return=J,G)}function Z(J,G,W,se){return G===null||G.tag!==4||G.stateNode.containerInfo!==W.containerInfo||G.stateNode.implementation!==W.implementation?(G=Yd(W,J.mode,se),G.return=J,G):(G=v(G,W.children||[]),G.return=J,G)}function oe(J,G,W,se,Re){return G===null||G.tag!==7?(G=us(W,J.mode,se,Re),G.return=J,G):(G=v(G,W),G.return=J,G)}function ue(J,G,W){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Gd(""+G,J.mode,W),G.return=J,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return W=cc(G.type,G.key,G.props,null,J.mode,W),wa(W,G),W.return=J,W;case D:return G=Yd(G,J.mode,W),G.return=J,G;case M:return G=ps(G),ue(J,G,W)}if(me(G)||B(G))return G=us(G,J.mode,W,null),G.return=J,G;if(typeof G.then=="function")return ue(J,yc(G),W);if(G.$$typeof===Y)return ue(J,hc(J,G),W);vc(J,G)}return null}function ee(J,G,W,se){var Re=G!==null?G.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:b(J,G,""+W,se);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return W.key===Re?q(J,G,W,se):null;case D:return W.key===Re?Z(J,G,W,se):null;case M:return W=ps(W),ee(J,G,W,se)}if(me(W)||B(W))return Re!==null?null:oe(J,G,W,se,null);if(typeof W.then=="function")return ee(J,G,yc(W),se);if(W.$$typeof===Y)return ee(J,G,hc(J,W),se);vc(J,W)}return null}function ne(J,G,W,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return J=J.get(W)||null,b(G,J,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case A:return J=J.get(se.key===null?W:se.key)||null,q(G,J,se,Re);case D:return J=J.get(se.key===null?W:se.key)||null,Z(G,J,se,Re);case M:return se=ps(se),ne(J,G,W,se,Re)}if(me(se)||B(se))return J=J.get(W)||null,oe(G,J,se,Re,null);if(typeof se.then=="function")return ne(J,G,W,yc(se),Re);if(se.$$typeof===Y)return ne(J,G,W,hc(G,se),Re);vc(G,se)}return null}function xe(J,G,W,se){for(var Re=null,st=null,we=G,Ge=G=0,je=null;we!==null&&Ge<W.length;Ge++){we.index>Ge?(je=we,we=null):je=we.sibling;var lt=ee(J,we,W[Ge],se);if(lt===null){we===null&&(we=je);break}r&&we&&lt.alternate===null&&s(J,we),G=_(lt,G,Ge),st===null?Re=lt:st.sibling=lt,st=lt,we=je}if(Ge===W.length)return a(J,we),tt&&Mr(J,Ge),Re;if(we===null){for(;Ge<W.length;Ge++)we=ue(J,W[Ge],se),we!==null&&(G=_(we,G,Ge),st===null?Re=we:st.sibling=we,st=we);return tt&&Mr(J,Ge),Re}for(we=c(we);Ge<W.length;Ge++)je=ne(we,J,Ge,W[Ge],se),je!==null&&(r&&je.alternate!==null&&we.delete(je.key===null?Ge:je.key),G=_(je,G,Ge),st===null?Re=je:st.sibling=je,st=je);return r&&we.forEach(function(No){return s(J,No)}),tt&&Mr(J,Ge),Re}function De(J,G,W,se){if(W==null)throw Error(i(151));for(var Re=null,st=null,we=G,Ge=G=0,je=null,lt=W.next();we!==null&&!lt.done;Ge++,lt=W.next()){we.index>Ge?(je=we,we=null):je=we.sibling;var No=ee(J,we,lt.value,se);if(No===null){we===null&&(we=je);break}r&&we&&No.alternate===null&&s(J,we),G=_(No,G,Ge),st===null?Re=No:st.sibling=No,st=No,we=je}if(lt.done)return a(J,we),tt&&Mr(J,Ge),Re;if(we===null){for(;!lt.done;Ge++,lt=W.next())lt=ue(J,lt.value,se),lt!==null&&(G=_(lt,G,Ge),st===null?Re=lt:st.sibling=lt,st=lt);return tt&&Mr(J,Ge),Re}for(we=c(we);!lt.done;Ge++,lt=W.next())lt=ne(we,J,Ge,lt.value,se),lt!==null&&(r&&lt.alternate!==null&&we.delete(lt.key===null?Ge:lt.key),G=_(lt,G,Ge),st===null?Re=lt:st.sibling=lt,st=lt);return r&&we.forEach(function(yb){return s(J,yb)}),tt&&Mr(J,Ge),Re}function Tt(J,G,W,se){if(typeof W=="object"&&W!==null&&W.type===O&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case A:e:{for(var Re=W.key;G!==null;){if(G.key===Re){if(Re=W.type,Re===O){if(G.tag===7){a(J,G.sibling),se=v(G,W.props.children),se.return=J,J=se;break e}}else if(G.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&ps(Re)===G.type){a(J,G.sibling),se=v(G,W.props),wa(se,W),se.return=J,J=se;break e}a(J,G);break}else s(J,G);G=G.sibling}W.type===O?(se=us(W.props.children,J.mode,se,W.key),se.return=J,J=se):(se=cc(W.type,W.key,W.props,null,J.mode,se),wa(se,W),se.return=J,J=se)}return x(J);case D:e:{for(Re=W.key;G!==null;){if(G.key===Re)if(G.tag===4&&G.stateNode.containerInfo===W.containerInfo&&G.stateNode.implementation===W.implementation){a(J,G.sibling),se=v(G,W.children||[]),se.return=J,J=se;break e}else{a(J,G);break}else s(J,G);G=G.sibling}se=Yd(W,J.mode,se),se.return=J,J=se}return x(J);case M:return W=ps(W),Tt(J,G,W,se)}if(me(W))return xe(J,G,W,se);if(B(W)){if(Re=B(W),typeof Re!="function")throw Error(i(150));return W=Re.call(W),De(J,G,W,se)}if(typeof W.then=="function")return Tt(J,G,yc(W),se);if(W.$$typeof===Y)return Tt(J,G,hc(J,W),se);vc(J,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,G!==null&&G.tag===6?(a(J,G.sibling),se=v(G,W),se.return=J,J=se):(a(J,G),se=Gd(W,J.mode,se),se.return=J,J=se),x(J)):a(J,G)}return function(J,G,W,se){try{Ca=0;var Re=Tt(J,G,W,se);return il=null,Re}catch(we){if(we===nl||we===mc)throw we;var st=ii(29,we,null,J.mode);return st.lanes=se,st.return=J,st}finally{}}}var gs=$y(!0),Ky=$y(!1),ho=!1;function ih(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function po(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function mo(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ft&2)!==0){var v=c.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),c.pending=s,s=uc(r),My(r,null,a),s}return ac(r,c,s,a),uc(r)}function ba(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Cr(r,a)}}function oh(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var v=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?v=_=x:_=_.next=x,a=a.next}while(a!==null);_===null?v=_=s:_=_.next=s}else v=_=s;a={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var sh=!1;function Ia(){if(sh){var r=tl;if(r!==null)throw r}}function Ra(r,s,a,c){sh=!1;var v=r.updateQueue;ho=!1;var _=v.firstBaseUpdate,x=v.lastBaseUpdate,b=v.shared.pending;if(b!==null){v.shared.pending=null;var q=b,Z=q.next;q.next=null,x===null?_=Z:x.next=Z,x=q;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,b=oe.lastBaseUpdate,b!==x&&(b===null?oe.firstBaseUpdate=Z:b.next=Z,oe.lastBaseUpdate=q))}if(_!==null){var ue=v.baseState;x=0,oe=Z=q=null,b=_;do{var ee=b.lane&-536870913,ne=ee!==b.lane;if(ne?(Xe&ee)===ee:(c&ee)===ee){ee!==0&&ee===el&&(sh=!0),oe!==null&&(oe=oe.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var xe=r,De=b;ee=s;var Tt=a;switch(De.tag){case 1:if(xe=De.payload,typeof xe=="function"){ue=xe.call(Tt,ue,ee);break e}ue=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=De.payload,ee=typeof xe=="function"?xe.call(Tt,ue,ee):xe,ee==null)break e;ue=E({},ue,ee);break e;case 2:ho=!0}}ee=b.callback,ee!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[ee]:ne.push(ee))}else ne={lane:ee,tag:b.tag,payload:b.payload,callback:b.callback,next:null},oe===null?(Z=oe=ne,q=ue):oe=oe.next=ne,x|=ee;if(b=b.next,b===null){if(b=v.shared.pending,b===null)break;ne=b,b=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);oe===null&&(q=ue),v.baseState=q,v.firstBaseUpdate=Z,v.lastBaseUpdate=oe,_===null&&(v.shared.lanes=0),Eo|=x,r.lanes=x,r.memoizedState=ue}}function Qy(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Xy(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)Qy(a[r],s)}var rl=H(null),_c=H(0);function jy(r,s){r=qr,k(_c,r),k(rl,s),qr=r|s.baseLanes}function lh(){k(_c,qr),k(rl,rl.current)}function ah(){qr=_c.current,ie(rl),ie(_c)}var ri=H(null),Ci=null;function go(r){var s=r.alternate;k(Bt,Bt.current&1),k(ri,r),Ci===null&&(s===null||rl.current!==null||s.memoizedState!==null)&&(Ci=r)}function uh(r){k(Bt,Bt.current),k(ri,r),Ci===null&&(Ci=r)}function Wy(r){r.tag===22?(k(Bt,Bt.current),k(ri,r),Ci===null&&(Ci=r)):yo()}function yo(){k(Bt,Bt.current),k(ri,ri.current)}function oi(r){ie(ri),Ci===r&&(Ci=null),ie(Bt)}var Bt=H(0);function Ec(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mp(a)||gp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pr=0,qe=null,_t=null,Xt=null,Tc=!1,ol=!1,ys=!1,Sc=0,Na=0,sl=null,lw=0;function Ot(){throw Error(i(321))}function ch(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!ni(r[a],s[a]))return!1;return!0}function fh(r,s,a,c,v,_){return Pr=_,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=r===null||r.memoizedState===null?V0:wh,ys=!1,_=a(c,v),ys=!1,ol&&(_=e0(s,a,c,v)),Zy(r),_}function Zy(r){X.H=ka;var s=_t!==null&&_t.next!==null;if(Pr=0,Xt=_t=qe=null,Tc=!1,Na=0,sl=null,s)throw Error(i(300));r===null||jt||(r=r.dependencies,r!==null&&dc(r)&&(jt=!0))}function e0(r,s,a,c){qe=r;var v=0;do{if(ol&&(sl=null),Na=0,ol=!1,25<=v)throw Error(i(301));if(v+=1,Xt=_t=null,r.updateQueue!=null){var _=r.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}X.H=L0,_=s(a,c)}while(ol);return _}function aw(){var r=X.H,s=r.useState()[0];return s=typeof s.then=="function"?Ma(s):s,r=r.useState()[0],(_t!==null?_t.memoizedState:null)!==r&&(qe.flags|=1024),s}function dh(){var r=Sc!==0;return Sc=0,r}function hh(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function ph(r){if(Tc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Tc=!1}Pr=0,Xt=_t=qe=null,ol=!1,Na=Sc=0,sl=null}function Dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?qe.memoizedState=Xt=r:Xt=Xt.next=r,Xt}function qt(){if(_t===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=Xt===null?qe.memoizedState:Xt.next;if(s!==null)Xt=s,_t=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Xt===null?qe.memoizedState=Xt=r:Xt=Xt.next=r}return Xt}function Ac(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ma(r){var s=Na;return Na+=1,sl===null&&(sl=[]),r=Gy(sl,r,s),s=qe,(Xt===null?s.memoizedState:Xt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?V0:wh),r}function xc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ma(r);if(r.$$typeof===Y)return yn(r)}throw Error(i(438,String(r)))}function mh(r){var s=null,a=qe.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ac(),qe.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),c=0;c<r;c++)a[c]=F;return s.index++,a}function Vr(r,s){return typeof s=="function"?s(r):s}function Cc(r){var s=qt();return gh(s,_t,r)}function gh(r,s,a){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var v=r.baseQueue,_=c.pending;if(_!==null){if(v!==null){var x=v.next;v.next=_.next,_.next=x}s.baseQueue=v=_,c.pending=null}if(_=r.baseState,v===null)r.memoizedState=_;else{s=v.next;var b=x=null,q=null,Z=s,oe=!1;do{var ue=Z.lane&-536870913;if(ue!==Z.lane?(Xe&ue)===ue:(Pr&ue)===ue){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ue===el&&(oe=!0);else if((Pr&ee)===ee){Z=Z.next,ee===el&&(oe=!0);continue}else ue={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(b=q=ue,x=_):q=q.next=ue,qe.lanes|=ee,Eo|=ee;ue=Z.action,ys&&a(_,ue),_=Z.hasEagerState?Z.eagerState:a(_,ue)}else ee={lane:ue,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(b=q=ee,x=_):q=q.next=ee,qe.lanes|=ue,Eo|=ue;Z=Z.next}while(Z!==null&&Z!==s);if(q===null?x=_:q.next=b,!ni(_,r.memoizedState)&&(jt=!0,oe&&(a=tl,a!==null)))throw a;r.memoizedState=_,r.baseState=x,r.baseQueue=q,c.lastRenderedState=_}return v===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function yh(r){var s=qt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var c=a.dispatch,v=a.pending,_=s.memoizedState;if(v!==null){a.pending=null;var x=v=v.next;do _=r(_,x.action),x=x.next;while(x!==v);ni(_,s.memoizedState)||(jt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),a.lastRenderedState=_}return[_,c]}function t0(r,s,a){var c=qe,v=qt(),_=tt;if(_){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!ni((_t||v).memoizedState,a);if(x&&(v.memoizedState=a,jt=!0),v=v.queue,Eh(r0.bind(null,c,v,r),[r]),v.getSnapshot!==s||x||Xt!==null&&Xt.memoizedState.tag&1){if(c.flags|=2048,ll(9,{destroy:void 0},i0.bind(null,c,v,a,s),null),St===null)throw Error(i(349));_||(Pr&127)!==0||n0(c,s,a)}return a}function n0(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=qe.updateQueue,s===null?(s=Ac(),qe.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function i0(r,s,a,c){s.value=a,s.getSnapshot=c,o0(s)&&s0(r)}function r0(r,s,a){return a(function(){o0(s)&&s0(r)})}function o0(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!ni(r,a)}catch{return!0}}function s0(r){var s=as(r,2);s!==null&&Yn(s,r,2)}function vh(r){var s=Dn();if(typeof r=="function"){var a=r;if(r=a(),ys){Yt(!0);try{a()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:r},s}function l0(r,s,a,c){return r.baseState=a,gh(r,_t,typeof c=="function"?c:Vr)}function uw(r,s,a,c,v){if(Ic(r))throw Error(i(485));if(r=s.action,r!==null){var _={payload:v,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){_.listeners.push(x)}};X.T!==null?a(!0):_.isTransition=!1,c(_),a=s.pending,a===null?(_.next=s.pending=_,a0(s,_)):(_.next=a.next,s.pending=a.next=_)}}function a0(r,s){var a=s.action,c=s.payload,v=r.state;if(s.isTransition){var _=X.T,x={};X.T=x;try{var b=a(v,c),q=X.S;q!==null&&q(x,b),u0(r,s,b)}catch(Z){_h(r,s,Z)}finally{_!==null&&x.types!==null&&(_.types=x.types),X.T=_}}else try{_=a(v,c),u0(r,s,_)}catch(Z){_h(r,s,Z)}}function u0(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){c0(r,s,c)},function(c){return _h(r,s,c)}):c0(r,s,a)}function c0(r,s,a){s.status="fulfilled",s.value=a,f0(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,a0(r,a)))}function _h(r,s,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,f0(s),s=s.next;while(s!==c)}r.action=null}function f0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function d0(r,s){return s}function h0(r,s){if(tt){var a=St.formState;if(a!==null){e:{var c=qe;if(tt){if(bt){t:{for(var v=bt,_=xi;v.nodeType!==8;){if(!_){v=null;break t}if(v=wi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){bt=wi(v.nextSibling),c=v.data==="F!";break e}}co(c)}c=!1}c&&(s=a[0])}}return a=Dn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:s},a.queue=c,a=D0.bind(null,qe,c),c.dispatch=a,c=vh(!1),_=Ch.bind(null,qe,!1,c.queue),c=Dn(),v={state:s,dispatch:null,action:r,pending:null},c.queue=v,a=uw.bind(null,qe,v,_,a),v.dispatch=a,c.memoizedState=r,[s,a,!1]}function p0(r){var s=qt();return m0(s,_t,r)}function m0(r,s,a){if(s=gh(r,s,d0)[0],r=Cc(Vr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ma(s)}catch(x){throw x===nl?mc:x}else c=s;s=qt();var v=s.queue,_=v.dispatch;return a!==s.memoizedState&&(qe.flags|=2048,ll(9,{destroy:void 0},cw.bind(null,v,a),null)),[c,_,r]}function cw(r,s){r.action=s}function g0(r){var s=qt(),a=_t;if(a!==null)return m0(s,a,r);qt(),s=s.memoizedState,a=qt();var c=a.queue.dispatch;return a.memoizedState=r,[s,c,!1]}function ll(r,s,a,c){return r={tag:r,create:a,deps:c,inst:s,next:null},s=qe.updateQueue,s===null&&(s=Ac(),qe.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r),r}function y0(){return qt().memoizedState}function wc(r,s,a,c){var v=Dn();qe.flags|=r,v.memoizedState=ll(1|s,{destroy:void 0},a,c===void 0?null:c)}function bc(r,s,a,c){var v=qt();c=c===void 0?null:c;var _=v.memoizedState.inst;_t!==null&&c!==null&&ch(c,_t.memoizedState.deps)?v.memoizedState=ll(s,_,a,c):(qe.flags|=r,v.memoizedState=ll(1|s,_,a,c))}function v0(r,s){wc(8390656,8,r,s)}function Eh(r,s){bc(2048,8,r,s)}function fw(r){qe.flags|=4;var s=qe.updateQueue;if(s===null)s=Ac(),qe.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function _0(r){var s=qt().memoizedState;return fw({ref:s,nextImpl:r}),function(){if((ft&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function E0(r,s){return bc(4,2,r,s)}function T0(r,s){return bc(4,4,r,s)}function S0(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function A0(r,s,a){a=a!=null?a.concat([r]):null,bc(4,4,S0.bind(null,s,r),a)}function Th(){}function x0(r,s){var a=qt();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&ch(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function C0(r,s){var a=qt();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&ch(s,c[1]))return c[0];if(c=r(),ys){Yt(!0);try{r()}finally{Yt(!1)}}return a.memoizedState=[c,s],c}function Sh(r,s,a){return a===void 0||(Pr&1073741824)!==0&&(Xe&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=wv(),qe.lanes|=r,Eo|=r,a)}function w0(r,s,a,c){return ni(a,s)?a:rl.current!==null?(r=Sh(r,a,c),ni(r,s)||(jt=!0),r):(Pr&42)===0||(Pr&1073741824)!==0&&(Xe&261930)===0?(jt=!0,r.memoizedState=a):(r=wv(),qe.lanes|=r,Eo|=r,s)}function b0(r,s,a,c,v){var _=K.p;K.p=_!==0&&8>_?_:8;var x=X.T,b={};X.T=b,Ch(r,!1,s,a);try{var q=v(),Z=X.S;if(Z!==null&&Z(b,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=sw(q,c);Da(r,s,oe,ai(r))}else Da(r,s,c,ai(r))}catch(ue){Da(r,s,{then:function(){},status:"rejected",reason:ue},ai())}finally{K.p=_,x!==null&&b.types!==null&&(x.types=b.types),X.T=x}}function dw(){}function Ah(r,s,a,c){if(r.tag!==5)throw Error(i(476));var v=I0(r).queue;b0(r,v,s,he,a===null?dw:function(){return R0(r),a(c)})}function I0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:he},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function R0(r){var s=I0(r);s.next===null&&(s=r.alternate.memoizedState),Da(r,s.next.queue,{},ai())}function xh(){return yn(Qa)}function N0(){return qt().memoizedState}function M0(){return qt().memoizedState}function hw(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=ai();r=po(a);var c=mo(s,r,a);c!==null&&(Yn(c,s,a),ba(c,s,a)),s={cache:Zd()},r.payload=s;return}s=s.return}}function pw(r,s,a){var c=ai();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ic(r)?k0(s,a):(a=qd(r,s,a,c),a!==null&&(Yn(a,r,c),P0(a,s,c)))}function D0(r,s,a){var c=ai();Da(r,s,a,c)}function Da(r,s,a,c){var v={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ic(r))k0(s,v);else{var _=r.alternate;if(r.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var x=s.lastRenderedState,b=_(x,a);if(v.hasEagerState=!0,v.eagerState=b,ni(b,x))return ac(r,s,v,0),St===null&&lc(),!1}catch{}finally{}if(a=qd(r,s,v,c),a!==null)return Yn(a,r,c),P0(a,s,c),!0}return!1}function Ch(r,s,a,c){if(c={lane:2,revertLane:ip(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ic(r)){if(s)throw Error(i(479))}else s=qd(r,a,c,2),s!==null&&Yn(s,r,2)}function Ic(r){var s=r.alternate;return r===qe||s!==null&&s===qe}function k0(r,s){ol=Tc=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function P0(r,s,a){if((a&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Cr(r,a)}}var ka={readContext:yn,use:xc,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};ka.useEffectEvent=Ot;var V0={readContext:yn,use:xc,useCallback:function(r,s){return Dn().memoizedState=[r,s===void 0?null:s],r},useContext:yn,useEffect:v0,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,wc(4194308,4,S0.bind(null,s,r),a)},useLayoutEffect:function(r,s){return wc(4194308,4,r,s)},useInsertionEffect:function(r,s){wc(4,2,r,s)},useMemo:function(r,s){var a=Dn();s=s===void 0?null:s;var c=r();if(ys){Yt(!0);try{r()}finally{Yt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(r,s,a){var c=Dn();if(a!==void 0){var v=a(s);if(ys){Yt(!0);try{a(s)}finally{Yt(!1)}}}else v=s;return c.memoizedState=c.baseState=v,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:v},c.queue=r,r=r.dispatch=pw.bind(null,qe,r),[c.memoizedState,r]},useRef:function(r){var s=Dn();return r={current:r},s.memoizedState=r},useState:function(r){r=vh(r);var s=r.queue,a=D0.bind(null,qe,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(r,s){var a=Dn();return Sh(a,r,s)},useTransition:function(){var r=vh(!1);return r=b0.bind(null,qe,r.queue,!0,!1),Dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var c=qe,v=Dn();if(tt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),St===null)throw Error(i(349));(Xe&127)!==0||n0(c,s,a)}v.memoizedState=a;var _={value:a,getSnapshot:s};return v.queue=_,v0(r0.bind(null,c,_,r),[r]),c.flags|=2048,ll(9,{destroy:void 0},i0.bind(null,c,_,a,s),null),a},useId:function(){var r=Dn(),s=St.identifierPrefix;if(tt){var a=dr,c=fr;a=(c&~(1<<32-$e(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Sc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=lw++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:xh,useFormState:h0,useActionState:h0,useOptimistic:function(r){var s=Dn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Ch.bind(null,qe,!0,a),a.dispatch=s,[r,s]},useMemoCache:mh,useCacheRefresh:function(){return Dn().memoizedState=hw.bind(null,qe)},useEffectEvent:function(r){var s=Dn(),a={impl:r};return s.memoizedState=a,function(){if((ft&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},wh={readContext:yn,use:xc,useCallback:x0,useContext:yn,useEffect:Eh,useImperativeHandle:A0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:C0,useReducer:Cc,useRef:y0,useState:function(){return Cc(Vr)},useDebugValue:Th,useDeferredValue:function(r,s){var a=qt();return w0(a,_t.memoizedState,r,s)},useTransition:function(){var r=Cc(Vr)[0],s=qt().memoizedState;return[typeof r=="boolean"?r:Ma(r),s]},useSyncExternalStore:t0,useId:N0,useHostTransitionStatus:xh,useFormState:p0,useActionState:p0,useOptimistic:function(r,s){var a=qt();return l0(a,_t,r,s)},useMemoCache:mh,useCacheRefresh:M0};wh.useEffectEvent=_0;var L0={readContext:yn,use:xc,useCallback:x0,useContext:yn,useEffect:Eh,useImperativeHandle:A0,useInsertionEffect:E0,useLayoutEffect:T0,useMemo:C0,useReducer:yh,useRef:y0,useState:function(){return yh(Vr)},useDebugValue:Th,useDeferredValue:function(r,s){var a=qt();return _t===null?Sh(a,r,s):w0(a,_t.memoizedState,r,s)},useTransition:function(){var r=yh(Vr)[0],s=qt().memoizedState;return[typeof r=="boolean"?r:Ma(r),s]},useSyncExternalStore:t0,useId:N0,useHostTransitionStatus:xh,useFormState:g0,useActionState:g0,useOptimistic:function(r,s){var a=qt();return _t!==null?l0(a,_t,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:mh,useCacheRefresh:M0};L0.useEffectEvent=_0;function bh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ih={enqueueSetState:function(r,s,a){r=r._reactInternals;var c=ai(),v=po(c);v.payload=s,a!=null&&(v.callback=a),s=mo(r,v,c),s!==null&&(Yn(s,r,c),ba(s,r,c))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=ai(),v=po(c);v.tag=1,v.payload=s,a!=null&&(v.callback=a),s=mo(r,v,c),s!==null&&(Yn(s,r,c),ba(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=ai(),c=po(a);c.tag=2,s!=null&&(c.callback=s),s=mo(r,c,a),s!==null&&(Yn(s,r,a),ba(s,r,a))}};function U0(r,s,a,c,v,_,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,_,x):s.prototype&&s.prototype.isPureReactComponent?!_a(a,c)||!_a(v,_):!0}function O0(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ih.enqueueReplaceState(s,s.state,null)}function vs(r,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(r=r.defaultProps){a===s&&(a=E({},a));for(var v in r)a[v]===void 0&&(a[v]=r[v])}return a}function F0(r){sc(r)}function z0(r){console.error(r)}function B0(r){sc(r)}function Rc(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function q0(r,s,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Rh(r,s,a){return a=po(a),a.tag=3,a.payload={element:null},a.callback=function(){Rc(r,s)},a}function H0(r){return r=po(r),r.tag=3,r}function G0(r,s,a,c){var v=a.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;r.payload=function(){return v(_)},r.callback=function(){q0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){q0(s,a,c),typeof v!="function"&&(To===null?To=new Set([this]):To.add(this));var b=c.stack;this.componentDidCatch(c.value,{componentStack:b!==null?b:""})})}function mw(r,s,a,c,v){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&Zs(s,a,v,!0),a=ri.current,a!==null){switch(a.tag){case 31:case 13:return Ci===null?Bc():a.alternate===null&&Ft===0&&(Ft=3),a.flags&=-257,a.flags|=65536,a.lanes=v,c===gc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),ep(r,c,v)),!1;case 22:return a.flags|=65536,c===gc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),ep(r,c,v)),!1}throw Error(i(435,a.tag))}return ep(r,c,v),Bc(),!1}if(tt)return s=ri.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,c!==Kd&&(r=Error(i(422),{cause:c}),Sa(Ti(r,a)))):(c!==Kd&&(s=Error(i(423),{cause:c}),Sa(Ti(s,a))),r=r.current.alternate,r.flags|=65536,v&=-v,r.lanes|=v,c=Ti(c,a),v=Rh(r.stateNode,c,v),oh(r,v),Ft!==4&&(Ft=2)),!1;var _=Error(i(520),{cause:c});if(_=Ti(_,a),Ba===null?Ba=[_]:Ba.push(_),Ft!==4&&(Ft=2),s===null)return!0;c=Ti(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=v&-v,a.lanes|=r,r=Rh(a.stateNode,c,r),oh(a,r),!1;case 1:if(s=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(To===null||!To.has(_))))return a.flags|=65536,v&=-v,a.lanes|=v,v=H0(v),G0(v,r,a,c),oh(a,v),!1}a=a.return}while(a!==null);return!1}var Nh=Error(i(461)),jt=!1;function vn(r,s,a,c){s.child=r===null?Ky(s,null,a,c):gs(s,r.child,a,c)}function Y0(r,s,a,c,v){a=a.render;var _=s.ref;if("ref"in c){var x={};for(var b in c)b!=="ref"&&(x[b]=c[b])}else x=c;return ds(s),c=fh(r,s,a,x,_,v),b=dh(),r!==null&&!jt?(hh(r,s,v),Lr(r,s,v)):(tt&&b&&Jd(s),s.flags|=1,vn(r,s,c,v),s.child)}function J0(r,s,a,c,v){if(r===null){var _=a.type;return typeof _=="function"&&!Hd(_)&&_.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=_,$0(r,s,_,c,v)):(r=cc(a.type,null,c,s,s.mode,v),r.ref=s.ref,r.return=s,s.child=r)}if(_=r.child,!Oh(r,v)){var x=_.memoizedProps;if(a=a.compare,a=a!==null?a:_a,a(x,c)&&r.ref===s.ref)return Lr(r,s,v)}return s.flags|=1,r=Nr(_,c),r.ref=s.ref,r.return=s,s.child=r}function $0(r,s,a,c,v){if(r!==null){var _=r.memoizedProps;if(_a(_,c)&&r.ref===s.ref)if(jt=!1,s.pendingProps=c=_,Oh(r,v))(r.flags&131072)!==0&&(jt=!0);else return s.lanes=r.lanes,Lr(r,s,v)}return Mh(r,s,a,c,v)}function K0(r,s,a,c){var v=c.children,_=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,r!==null){for(c=s.child=r.child,v=0;c!==null;)v=v|c.lanes|c.childLanes,c=c.sibling;c=v&~_}else c=0,s.child=null;return Q0(r,s,_,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&pc(s,_!==null?_.cachePool:null),_!==null?jy(s,_):lh(),Wy(s);else return c=s.lanes=536870912,Q0(r,s,_!==null?_.baseLanes|a:a,a,c)}else _!==null?(pc(s,_.cachePool),jy(s,_),yo(),s.memoizedState=null):(r!==null&&pc(s,null),lh(),yo());return vn(r,s,v,a),s.child}function Pa(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Q0(r,s,a,c,v){var _=th();return _=_===null?null:{parent:Qt._currentValue,pool:_},s.memoizedState={baseLanes:a,cachePool:_},r!==null&&pc(s,null),lh(),Wy(s),r!==null&&Zs(r,s,c,!0),s.childLanes=v,null}function Nc(r,s){return s=Dc({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function X0(r,s,a){return gs(s,r.child,null,a),r=Nc(s,s.pendingProps),r.flags|=2,oi(s),s.memoizedState=null,r}function gw(r,s,a){var c=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(tt){if(c.mode==="hidden")return r=Nc(s,c),s.lanes=536870912,Pa(null,r);if(uh(s),(r=bt)?(r=a_(r,xi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ao!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},a=ky(r),a.return=s,s.child=a,gn=s,bt=null)):r=null,r===null)throw co(s);return s.lanes=536870912,null}return Nc(s,c)}var _=r.memoizedState;if(_!==null){var x=_.dehydrated;if(uh(s),v)if(s.flags&256)s.flags&=-257,s=X0(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(jt||Zs(r,s,a,!1),v=(a&r.childLanes)!==0,jt||v){if(c=St,c!==null&&(x=ta(c,a),x!==0&&x!==_.retryLane))throw _.retryLane=x,as(r,x),Yn(c,r,x),Nh;Bc(),s=X0(r,s,a)}else r=_.treeContext,bt=wi(x.nextSibling),gn=s,tt=!0,uo=null,xi=!1,r!==null&&Ly(s,r),s=Nc(s,c),s.flags|=4096;return s}return r=Nr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Mc(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function Mh(r,s,a,c,v){return ds(s),a=fh(r,s,a,c,void 0,v),c=dh(),r!==null&&!jt?(hh(r,s,v),Lr(r,s,v)):(tt&&c&&Jd(s),s.flags|=1,vn(r,s,a,v),s.child)}function j0(r,s,a,c,v,_){return ds(s),s.updateQueue=null,a=e0(s,c,a,v),Zy(r),c=dh(),r!==null&&!jt?(hh(r,s,_),Lr(r,s,_)):(tt&&c&&Jd(s),s.flags|=1,vn(r,s,a,_),s.child)}function W0(r,s,a,c,v){if(ds(s),s.stateNode===null){var _=Qs,x=a.contextType;typeof x=="object"&&x!==null&&(_=yn(x)),_=new a(c,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ih,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=c,_.state=s.memoizedState,_.refs={},ih(s),x=a.contextType,_.context=typeof x=="object"&&x!==null?yn(x):Qs,_.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(bh(s,a,x,c),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(x=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),x!==_.state&&Ih.enqueueReplaceState(_,_.state,null),Ra(s,c,_,v),Ia(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){_=s.stateNode;var b=s.memoizedProps,q=vs(a,b);_.props=q;var Z=_.context,oe=a.contextType;x=Qs,typeof oe=="object"&&oe!==null&&(x=yn(oe));var ue=a.getDerivedStateFromProps;oe=typeof ue=="function"||typeof _.getSnapshotBeforeUpdate=="function",b=s.pendingProps!==b,oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b||Z!==x)&&O0(s,_,c,x),ho=!1;var ee=s.memoizedState;_.state=ee,Ra(s,c,_,v),Ia(),Z=s.memoizedState,b||ee!==Z||ho?(typeof ue=="function"&&(bh(s,a,ue,c),Z=s.memoizedState),(q=ho||U0(s,a,q,c,ee,Z,x))?(oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),_.props=c,_.state=Z,_.context=x,c=q):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{_=s.stateNode,rh(r,s),x=s.memoizedProps,oe=vs(a,x),_.props=oe,ue=s.pendingProps,ee=_.context,Z=a.contextType,q=Qs,typeof Z=="object"&&Z!==null&&(q=yn(Z)),b=a.getDerivedStateFromProps,(Z=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x!==ue||ee!==q)&&O0(s,_,c,q),ho=!1,ee=s.memoizedState,_.state=ee,Ra(s,c,_,v),Ia();var ne=s.memoizedState;x!==ue||ee!==ne||ho||r!==null&&r.dependencies!==null&&dc(r.dependencies)?(typeof b=="function"&&(bh(s,a,b,c),ne=s.memoizedState),(oe=ho||U0(s,a,oe,c,ee,ne,q)||r!==null&&r.dependencies!==null&&dc(r.dependencies))?(Z||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ne,q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ne,q)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),_.props=c,_.state=ne,_.context=q,c=oe):(typeof _.componentDidUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&ee===r.memoizedState||(s.flags|=1024),c=!1)}return _=c,Mc(r,s),c=(s.flags&128)!==0,_||c?(_=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,r!==null&&c?(s.child=gs(s,r.child,null,v),s.child=gs(s,null,a,v)):vn(r,s,a,v),s.memoizedState=_.state,r=s.child):r=Lr(r,s,v),r}function Z0(r,s,a,c){return cs(),s.flags|=256,vn(r,s,a,c),s.child}var Dh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(r){return{baseLanes:r,cachePool:qy()}}function Ph(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=li),r}function ev(r,s,a){var c=s.pendingProps,v=!1,_=(s.flags&128)!==0,x;if((x=_)||(x=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),x&&(v=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(tt){if(v?go(s):yo(),(r=bt)?(r=a_(r,xi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:ao!==null?{id:fr,overflow:dr}:null,retryLane:536870912,hydrationErrors:null},a=ky(r),a.return=s,s.child=a,gn=s,bt=null)):r=null,r===null)throw co(s);return gp(r)?s.lanes=32:s.lanes=536870912,null}var b=c.children;return c=c.fallback,v?(yo(),v=s.mode,b=Dc({mode:"hidden",children:b},v),c=us(c,v,a,null),b.return=s,c.return=s,b.sibling=c,s.child=b,c=s.child,c.memoizedState=kh(a),c.childLanes=Ph(r,x,a),s.memoizedState=Dh,Pa(null,c)):(go(s),Vh(s,b))}var q=r.memoizedState;if(q!==null&&(b=q.dehydrated,b!==null)){if(_)s.flags&256?(go(s),s.flags&=-257,s=Lh(r,s,a)):s.memoizedState!==null?(yo(),s.child=r.child,s.flags|=128,s=null):(yo(),b=c.fallback,v=s.mode,c=Dc({mode:"visible",children:c.children},v),b=us(b,v,a,null),b.flags|=2,c.return=s,b.return=s,c.sibling=b,s.child=c,gs(s,r.child,null,a),c=s.child,c.memoizedState=kh(a),c.childLanes=Ph(r,x,a),s.memoizedState=Dh,s=Pa(null,c));else if(go(s),gp(b)){if(x=b.nextSibling&&b.nextSibling.dataset,x)var Z=x.dgst;x=Z,c=Error(i(419)),c.stack="",c.digest=x,Sa({value:c,source:null,stack:null}),s=Lh(r,s,a)}else if(jt||Zs(r,s,a,!1),x=(a&r.childLanes)!==0,jt||x){if(x=St,x!==null&&(c=ta(x,a),c!==0&&c!==q.retryLane))throw q.retryLane=c,as(r,c),Yn(x,r,c),Nh;mp(b)||Bc(),s=Lh(r,s,a)}else mp(b)?(s.flags|=192,s.child=r.child,s=null):(r=q.treeContext,bt=wi(b.nextSibling),gn=s,tt=!0,uo=null,xi=!1,r!==null&&Ly(s,r),s=Vh(s,c.children),s.flags|=4096);return s}return v?(yo(),b=c.fallback,v=s.mode,q=r.child,Z=q.sibling,c=Nr(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?b=Nr(Z,b):(b=us(b,v,a,null),b.flags|=2),b.return=s,c.return=s,c.sibling=b,s.child=c,Pa(null,c),c=s.child,b=r.child.memoizedState,b===null?b=kh(a):(v=b.cachePool,v!==null?(q=Qt._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=qy(),b={baseLanes:b.baseLanes|a,cachePool:v}),c.memoizedState=b,c.childLanes=Ph(r,x,a),s.memoizedState=Dh,Pa(r.child,c)):(go(s),a=r.child,r=a.sibling,a=Nr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=a,s.memoizedState=null,a)}function Vh(r,s){return s=Dc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Dc(r,s){return r=ii(22,r,null,s),r.lanes=0,r}function Lh(r,s,a){return gs(s,r.child,null,a),r=Vh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tv(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),jd(r.return,s,a)}function Uh(r,s,a,c,v,_){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:v,treeForkCount:_}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=v,x.treeForkCount=_)}function nv(r,s,a){var c=s.pendingProps,v=c.revealOrder,_=c.tail;c=c.children;var x=Bt.current,b=(x&2)!==0;if(b?(x=x&1|2,s.flags|=128):x&=1,k(Bt,x),vn(r,s,c,a),c=tt?Ta:0,!b&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tv(r,a,s);else if(r.tag===19)tv(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(v){case"forwards":for(a=s.child,v=null;a!==null;)r=a.alternate,r!==null&&Ec(r)===null&&(v=a),a=a.sibling;a=v,a===null?(v=s.child,s.child=null):(v=a.sibling,a.sibling=null),Uh(s,!1,v,a,_,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,v=s.child,s.child=null;v!==null;){if(r=v.alternate,r!==null&&Ec(r)===null){s.child=v;break}r=v.sibling,v.sibling=a,a=v,v=r}Uh(s,!0,a,null,_,c);break;case"together":Uh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Lr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Eo|=s.lanes,(a&s.childLanes)===0)if(r!==null){if(Zs(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=Nr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=Nr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Oh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&dc(r)))}function yw(r,s,a){switch(s.tag){case 3:ut(s,s.stateNode.containerInfo),fo(s,Qt,r.memoizedState.cache),cs();break;case 27:case 5:rn(s);break;case 4:ut(s,s.stateNode.containerInfo);break;case 10:fo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,uh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(go(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ev(r,s,a):(go(s),r=Lr(r,s,a),r!==null?r.sibling:null);go(s);break;case 19:var v=(r.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||(Zs(r,s,a,!1),c=(a&s.childLanes)!==0),v){if(c)return nv(r,s,a);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),k(Bt,Bt.current),c)break;return null;case 22:return s.lanes=0,K0(r,s,a,s.pendingProps);case 24:fo(s,Qt,r.memoizedState.cache)}return Lr(r,s,a)}function iv(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)jt=!0;else{if(!Oh(r,a)&&(s.flags&128)===0)return jt=!1,yw(r,s,a);jt=(r.flags&131072)!==0}else jt=!1,tt&&(s.flags&1048576)!==0&&Vy(s,Ta,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=ps(s.elementType),s.type=r,typeof r=="function")Hd(r)?(c=vs(r,c),s.tag=1,s=W0(null,s,r,c,a)):(s.tag=0,s=Mh(null,s,r,c,a));else{if(r!=null){var v=r.$$typeof;if(v===le){s.tag=11,s=Y0(null,s,r,c,a);break e}else if(v===N){s.tag=14,s=J0(null,s,r,c,a);break e}}throw s=ye(r)||r,Error(i(306,s,""))}}return s;case 0:return Mh(r,s,s.type,s.pendingProps,a);case 1:return c=s.type,v=vs(c,s.pendingProps),W0(r,s,c,v,a);case 3:e:{if(ut(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var _=s.memoizedState;v=_.element,rh(r,s),Ra(s,c,null,a);var x=s.memoizedState;if(c=x.cache,fo(s,Qt,c),c!==_.cache&&Wd(s,[Qt],a,!0),Ia(),c=x.element,_.isDehydrated)if(_={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Z0(r,s,c,a);break e}else if(c!==v){v=Ti(Error(i(424)),s),Sa(v),s=Z0(r,s,c,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(bt=wi(r.firstChild),gn=s,tt=!0,uo=null,xi=!0,a=Ky(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cs(),c===v){s=Lr(r,s,a);break e}vn(r,s,c,a)}s=s.child}return s;case 26:return Mc(r,s),r===null?(a=p_(s.type,null,s.pendingProps,null))?s.memoizedState=a:tt||(a=s.type,r=s.pendingProps,c=Kc(Ce.current).createElement(a),c[Jt]=s,c[un]=r,_n(c,a,r),$t(c),s.stateNode=c):s.memoizedState=p_(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return rn(s),r===null&&tt&&(c=s.stateNode=f_(s.type,s.pendingProps,Ce.current),gn=s,xi=!0,v=bt,Co(s.type)?(yp=v,bt=wi(c.firstChild)):bt=v),vn(r,s,s.pendingProps.children,a),Mc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&tt&&((v=c=bt)&&(c=$w(c,s.type,s.pendingProps,xi),c!==null?(s.stateNode=c,gn=s,bt=wi(c.firstChild),xi=!1,v=!0):v=!1),v||co(s)),rn(s),v=s.type,_=s.pendingProps,x=r!==null?r.memoizedProps:null,c=_.children,dp(v,_)?c=null:x!==null&&dp(v,x)&&(s.flags|=32),s.memoizedState!==null&&(v=fh(r,s,aw,null,null,a),Qa._currentValue=v),Mc(r,s),vn(r,s,c,a),s.child;case 6:return r===null&&tt&&((r=a=bt)&&(a=Kw(a,s.pendingProps,xi),a!==null?(s.stateNode=a,gn=s,bt=null,r=!0):r=!1),r||co(s)),null;case 13:return ev(r,s,a);case 4:return ut(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=gs(s,null,c,a):vn(r,s,c,a),s.child;case 11:return Y0(r,s,s.type,s.pendingProps,a);case 7:return vn(r,s,s.pendingProps,a),s.child;case 8:return vn(r,s,s.pendingProps.children,a),s.child;case 12:return vn(r,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,fo(s,s.type,c.value),vn(r,s,c.children,a),s.child;case 9:return v=s.type._context,c=s.pendingProps.children,ds(s),v=yn(v),c=c(v),s.flags|=1,vn(r,s,c,a),s.child;case 14:return J0(r,s,s.type,s.pendingProps,a);case 15:return $0(r,s,s.type,s.pendingProps,a);case 19:return nv(r,s,a);case 31:return gw(r,s,a);case 22:return K0(r,s,a,s.pendingProps);case 24:return ds(s),c=yn(Qt),r===null?(v=th(),v===null&&(v=St,_=Zd(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=a),v=_),s.memoizedState={parent:c,cache:v},ih(s),fo(s,Qt,v)):((r.lanes&a)!==0&&(rh(r,s),Ra(s,null,null,a),Ia()),v=r.memoizedState,_=s.memoizedState,v.parent!==c?(v={parent:c,cache:c},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),fo(s,Qt,c)):(c=_.cache,fo(s,Qt,c),c!==v.cache&&Wd(s,[Qt],a,!0))),vn(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ur(r){r.flags|=4}function Fh(r,s,a,c,v){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(v&335544128)===v)if(r.stateNode.complete)r.flags|=8192;else if(Nv())r.flags|=8192;else throw ms=gc,nh}else r.flags&=-16777217}function rv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!__(s))if(Nv())r.flags|=8192;else throw ms=gc,nh}function kc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?fe():536870912,r.lanes|=s,fl|=s)}function Va(r,s){if(!tt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function It(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags&65011712,c|=v.flags&65011712,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)a|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function vw(r,s,a){var c=s.pendingProps;switch($d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return It(s),null;case 3:return a=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),kr(Qt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Ws(s)?Ur(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qd())),It(s),null;case 26:var v=s.type,_=s.memoizedState;return r===null?(Ur(s),_!==null?(It(s),rv(s,_)):(It(s),Fh(s,v,null,c,a))):_?_!==r.memoizedState?(Ur(s),It(s),rv(s,_)):(It(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Ur(s),It(s),Fh(s,v,r,c,a)),null;case 27:if(An(s),a=Ce.current,v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ur(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}r=_e.current,Ws(s)?Uy(s):(r=f_(v,c,a),s.stateNode=r,Ur(s))}return It(s),null;case 5:if(An(s),v=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Ur(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return It(s),null}if(_=_e.current,Ws(s))Uy(s);else{var x=Kc(Ce.current);switch(_){case 1:_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":_=x.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":_=x.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":_=x.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?_.multiple=!0:c.size&&(_.size=c.size);break;default:_=typeof c.is=="string"?x.createElement(v,{is:c.is}):x.createElement(v)}}_[Jt]=s,_[un]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)_.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=_;e:switch(_n(_,v,c),v){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ur(s)}}return It(s),Fh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Ur(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ce.current,Ws(s)){if(r=s.stateNode,a=s.memoizedProps,c=null,v=gn,v!==null)switch(v.tag){case 27:case 5:c=v.memoizedProps}r[Jt]=s,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||e_(r.nodeValue,a)),r||co(s,!0)}else r=Kc(r).createTextNode(c),r[Jt]=s,s.stateNode=r}return It(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(c=Ws(s),a!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Jt]=s}else cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),r=!1}else a=Qd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?(oi(s),s):(oi(s),null);if((s.flags&128)!==0)throw Error(i(558))}return It(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(v=Ws(s),c!==null&&c.dehydrated!==null){if(r===null){if(!v)throw Error(i(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[Jt]=s}else cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;It(s),v=!1}else v=Qd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(oi(s),s):(oi(s),null)}return oi(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=s.child,v=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(v=c.alternate.memoizedState.cachePool.pool),_=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(_=c.memoizedState.cachePool.pool),_!==v&&(c.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),kc(s,s.updateQueue),It(s),null);case 4:return ot(),r===null&&lp(s.stateNode.containerInfo),It(s),null;case 10:return kr(s.type),It(s),null;case 19:if(ie(Bt),c=s.memoizedState,c===null)return It(s),null;if(v=(s.flags&128)!==0,_=c.rendering,_===null)if(v)Va(c,!1);else{if(Ft!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=Ec(r),_!==null){for(s.flags|=128,Va(c,!1),r=_.updateQueue,s.updateQueue=r,kc(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Dy(a,r),a=a.sibling;return k(Bt,Bt.current&1|2),tt&&Mr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&Vt()>Oc&&(s.flags|=128,v=!0,Va(c,!1),s.lanes=4194304)}else{if(!v)if(r=Ec(_),r!==null){if(s.flags|=128,v=!0,r=r.updateQueue,s.updateQueue=r,kc(s,r),Va(c,!0),c.tail===null&&c.tailMode==="hidden"&&!_.alternate&&!tt)return It(s),null}else 2*Vt()-c.renderingStartTime>Oc&&a!==536870912&&(s.flags|=128,v=!0,Va(c,!1),s.lanes=4194304);c.isBackwards?(_.sibling=s.child,s.child=_):(r=c.last,r!==null?r.sibling=_:s.child=_,c.last=_)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Vt(),r.sibling=null,a=Bt.current,k(Bt,v?a&1|2:a&1),tt&&Mr(s,c.treeForkCount),r):(It(s),null);case 22:case 23:return oi(s),ah(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),a=s.updateQueue,a!==null&&kc(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),r!==null&&ie(hs),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),kr(Qt),It(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function _w(r,s){switch($d(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return kr(Qt),ot(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return An(s),null;case 31:if(s.memoizedState!==null){if(oi(s),s.alternate===null)throw Error(i(340));cs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(oi(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));cs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(Bt),null;case 4:return ot(),null;case 10:return kr(s.type),null;case 22:case 23:return oi(s),ah(),r!==null&&ie(hs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return kr(Qt),null;case 25:return null;default:return null}}function ov(r,s){switch($d(s),s.tag){case 3:kr(Qt),ot();break;case 26:case 27:case 5:An(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&oi(s);break;case 13:oi(s);break;case 19:ie(Bt);break;case 10:kr(s.type);break;case 22:case 23:oi(s),ah(),r!==null&&ie(hs);break;case 24:kr(Qt)}}function La(r,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var v=c.next;a=v;do{if((a.tag&r)===r){c=void 0;var _=a.create,x=a.inst;c=_(),x.destroy=c}a=a.next}while(a!==v)}}catch(b){yt(s,s.return,b)}}function vo(r,s,a){try{var c=s.updateQueue,v=c!==null?c.lastEffect:null;if(v!==null){var _=v.next;c=_;do{if((c.tag&r)===r){var x=c.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,v=s;var q=a,Z=b;try{Z()}catch(oe){yt(v,q,oe)}}}c=c.next}while(c!==_)}}catch(oe){yt(s,s.return,oe)}}function sv(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{Xy(s,a)}catch(c){yt(r,r.return,c)}}}function lv(r,s,a){a.props=vs(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){yt(r,s,c)}}function Ua(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(v){yt(r,s,v)}}function hr(r,s){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(v){yt(r,s,v)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(v){yt(r,s,v)}else a.current=null}function av(r){var s=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(v){yt(r,r.return,v)}}function zh(r,s,a){try{var c=r.stateNode;Bw(c,r.type,a,s),c[un]=s}catch(v){yt(r,r.return,v)}}function uv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Co(r.type)||r.tag===4}function Bh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||uv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Co(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function qh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Oi));else if(c!==4&&(c===27&&Co(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(qh(r,s,a),r=r.sibling;r!==null;)qh(r,s,a),r=r.sibling}function Pc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(c===27&&Co(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Pc(r,s,a),r=r.sibling;r!==null;)Pc(r,s,a),r=r.sibling}function cv(r){var s=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);_n(s,c,a),s[Jt]=r,s[un]=a}catch(_){yt(r,r.return,_)}}var Or=!1,Wt=!1,Hh=!1,fv=typeof WeakSet=="function"?WeakSet:Set,fn=null;function Ew(r,s){if(r=r.containerInfo,cp=tf,r=Ay(r),Ld(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var v=c.anchorOffset,_=c.focusNode;c=c.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var x=0,b=-1,q=-1,Z=0,oe=0,ue=r,ee=null;t:for(;;){for(var ne;ue!==a||v!==0&&ue.nodeType!==3||(b=x+v),ue!==_||c!==0&&ue.nodeType!==3||(q=x+c),ue.nodeType===3&&(x+=ue.nodeValue.length),(ne=ue.firstChild)!==null;)ee=ue,ue=ne;for(;;){if(ue===r)break t;if(ee===a&&++Z===v&&(b=x),ee===_&&++oe===c&&(q=x),(ne=ue.nextSibling)!==null)break;ue=ee,ee=ue.parentNode}ue=ne}a=b===-1||q===-1?null:{start:b,end:q}}else a=null}a=a||{start:0,end:0}}else a=null;for(fp={focusedElem:r,selectionRange:a},tf=!1,fn=s;fn!==null;)if(s=fn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fn=r;else for(;fn!==null;){switch(s=fn,_=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)v=r[a],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&_!==null){r=void 0,a=s,v=_.memoizedProps,_=_.memoizedState,c=a.stateNode;try{var xe=vs(a.type,v);r=c.getSnapshotBeforeUpdate(xe,_),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){yt(a,a.return,De)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)pp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":pp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,fn=r;break}fn=s.return}}function dv(r,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:zr(r,a),c&4&&La(5,a);break;case 1:if(zr(r,a),c&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(x){yt(a,a.return,x)}else{var v=vs(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(v,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){yt(a,a.return,x)}}c&64&&sv(a),c&512&&Ua(a,a.return);break;case 3:if(zr(r,a),c&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Xy(r,s)}catch(x){yt(a,a.return,x)}}break;case 27:s===null&&c&4&&cv(a);case 26:case 5:zr(r,a),s===null&&c&4&&av(a),c&512&&Ua(a,a.return);break;case 12:zr(r,a);break;case 31:zr(r,a),c&4&&mv(r,a);break;case 13:zr(r,a),c&4&&gv(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=Rw.bind(null,a),Qw(r,a))));break;case 22:if(c=a.memoizedState!==null||Or,!c){s=s!==null&&s.memoizedState!==null||Wt,v=Or;var _=Wt;Or=c,(Wt=s)&&!_?Br(r,a,(a.subtreeFlags&8772)!==0):zr(r,a),Or=v,Wt=_}break;case 30:break;default:zr(r,a)}}function hv(r){var s=r.alternate;s!==null&&(r.alternate=null,hv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Vs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,Bn=!1;function Fr(r,s,a){for(a=a.child;a!==null;)pv(r,s,a),a=a.sibling}function pv(r,s,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Dt,a)}catch{}switch(a.tag){case 26:Wt||hr(a,s),Fr(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Wt||hr(a,s);var c=Mt,v=Bn;Co(a.type)&&(Mt=a.stateNode,Bn=!1),Fr(r,s,a),Ja(a.stateNode),Mt=c,Bn=v;break;case 5:Wt||hr(a,s);case 6:if(c=Mt,v=Bn,Mt=null,Fr(r,s,a),Mt=c,Bn=v,Mt!==null)if(Bn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(a.stateNode)}catch(_){yt(a,s,_)}else try{Mt.removeChild(a.stateNode)}catch(_){yt(a,s,_)}break;case 18:Mt!==null&&(Bn?(r=Mt,s_(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),_l(r)):s_(Mt,a.stateNode));break;case 4:c=Mt,v=Bn,Mt=a.stateNode.containerInfo,Bn=!0,Fr(r,s,a),Mt=c,Bn=v;break;case 0:case 11:case 14:case 15:vo(2,a,s),Wt||vo(4,a,s),Fr(r,s,a);break;case 1:Wt||(hr(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&lv(a,s,c)),Fr(r,s,a);break;case 21:Fr(r,s,a);break;case 22:Wt=(c=Wt)||a.memoizedState!==null,Fr(r,s,a),Wt=c;break;default:Fr(r,s,a)}}function mv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{_l(r)}catch(a){yt(s,s.return,a)}}}function gv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{_l(r)}catch(a){yt(s,s.return,a)}}function Tw(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new fv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new fv),s;default:throw Error(i(435,r.tag))}}function Vc(r,s){var a=Tw(r);s.forEach(function(c){if(!a.has(c)){a.add(c);var v=Nw.bind(null,r,c);c.then(v,v)}})}function qn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var v=a[c],_=r,x=s,b=x;e:for(;b!==null;){switch(b.tag){case 27:if(Co(b.type)){Mt=b.stateNode,Bn=!1;break e}break;case 5:Mt=b.stateNode,Bn=!1;break e;case 3:case 4:Mt=b.stateNode.containerInfo,Bn=!0;break e}b=b.return}if(Mt===null)throw Error(i(160));pv(_,x,v),Mt=null,Bn=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)yv(s,r),s=s.sibling}var Gi=null;function yv(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:qn(s,r),Hn(r),c&4&&(vo(3,r,r.return),La(3,r),vo(5,r,r.return));break;case 1:qn(s,r),Hn(r),c&512&&(Wt||a===null||hr(a,a.return)),c&64&&Or&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var v=Gi;if(qn(s,r),Hn(r),c&512&&(Wt||a===null||hr(a,a.return)),c&4){var _=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,v=v.ownerDocument||v;t:switch(c){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Zi]||_[Jt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(c),v.head.insertBefore(_,v.querySelector("head > title"))),_n(_,c,a),_[Jt]=r,$t(_),c=_;break e;case"link":var x=y_("link","href",v).get(c+(a.href||""));if(x){for(var b=0;b<x.length;b++)if(_=x[b],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(b,1);break t}}_=v.createElement(c),_n(_,c,a),v.head.appendChild(_);break;case"meta":if(x=y_("meta","content",v).get(c+(a.content||""))){for(b=0;b<x.length;b++)if(_=x[b],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(b,1);break t}}_=v.createElement(c),_n(_,c,a),v.head.appendChild(_);break;default:throw Error(i(468,c))}_[Jt]=r,$t(_),c=_}r.stateNode=c}else v_(v,r.type,r.stateNode);else r.stateNode=g_(v,c,r.memoizedProps);else _!==c?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,c===null?v_(v,r.type,r.stateNode):g_(v,c,r.memoizedProps)):c===null&&r.stateNode!==null&&zh(r,r.memoizedProps,a.memoizedProps)}break;case 27:qn(s,r),Hn(r),c&512&&(Wt||a===null||hr(a,a.return)),a!==null&&c&4&&zh(r,r.memoizedProps,a.memoizedProps);break;case 5:if(qn(s,r),Hn(r),c&512&&(Wt||a===null||hr(a,a.return)),r.flags&32){v=r.stateNode;try{zn(v,"")}catch(xe){yt(r,r.return,xe)}}c&4&&r.stateNode!=null&&(v=r.memoizedProps,zh(r,v,a!==null?a.memoizedProps:v)),c&1024&&(Hh=!0);break;case 6:if(qn(s,r),Hn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(xe){yt(r,r.return,xe)}}break;case 3:if(jc=null,v=Gi,Gi=Qc(s.containerInfo),qn(s,r),Gi=v,Hn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{_l(s.containerInfo)}catch(xe){yt(r,r.return,xe)}Hh&&(Hh=!1,vv(r));break;case 4:c=Gi,Gi=Qc(r.stateNode.containerInfo),qn(s,r),Hn(r),Gi=c;break;case 12:qn(s,r),Hn(r);break;case 31:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Vc(r,c)));break;case 13:qn(s,r),Hn(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=Vt()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Vc(r,c)));break;case 22:v=r.memoizedState!==null;var q=a!==null&&a.memoizedState!==null,Z=Or,oe=Wt;if(Or=Z||v,Wt=oe||q,qn(s,r),Wt=oe,Or=Z,Hn(r),c&8192)e:for(s=r.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(a===null||q||Or||Wt||_s(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){q=a=s;try{if(_=q.stateNode,v)x=_.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{b=q.stateNode;var ue=q.memoizedProps.style,ee=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;b.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(xe){yt(q,q.return,xe)}}}else if(s.tag===6){if(a===null){q=s;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(xe){yt(q,q.return,xe)}}}else if(s.tag===18){if(a===null){q=s;try{var ne=q.stateNode;v?l_(ne,!0):l_(q.stateNode,!1)}catch(xe){yt(q,q.return,xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Vc(r,a))));break;case 19:qn(s,r),Hn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Vc(r,c)));break;case 30:break;case 21:break;default:qn(s,r),Hn(r)}}function Hn(r){var s=r.flags;if(s&2){try{for(var a,c=r.return;c!==null;){if(uv(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var v=a.stateNode,_=Bh(r);Pc(r,_,v);break;case 5:var x=a.stateNode;a.flags&32&&(zn(x,""),a.flags&=-33);var b=Bh(r);Pc(r,b,x);break;case 3:case 4:var q=a.stateNode.containerInfo,Z=Bh(r);qh(r,Z,q);break;default:throw Error(i(161))}}catch(oe){yt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function zr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dv(r,s.alternate,s),s=s.sibling}function _s(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:vo(4,s,s.return),_s(s);break;case 1:hr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&lv(s,s.return,a),_s(s);break;case 27:Ja(s.stateNode);case 26:case 5:hr(s,s.return),_s(s);break;case 22:s.memoizedState===null&&_s(s);break;case 30:_s(s);break;default:_s(s)}r=r.sibling}}function Br(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,v=r,_=s,x=_.flags;switch(_.tag){case 0:case 11:case 15:Br(v,_,a),La(4,_);break;case 1:if(Br(v,_,a),c=_,v=c.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(Z){yt(c,c.return,Z)}if(c=_,v=c.updateQueue,v!==null){var b=c.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)Qy(q[v],b)}catch(Z){yt(c,c.return,Z)}}a&&x&64&&sv(_),Ua(_,_.return);break;case 27:cv(_);case 26:case 5:Br(v,_,a),a&&c===null&&x&4&&av(_),Ua(_,_.return);break;case 12:Br(v,_,a);break;case 31:Br(v,_,a),a&&x&4&&mv(v,_);break;case 13:Br(v,_,a),a&&x&4&&gv(v,_);break;case 22:_.memoizedState===null&&Br(v,_,a),Ua(_,_.return);break;case 30:break;default:Br(v,_,a)}s=s.sibling}}function Gh(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&Aa(a))}function Yh(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Aa(r))}function Yi(r,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)_v(r,s,a,c),s=s.sibling}function _v(r,s,a,c){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(r,s,a,c),v&2048&&La(9,s);break;case 1:Yi(r,s,a,c);break;case 3:Yi(r,s,a,c),v&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Aa(r)));break;case 12:if(v&2048){Yi(r,s,a,c),r=s.stateNode;try{var _=s.memoizedProps,x=_.id,b=_.onPostCommit;typeof b=="function"&&b(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(q){yt(s,s.return,q)}}else Yi(r,s,a,c);break;case 31:Yi(r,s,a,c);break;case 13:Yi(r,s,a,c);break;case 23:break;case 22:_=s.stateNode,x=s.alternate,s.memoizedState!==null?_._visibility&2?Yi(r,s,a,c):Oa(r,s):_._visibility&2?Yi(r,s,a,c):(_._visibility|=2,al(r,s,a,c,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Gh(x,s);break;case 24:Yi(r,s,a,c),v&2048&&Yh(s.alternate,s);break;default:Yi(r,s,a,c)}}function al(r,s,a,c,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=r,x=s,b=a,q=c,Z=x.flags;switch(x.tag){case 0:case 11:case 15:al(_,x,b,q,v),La(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?al(_,x,b,q,v):Oa(_,x):(oe._visibility|=2,al(_,x,b,q,v)),v&&Z&2048&&Gh(x.alternate,x);break;case 24:al(_,x,b,q,v),v&&Z&2048&&Yh(x.alternate,x);break;default:al(_,x,b,q,v)}s=s.sibling}}function Oa(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,c=s,v=c.flags;switch(c.tag){case 22:Oa(a,c),v&2048&&Gh(c.alternate,c);break;case 24:Oa(a,c),v&2048&&Yh(c.alternate,c);break;default:Oa(a,c)}s=s.sibling}}var Fa=8192;function ul(r,s,a){if(r.subtreeFlags&Fa)for(r=r.child;r!==null;)Ev(r,s,a),r=r.sibling}function Ev(r,s,a){switch(r.tag){case 26:ul(r,s,a),r.flags&Fa&&r.memoizedState!==null&&lb(a,Gi,r.memoizedState,r.memoizedProps);break;case 5:ul(r,s,a);break;case 3:case 4:var c=Gi;Gi=Qc(r.stateNode.containerInfo),ul(r,s,a),Gi=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Fa,Fa=16777216,ul(r,s,a),Fa=c):ul(r,s,a));break;default:ul(r,s,a)}}function Tv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function za(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,Av(c,r)}Tv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Sv(r),r=r.sibling}function Sv(r){switch(r.tag){case 0:case 11:case 15:za(r),r.flags&2048&&vo(9,r,r.return);break;case 3:za(r);break;case 12:za(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Lc(r)):za(r);break;default:za(r)}}function Lc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];fn=c,Av(c,r)}Tv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:vo(8,s,s.return),Lc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(s));break;default:Lc(s)}r=r.sibling}}function Av(r,s){for(;fn!==null;){var a=fn;switch(a.tag){case 0:case 11:case 15:vo(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Aa(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,fn=c;else e:for(a=r;fn!==null;){c=fn;var v=c.sibling,_=c.return;if(hv(c),c===a){fn=null;break e}if(v!==null){v.return=_,fn=v;break e}fn=_}}}var Sw={getCacheForType:function(r){var s=yn(Qt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return yn(Qt).controller.signal}},Aw=typeof WeakMap=="function"?WeakMap:Map,ft=0,St=null,Ke=null,Xe=0,gt=0,si=null,_o=!1,cl=!1,Jh=!1,qr=0,Ft=0,Eo=0,Es=0,$h=0,li=0,fl=0,Ba=null,Gn=null,Kh=!1,Uc=0,xv=0,Oc=1/0,Fc=null,To=null,on=0,So=null,dl=null,Hr=0,Qh=0,Xh=null,Cv=null,qa=0,jh=null;function ai(){return(ft&2)!==0&&Xe!==0?Xe&-Xe:X.T!==null?ip():zu()}function wv(){if(li===0)if((Xe&536870912)===0||tt){var r=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),li=r}else li=536870912;return r=ri.current,r!==null&&(r.flags|=32),li}function Yn(r,s,a){(r===St&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(hl(r,0),Ao(r,Xe,li,!1)),Ut(r,a),((ft&2)===0||r!==St)&&(r===St&&((ft&2)===0&&(Es|=a),Ft===4&&Ao(r,Xe,li,!1)),pr(r))}function bv(r,s,a){if((ft&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&r.expiredLanes)===0||Nn(r,s),v=c?ww(r,s):Zh(r,s,!0),_=c;do{if(v===0){cl&&!c&&Ao(r,s,0,!1);break}else{if(a=r.current.alternate,_&&!xw(a)){v=Zh(r,s,!1),_=!1;continue}if(v===2){if(_=s,r.errorRecoveryDisabledLanes&_)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var b=r;v=Ba;var q=b.current.memoizedState.isDehydrated;if(q&&(hl(b,x).flags|=256),x=Zh(b,x,!1),x!==2){if(Jh&&!q){b.errorRecoveryDisabledLanes|=_,Es|=_,v=4;break e}_=Gn,Gn=v,_!==null&&(Gn===null?Gn=_:Gn.push.apply(Gn,_))}v=x}if(_=!1,v!==2)continue}}if(v===1){hl(r,0),Ao(r,s,0,!0);break}e:{switch(c=r,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ao(c,s,li,!_o);break e;case 2:Gn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(v=Uc+300-Vt(),10<v)){if(Ao(c,s,li,!_o),mi(c,0,!0)!==0)break e;Hr=s,c.timeoutHandle=r_(Iv.bind(null,c,a,Gn,Fc,Kh,s,li,Es,fl,_o,_,"Throttled",-0,0),v);break e}Iv(c,a,Gn,Fc,Kh,s,li,Es,fl,_o,_,null,-0,0)}}break}while(!0);pr(r)}function Iv(r,s,a,c,v,_,x,b,q,Z,oe,ue,ee,ne){if(r.timeoutHandle=-1,ue=s.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},Ev(s,_,ue);var xe=(_&62914560)===_?Uc-Vt():(_&4194048)===_?xv-Vt():0;if(xe=ab(ue,xe),xe!==null){Hr=_,r.cancelPendingCommit=xe(Lv.bind(null,r,s,_,a,c,v,x,b,q,oe,ue,null,ee,ne)),Ao(r,_,x,!Z);return}}Lv(r,s,_,a,c,v,x,b,q)}function xw(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var v=a[c],_=v.getSnapshot;v=v.value;try{if(!ni(_(),v))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ao(r,s,a,c){s&=~$h,s&=~Es,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var v=s;0<v;){var _=31-$e(v),x=1<<_;c[_]=-1,v&=~x}a!==0&&xr(r,a,s)}function zc(){return(ft&6)===0?(Ha(0),!1):!0}function Wh(){if(Ke!==null){if(gt===0)var r=Ke.return;else r=Ke,Dr=fs=null,ph(r),il=null,Ca=0,r=Ke;for(;r!==null;)ov(r.alternate,r),r=r.return;Ke=null}}function hl(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,Gw(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Hr=0,Wh(),St=r,Ke=a=Nr(r.current,null),Xe=s,gt=0,si=null,_o=!1,cl=Nn(r,s),Jh=!1,fl=li=$h=Es=Eo=Ft=0,Gn=Ba=null,Kh=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var v=31-$e(c),_=1<<v;s|=r[v],c&=~_}return qr=s,lc(),a}function Rv(r,s){qe=null,X.H=ka,s===nl||s===mc?(s=Yy(),gt=3):s===nh?(s=Yy(),gt=4):gt=s===Nh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,si=s,Ke===null&&(Ft=1,Rc(r,Ti(s,r.current)))}function Nv(){var r=ri.current;return r===null?!0:(Xe&4194048)===Xe?Ci===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?r===Ci:!1}function Mv(){var r=X.H;return X.H=ka,r===null?ka:r}function Dv(){var r=X.A;return X.A=Sw,r}function Bc(){Ft=4,_o||(Xe&4194048)!==Xe&&ri.current!==null||(cl=!0),(Eo&134217727)===0&&(Es&134217727)===0||St===null||Ao(St,Xe,li,!1)}function Zh(r,s,a){var c=ft;ft|=2;var v=Mv(),_=Dv();(St!==r||Xe!==s)&&(Fc=null,hl(r,s)),s=!1;var x=Ft;e:do try{if(gt!==0&&Ke!==null){var b=Ke,q=si;switch(gt){case 8:Wh(),x=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(s=!0);var Z=gt;if(gt=0,si=null,pl(r,b,q,Z),a&&cl){x=0;break e}break;default:Z=gt,gt=0,si=null,pl(r,b,q,Z)}}Cw(),x=Ft;break}catch(oe){Rv(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Dr=fs=null,ft=c,X.H=v,X.A=_,Ke===null&&(St=null,Xe=0,lc()),x}function Cw(){for(;Ke!==null;)kv(Ke)}function ww(r,s){var a=ft;ft|=2;var c=Mv(),v=Dv();St!==r||Xe!==s?(Fc=null,Oc=Vt()+500,hl(r,s)):cl=Nn(r,s);e:do try{if(gt!==0&&Ke!==null){s=Ke;var _=si;t:switch(gt){case 1:gt=0,si=null,pl(r,s,_,1);break;case 2:case 9:if(Hy(_)){gt=0,si=null,Pv(s);break}s=function(){gt!==2&&gt!==9||St!==r||(gt=7),pr(r)},_.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:Hy(_)?(gt=0,si=null,Pv(s)):(gt=0,si=null,pl(r,s,_,7));break;case 5:var x=null;switch(Ke.tag){case 26:x=Ke.memoizedState;case 5:case 27:var b=Ke;if(x?__(x):b.stateNode.complete){gt=0,si=null;var q=b.sibling;if(q!==null)Ke=q;else{var Z=b.return;Z!==null?(Ke=Z,qc(Z)):Ke=null}break t}}gt=0,si=null,pl(r,s,_,5);break;case 6:gt=0,si=null,pl(r,s,_,6);break;case 8:Wh(),Ft=6;break e;default:throw Error(i(462))}}bw();break}catch(oe){Rv(r,oe)}while(!0);return Dr=fs=null,X.H=c,X.A=v,ft=a,Ke!==null?0:(St=null,Xe=0,lc(),Ft)}function bw(){for(;Ke!==null&&!Qo();)kv(Ke)}function kv(r){var s=iv(r.alternate,r,qr);r.memoizedProps=r.pendingProps,s===null?qc(r):Ke=s}function Pv(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=j0(a,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=j0(a,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:ph(s);default:ov(a,s),s=Ke=Dy(s,qr),s=iv(a,s,qr)}r.memoizedProps=r.pendingProps,s===null?qc(r):Ke=s}function pl(r,s,a,c){Dr=fs=null,ph(s),il=null,Ca=0;var v=s.return;try{if(mw(r,v,s,a,Xe)){Ft=1,Rc(r,Ti(a,r.current)),Ke=null;return}}catch(_){if(v!==null)throw Ke=v,_;Ft=1,Rc(r,Ti(a,r.current)),Ke=null;return}s.flags&32768?(tt||c===1?r=!0:cl||(Xe&536870912)!==0?r=!1:(_o=r=!0,(c===2||c===9||c===3||c===6)&&(c=ri.current,c!==null&&c.tag===13&&(c.flags|=16384))),Vv(s,r)):qc(s)}function qc(r){var s=r;do{if((s.flags&32768)!==0){Vv(s,_o);return}r=s.return;var a=vw(s.alternate,s,qr);if(a!==null){Ke=a;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);Ft===0&&(Ft=5)}function Vv(r,s){do{var a=_w(r.alternate,r);if(a!==null){a.flags&=32767,Ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=a}while(r!==null);Ft=6,Ke=null}function Lv(r,s,a,c,v,_,x,b,q){r.cancelPendingCommit=null;do Hc();while(on!==0);if((ft&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(_=s.lanes|s.childLanes,_|=Bd,Wr(r,a,_,x,b,q),r===St&&(Ke=St=null,Xe=0),dl=s,So=r,Hr=a,Qh=_,Xh=v,Cv=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Mw(Ie,function(){return Bv(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=X.T,X.T=null,v=K.p,K.p=2,x=ft,ft|=4;try{Ew(r,s,a)}finally{ft=x,K.p=v,X.T=c}}on=1,Uv(),Ov(),Fv()}}function Uv(){if(on===1){on=0;var r=So,s=dl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var c=K.p;K.p=2;var v=ft;ft|=4;try{yv(s,r);var _=fp,x=Ay(r.containerInfo),b=_.focusedElem,q=_.selectionRange;if(x!==b&&b&&b.ownerDocument&&Sy(b.ownerDocument.documentElement,b)){if(q!==null&&Ld(b)){var Z=q.start,oe=q.end;if(oe===void 0&&(oe=Z),"selectionStart"in b)b.selectionStart=Z,b.selectionEnd=Math.min(oe,b.value.length);else{var ue=b.ownerDocument||document,ee=ue&&ue.defaultView||window;if(ee.getSelection){var ne=ee.getSelection(),xe=b.textContent.length,De=Math.min(q.start,xe),Tt=q.end===void 0?De:Math.min(q.end,xe);!ne.extend&&De>Tt&&(x=Tt,Tt=De,De=x);var J=Ty(b,De),G=Ty(b,Tt);if(J&&G&&(ne.rangeCount!==1||ne.anchorNode!==J.node||ne.anchorOffset!==J.offset||ne.focusNode!==G.node||ne.focusOffset!==G.offset)){var W=ue.createRange();W.setStart(J.node,J.offset),ne.removeAllRanges(),De>Tt?(ne.addRange(W),ne.extend(G.node,G.offset)):(W.setEnd(G.node,G.offset),ne.addRange(W))}}}}for(ue=[],ne=b;ne=ne.parentNode;)ne.nodeType===1&&ue.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ue.length;b++){var se=ue[b];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}tf=!!cp,fp=cp=null}finally{ft=v,K.p=c,X.T=a}}r.current=s,on=2}}function Ov(){if(on===2){on=0;var r=So,s=dl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var c=K.p;K.p=2;var v=ft;ft|=4;try{dv(r,s.alternate,s)}finally{ft=v,K.p=c,X.T=a}}on=3}}function Fv(){if(on===4||on===3){on=0,pn();var r=So,s=dl,a=Hr,c=Cv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,dl=So=null,zv(r,r.pendingLanes));var v=r.pendingLanes;if(v===0&&(To=null),wr(a),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Dt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=X.T,v=K.p,K.p=2,X.T=null;try{for(var _=r.onRecoverableError,x=0;x<c.length;x++){var b=c[x];_(b.value,{componentStack:b.stack})}}finally{X.T=s,K.p=v}}(Hr&3)!==0&&Hc(),pr(r),v=r.pendingLanes,(a&261930)!==0&&(v&42)!==0?r===jh?qa++:(qa=0,jh=r):qa=0,Ha(0)}}function zv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Aa(s)))}function Hc(){return Uv(),Ov(),Fv(),Bv()}function Bv(){if(on!==5)return!1;var r=So,s=Qh;Qh=0;var a=wr(Hr),c=X.T,v=K.p;try{K.p=32>a?32:a,X.T=null,a=Xh,Xh=null;var _=So,x=Hr;if(on=0,dl=So=null,Hr=0,(ft&6)!==0)throw Error(i(331));var b=ft;if(ft|=4,Sv(_.current),_v(_,_.current,x,a),ft=b,Ha(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Dt,_)}catch{}return!0}finally{K.p=v,X.T=c,zv(r,s)}}function qv(r,s,a){s=Ti(a,s),s=Rh(r.stateNode,s,2),r=mo(r,s,2),r!==null&&(Ut(r,2),pr(r))}function yt(r,s,a){if(r.tag===3)qv(r,r,a);else for(;s!==null;){if(s.tag===3){qv(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(To===null||!To.has(c))){r=Ti(a,r),a=H0(2),c=mo(s,a,2),c!==null&&(G0(a,c,s,r),Ut(c,2),pr(c));break}}s=s.return}}function ep(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new Aw;var v=new Set;c.set(s,v)}else v=c.get(s),v===void 0&&(v=new Set,c.set(s,v));v.has(a)||(Jh=!0,v.add(a),r=Iw.bind(null,r,s,a),s.then(r,r))}function Iw(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,St===r&&(Xe&a)===a&&(Ft===4||Ft===3&&(Xe&62914560)===Xe&&300>Vt()-Uc?(ft&2)===0&&hl(r,0):$h|=a,fl===Xe&&(fl=0)),pr(r)}function Hv(r,s){s===0&&(s=fe()),r=as(r,s),r!==null&&(Ut(r,s),pr(r))}function Rw(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Hv(r,a)}function Nw(r,s){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,v=r.memoizedState;v!==null&&(a=v.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Hv(r,a)}function Mw(r,s){return ht(r,s)}var Gc=null,ml=null,tp=!1,Yc=!1,np=!1,xo=0;function pr(r){r!==ml&&r.next===null&&(ml===null?Gc=ml=r:ml=ml.next=r),Yc=!0,tp||(tp=!0,kw())}function Ha(r,s){if(!np&&Yc){np=!0;do for(var a=!1,c=Gc;c!==null;){if(r!==0){var v=c.pendingLanes;if(v===0)var _=0;else{var x=c.suspendedLanes,b=c.pingedLanes;_=(1<<31-$e(42|r)+1)-1,_&=v&~(x&~b),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,$v(c,_))}else _=Xe,_=mi(c,c===St?_:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(_&3)===0||Nn(c,_)||(a=!0,$v(c,_));c=c.next}while(a);np=!1}}function Dw(){Gv()}function Gv(){Yc=tp=!1;var r=0;xo!==0&&Hw()&&(r=xo);for(var s=Vt(),a=null,c=Gc;c!==null;){var v=c.next,_=Yv(c,s);_===0?(c.next=null,a===null?Gc=v:a.next=v,v===null&&(ml=a)):(a=c,(r!==0||(_&3)!==0)&&(Yc=!0)),c=v}on!==0&&on!==5||Ha(r),xo!==0&&(xo=0)}function Yv(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,v=r.expirationTimes,_=r.pendingLanes&-62914561;0<_;){var x=31-$e(_),b=1<<x,q=v[x];q===-1?((b&a)===0||(b&c)!==0)&&(v[x]=ks(b,s)):q<=s&&(r.expiredLanes|=b),_&=~b}if(s=St,a=Xe,a=mi(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===s&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Wn(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Nn(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(c!==null&&Wn(c),wr(a)){case 2:case 8:a=ve;break;case 32:a=Ie;break;case 268435456:a=et;break;default:a=Ie}return c=Jv.bind(null,r),a=ht(a,c),r.callbackPriority=s,r.callbackNode=a,s}return c!==null&&c!==null&&Wn(c),r.callbackPriority=2,r.callbackNode=null,2}function Jv(r,s){if(on!==0&&on!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(Hc()&&r.callbackNode!==a)return null;var c=Xe;return c=mi(r,r===St?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(bv(r,c,s),Yv(r,Vt()),r.callbackNode!=null&&r.callbackNode===a?Jv.bind(null,r):null)}function $v(r,s){if(Hc())return null;bv(r,s,!0)}function kw(){Yw(function(){(ft&6)!==0?ht(re,Dw):Gv()})}function ip(){if(xo===0){var r=el;r===0&&(r=hi,hi<<=1,(hi&261888)===0&&(hi=256)),xo=r}return xo}function Kv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fs(""+r)}function Qv(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function Pw(r,s,a,c,v){if(s==="submit"&&a&&a.stateNode===v){var _=Kv((v[un]||null).action),x=c.submitter;x&&(s=(s=x[un]||null)?Kv(s.formAction):x.getAttribute("formAction"),s!==null&&(_=s,x=null));var b=new lr("action","action",null,c,v);r.push({event:b,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xo!==0){var q=x?Qv(v,x):new FormData(v);Ah(a,{pending:!0,data:q,method:v.method,action:_},null,q)}}else typeof _=="function"&&(b.preventDefault(),q=x?Qv(v,x):new FormData(v),Ah(a,{pending:!0,data:q,method:v.method,action:_},_,q))},currentTarget:v}]})}}for(var rp=0;rp<zd.length;rp++){var op=zd[rp],Vw=op.toLowerCase(),Lw=op[0].toUpperCase()+op.slice(1);Hi(Vw,"on"+Lw)}Hi(wy,"onAnimationEnd"),Hi(by,"onAnimationIteration"),Hi(Iy,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(W1,"onTransitionRun"),Hi(Z1,"onTransitionStart"),Hi(ew,"onTransitionCancel"),Hi(Ry,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nr("onBeforeInput",["compositionend","keypress","textInput","paste"]),nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ga));function Xv(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],v=c.event;c=c.listeners;e:{var _=void 0;if(s)for(var x=c.length-1;0<=x;x--){var b=c[x],q=b.instance,Z=b.currentTarget;if(b=b.listener,q!==_&&v.isPropagationStopped())break e;_=b,v.currentTarget=Z;try{_(v)}catch(oe){sc(oe)}v.currentTarget=null,_=q}else for(x=0;x<c.length;x++){if(b=c[x],q=b.instance,Z=b.currentTarget,b=b.listener,q!==_&&v.isPropagationStopped())break e;_=b,v.currentTarget=Z;try{_(v)}catch(oe){sc(oe)}v.currentTarget=null,_=q}}}}function Qe(r,s){var a=s[Ps];a===void 0&&(a=s[Ps]=new Set);var c=r+"__bubble";a.has(c)||(jv(s,r,2,!1),a.add(c))}function sp(r,s,a){var c=0;s&&(c|=4),jv(a,r,c,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function lp(r){if(!r[Jc]){r[Jc]=!0,na.forEach(function(a){a!=="selectionchange"&&(Uw.has(a)||sp(a,!1,r),sp(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,sp("selectionchange",!1,s))}}function jv(r,s,a,c){switch(w_(s)){case 2:var v=fb;break;case 8:v=db;break;default:v=Sp}a=v.bind(null,s,a,r),v=void 0,!es||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),c?v!==void 0?r.addEventListener(s,a,{capture:!0,passive:v}):r.addEventListener(s,a,!0):v!==void 0?r.addEventListener(s,a,{passive:v}):r.addEventListener(s,a,!1)}function ap(r,s,a,c,v){var _=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var b=c.stateNode.containerInfo;if(b===v)break;if(x===4)for(x=c.return;x!==null;){var q=x.tag;if((q===3||q===4)&&x.stateNode.containerInfo===v)return;x=x.return}for(;b!==null;){if(x=er(b),x===null)return;if(q=x.tag,q===5||q===6||q===26||q===27){c=_=x;continue e}b=b.parentNode}}c=c.return}ro(function(){var Z=_,oe=yi(a),ue=[];e:{var ee=Ny.get(r);if(ee!==void 0){var ne=lr,xe=r;switch(r){case"keypress":if(ns(a)===0)break e;case"keydown":case"keyup":ne=ic;break;case"focusin":xe="focus",ne=rs;break;case"focusout":xe="blur",ne=rs;break;case"beforeblur":case"afterblur":ne=rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S;break;case wy:case by:case Iy:ne=Xu;break;case Ry:ne=I;break;case"scroll":case"scrollend":ne=pa;break;case"wheel":ne=te;break;case"copy":case"cut":case"paste":ne=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Rr;break;case"toggle":case"beforetoggle":ne=Be}var De=(s&4)!==0,Tt=!De&&(r==="scroll"||r==="scrollend"),J=De?ee!==null?ee+"Capture":null:ee;De=[];for(var G=Z,W;G!==null;){var se=G;if(W=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||W===null||J===null||(se=Fi(G,J),se!=null&&De.push(Ya(G,se,W))),Tt)break;G=G.return}0<De.length&&(ee=new ne(ee,xe,null,a,oe),ue.push({event:ee,listeners:De}))}}if((s&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",ee&&a!==fa&&(xe=a.relatedTarget||a.fromElement)&&(er(xe)||xe[Wi]))break e;if((ne||ee)&&(ee=oe.window===oe?oe:(ee=oe.ownerDocument)?ee.defaultView||ee.parentWindow:window,ne?(xe=a.relatedTarget||a.toElement,ne=Z,xe=xe?er(xe):null,xe!==null&&(Tt=l(xe),De=xe.tag,xe!==Tt||De!==5&&De!==27&&De!==6)&&(xe=null)):(ne=null,xe=Z),ne!==xe)){if(De=ma,se="onMouseLeave",J="onMouseEnter",G="mouse",(r==="pointerout"||r==="pointerover")&&(De=Rr,se="onPointerLeave",J="onPointerEnter",G="pointer"),Tt=ne==null?ee:ei(ne),W=xe==null?ee:ei(xe),ee=new De(se,G+"leave",ne,a,oe),ee.target=Tt,ee.relatedTarget=W,se=null,er(oe)===Z&&(De=new De(J,G+"enter",xe,a,oe),De.target=W,De.relatedTarget=Tt,se=De),Tt=se,ne&&xe)t:{for(De=Ow,J=ne,G=xe,W=0,se=J;se;se=De(se))W++;se=0;for(var Re=G;Re;Re=De(Re))se++;for(;0<W-se;)J=De(J),W--;for(;0<se-W;)G=De(G),se--;for(;W--;){if(J===G||G!==null&&J===G.alternate){De=J;break t}J=De(J),G=De(G)}De=null}else De=null;ne!==null&&Wv(ue,ee,ne,De,!1),xe!==null&&Tt!==null&&Wv(ue,Tt,xe,De,!0)}}e:{if(ee=Z?ei(Z):window,ne=ee.nodeName&&ee.nodeName.toLowerCase(),ne==="select"||ne==="input"&&ee.type==="file")var st=my;else if(hy(ee))if(gy)st=Q1;else{st=$1;var we=J1}else ne=ee.nodeName,!ne||ne.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Os(Z.elementType)&&(st=my):st=K1;if(st&&(st=st(r,Z))){py(ue,st,a,oe);break e}we&&we(r,ee,Z),r==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&aa(ee,"number",ee.value)}switch(we=Z?ei(Z):window,r){case"focusin":(hy(we)||we.contentEditable==="true")&&(Js=we,Ud=Z,Ea=null);break;case"focusout":Ea=Ud=Js=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,xy(ue,a,oe);break;case"selectionchange":if(j1)break;case"keydown":case"keyup":xy(ue,a,oe)}var Ge;if(ct)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ys?os(r,a)&&(je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(cr&&a.locale!=="ko"&&(Ys||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ys&&(Ge=ha()):(sr=oe,da="value"in sr?sr.value:sr.textContent,Ys=!0)),we=$c(Z,je),0<we.length&&(je=new ur(je,r,null,a,oe),ue.push({event:je,listeners:we}),Ge?je.data=Ge:(Ge=Gs(a),Ge!==null&&(je.data=Ge)))),(Ge=_i?q1(r,a):H1(r,a))&&(je=$c(Z,"onBeforeInput"),0<je.length&&(we=new ur("onBeforeInput","beforeinput",null,a,oe),ue.push({event:we,listeners:je}),we.data=Ge)),Pw(ue,r,Z,a,oe)}Xv(ue,s)})}function Ya(r,s,a){return{instance:r,listener:s,currentTarget:a}}function $c(r,s){for(var a=s+"Capture",c=[];r!==null;){var v=r,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=Fi(r,a),v!=null&&c.unshift(Ya(r,v,_)),v=Fi(r,s),v!=null&&c.push(Ya(r,v,_))),r.tag===3)return c;r=r.return}return[]}function Ow(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Wv(r,s,a,c,v){for(var _=s._reactName,x=[];a!==null&&a!==c;){var b=a,q=b.alternate,Z=b.stateNode;if(b=b.tag,q!==null&&q===c)break;b!==5&&b!==26&&b!==27||Z===null||(q=Z,v?(Z=Fi(a,_),Z!=null&&x.unshift(Ya(a,Z,q))):v||(Z=Fi(a,_),Z!=null&&x.push(Ya(a,Z,q)))),a=a.return}x.length!==0&&r.push({event:s,listeners:x})}var Fw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function Zv(r){return(typeof r=="string"?r:""+r).replace(Fw,`
`).replace(zw,"")}function e_(r,s){return s=Zv(s),Zv(r)===s}function Et(r,s,a,c,v,_){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||zn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&zn(r,""+c);break;case"className":ti(r,"class",c);break;case"tabIndex":ti(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(r,a,c);break;case"style":ca(r,c,_);break;case"data":if(s!=="object"){ti(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Fs(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(s!=="input"&&Et(r,s,"name",v.name,v,null),Et(r,s,"formEncType",v.formEncType,v,null),Et(r,s,"formMethod",v.formMethod,v,null),Et(r,s,"formTarget",v.formTarget,v,null)):(Et(r,s,"encType",v.encType,v,null),Et(r,s,"method",v.method,v,null),Et(r,s,"target",v.target,v,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Fs(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=Oi);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=Fs(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Ls(r,"popover",c);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ls(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,Ls(r,a,c))}}function up(r,s,a,c,v,_){switch(a){case"style":ca(r,c,_);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(v.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof c=="string"?zn(r,c):(typeof c=="number"||typeof c=="bigint")&&zn(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(v=a.endsWith("Capture"),s=a.slice(2,v?a.length-7:void 0),_=r[un]||null,_=_!=null?_[a]:null,typeof _=="function"&&r.removeEventListener(s,_,v),typeof c=="function")){typeof _!="function"&&_!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,c,v);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):Ls(r,a,c)}}}function _n(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,v=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var x=a[_];if(x!=null)switch(_){case"src":c=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Et(r,s,_,x,a,null)}}v&&Et(r,s,"srcSet",a.srcSet,a,null),c&&Et(r,s,"src",a.src,a,null);return;case"input":Qe("invalid",r);var b=_=x=v=null,q=null,Z=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":v=oe;break;case"type":x=oe;break;case"checked":q=oe;break;case"defaultChecked":Z=oe;break;case"value":_=oe;break;case"defaultValue":b=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:Et(r,s,c,oe,a,null)}}Gu(r,_,b,q,Z,x,v,!1);return;case"select":Qe("invalid",r),c=x=_=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":_=b;break;case"defaultValue":x=b;break;case"multiple":c=b;default:Et(r,s,v,b,a,null)}s=_,a=x,r.multiple=!!c,s!=null?eo(r,!!c,s,!1):a!=null&&eo(r,!!c,a,!0);return;case"textarea":Qe("invalid",r),_=v=c=null;for(x in a)if(a.hasOwnProperty(x)&&(b=a[x],b!=null))switch(x){case"value":c=b;break;case"defaultValue":v=b;break;case"children":_=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Et(r,s,x,b,a,null)}to(r,c,v,_);return;case"option":for(q in a)if(a.hasOwnProperty(q)&&(c=a[q],c!=null))switch(q){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Et(r,s,q,c,a,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<Ga.length;c++)Qe(Ga[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in a)if(a.hasOwnProperty(Z)&&(c=a[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Et(r,s,Z,c,a,null)}return;default:if(Os(s)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&up(r,s,oe,c,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(c=a[b],c!=null&&Et(r,s,b,c,a,null))}function Bw(r,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,x=null,b=null,q=null,Z=null,oe=null;for(ne in a){var ue=a[ne];if(a.hasOwnProperty(ne)&&ue!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ue;default:c.hasOwnProperty(ne)||Et(r,s,ne,null,c,ue)}}for(var ee in c){var ne=c[ee];if(ue=a[ee],c.hasOwnProperty(ee)&&(ne!=null||ue!=null))switch(ee){case"type":_=ne;break;case"name":v=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":x=ne;break;case"defaultValue":b=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ue&&Et(r,s,ee,ne,c,ue)}}Us(r,x,b,q,Z,oe,_,v);return;case"select":ne=x=b=ee=null;for(_ in a)if(q=a[_],a.hasOwnProperty(_)&&q!=null)switch(_){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(_)||Et(r,s,_,null,c,q)}for(v in c)if(_=c[v],q=a[v],c.hasOwnProperty(v)&&(_!=null||q!=null))switch(v){case"value":ee=_;break;case"defaultValue":b=_;break;case"multiple":x=_;default:_!==q&&Et(r,s,v,_,c,q)}s=b,a=x,c=ne,ee!=null?eo(r,!!a,ee,!1):!!c!=!!a&&(s!=null?eo(r,!!a,s,!0):eo(r,!!a,a?[]:"",!1));return;case"textarea":ne=ee=null;for(b in a)if(v=a[b],a.hasOwnProperty(b)&&v!=null&&!c.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Et(r,s,b,null,c,v)}for(x in c)if(v=c[x],_=a[x],c.hasOwnProperty(x)&&(v!=null||_!=null))switch(x){case"value":ee=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&Et(r,s,x,v,c,_)}Yu(r,ee,ne);return;case"option":for(var xe in a)if(ee=a[xe],a.hasOwnProperty(xe)&&ee!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":r.selected=!1;break;default:Et(r,s,xe,null,c,ee)}for(q in c)if(ee=c[q],ne=a[q],c.hasOwnProperty(q)&&ee!==ne&&(ee!=null||ne!=null))switch(q){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Et(r,s,q,ee,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)ee=a[De],a.hasOwnProperty(De)&&ee!=null&&!c.hasOwnProperty(De)&&Et(r,s,De,null,c,ee);for(Z in c)if(ee=c[Z],ne=a[Z],c.hasOwnProperty(Z)&&ee!==ne&&(ee!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:Et(r,s,Z,ee,c,ne)}return;default:if(Os(s)){for(var Tt in a)ee=a[Tt],a.hasOwnProperty(Tt)&&ee!==void 0&&!c.hasOwnProperty(Tt)&&up(r,s,Tt,void 0,c,ee);for(oe in c)ee=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||ee===ne||ee===void 0&&ne===void 0||up(r,s,oe,ee,c,ne);return}}for(var J in a)ee=a[J],a.hasOwnProperty(J)&&ee!=null&&!c.hasOwnProperty(J)&&Et(r,s,J,null,c,ee);for(ue in c)ee=c[ue],ne=a[ue],!c.hasOwnProperty(ue)||ee===ne||ee==null&&ne==null||Et(r,s,ue,ee,c,ne)}function t_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qw(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var v=a[c],_=v.transferSize,x=v.initiatorType,b=v.duration;if(_&&b&&t_(x)){for(x=0,b=v.responseEnd,c+=1;c<a.length;c++){var q=a[c],Z=q.startTime;if(Z>b)break;var oe=q.transferSize,ue=q.initiatorType;oe&&t_(ue)&&(q=q.responseEnd,x+=oe*(q<b?1:(b-Z)/(q-Z)))}if(--c,s+=8*(_+x)/(v.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var cp=null,fp=null;function Kc(r){return r.nodeType===9?r:r.ownerDocument}function n_(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i_(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function dp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hp=null;function Hw(){var r=window.event;return r&&r.type==="popstate"?r===hp?!1:(hp=r,!0):(hp=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,Gw=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,Yw=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(r){return o_.resolve(null).then(r).catch(Jw)}:r_;function Jw(r){setTimeout(function(){throw r})}function Co(r){return r==="head"}function s_(r,s){var a=s,c=0;do{var v=a.nextSibling;if(r.removeChild(a),v&&v.nodeType===8)if(a=v.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(v),_l(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Ja(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,Ja(a);for(var _=a.firstChild;_;){var x=_.nextSibling,b=_.nodeName;_[Zi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=x}}else a==="body"&&Ja(r.ownerDocument.body);a=v}while(a);_l(s)}function l_(r,s){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function pp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":pp(a),Vs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function $w(r,s,a,c){for(;r.nodeType===1;){var v=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Zi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(_=r.getAttribute("rel"),_==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(_!==v.rel||r.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||r.getAttribute("title")!==(v.title==null?null:v.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(_=r.getAttribute("src"),(_!==(v.src==null?null:v.src)||r.getAttribute("type")!==(v.type==null?null:v.type)||r.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&r.getAttribute("name")===_)return r}else return r;if(r=wi(r.nextSibling),r===null)break}return null}function Kw(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=wi(r.nextSibling),r===null))return null;return r}function a_(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=wi(r.nextSibling),r===null))return null;return r}function mp(r){return r.data==="$?"||r.data==="$~"}function gp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function Qw(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function wi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var yp=null;function u_(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return wi(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function c_(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function f_(r,s,a){switch(s=Kc(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Ja(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Vs(r)}var bi=new Map,d_=new Set;function Qc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gr=K.d;K.d={f:Xw,r:jw,D:Ww,C:Zw,L:eb,m:tb,X:ib,S:nb,M:rb};function Xw(){var r=Gr.f(),s=zc();return r||s}function jw(r){var s=gi(r);s!==null&&s.tag===5&&s.type==="form"?R0(s):Gr.r(r)}var gl=typeof document>"u"?null:document;function h_(r,s,a){var c=gl;if(c&&typeof s=="string"&&s){var v=Fn(s);v='link[rel="'+r+'"][href="'+v+'"]',typeof a=="string"&&(v+='[crossorigin="'+a+'"]'),d_.has(v)||(d_.add(v),r={rel:r,crossOrigin:a,href:s},c.querySelector(v)===null&&(s=c.createElement("link"),_n(s,"link",r),$t(s),c.head.appendChild(s)))}}function Ww(r){Gr.D(r),h_("dns-prefetch",r,null)}function Zw(r,s){Gr.C(r,s),h_("preconnect",r,s)}function eb(r,s,a){Gr.L(r,s,a);var c=gl;if(c&&r&&s){var v='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(v+='[imagesrcset="'+Fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(v+='[imagesizes="'+Fn(a.imageSizes)+'"]')):v+='[href="'+Fn(r)+'"]';var _=v;switch(s){case"style":_=yl(r);break;case"script":_=vl(r)}bi.has(_)||(r=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),bi.set(_,r),c.querySelector(v)!==null||s==="style"&&c.querySelector($a(_))||s==="script"&&c.querySelector(Ka(_))||(s=c.createElement("link"),_n(s,"link",r),$t(s),c.head.appendChild(s)))}}function tb(r,s){Gr.m(r,s);var a=gl;if(a&&r){var c=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Fn(c)+'"][href="'+Fn(r)+'"]',_=v;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=vl(r)}if(!bi.has(_)&&(r=E({rel:"modulepreload",href:r},s),bi.set(_,r),a.querySelector(v)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ka(_)))return}c=a.createElement("link"),_n(c,"link",r),$t(c),a.head.appendChild(c)}}}function nb(r,s,a){Gr.S(r,s,a);var c=gl;if(c&&r){var v=tr(c).hoistableStyles,_=yl(r);s=s||"default";var x=v.get(_);if(!x){var b={loading:0,preload:null};if(x=c.querySelector($a(_)))b.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},a),(a=bi.get(_))&&vp(r,a);var q=x=c.createElement("link");$t(q),_n(q,"link",r),q._p=new Promise(function(Z,oe){q.onload=Z,q.onerror=oe}),q.addEventListener("load",function(){b.loading|=1}),q.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Xc(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:b},v.set(_,x)}}}function ib(r,s){Gr.X(r,s);var a=gl;if(a&&r){var c=tr(a).hoistableScripts,v=vl(r),_=c.get(v);_||(_=a.querySelector(Ka(v)),_||(r=E({src:r,async:!0},s),(s=bi.get(v))&&_p(r,s),_=a.createElement("script"),$t(_),_n(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function rb(r,s){Gr.M(r,s);var a=gl;if(a&&r){var c=tr(a).hoistableScripts,v=vl(r),_=c.get(v);_||(_=a.querySelector(Ka(v)),_||(r=E({src:r,async:!0,type:"module"},s),(s=bi.get(v))&&_p(r,s),_=a.createElement("script"),$t(_),_n(_,"link",r),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},c.set(v,_))}}function p_(r,s,a,c){var v=(v=Ce.current)?Qc(v):null;if(!v)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=yl(a.href),a=tr(v).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=yl(a.href);var _=tr(v).hoistableStyles,x=_.get(r);if(x||(v=v.ownerDocument||v,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(r,x),(_=v.querySelector($a(r)))&&!_._p&&(x.instance=_,x.state.loading=5),bi.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},bi.set(r,a),_||ob(v,r,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vl(a),a=tr(v).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yl(r){return'href="'+Fn(r)+'"'}function $a(r){return'link[rel="stylesheet"]['+r+"]"}function m_(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function ob(r,s,a,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),_n(s,"link",a),$t(s),r.head.appendChild(s))}function vl(r){return'[src="'+Fn(r)+'"]'}function Ka(r){return"script[async]"+r}function g_(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Fn(a.href)+'"]');if(c)return s.instance=c,$t(c),c;var v=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),$t(c),_n(c,"style",v),Xc(c,a.precedence,r),s.instance=c;case"stylesheet":v=yl(a.href);var _=r.querySelector($a(v));if(_)return s.state.loading|=4,s.instance=_,$t(_),_;c=m_(a),(v=bi.get(v))&&vp(c,v),_=(r.ownerDocument||r).createElement("link"),$t(_);var x=_;return x._p=new Promise(function(b,q){x.onload=b,x.onerror=q}),_n(_,"link",c),s.state.loading|=4,Xc(_,a.precedence,r),s.instance=_;case"script":return _=vl(a.src),(v=r.querySelector(Ka(_)))?(s.instance=v,$t(v),v):(c=a,(v=bi.get(_))&&(c=E({},a),_p(c,v)),r=r.ownerDocument||r,v=r.createElement("script"),$t(v),_n(v,"link",c),r.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Xc(c,a.precedence,r));return s.instance}function Xc(r,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=c.length?c[c.length-1]:null,_=v,x=0;x<c.length;x++){var b=c[x];if(b.dataset.precedence===s)_=b;else if(_!==v)break}_?_.parentNode.insertBefore(r,_.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function vp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function _p(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var jc=null;function y_(r,s,a){if(jc===null){var c=new Map,v=jc=new Map;v.set(a,c)}else v=jc,c=v.get(a),c||(c=new Map,v.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),v=0;v<a.length;v++){var _=a[v];if(!(_[Zi]||_[Jt]||r==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var x=_.getAttribute(s)||"";x=r+x;var b=c.get(x);b?b.push(_):c.set(x,[_])}}return c}function v_(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function sb(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function __(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function lb(r,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=yl(c.href),_=s.querySelector($a(v));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Wc.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=_,$t(_);return}_=s.ownerDocument||s,c=m_(c),(v=bi.get(v))&&vp(c,v),_=_.createElement("link"),$t(_);var x=_;x._p=new Promise(function(b,q){x.onload=b,x.onerror=q}),_n(_,"link",c),a.instance=_}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Wc.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var Ep=0;function ab(r,s){return r.stylesheets&&r.count===0&&ef(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&ef(r,r.stylesheets),r.unsuspend){var _=r.unsuspend;r.unsuspend=null,_()}},6e4+s);0<r.imgBytes&&Ep===0&&(Ep=62500*qw());var v=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&ef(r,r.stylesheets),r.unsuspend)){var _=r.unsuspend;r.unsuspend=null,_()}},(r.imgBytes>Ep?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(v)}}:null}function Wc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Zc=null;function ef(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Zc=new Map,s.forEach(ub,r),Zc=null,Wc.call(r))}function ub(r,s){if(!(s.state.loading&4)){var a=Zc.get(r);if(a)var c=a.get(null);else{a=new Map,Zc.set(r,a);for(var v=r.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var x=v[_];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}v=s.instance,x=v.getAttribute("data-precedence"),_=a.get(x)||c,_===c&&a.set(null,v),a.set(x,v),this.count++,c=Wc.bind(this),v.addEventListener("load",c),v.addEventListener("error",c),_?_.parentNode.insertBefore(v,_.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(v,r.firstChild)),s.state.loading|=4}}var Qa={$$typeof:Y,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function cb(r,s,a,c,v,_,x,b,q){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=c,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function E_(r,s,a,c,v,_,x,b,q,Z,oe,ue){return r=new cb(r,s,a,x,q,Z,oe,ue,b),s=1,_===!0&&(s|=24),_=ii(3,null,null,s),r.current=_,_.stateNode=r,s=Zd(),s.refCount++,r.pooledCache=s,s.refCount++,_.memoizedState={element:c,isDehydrated:a,cache:s},ih(_),r}function T_(r){return r?(r=Qs,r):Qs}function S_(r,s,a,c,v,_){v=T_(v),c.context===null?c.context=v:c.pendingContext=v,c=po(s),c.payload={element:a},_=_===void 0?null:_,_!==null&&(c.callback=_),a=mo(r,c,s),a!==null&&(Yn(a,r,s),ba(a,r,s))}function A_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Tp(r,s){A_(r,s),(r=r.alternate)&&A_(r,s)}function x_(r){if(r.tag===13||r.tag===31){var s=as(r,67108864);s!==null&&Yn(s,r,67108864),Tp(r,67108864)}}function C_(r){if(r.tag===13||r.tag===31){var s=ai();s=Xo(s);var a=as(r,s);a!==null&&Yn(a,r,s),Tp(r,s)}}var tf=!0;function fb(r,s,a,c){var v=X.T;X.T=null;var _=K.p;try{K.p=2,Sp(r,s,a,c)}finally{K.p=_,X.T=v}}function db(r,s,a,c){var v=X.T;X.T=null;var _=K.p;try{K.p=8,Sp(r,s,a,c)}finally{K.p=_,X.T=v}}function Sp(r,s,a,c){if(tf){var v=Ap(c);if(v===null)ap(r,s,c,nf,a),b_(r,c);else if(pb(v,r,s,a,c))c.stopPropagation();else if(b_(r,c),s&4&&-1<hb.indexOf(r)){for(;v!==null;){var _=gi(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var x=pi(_.pendingLanes);if(x!==0){var b=_;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var q=1<<31-$e(x);b.entanglements[1]|=q,x&=~q}pr(_),(ft&6)===0&&(Oc=Vt()+500,Ha(0))}}break;case 31:case 13:b=as(_,2),b!==null&&Yn(b,_,2),zc(),Tp(_,2)}if(_=Ap(c),_===null&&ap(r,s,c,nf,a),_===v)break;v=_}v!==null&&c.stopPropagation()}else ap(r,s,c,null,a)}}function Ap(r){return r=yi(r),xp(r)}var nf=null;function xp(r){if(nf=null,r=er(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=u(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return nf=r,null}function w_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pi()){case re:return 2;case ve:return 8;case Ie:case He:return 32;case et:return 268435456;default:return 32}default:return 32}}var Cp=!1,wo=null,bo=null,Io=null,Xa=new Map,ja=new Map,Ro=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(r,s){switch(r){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":Xa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(s.pointerId)}}function Wa(r,s,a,c,v,_){return r===null||r.nativeEvent!==_?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:_,targetContainers:[v]},s!==null&&(s=gi(s),s!==null&&x_(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),r)}function pb(r,s,a,c,v){switch(s){case"focusin":return wo=Wa(wo,r,s,a,c,v),!0;case"dragenter":return bo=Wa(bo,r,s,a,c,v),!0;case"mouseover":return Io=Wa(Io,r,s,a,c,v),!0;case"pointerover":var _=v.pointerId;return Xa.set(_,Wa(Xa.get(_)||null,r,s,a,c,v)),!0;case"gotpointercapture":return _=v.pointerId,ja.set(_,Wa(ja.get(_)||null,r,s,a,c,v)),!0}return!1}function I_(r){var s=er(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){r.blockedOn=s,Li(r.priority,function(){C_(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,Li(r.priority,function(){C_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function rf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ap(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);fa=c,a.target.dispatchEvent(c),fa=null}else return s=gi(a),s!==null&&x_(s),r.blockedOn=a,!1;s.shift()}return!0}function R_(r,s,a){rf(r)&&a.delete(s)}function mb(){Cp=!1,wo!==null&&rf(wo)&&(wo=null),bo!==null&&rf(bo)&&(bo=null),Io!==null&&rf(Io)&&(Io=null),Xa.forEach(R_),ja.forEach(R_)}function of(r,s){r.blockedOn===s&&(r.blockedOn=null,Cp||(Cp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mb)))}var sf=null;function N_(r){sf!==r&&(sf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sf===r&&(sf=null);for(var s=0;s<r.length;s+=3){var a=r[s],c=r[s+1],v=r[s+2];if(typeof c!="function"){if(xp(c||a)===null)continue;break}var _=gi(a);_!==null&&(r.splice(s,3),s-=3,Ah(_,{pending:!0,data:v,method:a.method,action:c},c,v))}}))}function _l(r){function s(q){return of(q,r)}wo!==null&&of(wo,r),bo!==null&&of(bo,r),Io!==null&&of(Io,r),Xa.forEach(s),ja.forEach(s);for(var a=0;a<Ro.length;a++){var c=Ro[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ro.length&&(a=Ro[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&Ro.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var v=a[c],_=a[c+1],x=v[un]||null;if(typeof _=="function")x||N_(a);else if(x){var b=null;if(_&&_.hasAttribute("formAction")){if(v=_,x=_[un]||null)b=x.formAction;else if(xp(v)!==null)continue}else b=x.action;typeof b=="function"?a[c+1]=b:(a.splice(c,3),c-=3),N_(a)}}}function M_(){function r(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(x){return v=x})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,v=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function wp(r){this._internalRoot=r}lf.prototype.render=wp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=ai();S_(a,c,r,s,null,null)},lf.prototype.unmount=wp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;S_(r.current,2,null,r,null,null),zc(),s[Wi]=null}};function lf(r){this._internalRoot=r}lf.prototype.unstable_scheduleHydration=function(r){if(r){var s=zu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Ro.length&&s!==0&&s<Ro[a].priority;a++);Ro.splice(a,0,r),a===0&&I_(r)}};var D_=e.version;if(D_!=="19.2.3")throw Error(i(527,D_,"19.2.3"));K.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!af.isDisabled&&af.supportsFiber)try{Dt=af.inject(gb),wt=af}catch{}}return eu.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,c="",v=F0,_=z0,x=B0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=E_(r,1,!1,null,null,a,c,null,v,_,x,M_),r[Wi]=s.current,lp(r),new wp(s)},eu.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var c=!1,v="",_=F0,x=z0,b=B0,q=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(q=a.formState)),s=E_(r,1,!0,s,a??null,c,v,q,_,x,b,M_),s.context=T_(null),a=s.current,c=ai(),c=Xo(c),v=po(c),v.callback=null,mo(a,v,c),a=c,s.current.lanes=a,Ut(s,a),pr(s),r[Wi]=s.current,lp(r),new lf(s)},eu.version="19.2.3",eu}var q_;function bb(){if(q_)return Rp.exports;q_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rp.exports=wb(),Rp.exports}var Ib=bb();const Rb=rd(Ib);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),H_=t=>{const e=Mb(t);return e.charAt(0).toUpperCase()+e.slice(1)},SA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Db=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=Me.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>Me.createElement("svg",{ref:p,...kb,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:SA("lucide",o),...!l&&!Db(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>Me.createElement(d,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=Me.forwardRef(({className:i,...o},l)=>Me.createElement(Pb,{ref:l,iconNode:e,className:SA(`lucide-${Nb(H_(t))}`,`lucide-${t}`,i),...o}));return n.displayName=H_(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lb=rt("arrow-left",Vb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ob=rt("arrow-right",Ub);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zb=rt("book-open",Fb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],qb=rt("book",Bb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sl=rt("check",Hb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],G_=rt("chevron-down",Gb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jb=rt("circle-alert",Yb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Kb=rt("circle-check-big",$b);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],kp=rt("circle-plus",Qb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Y_=rt("circle-question-mark",Xb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Wb=rt("circle-x",jb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],eI=rt("code",Zb);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],AA=rt("copy",tI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],J_=rt("eye",nI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],rI=rt("file-text",iI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],sI=rt("gavel",oI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],aI=rt("heart-pulse",lI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cI=rt("layout-dashboard",uI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],sm=rt("lightbulb",fI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Pp=rt("list",dI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pI=rt("loader-circle",hI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$_=rt("lock",mI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],uf=rt("pencil",gI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vI=rt("refresh-cw",yI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],EI=rt("save",_I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lm=rt("search",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AI=rt("send",SI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CI=rt("settings",xI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bI=rt("share-2",wI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ig=rt("sparkles",II);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],am=rt("stethoscope",RI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],MI=rt("tag",NI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],K_=rt("trash-2",DI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pf=rt("x",kI);var kt=(t=>(t.SURGERY="SURGERY",t.WOMEN_PREGNANCY="WOMEN_PREGNANCY",t.ICU_DEATH="ICU_DEATH",t.FASTING_MEDICINE="FASTING_MEDICINE",t.ETHICS="ETHICS",t.GENETICS_REPRODUCTION="GENETICS_REPRODUCTION",t.TATTOO_CORTISONE="TATTOO_CORTISONE",t.PRAYER_PURITY="PRAYER_PURITY",t.MEDICAL_EXPERIMENTS="MEDICAL_EXPERIMENTS",t.PHARMACY_DRUGS="PHARMACY_DRUGS",t.MISCELLANEOUS="MISCELLANEOUS",t))(kt||{});const fu=[{id:kt.SURGERY,name:" ",icon:"Scissors",color:"bg-blue-100 text-blue-600"},{id:kt.WOMEN_PREGNANCY,name:"    ",icon:"Baby",color:"bg-pink-100 text-pink-600"},{id:kt.ICU_DEATH,name:"     ",icon:"Activity",color:"bg-red-100 text-red-600"},{id:kt.FASTING_MEDICINE,name:"   ",icon:"Moon",color:"bg-yellow-100 text-yellow-600"},{id:kt.ETHICS,name:"  ",icon:"Heart",color:"bg-green-100 text-green-600"},{id:kt.GENETICS_REPRODUCTION,name:"   ",icon:"Dna",color:"bg-purple-100 text-purple-600"},{id:kt.TATTOO_CORTISONE,name:"      ",icon:"Zap",color:"bg-orange-100 text-orange-600"},{id:kt.PRAYER_PURITY,name:"   ",icon:"BookOpen",color:"bg-indigo-100 text-indigo-600"},{id:kt.MEDICAL_EXPERIMENTS,name:"      ",icon:"TestTube2",color:"bg-cyan-100 text-cyan-600"},{id:kt.PHARMACY_DRUGS,name:"  ",icon:"Pill",color:"bg-lime-100 text-lime-600"},{id:kt.MISCELLANEOUS,name:" ",icon:"MoreHorizontal",color:"bg-gray-100 text-gray-600"}],PI=({quote:t})=>C.jsxs("div",{className:"relative bg-white border-r-4 border-r-teal-500 border-y border-l border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-300 w-full mb-1.5 overflow-hidden group mx-auto",children:[C.jsx("div",{className:"absolute -left-2 -top-1 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none group-hover:scale-110 transition-transform duration-500",children:'"'}),C.jsx("div",{className:"absolute -right-2 -bottom-2 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none rotate-180",children:""}),C.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[C.jsxs("p",{className:"text-gray-800 text-base font-bold leading-relaxed mb-1.5 font-amiri",children:['"',t.text,'"']}),C.jsx("div",{className:"w-full flex justify-center",children:C.jsxs("p",{className:"text-teal-700 text-[11px] font-bold bg-teal-50 px-2.5 py-0.5 rounded-full border border-teal-100 font-cairo",children:["- ",t.author]})})]})]});function VI(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const LI=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,UI=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,OI={};function Q_(t,e){return(OI.jsx?UI:LI).test(t)}const FI=/[ \t\n\f\r]/g;function zI(t){return typeof t=="object"?t.type==="text"?X_(t.value):!1:X_(t)}function X_(t){return t.replace(FI,"")===""}class Nu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Nu.prototype.normal={};Nu.prototype.property={};Nu.prototype.space=void 0;function xA(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new Nu(n,i,e)}function um(t){return t.toLowerCase()}class Xn{constructor(e,n){this.attribute=n,this.property=e}}Xn.prototype.attribute="";Xn.prototype.booleanish=!1;Xn.prototype.boolean=!1;Xn.prototype.commaOrSpaceSeparated=!1;Xn.prototype.commaSeparated=!1;Xn.prototype.defined=!1;Xn.prototype.mustUseProperty=!1;Xn.prototype.number=!1;Xn.prototype.overloadedBoolean=!1;Xn.prototype.property="";Xn.prototype.spaceSeparated=!1;Xn.prototype.space=void 0;let BI=0;const Ye=bs(),en=bs(),cm=bs(),ge=bs(),At=bs(),Nl=bs(),ui=bs();function bs(){return 2**++BI}const fm=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:en,commaOrSpaceSeparated:ui,commaSeparated:Nl,number:ge,overloadedBoolean:cm,spaceSeparated:At},Symbol.toStringTag,{value:"Module"})),Vp=Object.keys(fm);class rg extends Xn{constructor(e,n,i,o){let l=-1;if(super(e,n),j_(this,"space",o),typeof i=="number")for(;++l<Vp.length;){const u=Vp[l];j_(this,Vp[l],(i&fm[u])===fm[u])}}}rg.prototype.defined=!0;function j_(t,e,n){n&&(t[e]=n)}function Gl(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const l=new rg(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[um(i)]=i,n[um(l.attribute)]=i}return new Nu(e,n,t.space)}const CA=Gl({properties:{ariaActiveDescendant:null,ariaAtomic:en,ariaAutoComplete:null,ariaBusy:en,ariaChecked:en,ariaColCount:ge,ariaColIndex:ge,ariaColSpan:ge,ariaControls:At,ariaCurrent:null,ariaDescribedBy:At,ariaDetails:null,ariaDisabled:en,ariaDropEffect:At,ariaErrorMessage:null,ariaExpanded:en,ariaFlowTo:At,ariaGrabbed:en,ariaHasPopup:null,ariaHidden:en,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:At,ariaLevel:ge,ariaLive:null,ariaModal:en,ariaMultiLine:en,ariaMultiSelectable:en,ariaOrientation:null,ariaOwns:At,ariaPlaceholder:null,ariaPosInSet:ge,ariaPressed:en,ariaReadOnly:en,ariaRelevant:null,ariaRequired:en,ariaRoleDescription:At,ariaRowCount:ge,ariaRowIndex:ge,ariaRowSpan:ge,ariaSelected:en,ariaSetSize:ge,ariaSort:null,ariaValueMax:ge,ariaValueMin:ge,ariaValueNow:ge,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function wA(t,e){return e in t?t[e]:e}function bA(t,e){return wA(t,e.toLowerCase())}const qI=Gl({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nl,acceptCharset:At,accessKey:At,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:At,autoFocus:Ye,autoPlay:Ye,blocking:At,capture:null,charSet:null,checked:Ye,cite:null,className:At,cols:ge,colSpan:null,content:null,contentEditable:en,controls:Ye,controlsList:At,coords:ge|Nl,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:cm,draggable:en,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:At,height:ge,hidden:cm,high:ge,href:null,hrefLang:null,htmlFor:At,httpEquiv:At,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:At,itemRef:At,itemScope:Ye,itemType:At,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:ge,manifest:null,max:null,maxLength:ge,media:null,method:null,min:null,minLength:ge,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:ge,pattern:null,ping:At,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:At,required:Ye,reversed:Ye,rows:ge,rowSpan:ge,sandbox:At,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:ge,sizes:null,slot:null,span:ge,spellCheck:en,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ge,step:null,style:null,tabIndex:ge,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:en,width:ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:At,axis:null,background:null,bgColor:null,border:ge,borderColor:null,bottomMargin:ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:ge,leftMargin:ge,link:null,longDesc:null,lowSrc:null,marginHeight:ge,marginWidth:ge,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:ge,rules:null,scheme:null,scrolling:en,standby:null,summary:null,text:null,topMargin:ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:ge,security:null,unselectable:null},space:"html",transform:bA}),HI=Gl({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ui,accentHeight:ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ge,amplitude:ge,arabicForm:null,ascent:ge,attributeName:null,attributeType:null,azimuth:ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ge,by:null,calcMode:null,capHeight:ge,className:At,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ge,diffuseConstant:ge,direction:null,display:null,dur:null,divisor:ge,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:ge,enableBackground:null,end:null,event:null,exponent:ge,externalResourcesRequired:null,fill:null,fillOpacity:ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nl,g2:Nl,glyphName:Nl,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ge,horizOriginX:ge,horizOriginY:ge,id:null,ideographic:ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ge,k:ge,k1:ge,k2:ge,k3:ge,k4:ge,kernelMatrix:ui,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ge,overlineThickness:ge,paintOrder:null,panose1:null,path:null,pathLength:ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:At,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ge,pointsAtY:ge,pointsAtZ:ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ui,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ui,rev:ui,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ui,requiredFeatures:ui,requiredFonts:ui,requiredFormats:ui,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ge,specularExponent:ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ge,strikethroughThickness:ge,string:null,stroke:null,strokeDashArray:ui,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ge,strokeOpacity:ge,strokeWidth:null,style:null,surfaceScale:ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ui,tabIndex:ge,tableValues:null,target:null,targetX:ge,targetY:ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ui,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ge,underlineThickness:ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ge,values:null,vAlphabetic:ge,vMathematical:ge,vectorEffect:null,vHanging:ge,vIdeographic:ge,version:null,vertAdvY:ge,vertOriginX:ge,vertOriginY:ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:wA}),IA=Gl({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),RA=Gl({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:bA}),NA=Gl({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),GI={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},YI=/[A-Z]/g,W_=/-[a-z]/g,JI=/^data[-\w.:]+$/i;function $I(t,e){const n=um(e);let i=e,o=Xn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JI.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(W_,QI);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!W_.test(l)){let u=l.replace(YI,KI);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=rg}return new o(i,e)}function KI(t){return"-"+t.toLowerCase()}function QI(t){return t.charAt(1).toUpperCase()}const XI=xA([CA,qI,IA,RA,NA],"html"),og=xA([CA,HI,IA,RA,NA],"svg");function jI(t){return t.join(" ").trim()}var El={},Lp,Z_;function WI(){if(Z_)return Lp;Z_=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,d="/",y="*",E="",T="comment",A="declaration";function D(L,z){if(typeof L!="string")throw new TypeError("First argument must be a string");if(!L)return[];z=z||{};var Q=1,Y=1;function le(ye){var me=ye.match(e);me&&(Q+=me.length);var X=ye.lastIndexOf(p);Y=~X?ye.length-X:Y+ye.length}function pe(){var ye={line:Q,column:Y};return function(me){return me.position=new $(ye),R(),me}}function $(ye){this.start=ye,this.end={line:Q,column:Y},this.source=z.source}$.prototype.content=L;function N(ye){var me=new Error(z.source+":"+Q+":"+Y+": "+ye);if(me.reason=ye,me.filename=z.source,me.line=Q,me.column=Y,me.source=L,!z.silent)throw me}function M(ye){var me=ye.exec(L);if(me){var X=me[0];return le(X),L=L.slice(X.length),me}}function R(){M(n)}function F(ye){var me;for(ye=ye||[];me=V();)me!==!1&&ye.push(me);return ye}function V(){var ye=pe();if(!(d!=L.charAt(0)||y!=L.charAt(1))){for(var me=2;E!=L.charAt(me)&&(y!=L.charAt(me)||d!=L.charAt(me+1));)++me;if(me+=2,E===L.charAt(me-1))return N("End of comment missing");var X=L.slice(2,me-2);return Y+=2,le(X),L=L.slice(me),Y+=2,ye({type:T,comment:X})}}function B(){var ye=pe(),me=M(i);if(me){if(V(),!M(o))return N("property missing ':'");var X=M(l),K=ye({type:A,property:O(me[0].replace(t,E)),value:X?O(X[0].replace(t,E)):E});return M(u),K}}function P(){var ye=[];F(ye);for(var me;me=B();)me!==!1&&(ye.push(me),F(ye));return ye}return R(),P()}function O(L){return L?L.replace(f,E):E}return Lp=D,Lp}var eE;function ZI(){if(eE)return El;eE=1;var t=El&&El.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(El,"__esModule",{value:!0}),El.default=n;const e=t(WI());function n(i,o){let l=null;if(!i||typeof i!="string")return l;const u=(0,e.default)(i),f=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:d,value:y}=p;f?o(d,y,p):y&&(l=l||{},l[d]=y)}),l}return El}var tu={},tE;function eR(){if(tE)return tu;tE=1,Object.defineProperty(tu,"__esModule",{value:!0}),tu.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||t.test(d)},u=function(d,y){return y.toUpperCase()},f=function(d,y){return"".concat(y,"-")},p=function(d,y){return y===void 0&&(y={}),l(d)?d:(d=d.toLowerCase(),y.reactCompat?d=d.replace(o,f):d=d.replace(i,f),d.replace(e,u))};return tu.camelCase=p,tu}var nu,nE;function tR(){if(nE)return nu;nE=1;var t=nu&&nu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(ZI()),n=eR();function i(o,l){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(f,p){f&&p&&(u[(0,n.camelCase)(f,l)]=p)}),u}return i.default=i,nu=i,nu}var nR=tR();const iR=rd(nR),MA=DA("end"),sg=DA("start");function DA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function rR(t){const e=sg(t),n=MA(t);if(e&&n)return{start:e,end:n}}function du(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?iE(t.position):"start"in t||"end"in t?iE(t):"line"in t||"column"in t?dm(t):""}function dm(t){return rE(t&&t.line)+":"+rE(t&&t.column)}function iE(t){return dm(t&&t.start)+"-"+dm(t&&t.end)}function rE(t){return t&&typeof t=="number"?t:1}class Rn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?o=e:!l.cause&&e&&(u=!0,o=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=f?f.line:void 0,this.name=du(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Rn.prototype.file="";Rn.prototype.name="";Rn.prototype.reason="";Rn.prototype.message="";Rn.prototype.stack="";Rn.prototype.column=void 0;Rn.prototype.line=void 0;Rn.prototype.ancestors=void 0;Rn.prototype.cause=void 0;Rn.prototype.fatal=void 0;Rn.prototype.place=void 0;Rn.prototype.ruleId=void 0;Rn.prototype.source=void 0;const lg={}.hasOwnProperty,oR=new Map,sR=/[A-Z]/g,lR=new Set(["table","tbody","thead","tfoot","tr"]),aR=new Set(["td","th"]),kA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function uR(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=yR(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=gR(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?og:XI,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=PA(o,t,void 0);return l&&typeof l!="string"?l:o.create(t,o.Fragment,{children:l||void 0},void 0)}function PA(t,e,n){if(e.type==="element")return cR(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return fR(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return hR(t,e,n);if(e.type==="mdxjsEsm")return dR(t,e);if(e.type==="root")return pR(t,e,n);if(e.type==="text")return mR(t,e)}function cR(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=og,t.schema=o),t.ancestors.push(e);const l=LA(t,e.tagName,!1),u=vR(t,e);let f=ug(t,e);return lR.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!zI(p):!0})),VA(t,u,l,e),ag(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function fR(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Eu(t,e.position)}function dR(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Eu(t,e.position)}function hR(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=og,t.schema=o),t.ancestors.push(e);const l=e.name===null?t.Fragment:LA(t,e.name,!0),u=_R(t,e),f=ug(t,e);return VA(t,u,l,e),ag(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function pR(t,e,n){const i={};return ag(i,ug(t,e)),t.create(e,t.Fragment,i,n)}function mR(t,e){return e.value}function VA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function ag(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function gR(t,e,n){return i;function i(o,l,u,f){const d=Array.isArray(u.children)?n:e;return f?d(l,u,f):d(l,u)}}function yR(t,e){return n;function n(i,o,l,u){const f=Array.isArray(l.children),p=sg(i);return e(o,l,u,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function vR(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&lg.call(e.properties,o)){const l=ER(t,o,e.properties[o]);if(l){const[u,f]=l;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&aR.has(e.tagName)?i=f:n[u]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function _R(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Eu(t,e.position);else{const o=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else Eu(t,e.position);else l=i.value===null?!0:i.value;n[o]=l}return n}function ug(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:oR;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const d=o.get(p)||0;u=p+"-"+d,o.set(p,d+1)}}const f=PA(t,l,u);f!==void 0&&n.push(f)}return n}function ER(t,e,n){const i=$I(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?VI(n):jI(n)),i.property==="style"){let o=typeof n=="object"?n:TR(t,String(n));return t.stylePropertyNameCase==="css"&&(o=SR(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?GI[i.property]||i.property:i.attribute,n]}}function TR(t,e){try{return iR(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new Rn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=kA+"#cannot-parse-style-attribute",o}}function LA(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let l=-1,u;for(;++l<o.length;){const f=Q_(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=u}else i=Q_(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return lg.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);Eu(t)}function Eu(t,e){const n=new Rn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=kA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function SR(t){const e={};let n;for(n in t)lg.call(t,n)&&(e[AR(n)]=t[n]);return e}function AR(t){let e=t.replace(sR,xR);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function xR(t){return"-"+t.toLowerCase()}const Up={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},CR={};function wR(t,e){const n=CR,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return UA(t,i,o)}function UA(t,e,n){if(bR(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return oE(t.children,e,n)}return Array.isArray(t)?oE(t,e,n):""}function oE(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=UA(t[o],e,n);return i.join("")}function bR(t){return!!(t&&typeof t=="object")}const sE=document.createElement("i");function cg(t){const e="&"+t+";";sE.innerHTML=e;const n=sE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Sr(t,e,n,i){const o=t.length;let l=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function Ii(t,e){return t.length>0?(Sr(t,t.length,0,e),t):e}const lE={}.hasOwnProperty;function IR(t){const e={};let n=-1;for(;++n<t.length;)RR(e,t[n]);return e}function RR(t,e){let n;for(n in e){const o=(lE.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){lE.call(o,u)||(o[u]=[]);const f=l[u];NR(o[u],Array.isArray(f)?f:f?[f]:[])}}}function NR(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Sr(t,0,0,i)}function OA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ml(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const yr=Go(/[A-Za-z]/),ci=Go(/[\dA-Za-z]/),MR=Go(/[#-'*+\--9=?A-Z^-~]/);function hm(t){return t!==null&&(t<32||t===127)}const pm=Go(/\d/),DR=Go(/[\dA-Fa-f]/),kR=Go(/[!-/:-@[-`{-~]/);function Pe(t){return t!==null&&t<-2}function Qn(t){return t!==null&&(t<0||t===32)}function dt(t){return t===-2||t===-1||t===32}const PR=Go(new RegExp("\\p{P}|\\p{S}","u")),VR=Go(/\s/);function Go(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Yl(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&ci(t.charCodeAt(n+1))&&ci(t.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function Ct(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(p){return dt(p)?(t.enter(n),f(p)):e(p)}function f(p){return dt(p)&&l++<o?(t.consume(p),f):(t.exit(n),e(p))}}const LR={tokenize:UR};function UR(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),Ct(t,e,"linePrefix")}function o(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Pe(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),u)}}const OR={tokenize:FR},aE={tokenize:zR};function FR(t){const e=this,n=[];let i=0,o,l,u;return f;function f(Y){if(i<n.length){const le=n[i];return e.containerState=le[1],t.attempt(le[0].continuation,p,d)(Y)}return d(Y)}function p(Y){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&Q();const le=e.events.length;let pe=le,$;for(;pe--;)if(e.events[pe][0]==="exit"&&e.events[pe][1].type==="chunkFlow"){$=e.events[pe][1].end;break}z(i);let N=le;for(;N<e.events.length;)e.events[N][1].end={...$},N++;return Sr(e.events,pe+1,0,e.events.slice(le)),e.events.length=N,d(Y)}return f(Y)}function d(Y){if(i===n.length){if(!o)return T(Y);if(o.currentConstruct&&o.currentConstruct.concrete)return D(Y);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(aE,y,E)(Y)}function y(Y){return o&&Q(),z(i),T(Y)}function E(Y){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,D(Y)}function T(Y){return e.containerState={},t.attempt(aE,A,D)(Y)}function A(Y){return i++,n.push([e.currentConstruct,e.containerState]),T(Y)}function D(Y){if(Y===null){o&&Q(),z(0),t.consume(Y);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),O(Y)}function O(Y){if(Y===null){L(t.exit("chunkFlow"),!0),z(0),t.consume(Y);return}return Pe(Y)?(t.consume(Y),L(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(Y),O)}function L(Y,le){const pe=e.sliceStream(Y);if(le&&pe.push(null),Y.previous=l,l&&(l.next=Y),l=Y,o.defineSkip(Y.start),o.write(pe),e.parser.lazy[Y.start.line]){let $=o.events.length;for(;$--;)if(o.events[$][1].start.offset<u&&(!o.events[$][1].end||o.events[$][1].end.offset>u))return;const N=e.events.length;let M=N,R,F;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(R){F=e.events[M][1].end;break}R=!0}for(z(i),$=N;$<e.events.length;)e.events[$][1].end={...F},$++;Sr(e.events,M+1,0,e.events.slice(N)),e.events.length=$}}function z(Y){let le=n.length;for(;le-- >Y;){const pe=n[le];e.containerState=pe[1],pe[0].exit.call(e,t)}n.length=Y}function Q(){o.write([null]),l=void 0,o=void 0,e.containerState._closeFlow=void 0}}function zR(t,e,n){return Ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function uE(t){if(t===null||Qn(t)||VR(t))return 1;if(PR(t))return 2}function fg(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const l=t[o].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const mm={name:"attention",resolveAll:BR,tokenize:qR};function BR(t,e){let n=-1,i,o,l,u,f,p,d,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[i][1].end},T={...t[n][1].start};cE(E,-p),cE(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[i][1].end={...u.start},t[n][1].start={...f.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=Ii(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=Ii(d,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",l,e]]),d=Ii(d,fg(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=Ii(d,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,d=Ii(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,Sr(t,i-1,n-i+3,d),n=i+d.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function qR(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=uE(i);let l;return u;function u(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const d=t.exit("attentionSequence"),y=uE(p),E=!y||y===2&&o||n.includes(p),T=!o||o===2&&y||n.includes(i);return d._open=!!(l===42?E:E&&(o||!T)),d._close=!!(l===42?T:T&&(y||!E)),e(p)}}function cE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const HR={name:"autolink",tokenize:GR};function GR(t,e,n){let i=0;return o;function o(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(A){return yr(A)?(t.consume(A),u):A===64?n(A):d(A)}function u(A){return A===43||A===45||A===46||ci(A)?(i=1,f(A)):d(A)}function f(A){return A===58?(t.consume(A),i=0,p):(A===43||A===45||A===46||ci(A))&&i++<32?(t.consume(A),f):(i=0,d(A))}function p(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):A===null||A===32||A===60||hm(A)?n(A):(t.consume(A),p)}function d(A){return A===64?(t.consume(A),y):MR(A)?(t.consume(A),d):n(A)}function y(A){return ci(A)?E(A):n(A)}function E(A){return A===46?(t.consume(A),i=0,y):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):T(A)}function T(A){if((A===45||ci(A))&&i++<63){const D=A===45?T:E;return t.consume(A),D}return n(A)}}const od={partial:!0,tokenize:YR};function YR(t,e,n){return i;function i(l){return dt(l)?Ct(t,o,"linePrefix")(l):o(l)}function o(l){return l===null||Pe(l)?e(l):n(l)}}const FA={continuation:{tokenize:$R},exit:KR,name:"blockQuote",tokenize:JR};function JR(t,e,n){const i=this;return o;function o(u){if(u===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return dt(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function $R(t,e,n){const i=this;return o;function o(u){return dt(u)?Ct(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(FA,e,n)(u)}}function KR(t){t.exit("blockQuote")}const zA={name:"characterEscape",tokenize:QR};function QR(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),o}function o(l){return kR(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const BA={name:"characterReference",tokenize:XR};function XR(t,e,n){const i=this;let o=0,l,u;return f;function f(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),p}function p(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),l=31,u=ci,y(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=DR,y):(t.enter("characterReferenceValue"),l=7,u=pm,y(E))}function y(E){if(E===59&&o){const T=t.exit("characterReferenceValue");return u===ci&&!cg(i.sliceSerialize(T))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&o++<l?(t.consume(E),y):n(E)}}const fE={partial:!0,tokenize:WR},dE={concrete:!0,name:"codeFenced",tokenize:jR};function jR(t,e,n){const i=this,o={partial:!0,tokenize:pe};let l=0,u=0,f;return p;function p($){return d($)}function d($){const N=i.events[i.events.length-1];return l=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,f=$,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y($)}function y($){return $===f?(u++,t.consume($),y):u<3?n($):(t.exit("codeFencedFenceSequence"),dt($)?Ct(t,E,"whitespace")($):E($))}function E($){return $===null||Pe($)?(t.exit("codeFencedFence"),i.interrupt?e($):t.check(fE,O,le)($)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T($))}function T($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E($)):dt($)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ct(t,A,"whitespace")($)):$===96&&$===f?n($):(t.consume($),T)}function A($){return $===null||Pe($)?E($):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D($))}function D($){return $===null||Pe($)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E($)):$===96&&$===f?n($):(t.consume($),D)}function O($){return t.attempt(o,le,L)($)}function L($){return t.enter("lineEnding"),t.consume($),t.exit("lineEnding"),z}function z($){return l>0&&dt($)?Ct(t,Q,"linePrefix",l+1)($):Q($)}function Q($){return $===null||Pe($)?t.check(fE,O,le)($):(t.enter("codeFlowValue"),Y($))}function Y($){return $===null||Pe($)?(t.exit("codeFlowValue"),Q($)):(t.consume($),Y)}function le($){return t.exit("codeFenced"),e($)}function pe($,N,M){let R=0;return F;function F(me){return $.enter("lineEnding"),$.consume(me),$.exit("lineEnding"),V}function V(me){return $.enter("codeFencedFence"),dt(me)?Ct($,B,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):B(me)}function B(me){return me===f?($.enter("codeFencedFenceSequence"),P(me)):M(me)}function P(me){return me===f?(R++,$.consume(me),P):R>=u?($.exit("codeFencedFenceSequence"),dt(me)?Ct($,ye,"whitespace")(me):ye(me)):M(me)}function ye(me){return me===null||Pe(me)?($.exit("codeFencedFence"),N(me)):M(me)}}}function WR(t,e,n){const i=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const Op={name:"codeIndented",tokenize:eN},ZR={partial:!0,tokenize:tN};function eN(t,e,n){const i=this;return o;function o(d){return t.enter("codeIndented"),Ct(t,l,"linePrefix",5)(d)}function l(d){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?p(d):Pe(d)?t.attempt(ZR,u,p)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Pe(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function p(d){return t.exit("codeIndented"),e(d)}}function tN(t,e,n){const i=this;return o;function o(u){return i.parser.lazy[i.now().line]?n(u):Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):Ct(t,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Pe(u)?o(u):n(u)}}const nN={name:"codeText",previous:rN,resolve:iN,tokenize:oN};function iN(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function rN(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function oN(t,e,n){let i=0,o,l;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),f(E)}function f(E){return E===96?(t.consume(E),i++,f):(t.exit("codeTextSequence"),p(E))}function p(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),p):E===96?(l=t.enter("codeTextSequence"),o=0,y(E)):Pe(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||Pe(E)?(t.exit("codeTextData"),p(E)):(t.consume(E),d)}function y(E){return E===96?(t.consume(E),o++,y):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(l.type="codeTextData",d(E))}}class sN{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&iu(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),iu(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),iu(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);iu(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);iu(this.left,n.reverse())}}}function iu(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function qA(t){const e={};let n=-1,i,o,l,u,f,p,d;const y=new sN(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,lN(y,n)),n=e[n],d=!0);else if(i[1]._container){for(l=n,o=void 0;l--;)if(u=y.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(y.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(i[1].end={...y.get(o)[1].start},f=y.slice(o,n),f.unshift(i),y.splice(o,n-o+1,f))}}return Sr(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!d}function lN(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,p=[],d={};let y,E,T=-1,A=n,D=0,O=0;const L=[O];for(;A;){for(;t.get(++o)[1]!==A;);l.push(o),A._tokenizer||(y=i.sliceStream(A),A.next||y.push(null),E&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=A,A=A.next}for(A=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(O=T+1,L.push(O),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):L.pop(),T=L.length;T--;){const z=f.slice(L[T],L[T+1]),Q=l.pop();p.push([Q,Q+z.length-1]),t.splice(Q,2,z)}for(p.reverse(),T=-1;++T<p.length;)d[D+p[T][0]]=D+p[T][1],D+=p[T][1]-p[T][0]-1;return d}const aN={resolve:cN,tokenize:fN},uN={partial:!0,tokenize:dN};function cN(t){return qA(t),t}function fN(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Pe(f)?t.check(uN,u,l)(f):(t.consume(f),o)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function dN(t,e,n){const i=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ct(t,l,"linePrefix")}function l(u){if(u===null||Pe(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function HA(t,e,n,i,o,l,u,f,p){const d=p||Number.POSITIVE_INFINITY;let y=0;return E;function E(z){return z===60?(t.enter(i),t.enter(o),t.enter(l),t.consume(z),t.exit(l),T):z===null||z===32||z===41||hm(z)?n(z):(t.enter(i),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),O(z))}function T(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(o),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),A(z))}function A(z){return z===62?(t.exit("chunkString"),t.exit(f),T(z)):z===null||z===60||Pe(z)?n(z):(t.consume(z),z===92?D:A)}function D(z){return z===60||z===62||z===92?(t.consume(z),A):A(z)}function O(z){return!y&&(z===null||z===41||Qn(z))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(i),e(z)):y<d&&z===40?(t.consume(z),y++,O):z===41?(t.consume(z),y--,O):z===null||z===32||z===40||hm(z)?n(z):(t.consume(z),z===92?L:O)}function L(z){return z===40||z===41||z===92?(t.consume(z),O):O(z)}}function GA(t,e,n,i,o,l){const u=this;let f=0,p;return d;function d(A){return t.enter(i),t.enter(o),t.consume(A),t.exit(o),t.enter(l),y}function y(A){return f>999||A===null||A===91||A===93&&!p||A===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(A):A===93?(t.exit(l),t.enter(o),t.consume(A),t.exit(o),t.exit(i),e):Pe(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),E(A))}function E(A){return A===null||A===91||A===93||Pe(A)||f++>999?(t.exit("chunkString"),y(A)):(t.consume(A),p||(p=!dt(A)),A===92?T:E)}function T(A){return A===91||A===92||A===93?(t.consume(A),f++,E):E(A)}}function YA(t,e,n,i,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(t.enter(i),t.enter(o),t.consume(T),t.exit(o),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(o),t.consume(T),t.exit(o),t.exit(i),e):(t.enter(l),d(T))}function d(T){return T===u?(t.exit(l),p(u)):T===null?n(T):Pe(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),Ct(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===u||T===null||Pe(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?E:y)}function E(T){return T===u||T===92?(t.consume(T),y):y(T)}}function hu(t,e){let n;return i;function i(o){return Pe(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):dt(o)?Ct(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const hN={name:"definition",tokenize:mN},pN={partial:!0,tokenize:gN};function mN(t,e,n){const i=this;let o;return l;function l(A){return t.enter("definition"),u(A)}function u(A){return GA.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function f(A){return o=Ml(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),p):n(A)}function p(A){return Qn(A)?hu(t,d)(A):d(A)}function d(A){return HA(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function y(A){return t.attempt(pN,E,E)(A)}function E(A){return dt(A)?Ct(t,T,"whitespace")(A):T(A)}function T(A){return A===null||Pe(A)?(t.exit("definition"),i.parser.defined.push(o),e(A)):n(A)}}function gN(t,e,n){return i;function i(f){return Qn(f)?hu(t,o)(f):n(f)}function o(f){return YA(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return dt(f)?Ct(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Pe(f)?e(f):n(f)}}const yN={name:"hardBreakEscape",tokenize:vN};function vN(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),o}function o(l){return Pe(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const _N={name:"headingAtx",resolve:EN,tokenize:TN};function EN(t,e){let n=t.length-2,i=3,o,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Sr(t,i,n-i+1,[["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e]])),t}function TN(t,e,n){let i=0;return o;function o(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(t.consume(y),u):y===null||Qn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Pe(y)?(t.exit("atxHeading"),e(y)):dt(y)?Ct(t,f,"whitespace")(y):(t.enter("atxHeadingText"),d(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),f(y))}function d(y){return y===null||y===35||Qn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),d)}}const SN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hE=["pre","script","style","textarea"],AN={concrete:!0,name:"htmlFlow",resolveTo:wN,tokenize:bN},xN={partial:!0,tokenize:RN},CN={partial:!0,tokenize:IN};function wN(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function bN(t,e,n){const i=this;let o,l,u,f,p;return d;function d(k){return y(k)}function y(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),E}function E(k){return k===33?(t.consume(k),T):k===47?(t.consume(k),l=!0,O):k===63?(t.consume(k),o=3,i.interrupt?e:U):yr(k)?(t.consume(k),u=String.fromCharCode(k),L):n(k)}function T(k){return k===45?(t.consume(k),o=2,A):k===91?(t.consume(k),o=5,f=0,D):yr(k)?(t.consume(k),o=4,i.interrupt?e:U):n(k)}function A(k){return k===45?(t.consume(k),i.interrupt?e:U):n(k)}function D(k){const _e="CDATA[";return k===_e.charCodeAt(f++)?(t.consume(k),f===_e.length?i.interrupt?e:B:D):n(k)}function O(k){return yr(k)?(t.consume(k),u=String.fromCharCode(k),L):n(k)}function L(k){if(k===null||k===47||k===62||Qn(k)){const _e=k===47,be=u.toLowerCase();return!_e&&!l&&hE.includes(be)?(o=1,i.interrupt?e(k):B(k)):SN.includes(u.toLowerCase())?(o=6,_e?(t.consume(k),z):i.interrupt?e(k):B(k)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):l?Q(k):Y(k))}return k===45||ci(k)?(t.consume(k),u+=String.fromCharCode(k),L):n(k)}function z(k){return k===62?(t.consume(k),i.interrupt?e:B):n(k)}function Q(k){return dt(k)?(t.consume(k),Q):F(k)}function Y(k){return k===47?(t.consume(k),F):k===58||k===95||yr(k)?(t.consume(k),le):dt(k)?(t.consume(k),Y):F(k)}function le(k){return k===45||k===46||k===58||k===95||ci(k)?(t.consume(k),le):pe(k)}function pe(k){return k===61?(t.consume(k),$):dt(k)?(t.consume(k),pe):Y(k)}function $(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),p=k,N):dt(k)?(t.consume(k),$):M(k)}function N(k){return k===p?(t.consume(k),p=null,R):k===null||Pe(k)?n(k):(t.consume(k),N)}function M(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||Qn(k)?pe(k):(t.consume(k),M)}function R(k){return k===47||k===62||dt(k)?Y(k):n(k)}function F(k){return k===62?(t.consume(k),V):n(k)}function V(k){return k===null||Pe(k)?B(k):dt(k)?(t.consume(k),V):n(k)}function B(k){return k===45&&o===2?(t.consume(k),X):k===60&&o===1?(t.consume(k),K):k===62&&o===4?(t.consume(k),H):k===63&&o===3?(t.consume(k),U):k===93&&o===5?(t.consume(k),ae):Pe(k)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(xN,ie,P)(k)):k===null||Pe(k)?(t.exit("htmlFlowData"),P(k)):(t.consume(k),B)}function P(k){return t.check(CN,ye,ie)(k)}function ye(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),me}function me(k){return k===null||Pe(k)?P(k):(t.enter("htmlFlowData"),B(k))}function X(k){return k===45?(t.consume(k),U):B(k)}function K(k){return k===47?(t.consume(k),u="",he):B(k)}function he(k){if(k===62){const _e=u.toLowerCase();return hE.includes(_e)?(t.consume(k),H):B(k)}return yr(k)&&u.length<8?(t.consume(k),u+=String.fromCharCode(k),he):B(k)}function ae(k){return k===93?(t.consume(k),U):B(k)}function U(k){return k===62?(t.consume(k),H):k===45&&o===2?(t.consume(k),U):B(k)}function H(k){return k===null||Pe(k)?(t.exit("htmlFlowData"),ie(k)):(t.consume(k),H)}function ie(k){return t.exit("htmlFlow"),e(k)}}function IN(t,e,n){const i=this;return o;function o(u){return Pe(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function RN(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(od,e,n)}}const NN={name:"htmlText",tokenize:MN};function MN(t,e,n){const i=this;let o,l,u;return f;function f(U){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(U),p}function p(U){return U===33?(t.consume(U),d):U===47?(t.consume(U),pe):U===63?(t.consume(U),Y):yr(U)?(t.consume(U),M):n(U)}function d(U){return U===45?(t.consume(U),y):U===91?(t.consume(U),l=0,D):yr(U)?(t.consume(U),Q):n(U)}function y(U){return U===45?(t.consume(U),A):n(U)}function E(U){return U===null?n(U):U===45?(t.consume(U),T):Pe(U)?(u=E,K(U)):(t.consume(U),E)}function T(U){return U===45?(t.consume(U),A):E(U)}function A(U){return U===62?X(U):U===45?T(U):E(U)}function D(U){const H="CDATA[";return U===H.charCodeAt(l++)?(t.consume(U),l===H.length?O:D):n(U)}function O(U){return U===null?n(U):U===93?(t.consume(U),L):Pe(U)?(u=O,K(U)):(t.consume(U),O)}function L(U){return U===93?(t.consume(U),z):O(U)}function z(U){return U===62?X(U):U===93?(t.consume(U),z):O(U)}function Q(U){return U===null||U===62?X(U):Pe(U)?(u=Q,K(U)):(t.consume(U),Q)}function Y(U){return U===null?n(U):U===63?(t.consume(U),le):Pe(U)?(u=Y,K(U)):(t.consume(U),Y)}function le(U){return U===62?X(U):Y(U)}function pe(U){return yr(U)?(t.consume(U),$):n(U)}function $(U){return U===45||ci(U)?(t.consume(U),$):N(U)}function N(U){return Pe(U)?(u=N,K(U)):dt(U)?(t.consume(U),N):X(U)}function M(U){return U===45||ci(U)?(t.consume(U),M):U===47||U===62||Qn(U)?R(U):n(U)}function R(U){return U===47?(t.consume(U),X):U===58||U===95||yr(U)?(t.consume(U),F):Pe(U)?(u=R,K(U)):dt(U)?(t.consume(U),R):X(U)}function F(U){return U===45||U===46||U===58||U===95||ci(U)?(t.consume(U),F):V(U)}function V(U){return U===61?(t.consume(U),B):Pe(U)?(u=V,K(U)):dt(U)?(t.consume(U),V):R(U)}function B(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(t.consume(U),o=U,P):Pe(U)?(u=B,K(U)):dt(U)?(t.consume(U),B):(t.consume(U),ye)}function P(U){return U===o?(t.consume(U),o=void 0,me):U===null?n(U):Pe(U)?(u=P,K(U)):(t.consume(U),P)}function ye(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||Qn(U)?R(U):(t.consume(U),ye)}function me(U){return U===47||U===62||Qn(U)?R(U):n(U)}function X(U){return U===62?(t.consume(U),t.exit("htmlTextData"),t.exit("htmlText"),e):n(U)}function K(U){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(U),t.exit("lineEnding"),he}function he(U){return dt(U)?Ct(t,ae,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):ae(U)}function ae(U){return t.enter("htmlTextData"),u(U)}}const dg={name:"labelEnd",resolveAll:VN,resolveTo:LN,tokenize:UN},DN={tokenize:ON},kN={tokenize:FN},PN={tokenize:zN};function VN(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Sr(t,0,t.length,n),t}function LN(t,e){let n=t.length,i=0,o,l,u,f;for(;n--;)if(o=t[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",p,e],["enter",d,e]],f=Ii(f,t.slice(l+1,l+i+3)),f=Ii(f,[["enter",y,e]]),f=Ii(f,fg(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),f=Ii(f,[["exit",y,e],t[u-2],t[u-1],["exit",d,e]]),f=Ii(f,t.slice(u+1)),f=Ii(f,[["exit",p,e]]),Sr(t,l,t.length,f),t}function UN(t,e,n){const i=this;let o=i.events.length,l,u;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){l=i.events[o][1];break}return f;function f(T){return l?l._inactive?E(T):(u=i.parser.defined.includes(Ml(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(DN,y,u?y:E)(T):T===91?t.attempt(kN,y,u?d:E)(T):u?y(T):E(T)}function d(T){return t.attempt(PN,y,E)(T)}function y(T){return e(T)}function E(T){return l._balanced=!0,n(T)}}function ON(t,e,n){return i;function i(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),o}function o(E){return Qn(E)?hu(t,l)(E):l(E)}function l(E){return E===41?y(E):HA(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return Qn(E)?hu(t,p)(E):y(E)}function f(E){return n(E)}function p(E){return E===34||E===39||E===40?YA(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):y(E)}function d(E){return Qn(E)?hu(t,y)(E):y(E)}function y(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function FN(t,e,n){const i=this;return o;function o(f){return GA.call(i,t,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(Ml(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function zN(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),o}function o(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const BN={name:"labelStartImage",resolveAll:dg.resolveAll,tokenize:qN};function qN(t,e,n){const i=this;return o;function o(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const HN={name:"labelStartLink",resolveAll:dg.resolveAll,tokenize:GN};function GN(t,e,n){const i=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Fp={name:"lineEnding",tokenize:YN};function YN(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ct(t,e,"linePrefix")}}const xf={name:"thematicBreak",tokenize:JN};function JN(t,e,n){let i=0,o;return l;function l(d){return t.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(t.enter("thematicBreakSequence"),p(d)):i>=3&&(d===null||Pe(d))?(t.exit("thematicBreak"),e(d)):n(d)}function p(d){return d===o?(t.consume(d),i++,p):(t.exit("thematicBreakSequence"),dt(d)?Ct(t,f,"whitespace")(d):f(d))}}const Jn={continuation:{tokenize:XN},exit:WN,name:"list",tokenize:QN},$N={partial:!0,tokenize:ZN},KN={partial:!0,tokenize:jN};function QN(t,e,n){const i=this,o=i.events[i.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(A){const D=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:pm(A)){if(i.containerState.type||(i.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(xf,n,d)(A):d(A);if(!i.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(A)}return n(A)}function p(A){return pm(A)&&++u<10?(t.consume(A),p):(!i.interrupt||u<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),d(A)):n(A)}function d(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,t.check(od,i.interrupt?n:y,t.attempt($N,T,E))}function y(A){return i.containerState.initialBlankLine=!0,l++,T(A)}function E(A){return dt(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),T):n(A)}function T(A){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(A)}}function XN(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(od,o,l);function o(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ct(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!dt(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(KN,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ct(t,t.attempt(Jn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function jN(t,e,n){const i=this;return Ct(t,o,"listItemIndent",i.containerState.size+1);function o(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function WN(t){t.exit(this.containerState.type)}function ZN(t,e,n){const i=this;return Ct(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=i.events[i.events.length-1];return!dt(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const pE={name:"setextUnderline",resolveTo:eM,tokenize:tM};function eM(t,e){let n=t.length,i,o,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",l?(t.splice(o,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function tM(t,e,n){const i=this;let o;return l;function l(d){let y=i.events.length,E;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){E=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||E)?(t.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),dt(d)?Ct(t,p,"lineSuffix")(d):p(d))}function p(d){return d===null||Pe(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const nM={tokenize:iM};function iM(t){const e=this,n=t.attempt(od,i,t.attempt(this.parser.constructs.flowInitial,o,Ct(t,t.attempt(this.parser.constructs.flow,o,t.attempt(aN,o)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const rM={resolveAll:$A()},oM=JA("string"),sM=JA("text");function JA(t){return{resolveAll:$A(t==="text"?lM:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],l=n.attempt(o,u,f);return u;function u(y){return d(y)?l(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return d(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function d(y){if(y===null)return!0;const E=o[y];let T=-1;if(E)for(;++T<E.length;){const A=E[T];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function $A(t){return e;function e(n,i){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return t?t(n,i):n}}function lM(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let l=o.length,u=-1,f=0,p;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)p=!0,f++;else if(d!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const aM={42:Jn,43:Jn,45:Jn,48:Jn,49:Jn,50:Jn,51:Jn,52:Jn,53:Jn,54:Jn,55:Jn,56:Jn,57:Jn,62:FA},uM={91:hN},cM={[-2]:Op,[-1]:Op,32:Op},fM={35:_N,42:xf,45:[pE,xf],60:AN,61:pE,95:xf,96:dE,126:dE},dM={38:BA,92:zA},hM={[-5]:Fp,[-4]:Fp,[-3]:Fp,33:BN,38:BA,42:mm,60:[HR,NN],91:HN,92:[yN,zA],93:dg,95:mm,96:nN},pM={null:[mm,rM]},mM={null:[42,95]},gM={null:[]},yM=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:mM,contentInitial:uM,disable:gM,document:aM,flow:fM,flowInitial:cM,insideSpan:pM,string:dM,text:hM},Symbol.toStringTag,{value:"Module"}));function vM(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const p={attempt:N(pe),check:N($),consume:Q,enter:Y,exit:le,interrupt:N($,{interrupt:!0})},d={code:null,containerState:{},defineSkip:O,events:[],now:D,parser:t,previous:null,sliceSerialize:T,sliceStream:A,write:E};let y=e.tokenize.call(d,p);return e.resolveAll&&l.push(e),d;function E(V){return u=Ii(u,V),L(),u[u.length-1]!==null?[]:(M(e,0),d.events=fg(l,d.events,d),d.events)}function T(V,B){return EM(A(V),B)}function A(V){return _M(u,V)}function D(){const{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}=i;return{_bufferIndex:V,_index:B,line:P,column:ye,offset:me}}function O(V){o[V.line]=V.column,F()}function L(){let V;for(;i._index<u.length;){const B=u[i._index];if(typeof B=="string")for(V=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===V&&i._bufferIndex<B.length;)z(B.charCodeAt(i._bufferIndex));else z(B)}}function z(V){y=y(V)}function Q(V){Pe(V)?(i.line++,i.column=1,i.offset+=V===-3?2:1,F()):V!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=V}function Y(V,B){const P=B||{};return P.type=V,P.start=D(),d.events.push(["enter",P,d]),f.push(P),P}function le(V){const B=f.pop();return B.end=D(),d.events.push(["exit",B,d]),B}function pe(V,B){M(V,B.from)}function $(V,B){B.restore()}function N(V,B){return P;function P(ye,me,X){let K,he,ae,U;return Array.isArray(ye)?ie(ye):"tokenize"in ye?ie([ye]):H(ye);function H(Ce){return Ue;function Ue(ut){const ot=ut!==null&&Ce[ut],rn=ut!==null&&Ce.null,An=[...Array.isArray(ot)?ot:ot?[ot]:[],...Array.isArray(rn)?rn:rn?[rn]:[]];return ie(An)(ut)}}function ie(Ce){return K=Ce,he=0,Ce.length===0?X:k(Ce[he])}function k(Ce){return Ue;function Ue(ut){return U=R(),ae=Ce,Ce.partial||(d.currentConstruct=Ce),Ce.name&&d.parser.constructs.disable.null.includes(Ce.name)?be():Ce.tokenize.call(B?Object.assign(Object.create(d),B):d,p,_e,be)(ut)}}function _e(Ce){return V(ae,U),me}function be(Ce){return U.restore(),++he<K.length?k(K[he]):X}}}function M(V,B){V.resolveAll&&!l.includes(V)&&l.push(V),V.resolve&&Sr(d.events,B,d.events.length-B,V.resolve(d.events.slice(B),d)),V.resolveTo&&(d.events=V.resolveTo(d.events,d))}function R(){const V=D(),B=d.previous,P=d.currentConstruct,ye=d.events.length,me=Array.from(f);return{from:ye,restore:X};function X(){i=V,d.previous=B,d.currentConstruct=P,d.events.length=ye,f=me,F()}}function F(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function _M(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,l=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(i,l)];else{if(u=t.slice(n,o),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}l>0&&u.push(t[o].slice(0,l))}return u}function EM(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,i.push(u)}return i.join("")}function TM(t){const i={constructs:IR([yM,...(t||{}).extensions||[]]),content:o(LR),defined:[],document:o(OR),flow:o(nM),lazy:{},string:o(oM),text:o(sM)};return i;function o(l){return u;function u(f){return vM(i,l,f)}}}function SM(t){for(;!qA(t););return t}const mE=/[\0\t\n\r]/g;function AM(){let t=1,e="",n=!0,i;return o;function o(l,u,f){const p=[];let d,y,E,T,A;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),E=0,e="",n&&(l.charCodeAt(0)===65279&&E++,n=void 0);E<l.length;){if(mE.lastIndex=E,d=mE.exec(l),T=d&&d.index!==void 0?d.index:l.length,A=l.charCodeAt(T),!d){e=l.slice(E);break}if(A===10&&E===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),E<T&&(p.push(l.slice(E,T)),t+=T-E),A){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}E=T+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const xM=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function CM(t){return t.replace(xM,wM)}function wM(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return OA(n.slice(l?2:1),l?16:10)}return cg(n)||t}const KA={}.hasOwnProperty;function bM(t,e,n){return typeof e!="string"&&(n=e,e=void 0),IM(n)(SM(TM(n).document().write(AM()(t,e,!0))))}function IM(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(Je),autolinkProtocol:R,autolinkEmail:R,atxHeading:l(Ln),blockQuote:l(rn),characterEscape:R,characterReference:R,codeFenced:l(An),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(An,u),codeText:l(ji,u),codeTextData:R,data:R,codeFlowValue:R,definition:l(di),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(Vn),hardBreakEscape:l(Un),hardBreakTrailing:l(Un),htmlFlow:l(jn,u),htmlFlowData:R,htmlText:l(jn,u),htmlTextData:R,image:l(ki),label:u,link:l(Je),listItem:l(Wn),listItemValue:T,listOrdered:l(ht,E),listUnordered:l(ht),paragraph:l(Qo),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(Ln),strong:l(pn),thematicBreak:l(Pi)},exit:{atxHeading:p(),atxHeadingSequence:pe,autolink:p(),autolinkEmail:ot,autolinkProtocol:ut,blockQuote:p(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:be,characterReferenceMarkerNumeric:be,characterReferenceValue:Ce,characterReference:Ue,codeFenced:p(L),codeFencedFence:O,codeFencedFenceInfo:A,codeFencedFenceMeta:D,codeFlowValue:F,codeIndented:p(z),codeText:p(me),codeTextData:F,data:F,definition:p(),definitionDestinationString:le,definitionLabelString:Q,definitionTitleString:Y,emphasis:p(),hardBreakEscape:p(B),hardBreakTrailing:p(B),htmlFlow:p(P),htmlFlowData:F,htmlText:p(ye),htmlTextData:F,image:p(K),label:ae,labelText:he,lineEnding:V,link:p(X),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_e,resourceDestinationString:U,resourceTitleString:H,resource:ie,setextHeading:p(M),setextHeadingLineSequence:N,setextHeadingText:$,strong:p(),thematicBreak:p()}};QA(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(re){let ve={type:"root",children:[]};const Ie={stack:[ve],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:y,data:n},He=[];let et=-1;for(;++et<re.length;)if(re[et][1].type==="listOrdered"||re[et][1].type==="listUnordered")if(re[et][0]==="enter")He.push(et);else{const Gt=He.pop();et=o(re,Gt,et)}for(et=-1;++et<re.length;){const Gt=e[re[et][0]];KA.call(Gt,re[et][1].type)&&Gt[re[et][1].type].call(Object.assign({sliceSerialize:re[et][2].sliceSerialize},Ie),re[et][1])}if(Ie.tokenStack.length>0){const Gt=Ie.tokenStack[Ie.tokenStack.length-1];(Gt[1]||gE).call(Ie,void 0,Gt[0])}for(ve.position={start:Mo(re.length>0?re[0][1].start:{line:1,column:1,offset:0}),end:Mo(re.length>0?re[re.length-2][1].end:{line:1,column:1,offset:0})},et=-1;++et<e.transforms.length;)ve=e.transforms[et](ve)||ve;return ve}function o(re,ve,Ie){let He=ve-1,et=-1,Gt=!1,On,Dt,wt,Yt;for(;++He<=Ie;){const $e=re[He];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?et++:et--,Yt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(On&&!Yt&&!et&&!wt&&(wt=He),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!et&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||et===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(On){let Zn=He;for(Dt=void 0;Zn--;){const an=re[Zn];if(an[1].type==="lineEnding"||an[1].type==="lineEndingBlank"){if(an[0]==="exit")continue;Dt&&(re[Dt][1].type="lineEndingBlank",Gt=!0),an[1].type="lineEnding",Dt=Zn}else if(!(an[1].type==="linePrefix"||an[1].type==="blockQuotePrefix"||an[1].type==="blockQuotePrefixWhitespace"||an[1].type==="blockQuoteMarker"||an[1].type==="listItemIndent"))break}wt&&(!Dt||wt<Dt)&&(On._spread=!0),On.end=Object.assign({},Dt?re[Dt][1].start:$e[1].end),re.splice(Dt||He,0,["exit",On,$e[2]]),He++,Ie++}if($e[1].type==="listItemPrefix"){const Zn={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};On=Zn,re.splice(He,0,["enter",Zn,$e[2]]),He++,Ie++,wt=void 0,Yt=!0}}}return re[ve][1]._spread=Gt,Ie}function l(re,ve){return Ie;function Ie(He){f.call(this,re(He),He),ve&&ve.call(this,He)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(re,ve,Ie){this.stack[this.stack.length-1].children.push(re),this.stack.push(re),this.tokenStack.push([ve,Ie||void 0]),re.position={start:Mo(ve.start),end:void 0}}function p(re){return ve;function ve(Ie){re&&re.call(this,Ie),d.call(this,Ie)}}function d(re,ve){const Ie=this.stack.pop(),He=this.tokenStack.pop();if(He)He[0].type!==re.type&&(ve?ve.call(this,re,He[0]):(He[1]||gE).call(this,re,He[0]));else throw new Error("Cannot close `"+re.type+"` ("+du({start:re.start,end:re.end})+"): its not open");Ie.position.end=Mo(re.end)}function y(){return wR(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function T(re){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(re),10),this.data.expectingFirstListItemValue=void 0}}function A(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=re}function D(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=re}function O(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function L(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.value=re.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.value=re.replace(/(\r?\n|\r)$/g,"")}function Q(re){const ve=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ve,Ie.identifier=Ml(this.sliceSerialize(re)).toLowerCase()}function Y(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.title=re}function le(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.url=re}function pe(re){const ve=this.stack[this.stack.length-1];if(!ve.depth){const Ie=this.sliceSerialize(re).length;ve.depth=Ie}}function $(){this.data.setextHeadingSlurpLineEnding=!0}function N(re){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(re).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function R(re){const Ie=this.stack[this.stack.length-1].children;let He=Ie[Ie.length-1];(!He||He.type!=="text")&&(He=Vt(),He.position={start:Mo(re.start),end:void 0},Ie.push(He)),this.stack.push(He)}function F(re){const ve=this.stack.pop();ve.value+=this.sliceSerialize(re),ve.position.end=Mo(re.end)}function V(re){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ie=ve.children[ve.children.length-1];Ie.position.end=Mo(re.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(R.call(this,re),F.call(this,re))}function B(){this.data.atHardBreak=!0}function P(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.value=re}function ye(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.value=re}function me(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.value=re}function X(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=ve,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function K(){const re=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";re.type+="Reference",re.referenceType=ve,delete re.url,delete re.title}else delete re.identifier,delete re.label;this.data.referenceType=void 0}function he(re){const ve=this.sliceSerialize(re),Ie=this.stack[this.stack.length-2];Ie.label=CM(ve),Ie.identifier=Ml(ve).toLowerCase()}function ae(){const re=this.stack[this.stack.length-1],ve=this.resume(),Ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ie.type==="link"){const He=re.children;Ie.children=He}else Ie.alt=ve}function U(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.url=re}function H(){const re=this.resume(),ve=this.stack[this.stack.length-1];ve.title=re}function ie(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function _e(re){const ve=this.resume(),Ie=this.stack[this.stack.length-1];Ie.label=ve,Ie.identifier=Ml(this.sliceSerialize(re)).toLowerCase(),this.data.referenceType="full"}function be(re){this.data.characterReferenceType=re.type}function Ce(re){const ve=this.sliceSerialize(re),Ie=this.data.characterReferenceType;let He;Ie?(He=OA(ve,Ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):He=cg(ve);const et=this.stack[this.stack.length-1];et.value+=He}function Ue(re){const ve=this.stack.pop();ve.position.end=Mo(re.end)}function ut(re){F.call(this,re);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(re)}function ot(re){F.call(this,re);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(re)}function rn(){return{type:"blockquote",children:[]}}function An(){return{type:"code",lang:null,meta:null,value:""}}function ji(){return{type:"inlineCode",value:""}}function di(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Vn(){return{type:"emphasis",children:[]}}function Ln(){return{type:"heading",depth:0,children:[]}}function Un(){return{type:"break"}}function jn(){return{type:"html",value:""}}function ki(){return{type:"image",title:null,url:"",alt:null}}function Je(){return{type:"link",title:null,url:"",children:[]}}function ht(re){return{type:"list",ordered:re.type==="listOrdered",start:null,spread:re._spread,children:[]}}function Wn(re){return{type:"listItem",spread:re._spread,checked:null,children:[]}}function Qo(){return{type:"paragraph",children:[]}}function pn(){return{type:"strong",children:[]}}function Vt(){return{type:"text",value:""}}function Pi(){return{type:"thematicBreak"}}}function Mo(t){return{line:t.line,column:t.column,offset:t.offset}}function QA(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?QA(t,i):RM(t,i)}}function RM(t,e){let n;for(n in e)if(KA.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function gE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+du({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+du({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+du({start:e.start,end:e.end})+") is still open")}function NM(t){const e=this;e.parser=n;function n(i){return bM(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function MM(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function DM(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function kM(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function PM(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VM(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function LM(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Yl(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const d={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,d),t.applyData(e,d)}function UM(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function OM(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function XA(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=i:o.push({type:"text",value:i}),o}function FM(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return XA(t,e);const o={src:Yl(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,l),t.applyData(e,l)}function zM(t,e){const n={src:Yl(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function BM(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function qM(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return XA(t,e);const o={href:Yl(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function HM(t,e){const n={href:Yl(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function GM(t,e,n){const i=t.all(e),o=n?YM(n):jA(e),l={},u=[];if(typeof e.checked=="boolean"){const y=i[0];let E;y&&y.type==="element"&&y.tagName==="p"?E=y:(E={type:"element",tagName:"p",properties:{},children:[]},i.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(o||f!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!o?u.push(...y.children):u.push(y)}const p=i[i.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,d),t.applyData(e,d)}function YM(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=jA(n[i])}return e}function jA(t){const e=t.spread;return e??t.children.length>1}function JM(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const u=i[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function $M(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KM(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function QM(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XM(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=sg(e.children[1]),p=MA(e.children[e.children.length-1]);f&&p&&(u.position={start:f,end:p}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,l),t.applyData(e,l)}function jM(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let p=-1;const d=[];for(;++p<f;){const E=e.children[p],T={},A=u?u[p]:void 0;A&&(T.align=A);let D={type:"element",tagName:l,properties:T,children:[]};E&&(D.children=t.all(E),t.patch(E,D),D=t.applyData(E,D)),d.push(D)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,y),t.applyData(e,y)}function WM(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const yE=9,vE=32;function ZM(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const l=[];for(;i;)l.push(_E(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return l.push(_E(e.slice(o),o>0,!1)),l.join("")}function _E(t,e,n){let i=0,o=t.length;if(e){let l=t.codePointAt(i);for(;l===yE||l===vE;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(o-1);for(;l===yE||l===vE;)o--,l=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function e2(t,e){const n={type:"text",value:ZM(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function t2(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const n2={blockquote:MM,break:DM,code:kM,delete:PM,emphasis:VM,footnoteReference:LM,heading:UM,html:OM,imageReference:FM,image:zM,inlineCode:BM,linkReference:qM,link:HM,listItem:GM,list:JM,paragraph:$M,root:KM,strong:QM,table:XM,tableCell:WM,tableRow:jM,text:e2,thematicBreak:t2,toml:cf,yaml:cf,definition:cf,footnoteDefinition:cf};function cf(){}const WA=-1,sd=0,pu=1,Vf=2,hg=3,pg=4,mg=5,gg=6,ZA=7,ex=8,EE=typeof self=="object"?self:globalThis,i2=(t,e)=>{const n=(o,l)=>(t.set(l,o),o),i=o=>{if(t.has(o))return t.get(o);const[l,u]=e[o];switch(l){case sd:case WA:return n(u,o);case pu:{const f=n([],o);for(const p of u)f.push(i(p));return f}case Vf:{const f=n({},o);for(const[p,d]of u)f[i(p)]=i(d);return f}case hg:return n(new Date(u),o);case pg:{const{source:f,flags:p}=u;return n(new RegExp(f,p),o)}case mg:{const f=n(new Map,o);for(const[p,d]of u)f.set(i(p),i(d));return f}case gg:{const f=n(new Set,o);for(const p of u)f.add(i(p));return f}case ZA:{const{name:f,message:p}=u;return n(new EE[f](p),o)}case ex:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new EE[l](u),o)};return i},TE=t=>i2(new Map,t)(0),Tl="",{toString:r2}={},{keys:o2}=Object,ru=t=>{const e=typeof t;if(e!=="object"||!t)return[sd,e];const n=r2.call(t).slice(8,-1);switch(n){case"Array":return[pu,Tl];case"Object":return[Vf,Tl];case"Date":return[hg,Tl];case"RegExp":return[pg,Tl];case"Map":return[mg,Tl];case"Set":return[gg,Tl];case"DataView":return[pu,n]}return n.includes("Array")?[pu,n]:n.includes("Error")?[ZA,n]:[Vf,n]},ff=([t,e])=>t===sd&&(e==="function"||e==="symbol"),s2=(t,e,n,i)=>{const o=(u,f)=>{const p=i.push(u)-1;return n.set(f,p),p},l=u=>{if(n.has(u))return n.get(u);let[f,p]=ru(u);switch(f){case sd:{let y=u;switch(p){case"bigint":f=ex,y=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return o([WA],u)}return o([f,y],u)}case pu:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),o([p,[...T]],u)}const y=[],E=o([f,y],u);for(const T of u)y.push(l(T));return E}case Vf:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const y=[],E=o([f,y],u);for(const T of o2(u))(t||!ff(ru(u[T])))&&y.push([l(T),l(u[T])]);return E}case hg:return o([f,u.toISOString()],u);case pg:{const{source:y,flags:E}=u;return o([f,{source:y,flags:E}],u)}case mg:{const y=[],E=o([f,y],u);for(const[T,A]of u)(t||!(ff(ru(T))||ff(ru(A))))&&y.push([l(T),l(A)]);return E}case gg:{const y=[],E=o([f,y],u);for(const T of u)(t||!ff(ru(T)))&&y.push(l(T));return E}}const{message:d}=u;return o([f,{name:p,message:d}],u)};return l},SE=(t,{json:e,lossy:n}={})=>{const i=[];return s2(!(e||n),!!e,new Map,i)(t),i},Lf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?TE(SE(t,e)):structuredClone(t):(t,e)=>TE(SE(t,e));function l2(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function a2(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function u2(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||l2,i=t.options.footnoteBackLabel||a2,o=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[p]);if(!d)continue;const y=t.all(d),E=String(d.identifier).toUpperCase(),T=Yl(E.toLowerCase());let A=0;const D=[],O=t.footnoteCounts.get(E);for(;O!==void 0&&++A<=O;){D.length>0&&D.push({type:"text",value:" "});let Q=typeof n=="string"?n:n(p,A);typeof Q=="string"&&(Q={type:"text",value:Q}),D.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,A),className:["data-footnote-backref"]},children:Array.isArray(Q)?Q:[Q]})}const L=y[y.length-1];if(L&&L.type==="element"&&L.tagName==="p"){const Q=L.children[L.children.length-1];Q&&Q.type==="text"?Q.value+=" ":L.children.push({type:"text",value:" "}),L.children.push(...D)}else y.push(...D);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(y,!0)};t.patch(d,z),f.push(z)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Lf(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const tx=(function(t){if(t==null)return h2;if(typeof t=="function")return ld(t);if(typeof t=="object")return Array.isArray(t)?c2(t):f2(t);if(typeof t=="string")return d2(t);throw new Error("Expected function, string, or object as test")});function c2(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=tx(t[n]);return ld(i);function i(...o){let l=-1;for(;++l<e.length;)if(e[l].apply(this,o))return!0;return!1}}function f2(t){const e=t;return ld(n);function n(i){const o=i;let l;for(l in t)if(o[l]!==e[l])return!1;return!0}}function d2(t){return ld(e);function e(n){return n&&n.type===t}}function ld(t){return e;function e(n,i,o){return!!(p2(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function h2(){return!0}function p2(t){return t!==null&&typeof t=="object"&&"type"in t}const nx=[],m2=!0,AE=!1,g2="skip";function y2(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const l=tx(o),u=i?-1:1;f(t,void 0,[])();function f(p,d,y){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const A=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(A?"<"+A+">":""))+")"})}return T;function T(){let A=nx,D,O,L;if((!e||l(p,d,y[y.length-1]||void 0))&&(A=v2(n(p,y)),A[0]===AE))return A;if("children"in p&&p.children){const z=p;if(z.children&&A[0]!==g2)for(O=(i?z.children.length:-1)+u,L=y.concat(z);O>-1&&O<z.children.length;){const Q=z.children[O];if(D=f(Q,O,L)(),D[0]===AE)return D;O=typeof D[1]=="number"?D[1]:O+u}}return A}}}function v2(t){return Array.isArray(t)?t:typeof t=="number"?[m2,t]:t==null?nx:[t]}function ix(t,e,n,i){let o,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,o=n):(l=e,u=n,o=i),y2(t,l,f,o);function f(p,d){const y=d[d.length-1],E=y?y.children.indexOf(p):void 0;return u(p,E,y)}}const gm={}.hasOwnProperty,_2={};function E2(t,e){const n=e||_2,i=new Map,o=new Map,l=new Map,u={...n2,...n.handlers},f={all:d,applyData:S2,definitionById:i,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:p,options:n,patch:T2,wrap:x2};return ix(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const E=y.type==="definition"?i:o,T=String(y.identifier).toUpperCase();E.has(T)||E.set(T,y)}}),f;function p(y,E){const T=y.type,A=f.handlers[T];if(gm.call(f.handlers,T)&&A)return A(f,y,E);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in y){const{children:O,...L}=y,z=Lf(L);return z.children=f.all(y),z}return Lf(y)}return(f.options.unknownHandler||A2)(f,y,E)}function d(y){const E=[];if("children"in y){const T=y.children;let A=-1;for(;++A<T.length;){const D=f.one(T[A],y);if(D){if(A&&T[A-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=xE(D.value)),!Array.isArray(D)&&D.type==="element")){const O=D.children[0];O&&O.type==="text"&&(O.value=xE(O.value))}Array.isArray(D)?E.push(...D):E.push(D)}}}return E}}function T2(t,e){t.position&&(e.position=rR(t))}function S2(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Lf(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function A2(t,e){const n=e.data||{},i="value"in e&&!(gm.call(n,"hProperties")||gm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function x2(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function xE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function CE(t,e){const n=E2(t,e),i=n.one(t,void 0),o=u2(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function C2(t,e){return t&&"run"in t?async function(n,i){const o=CE(n,{file:i,...e});await t.run(o,i)}:function(n,i){return CE(n,{file:i,...t||e})}}function wE(t){if(t)throw t}var zp,bE;function w2(){if(bE)return zp;bE=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},l=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var y=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!E)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},u=function(d,y){n&&y.name==="__proto__"?n(d,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):d[y.name]=y.newValue},f=function(d,y){if(y==="__proto__")if(t.call(d,y)){if(i)return i(d,y).value}else return;return d[y]};return zp=function p(){var d,y,E,T,A,D,O=arguments[0],L=1,z=arguments.length,Q=!1;for(typeof O=="boolean"&&(Q=O,O=arguments[1]||{},L=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});L<z;++L)if(d=arguments[L],d!=null)for(y in d)E=f(O,y),T=f(d,y),O!==T&&(Q&&T&&(l(T)||(A=o(T)))?(A?(A=!1,D=E&&o(E)?E:[]):D=E&&l(E)?E:{},u(O,{name:y,newValue:p(Q,D,T)})):typeof T<"u"&&u(O,{name:y,newValue:T}));return O},zp}var b2=w2();const Bp=rd(b2);function ym(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function I2(){const t=[],e={run:n,use:i};return e;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(p,...d){const y=t[++l];let E=-1;if(p){u(p);return}for(;++E<o.length;)(d[E]===null||d[E]===void 0)&&(d[E]=o[E]);o=d,y?R2(y,f)(...d):u(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function R2(t,e){let n;return i;function i(...u){const f=t.length>u.length;let p;f&&u.push(o);try{p=t.apply(this,u)}catch(d){const y=d;if(f&&n)throw y;return o(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,o):p instanceof Error?o(p):l(p))}function o(u,...f){n||(n=!0,e(u,...f))}function l(u){o(null,u)}}const mr={basename:N2,dirname:M2,extname:D2,join:k2,sep:"/"};function N2(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Mu(t);let n=0,i=-1,o=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else i<0&&(l=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,f=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(t.codePointAt(o)===e.codePointAt(f--)?f<0&&(i=o):(f=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function M2(t){if(Mu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function D2(t){Mu(t);let e=t.length,n=-1,i=0,o=-1,l=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?o<0?o=e:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function k2(...t){let e=-1,n;for(;++e<t.length;)Mu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":P2(n)}function P2(t){Mu(t);const e=t.codePointAt(0)===47;let n=V2(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function V2(t,e){let n="",i=0,o=-1,l=0,u=-1,f,p;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",i=0,o=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),i=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Mu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const L2={cwd:U2};function U2(){return"/"}function vm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function O2(t){if(typeof t=="string")t=new URL(t);else if(!vm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return F2(t)}function F2(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const qp=["history","path","basename","stem","extname","dirname"];class rx{constructor(e){let n;e?vm(e)?n={path:e}:typeof e=="string"||z2(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":L2.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<qp.length;){const l=qp[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)qp.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?mr.basename(this.path):void 0}set basename(e){Gp(e,"basename"),Hp(e,"basename"),this.path=mr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?mr.dirname(this.path):void 0}set dirname(e){IE(this.basename,"dirname"),this.path=mr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?mr.extname(this.path):void 0}set extname(e){if(Hp(e,"extname"),IE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=mr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){vm(e)&&(e=O2(e)),Gp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?mr.basename(this.path,this.extname):void 0}set stem(e){Gp(e,"stem"),Hp(e,"stem"),this.path=mr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new Rn(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Hp(t,e){if(t&&t.includes(mr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+mr.sep+"`")}function Gp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function IE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function z2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const B2=(function(t){const i=this.constructor.prototype,o=i[t],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),q2={}.hasOwnProperty;class yg extends B2{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=I2()}copy(){const e=new yg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(Bp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?($p("data",this.frozen),this.namespace[e]=n,this):q2.call(this.namespace,e)&&this.namespace[e]||void 0:e?($p("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=df(e),i=this.parser||this.Parser;return Yp("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Yp("process",this.parser||this.Parser),Jp("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=df(e),p=i.parse(f);i.run(p,f,function(y,E,T){if(y||!E||!T)return d(y);const A=E,D=i.stringify(A,T);Y2(D)?T.value=D:T.result=D,d(y,T)});function d(y,E){y||!E?u(y):l?l(E):n(void 0,E)}}}processSync(e){let n=!1,i;return this.freeze(),Yp("processSync",this.parser||this.Parser),Jp("processSync",this.compiler||this.Compiler),this.process(e,o),NE("processSync","process",n),i;function o(l,u){n=!0,wE(l),i=u}}run(e,n,i){RE(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,f){const p=df(n);o.run(e,p,d);function d(y,E,T){const A=E||e;y?f(y):u?u(A):i(void 0,A,T)}}}runSync(e,n){let i=!1,o;return this.run(e,n,l),NE("runSync","run",i),o;function l(u,f){wE(u),o=f,i=!0}}stringify(e,n){this.freeze();const i=df(n),o=this.compiler||this.Compiler;return Jp("stringify",o),RE(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if($p("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[y,...E]=d;p(y,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=Bp(!0,o.settings,d.settings))}function f(d){let y=-1;if(d!=null)if(Array.isArray(d))for(;++y<d.length;){const E=d[y];l(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,y){let E=-1,T=-1;for(;++E<i.length;)if(i[E][0]===d){T=E;break}if(T===-1)i.push([d,...y]);else if(y.length>0){let[A,...D]=y;const O=i[T][1];ym(O)&&ym(A)&&(A=Bp(!0,O,A)),i[T]=[d,A,...D]}}}}const H2=new yg().freeze();function Yp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Jp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function $p(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function RE(t){if(!ym(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function NE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function df(t){return G2(t)?t:new rx(t)}function G2(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Y2(t){return typeof t=="string"||J2(t)}function J2(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $2="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",ME=[],DE={allowDangerousHtml:!0},K2=/^(https?|ircs?|mailto|xmpp)$/i,Q2=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function ox(t){const e=X2(t),n=j2(t);return W2(e.runSync(e.parse(n),n),t)}function X2(t){const e=t.rehypePlugins||ME,n=t.remarkPlugins||ME,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...DE}:DE;return H2().use(NM).use(n).use(C2,i).use(e)}function j2(t){const e=t.children||"",n=new rx;return typeof e=="string"&&(n.value=e),n}function W2(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,l=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||Z2;for(const y of Q2)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+$2+y.id,void 0);return ix(t,d),uR(t,{Fragment:C.Fragment,components:o,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function d(y,E,T){if(y.type==="raw"&&T&&typeof E=="number")return u?T.children.splice(E,1):T.children[E]={type:"text",value:y.value},E;if(y.type==="element"){let A;for(A in Up)if(Object.hasOwn(Up,A)&&Object.hasOwn(y.properties,A)){const D=y.properties[A],O=Up[A];(O===null||O.includes(y.tagName))&&(y.properties[A]=p(String(D||""),A,y))}}if(y.type==="element"){let A=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!A&&i&&typeof E=="number"&&(A=!i(y,E,T)),A&&T&&typeof E=="number")return f&&y.children?T.children.splice(E,1,...y.children):T.children.splice(E,1),E}}}function Z2(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||K2.test(t.slice(0,e))?t:""}const Cf=({fatwa:t,detailsMode:e=!1,onGoBack:n})=>{var L;const[i,o]=Me.useState(!1),[l,u]=Me.useState(!1),f=z=>{switch(z){case"PERMITTED":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"CONDITIONAL":return"bg-amber-50 text-amber-700 border-amber-200";case"FORBIDDEN":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},p=z=>{switch(z){case"PERMITTED":return" / ";case"CONDITIONAL":return"  /  ";case"FORBIDDEN":return" / ";default:return" "}},d=z=>{switch(z){case"PERMITTED":return C.jsx(Kb,{className:"w-4 h-4"});case"CONDITIONAL":return C.jsx(Jb,{className:"w-4 h-4"});case"FORBIDDEN":return C.jsx(Wb,{className:"w-4 h-4"});default:return C.jsx(Y_,{className:"w-4 h-4"})}},y=()=>`*${t.title}*

*:* ${t.question}

*:* ${t.ruling.substring(0,300)}${t.ruling.length>300?"...":""}

*:* ${t.source}

    " "`,E=()=>{navigator.clipboard.writeText(y()),o(!0),setTimeout(()=>o(!1),2e3)},T={whatsapp:`https://wa.me/?text=${encodeURIComponent(y())}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(t.title)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(y())}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.title)}&url=${encodeURIComponent(window.location.href)}`},A=((L=fu.find(z=>z.id===t.category))==null?void 0:L.name)||t.category,O=(z=>z?z.replace(//g,"****").split(/\n\n+/).map(Y=>Y.replace(/\n/g,`  
`)).join(`

`):"")(t.ruling);return C.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg mb-2 w-full mx-auto flex flex-col font-cairo animate-in fade-in duration-500"+(e?" max-w-4xl p-0 sm:p-8 gap-4 sm:gap-8 scale-[1.04] shadow-2xl min-h-[70vh]":" max-w-2xl p-2 sm:p-5 gap-4 sm:gap-5 h-full max-h-[85vh]"),style:{direction:"rtl"},children:[e&&n&&C.jsx("div",{className:"w-full bg-white border-b-2 border-teal-200 flex-shrink-0",children:C.jsxs("button",{onClick:n,className:"flex items-center justify-center gap-2 text-teal-600 hover:text-teal-700 transition-colors font-bold text-base px-4 py-4 w-full",children:[C.jsx(Ob,{className:"w-5 h-5"}),C.jsx("span",{children:"  "})]})}),C.jsx("div",{className:`bg-gradient-to-b from-gray-50 to-white border-b border-gray-100 flex-shrink-0 ${e?"p-3 sm:p-5":"p-5"}`,children:C.jsxs("div",{className:"flex flex-col gap-3",children:[C.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border flex items-center gap-1.5 w-fit shadow-sm ${f(t.verdict)}`,children:[d(t.verdict),p(t.verdict)]}),C.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 flex items-center gap-1",children:A})]}),C.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 leading-snug tracking-tight",children:t.title})]})}),C.jsxs("div",{className:`space-y-6 flex-1 overflow-y-auto custom-scrollbar ${e?"p-3 sm:p-5":"p-5"}`,children:[C.jsxs("div",{className:"relative",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-700",children:[C.jsx("div",{className:"bg-teal-50 p-1.5 rounded-lg",children:C.jsx(Y_,{className:"w-4 h-4"})}),C.jsx("span",{className:"text-sm font-bold",children:":"})]}),C.jsx("p",{className:"text-gray-700 font-medium text-base leading-relaxed bg-gray-50/50 p-4 rounded-xl border border-gray-100",children:t.question})]}),t.medical_context&&C.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 p-3 rounded-xl border border-blue-100/50",children:[C.jsx("div",{className:"bg-blue-100 p-1.5 rounded-lg mt-0.5 shrink-0",children:C.jsx(am,{className:"w-3.5 h-3.5 text-blue-600"})}),C.jsxs("div",{children:[C.jsx("span",{className:"text-xs font-bold text-blue-700 block mb-1",children:"   :"}),C.jsx("p",{className:"text-xs text-blue-800/80 font-mono leading-relaxed dir-ltr text-right",children:t.medical_context})]})]}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 border-b border-gray-100 pb-2 font-cairo",children:[C.jsx("div",{className:"bg-teal-100 p-1.5 rounded-lg",children:C.jsx(sI,{className:"w-4 h-4 text-teal-700"})}),C.jsx("span",{className:"font-bold text-base",children:"  :"})]}),C.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-loose",style:{fontFamily:"'Amiri', serif"},children:C.jsx(ox,{components:{p:({node:z,...Q})=>C.jsx("p",{className:"mb-6",...Q}),li:({node:z,...Q})=>C.jsx("li",{className:"mb-2",...Q}),h1:({node:z,...Q})=>C.jsx("h1",{className:"text-2xl font-bold mb-4 mt-6 text-teal-900",...Q}),h2:({node:z,...Q})=>C.jsx("h2",{className:"text-xl font-bold mb-3 mt-5 text-teal-800",...Q}),h3:({node:z,...Q})=>C.jsx("h3",{className:"text-lg font-bold mb-2 mt-4 text-teal-700",...Q}),strong:({node:z,...Q})=>C.jsx("strong",{className:"font-bold text-teal-900",...Q})},children:O})})]}),C.jsxs("div",{className:"pt-4 border-t border-dashed border-gray-200 flex flex-col gap-3 font-cairo",children:[C.jsxs("div",{className:"flex items-start gap-2",children:[C.jsx(qb,{className:"w-3.5 h-3.5 text-gray-400 mt-1 shrink-0"}),C.jsxs("div",{className:"text-xs text-gray-500",children:[C.jsx("span",{className:"font-bold text-gray-600",children:": "}),C.jsx("span",{className:"italic",children:t.source})]})]}),t.tags&&t.tags.length>0&&C.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[C.jsx(MI,{className:"w-3.5 h-3.5 text-gray-300 shrink-0"}),C.jsx("div",{className:"flex gap-1.5",children:t.tags.map((z,Q)=>C.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 whitespace-nowrap",children:["#",z]},Q))})]})]})]}),C.jsx("div",{className:`bg-gray-50 border-t border-gray-100 flex-shrink-0 font-cairo ${e?"p-2 sm:p-3":"p-3"}`,children:l?C.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom-2 fade-in duration-300",children:[C.jsxs("div",{className:"flex items-center justify-between mb-1",children:[C.jsx("span",{className:"text-xs font-bold text-gray-500",children:"  :"}),C.jsx("button",{onClick:()=>u(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1",children:C.jsx(Pf,{className:"w-4 h-4"})})]}),C.jsxs("div",{className:"flex gap-3 justify-center",children:[C.jsxs("a",{href:T.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-[#229ED9] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),C.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),C.jsxs("a",{href:T.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:C.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),C.jsx("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]})}),C.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]})]})]}):C.jsxs("div",{className:"flex justify-between items-center gap-3",children:[C.jsxs("button",{onClick:E,className:"flex-1 flex items-center justify-center gap-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 hover:text-teal-600 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[i?C.jsx(Sl,{className:"w-4 h-4"}):C.jsx(AA,{className:"w-4 h-4"}),i?" ":" "]}),C.jsxs("button",{onClick:()=>u(!0),className:"flex-1 flex items-center justify-center gap-2 text-white bg-teal-600 hover:bg-teal-700 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[C.jsx(bI,{className:"w-4 h-4"})," "]})]})})]})};var eD={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tD,nD;function iD(){return{geminiUrl:tD,vertexUrl:nD}}function rD(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const u=iD();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xr{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let d=0;d<p.length;d++){const y=p[d];m(y,e.slice(l+1),n[d])}else for(const d of p)m(d,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>h(f,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function oD(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),u=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const d=l[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}_m(t,o,l,0,u)}}function _m(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])_m(p,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(d=>!d.startsWith("_")&&!o.has(d)),p={};for(const d of f)p[d]=u[d];for(const[d,y]of Object.entries(p)){const E=[];for(const T of n.slice(i))T==="*"?E.push(d):E.push(T);m(u,E,y)}for(const d of f)delete u[d]}}else{const u=t;l in u&&_m(u[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sD(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function lD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],uD(u)),e}function aD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],cD(u)),e}function uD(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>fD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function cD(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>dD(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function fD(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],vD(n)),e}function dD(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],_D(n)),e}function hD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function pD(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function mD(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],gD(u)),e}function gD(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function sx(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],yD(u)),e}function yD(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function vD(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],vg(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function _D(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],vg(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(kE||(kE={}));var PE;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(PE||(PE={}));var VE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(VE||(VE={}));var Ni;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ni||(Ni={}));var LE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(LE||(LE={}));var UE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(UE||(UE={}));var OE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(OE||(OE={}));var FE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(FE||(FE={}));var zE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zE||(zE={}));var BE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(BE||(BE={}));var qE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qE||(qE={}));var HE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(HE||(HE={}));var GE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(GE||(GE={}));var YE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(YE||(YE={}));var JE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(JE||(JE={}));var $E;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($E||($E={}));var KE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(KE||(KE={}));var QE;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(QE||(QE={}));var XE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(XE||(XE={}));var Uf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Uf||(Uf={}));var jE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jE||(jE={}));var WE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(WE||(WE={}));var ZE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ZE||(ZE={}));var Em;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Em||(Em={}));var eT;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(eT||(eT={}));var tT;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(tT||(tT={}));var nT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(nT||(nT={}));var iT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(iT||(iT={}));var rT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(rT||(rT={}));var oT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(oT||(oT={}));var sT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(sT||(sT={}));var lT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(lT||(lT={}));var aT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(aT||(aT={}));var uT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(uT||(uT={}));var cT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(cT||(cT={}));var fT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(fT||(fT={}));var dT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(dT||(dT={}));var hT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(hT||(hT={}));var pT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(pT||(pT={}));var mT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(mT||(mT={}));var gT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(gT||(gT={}));var yT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(yT||(yT={}));var vT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(vT||(vT={}));var _T;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(_T||(_T={}));var ET;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ET||(ET={}));var TT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(TT||(TT={}));var ST;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ST||(ST={}));var AT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AT||(AT={}));var xT;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xT||(xT={}));var CT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(CT||(CT={}));var wT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wT||(wT={}));var bT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(bT||(bT={}));var IT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IT||(IT={}));var RT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(RT||(RT={}));var NT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(NT||(NT={}));var Il;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Il||(Il={}));class Tm{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ou{get text(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",y=!1;const E=[];for(const T of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[A,D]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,d+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?d:void 0}get data(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const y=[];for(const E of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&y.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(d+=atob(E.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.output}}class MT{}class DT{}class ED{}class TD{}class SD{}class AD{}class kT{}class PT{}class VT{}class xD{}class Of{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Of;let o;const l=e;return n?o=aD(l):o=lD(l),Object.assign(i,o),i}}class LT{}class UT{}class OT{}class FT{}class CD{}class wD{}class bD{}class _g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new _g,l=mD(e);return Object.assign(i,l),i}}class ID{}class RD{}class ND{}class zT{}class MD{get text(){var e,n,i;let o="",l=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(f))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class DD{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Eg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Eg,l=sx(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function at(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function lx(t,e){const n=at(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ax(t){return Array.isArray(t)?t.map(e=>Ff(e)):[Ff(t)]}function Ff(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function ux(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cx(t){const e=Ff(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function BT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function fx(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>BT(e)):[BT(t)]}function Sm(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function qT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function HT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function In(t){if(t==null)throw new Error("ContentUnion is required");return Sm(t)?t:{role:"user",parts:fx(t)}}function Tg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=In(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=In(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>In(n)):[In(e)]}function Mi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(qT(t)||HT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[In(t)]}const e=[],n=[],i=Sm(t[0]);for(const o of t){const l=Sm(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(qT(o)||HT(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:fx(n)}),e}function kD(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ni).includes(n[0].toUpperCase())?n[0].toUpperCase():Ni.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ni).includes(i.toUpperCase())?i.toUpperCase():Ni.TYPE_UNSPECIFIED})}}function Dl(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&kD(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ni).includes(f.toUpperCase())?f.toUpperCase():Ni.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Dl(f);else if(i.includes(u)){const p=[];for(const d of f){if(d.type=="null"){e.nullable=!0;continue}p.push(Dl(d))}e[u]=p}else if(o.includes(u)){const p={};for(const[d,y]of Object.entries(f))p[d]=Dl(y);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Sg(t){return Dl(t)}function Ag(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function xg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Jl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Dl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Dl(e.response));return t}function $l(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function PD(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function jr(t,e){if(typeof e!="string")throw new Error("name must be a string");return PD(t,e,"cachedContents")}function dx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Yo(t){return vg(t)}function VD(t){return t!=null&&typeof t=="object"&&"name"in t}function LD(t){return t!=null&&typeof t=="object"&&"video"in t}function UD(t){return t!=null&&typeof t=="object"&&"uri"in t}function hx(t){var e;let n;if(VD(t)&&(n=t.name),!(UD(t)&&(n=t.uri,n===void 0))&&!(LD(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function px(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function mx(t){for(const e of["models","tunedModels","publisherModels"])if(OD(t,e))return t[e];return[]}function OD(t,e){return t!==null&&typeof t=="object"&&e in t}function FD(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function zD(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=FD(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function gx(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function BD(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function yx(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Kl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function vx(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qD(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Sk(u))),m(e,["inlinedResponses"],l)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function HD(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function GD(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wf(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],vx(o));const l=h(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=h(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&m(e,["dest"],qD(yx(d))),e}function Am(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["state"]);o!=null&&m(e,["state"],vx(o));const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const y=h(t,["model"]);y!=null&&m(e,["model"],y);const E=h(t,["inputConfig"]);E!=null&&m(e,["src"],YD(E));const T=h(t,["outputConfig"]);T!=null&&m(e,["dest"],HD(yx(T)));const A=h(t,["completionStats"]);return A!=null&&m(e,["completionStats"],A),e}function YD(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function JD(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&m(n,["fileName"],i);const o=h(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Tk(t,u))),m(n,["requests","requests"],l)}return n}function $D(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function KD(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function QD(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function XD(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function jD(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],WD(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function WD(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function _x(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Rk(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function ZD(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function ek(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],GD(BD(o))),n}function GT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],JD(t,gx(t,o)));const l=h(e,["config"]);return l!=null&&ZD(l,n),n}function tk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],at(t,i));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],$D(gx(t,o)));const l=h(e,["config"]);return l!=null&&ek(l,n),n}function nk(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function ik(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],ck(t,o));const l=h(e,["config"]);return l!=null&&nk(l,n),n}function rk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function ok(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function sk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function lk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function ak(t,e){const n={},i=h(e,["contents"]);if(i!=null){let l=Tg(t,i);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["requests[]","request","content"],l)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],uk(o,n)),oD(n,{"requests[].*":"requests[].request.*"})),n}function uk(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ck(t,e){const n={},i=h(e,["fileName"]);i!=null&&m(n,["file_name"],i);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],ak(t,o)),n}function fk(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function dk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hk(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pk(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],_x(In(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const O=h(e,["seed"]);O!=null&&m(i,["seed"],O);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Sg(z));const Q=h(e,["responseJsonSchema"]);if(Q!=null&&m(i,["responseJsonSchema"],Q),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>Nk(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=$l(le);Array.isArray(P)&&(P=P.map(ye=>Dk(Jl(ye)))),m(n,["tools"],P)}const pe=h(e,["toolConfig"]);if(n!==void 0&&pe!=null&&m(n,["toolConfig"],Mk(pe)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],jr(t,$));const N=h(e,["responseModalities"]);N!=null&&m(i,["responseModalities"],N);const M=h(e,["mediaResolution"]);M!=null&&m(i,["mediaResolution"],M);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],Ag(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=h(e,["thinkingConfig"]);F!=null&&m(i,["thinkingConfig"],F);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],Ek(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function mk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>jD(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function gk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function yk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Kl(t,i)),n}function vk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function _k(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Ek(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Tk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["request","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let f=Mi(o);Array.isArray(f)&&(f=f.map(p=>_x(p))),m(n,["request","contents"],f)}const l=h(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],pk(t,u,h(n,["request"],{}))),n}function Sk(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],mk(n));const i=h(t,["error"]);return i!=null&&m(e,["error"],i),e}function Ak(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function xk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=h(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function Ck(t){const e={},n=h(t,["config"]);return n!=null&&Ak(n,e),e}function wk(t){const e={},n=h(t,["config"]);return n!=null&&xk(n,e),e}function bk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>wf(u))),m(e,["batchJobs"],l)}return e}function Ik(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Am(u))),m(e,["batchJobs"],l)}return e}function Rk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],fk(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],dk(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],KD(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function Nk(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function Mk(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],hk(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function Dk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],vk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],_k(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Yr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Yr||(Yr={}));class Is{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kk extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(Yr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=GT(this.apiClient,e),i=n._url,o=Te("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,d=[];for(const y of p){const E=Object.assign({},y);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}d.push(E)}return f.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=tk(this.apiClient,e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Am(y))}else{const d=GT(this.apiClient,e);return f=Te("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>wf(y))}}async createEmbeddingsInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=ik(this.apiClient,e);return l=Te("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>wf(p))}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=yk(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Am(y))}else{const d=gk(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>wf(y))}}async cancel(e){var n,i,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const p=XD(this.apiClient,e);u=Te("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=QD(this.apiClient,e);u=Te("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=wk(e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Ik(y),T=new zT;return Object.assign(T,E),T})}else{const d=Ck(e);return f=Te("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=bk(y),T=new zT;return Object.assign(T,E),T})}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=ok(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>lk(y))}else{const d=rk(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>sk(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function YT(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>iP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function Vk(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Mi(u);Array.isArray(y)&&(y=y.map(E=>YT(E))),m(e,["contents"],y)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],YT(In(f)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>oP(E))),m(e,["tools"],y)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],rP(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Lk(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let E=Mi(u);Array.isArray(E)&&(E=E.map(T=>T)),m(e,["contents"],E)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],In(f));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>sP(T))),m(e,["tools"],E)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],d);const y=h(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function Uk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],lx(t,i));const o=h(e,["config"]);return o!=null&&Vk(o,n),n}function Ok(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],lx(t,i));const o=h(e,["config"]);return o!=null&&Lk(o,n),n}function Fk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jr(t,i)),n}function zk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jr(t,i)),n}function Bk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function qk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Hk(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Gk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yk(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Jk(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function $k(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jr(t,i)),n}function Kk(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],jr(t,i)),n}function Qk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Xk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function jk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Wk(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function Zk(t){const e={},n=h(t,["config"]);return n!=null&&jk(n,e),e}function eP(t){const e={},n=h(t,["config"]);return n!=null&&Wk(n,e),e}function tP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function nP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function iP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],Hk(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],Gk(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Pk(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function rP(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],Yk(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function oP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Qk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Xk(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function sP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>Jk(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function lP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function aP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function uP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],jr(t,i));const o=h(e,["config"]);return o!=null&&lP(o,n),n}function cP(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],jr(t,i));const o=h(e,["config"]);return o!=null&&aP(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fP extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(Yr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Ok(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=Uk(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=Kk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=$k(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=zk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=qk(y),T=new OT;return Object.assign(T,E),T})}else{const d=Fk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Bk(y),T=new OT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=cP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=uP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=eP(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=nP(y),T=new FT;return Object.assign(T,E),T})}else{const d=Zk(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=tP(y),T=new FT;return Object.assign(T,E),T})}}}function zf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function JT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(t){return this instanceof Ve?(this.v=t,this):new Ve(t)}function Ji(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(A){return function(D){return Promise.resolve(D).then(A,E)}}function f(A,D){i[A]&&(o[A]=function(O){return new Promise(function(L,z){l.push([A,O,L,z])>1||p(A,O)})},D&&(o[A]=D(o[A])))}function p(A,D){try{d(i[A](D))}catch(O){T(l[0][3],O)}}function d(A){A.value instanceof Ve?Promise.resolve(A.value.v).then(y,E):T(l[0][2],A)}function y(A){p("next",A)}function E(A){p("throw",A)}function T(A,D){A(D),l.shift(),l.length&&p(l[0][0],l[0][1])}}function $i(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof JT=="function"?JT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),o(f,p,u.done,u.value)})}}function o(l,u,f,p){Promise.resolve(p).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dP(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:Ex(n)}function Ex(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function hP(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function $T(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!Ex(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class pP{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new mP(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mP{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),hP(l)}async sendMessage(e){var n;await this.sendPromise;const i=In(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const p=await o,d=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];y!=null&&(T=(f=y.slice(E))!==null&&f!==void 0?f:[]);const A=d?[d]:[];this.recordHistory(i,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=In(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?$T(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ji(this,arguments,function*(){var o,l,u,f,p,d;const y=[];try{for(var E=!0,T=$i(e),A;A=yield Ve(T.next()),o=A.done,!o;E=!0){f=A.value,E=!1;const D=f;if(dP(D)){const O=(d=(p=D.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;O!==void 0&&y.push(O)}yield yield Ve(D)}}catch(D){l={error:D}}finally{try{!E&&!o&&(u=T.return)&&(yield Ve(u.call(T)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...$T(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ad extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,ad.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gP(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function yP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function vP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],hx(n)),e}function _P(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function EP(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],hx(n)),e}function TP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function SP(t){const e={},n=h(t,["config"]);return n!=null&&TP(n,e),e}function AP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xP extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(Yr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=SP(e);return l=Te("files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=AP(p),y=new ID;return Object.assign(y,d),y})}}async createInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gP(e);return l=Te("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=yP(p),y=new RD;return Object.assign(y,d),y})}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=EP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vP(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=_P(p),y=new ND;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bf(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function CP(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>BP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function wP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IP(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function RP(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const D=h(t,["responseModalities"]);D!=null&&m(e,["responseModalities"],D);const O=h(t,["responseSchema"]);O!=null&&m(e,["responseSchema"],O);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const Q=h(t,["speechConfig"]);Q!=null&&m(e,["speechConfig"],Q);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const pe=h(t,["thinkingConfig"]);pe!=null&&m(e,["thinkingConfig"],pe);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const N=h(t,["topP"]);if(N!=null&&m(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function NP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function MP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function DP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],xg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],CP(In(D)));const O=h(t,["tools"]);if(e!==void 0&&O!=null){let $=$l(O);Array.isArray($)&&($=$.map(N=>HP(Jl(N)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],qP(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Q=h(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&m(e,["setup","outputAudioTranscription"],Q);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const pe=h(t,["proactivity"]);if(e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kP(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],RP(i));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],xg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],In(D));const O=h(t,["tools"]);if(e!==void 0&&O!=null){let N=$l(O);Array.isArray(N)&&(N=N.map(M=>GP(Jl(M)))),m(e,["setup","tools"],N)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],L);const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Q=h(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&m(e,["setup","outputAudioTranscription"],Q);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const pe=h(t,["proactivity"]);e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe);const $=h(t,["explicitVadSignal"]);return e!==void 0&&$!=null&&m(e,["setup","explicitVadSignal"],$),n}function PP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],at(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],DP(o,n)),n}function VP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],at(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],kP(o,n)),n}function LP(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function UP(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["weightedPrompts"],i)}return e}function OP(t){const e={},n=h(t,["media"]);if(n!=null){let d=ax(n);Array.isArray(d)&&(d=d.map(y=>bf(y))),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],bf(cx(i)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],bf(ux(l)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function FP(t){const e={},n=h(t,["media"]);if(n!=null){let d=ax(n);Array.isArray(d)&&(d=d.map(y=>y)),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],cx(i));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],ux(l));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function zP(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=h(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],YP(u));const f=h(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=h(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&m(e,["voiceActivityDetectionSignal"],d),e}function BP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],wP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],bP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],bf(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function qP(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function HP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],NP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],MP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function GP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>IP(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function YP(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=h(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=h(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=h(t,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["promptTokensDetails"],A)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["cacheTokensDetails"],A)}const y=h(t,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["responseTokensDetails"],A)}const E=h(t,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["toolUsePromptTokensDetails"],A)}const T=h(t,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JP(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function $P(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],KP(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function KP(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function QP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let l=Mi(o);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["contents"],l)}return n}function XP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function jP(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&m(e,["statistics"],WP(i)),e}function WP(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function ud(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>l4(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function ZP(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function eV(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function tV(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],In(i));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>xx(f))),m(e,["tools"],u)}const l=h(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],JV(l)),n}function nV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let u=Mi(o);Array.isArray(u)&&(u=u.map(f=>ud(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&eV(l),n}function iV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let u=Mi(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&tV(l,n),n}function rV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function oV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function sV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],at(t,i)),n}function lV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],at(t,i)),n}function aV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function uV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function cV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const D=h(t,["outputMimeType"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","mimeType"],D);const O=h(t,["outputCompressionQuality"]);e!==void 0&&O!=null&&m(e,["parameters","outputOptions","compressionQuality"],O);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const Q=h(t,["editMode"]);e!==void 0&&Q!=null&&m(e,["parameters","editMode"],Q);const Y=h(t,["baseSteps"]);return e!==void 0&&Y!=null&&m(e,["parameters","editConfig","baseSteps"],Y),n}function fV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>h4(p))),m(n,["instances[0]","referenceImages"],f)}const u=h(e,["config"]);return u!=null&&cV(u,n),n}function dV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cd(l))),m(e,["generatedImages"],o)}return e}function hV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function pV(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=h(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=h(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function mV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let f=Tg(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=h(e,["config"]);l!=null&&hV(l,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],at(t,u)),n}function gV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let u=Tg(t,o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const l=h(e,["config"]);return l!=null&&pV(l,n),n}function yV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function vV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>jP(u))),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function _V(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function EV(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function TV(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SV(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function AV(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function xV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],ud(In(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const O=h(e,["seed"]);O!=null&&m(i,["seed"],O);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Sg(z));const Q=h(e,["responseJsonSchema"]);if(Q!=null&&m(i,["responseJsonSchema"],Q),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=h(e,["safetySettings"]);if(n!==void 0&&Y!=null){let P=Y;Array.isArray(P)&&(P=P.map(ye=>p4(ye))),m(n,["safetySettings"],P)}const le=h(e,["tools"]);if(n!==void 0&&le!=null){let P=$l(le);Array.isArray(P)&&(P=P.map(ye=>T4(Jl(ye)))),m(n,["tools"],P)}const pe=h(e,["toolConfig"]);if(n!==void 0&&pe!=null&&m(n,["toolConfig"],E4(pe)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=h(e,["cachedContent"]);n!==void 0&&$!=null&&m(n,["cachedContent"],jr(t,$));const N=h(e,["responseModalities"]);N!=null&&m(i,["responseModalities"],N);const M=h(e,["mediaResolution"]);M!=null&&m(i,["mediaResolution"],M);const R=h(e,["speechConfig"]);if(R!=null&&m(i,["speechConfig"],Ag(R)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=h(e,["thinkingConfig"]);F!=null&&m(i,["thinkingConfig"],F);const V=h(e,["imageConfig"]);V!=null&&m(i,["imageConfig"],jV(V));const B=h(e,["enableEnhancedCivicAnswers"]);return B!=null&&m(i,["enableEnhancedCivicAnswers"],B),i}function CV(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],In(o));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const O=h(e,["seed"]);O!=null&&m(i,["seed"],O);const L=h(e,["responseMimeType"]);L!=null&&m(i,["responseMimeType"],L);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Sg(z));const Q=h(e,["responseJsonSchema"]);Q!=null&&m(i,["responseJsonSchema"],Q);const Y=h(e,["routingConfig"]);Y!=null&&m(i,["routingConfig"],Y);const le=h(e,["modelSelectionConfig"]);le!=null&&m(i,["modelConfig"],le);const pe=h(e,["safetySettings"]);if(n!==void 0&&pe!=null){let X=pe;Array.isArray(X)&&(X=X.map(K=>K)),m(n,["safetySettings"],X)}const $=h(e,["tools"]);if(n!==void 0&&$!=null){let X=$l($);Array.isArray(X)&&(X=X.map(K=>xx(Jl(K)))),m(n,["tools"],X)}const N=h(e,["toolConfig"]);n!==void 0&&N!=null&&m(n,["toolConfig"],N);const M=h(e,["labels"]);n!==void 0&&M!=null&&m(n,["labels"],M);const R=h(e,["cachedContent"]);n!==void 0&&R!=null&&m(n,["cachedContent"],jr(t,R));const F=h(e,["responseModalities"]);F!=null&&m(i,["responseModalities"],F);const V=h(e,["mediaResolution"]);V!=null&&m(i,["mediaResolution"],V);const B=h(e,["speechConfig"]);B!=null&&m(i,["speechConfig"],Ag(B));const P=h(e,["audioTimestamp"]);P!=null&&m(i,["audioTimestamp"],P);const ye=h(e,["thinkingConfig"]);ye!=null&&m(i,["thinkingConfig"],ye);const me=h(e,["imageConfig"]);if(me!=null&&m(i,["imageConfig"],WV(me)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function KT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let u=Mi(o);Array.isArray(u)&&(u=u.map(f=>ud(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],xV(t,l,n)),n}function QT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["contents"]);if(o!=null){let u=Mi(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],CV(t,l,n)),n}function XT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>$P(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function jT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(y=>y)),m(e,["candidates"],d)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=h(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=h(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function wV(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=h(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const y=h(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const E=h(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const T=h(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=h(t,["imageSize"]);if(e!==void 0&&A!=null&&m(e,["parameters","sampleImageSize"],A),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function bV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const D=h(t,["outputMimeType"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","mimeType"],D);const O=h(t,["outputCompressionQuality"]);e!==void 0&&O!=null&&m(e,["parameters","outputOptions","compressionQuality"],O);const L=h(t,["addWatermark"]);e!==void 0&&L!=null&&m(e,["parameters","addWatermark"],L);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const Q=h(t,["imageSize"]);e!==void 0&&Q!=null&&m(e,["parameters","sampleImageSize"],Q);const Y=h(t,["enhancePrompt"]);return e!==void 0&&Y!=null&&m(e,["parameters","enhancePrompt"],Y),n}function IV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&wV(l,n),n}function RV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&bV(l,n),n}function NV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>qV(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],Sx(o)),e}function MV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>cd(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],Ax(o)),e}function DV(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=h(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&m(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=h(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],fd(y));const E=h(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>P4(A))),m(e,["instances[0]","referenceImages"],T)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function kV(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=h(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=h(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["pubsubTopic"]);e!==void 0&&E!=null&&m(e,["parameters","pubsubTopic"],E);const T=h(t,["negativePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","negativePrompt"],T);const A=h(t,["enhancePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A);const D=h(t,["generateAudio"]);e!==void 0&&D!=null&&m(e,["parameters","generateAudio"],D);const O=h(t,["lastFrame"]);e!==void 0&&O!=null&&m(e,["instances[0]","lastFrame"],Xi(O));const L=h(t,["referenceImages"]);if(e!==void 0&&L!=null){let Y=L;Array.isArray(Y)&&(Y=Y.map(le=>V4(le))),m(e,["instances[0]","referenceImages"],Y)}const z=h(t,["mask"]);e!==void 0&&z!=null&&m(e,["instances[0]","mask"],k4(z));const Q=h(t,["compressionQuality"]);return e!==void 0&&Q!=null&&m(e,["parameters","compressionQuality"],Q),n}function PV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],OV(u)),e}function VV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],FV(u)),e}function LV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],fd(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],Cx(u));const f=h(e,["source"]);f!=null&&zV(f,n);const p=h(e,["config"]);return p!=null&&DV(p,n),n}function UV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],Xi(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],wx(u));const f=h(e,["source"]);f!=null&&BV(f,n);const p=h(e,["config"]);return p!=null&&kV(p,n),n}function OV(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>GV(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function FV(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>YV(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function zV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],fd(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],Cx(l)),n}function BV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Xi(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],wx(l)),n}function qV(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],ZV(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],Sx(o)),e}function cd(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],Tx(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],Ax(o));const l=h(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function HV(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],Tx(n));const i=h(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function GV(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],M4(n)),e}function YV(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],D4(n)),e}function JV(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const D=h(t,["responseModalities"]);D!=null&&m(e,["responseModalities"],D);const O=h(t,["responseSchema"]);O!=null&&m(e,["responseSchema"],O);const L=h(t,["routingConfig"]);L!=null&&m(e,["routingConfig"],L);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const Q=h(t,["speechConfig"]);Q!=null&&m(e,["speechConfig"],Q);const Y=h(t,["stopSequences"]);Y!=null&&m(e,["stopSequences"],Y);const le=h(t,["temperature"]);le!=null&&m(e,["temperature"],le);const pe=h(t,["thinkingConfig"]);pe!=null&&m(e,["thinkingConfig"],pe);const $=h(t,["topK"]);$!=null&&m(e,["topK"],$);const N=h(t,["topP"]);if(N!=null&&m(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function $V(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],at(t,i)),n}function KV(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],at(t,i)),n}function QV(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function XV(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function jV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function WV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const l=h(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function ZV(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Yo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Tx(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Yo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function fd(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Yo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Xi(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Yo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function e4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],px(t,f)),i}function t4(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],px(t,f)),i}function n4(t,e){const n={},i=h(e,["config"]);return i!=null&&e4(t,i,n),n}function i4(t,e){const n={},i=h(e,["config"]);return i!=null&&t4(t,i,n),n}function r4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=mx(o);Array.isArray(l)&&(l=l.map(u=>xm(u))),m(e,["models"],l)}return e}function o4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=mx(o);Array.isArray(l)&&(l=l.map(u=>Cm(u))),m(e,["models"],l)}return e}function s4(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function xm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["version"]);l!=null&&m(e,["version"],l);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],S4(u));const f=h(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&m(e,["supportedActions"],d);const y=h(t,["temperature"]);y!=null&&m(e,["temperature"],y);const E=h(t,["maxTemperature"]);E!=null&&m(e,["maxTemperature"],E);const T=h(t,["topP"]);T!=null&&m(e,["topP"],T);const A=h(t,["topK"]);A!=null&&m(e,["topK"],A);const D=h(t,["thinking"]);return D!=null&&m(e,["thinking"],D),e}function Cm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["versionId"]);l!=null&&m(e,["version"],l);const u=h(t,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>_V(T))),m(e,["endpoints"],E)}const f=h(t,["labels"]);f!=null&&m(e,["labels"],f);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],A4(p));const d=h(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const y=h(t,["checkpoints"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["checkpoints"],E)}return e}function l4(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],EV(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],TV(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],JP(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function a4(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],Xi(n)),e}function u4(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=h(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&m(e,["parameters","addWatermark"],d);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const T=h(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=h(t,["labels"]);return e!==void 0&&A!=null&&m(e,["labels"],A),n}function c4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["source"]);o!=null&&d4(o,n);const l=h(e,["config"]);return l!=null&&u4(l,n),n}function f4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cd(o))),m(e,["generatedImages"],i)}return e}function d4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],Xi(o));const l=h(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>a4(f))),m(e,["instances[0]","productImages"],u)}return n}function h4(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Xi(n));const i=h(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=h(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],s4(l));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],ZP(u));const f=h(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function Sx(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function Ax(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function p4(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function m4(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],Xi(n)),e}function g4(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=h(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=h(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function y4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["source"]);o!=null&&_4(o,n);const l=h(e,["config"]);return l!=null&&g4(l,n),n}function v4(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>HV(o))),m(e,["generatedMasks"],i)}return e}function _4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],Xi(o));const l=h(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],m4(l)),n}function E4(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],SV(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function T4(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],QV(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],XV(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function xx(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>AV(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function S4(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function A4(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function x4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function C4(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function w4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","name"],at(t,i));const o=h(e,["config"]);return o!=null&&x4(o,n),n}function b4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["config"]);return o!=null&&C4(o,n),n}function I4(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],d);const y=h(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["numberOfImages"]);e!==void 0&&T!=null&&m(e,["parameters","sampleCount"],T);const A=h(t,["mode"]);return e!==void 0&&A!=null&&m(e,["parameters","mode"],A),n}function R4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],at(t,i));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],Xi(o));const l=h(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=h(e,["config"]);return u!=null&&I4(u,n),n}function N4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>cd(l))),m(e,["generatedImages"],o)}return e}function M4(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Yo(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function D4(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Yo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function k4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],Xi(n));const i=h(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function P4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],fd(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function V4(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],Xi(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function Cx(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Yo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function wx(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Yo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L4(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function U4(t){const e={},n=h(t,["config"]);return n!=null&&L4(n,e),e}function O4(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function F4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&O4(i,e),e}function z4(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function B4(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function q4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],G4(u)),e}function H4(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&m(e,["fileName"],i);const o=h(t,["config"]);return o!=null&&B4(o,e),e}function G4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function Y4(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function J4(t){const e={},n=h(t,["config"]);return n!=null&&Y4(n,e),e}function $4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function bx(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=h(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function K4(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&bx(i,e),e}function Q4(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X4="Content-Type",j4="X-Server-Timeout",W4="User-Agent",wm="x-goog-api-client",Z4="1.34.0",eL=`google-genai-sdk/${Z4}`,tL="v1beta1",nL="v1beta";class iL{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:tL,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:nL,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&rL(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await WT(o),new Tm(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await WT(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Ji(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:y}=yield Ve(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=l.decode(y,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const O=JSON.parse(JSON.stringify(D.error)),L=O.status,z=O.code,Q=`got status: ${L}. ${JSON.stringify(D)}`;if(z>=400&&z<600)throw new ad({message:Q,status:z})}}catch(D){if(D.name==="ApiError")throw D}u+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const L of p){const z=u.indexOf(L);z!==-1&&(T===-1||z<T)&&(T=z,A=L.length)}if(T===-1)break;const D=u.substring(0,T);u=u.substring(T+A);const O=D.trim();if(O.startsWith(f)){const L=O.substring(f.length).trim();try{const z=new Response(L,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ve(new Tm(z))}catch(z){throw new Error(`exception parsing stream chunk ${L}. ${z}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=eL+" "+this.clientOptions.userAgentExtra;return e[W4]=n,e[wm]=n,e[X4]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(j4,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const f=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},d=this.getFileName(e),y=Te("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,d,p,n==null?void 0:n.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),E={};i!=null&&bx(i,E);const T=await this.fetchUploadUrl(d,f,p,y,E,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=d==null?void 0:d.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function WT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new ad({message:o,status:n}):new Error(o)}}function rL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const f=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],y=f[p];d&&typeof d=="object"&&!Array.isArray(d)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=i(y,d):(y&&d&&typeof y!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof d}. Overwriting.`),f[p]=d)}return f}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oL="mcp_used/unknown";let sL=!1;function Ix(t){for(const e of t)if(lL(e)||typeof e=="object"&&"inputSchema"in e)return!0;return sL}function Rx(t){var e;const n=(e=t[wm])!==null&&e!==void 0?e:"";t[wm]=(n+` ${oL}`).trimStart()}function lL(t){return t!==null&&typeof t=="object"&&t instanceof Cg}function aL(t){return Ji(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const u=yield Ve(n.listTools({cursor:o}));for(const f of u.tools)yield yield Ve(f),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class Cg{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Cg(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,$i(aL(y))),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const E=o;u.push(E);const T=E.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=y}}catch(E){n={error:E}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),zD(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function uL(t,e,n){const i=new DD;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class cL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=hL(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let d=()=>{};const y=new Promise(Y=>{d=Y}),E=e.callbacks,T=function(){d({})},A=this.apiClient,D={onopen:T,onmessage:Y=>{uL(A,E.onmessage,Y)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(Y){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(Y){}},O=this.webSocketFactory.create(p,dL(u),D);O.connect(),await y;const Q={setup:{model:at(this.apiClient,e.model)}};return O.send(JSON.stringify(Q)),new fL(O,this.apiClient)}}class fL{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=UP(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=LP(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Il.PLAY)}pause(){this.sendPlaybackControl(Il.PAUSE)}stop(){this.sendPlaybackControl(Il.STOP)}resetContext(){this.sendPlaybackControl(Il.RESET_CONTEXT)}close(){this.conn.close()}}function dL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function hL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function mL(t,e,n){const i=new MD;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=zP(l);Object.assign(i,u)}else Object.assign(i,l);e(i)}class gL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new cL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let y;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Ix(e.config.tools)&&Rx(E);const T=EL(E);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y);else{const R=this.apiClient.getApiKey();let F="BidiGenerateContent",V="key";R!=null&&R.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",V="access_token"),y=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${V}=${R}`}let A=()=>{};const D=new Promise(R=>{A=R}),O=e.callbacks,L=function(){var R;(R=O==null?void 0:O.onopen)===null||R===void 0||R.call(O),A({})},z=this.apiClient,Q={onopen:L,onmessage:R=>{mL(z,O.onmessage,R)},onerror:(n=O==null?void 0:O.onerror)!==null&&n!==void 0?n:function(R){},onclose:(i=O==null?void 0:O.onclose)!==null&&i!==void 0?i:function(R){}},Y=this.webSocketFactory.create(y,_L(T),Q);Y.connect(),await D;let le=at(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&le.startsWith("publishers/")){const R=this.apiClient.getProject(),F=this.apiClient.getLocation();le=`projects/${R}/locations/${F}/`+le}let pe={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Uf.AUDIO]}:e.config.responseModalities=[Uf.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],N=[];for(const R of $)if(this.isCallableTool(R)){const F=R;N.push(await F.tool())}else N.push(R);N.length>0&&(e.config.tools=N);const M={model:le,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?pe=VP(this.apiClient,M):pe=PP(this.apiClient,M),delete pe.config,Y.send(JSON.stringify(pe)),new vL(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const yL={turnComplete:!0};class vL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Mi(n.turns),e.isVertexAI()||(i=i.map(o=>ud(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(pL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},yL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:FP(e)}:n={realtimeInput:OP(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function _L(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function EL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZT=10;function eS(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(kl(u)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function kl(t){return"callTool"in t&&typeof t.callTool=="function"}function TL(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>kl(o)))!==null&&i!==void 0?i:!1}function tS(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(kl(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function nS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SL extends Xr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!TL(n)||eS(n.config))return await this.generateContentInternal(p);const d=tS(n);if(d.length>0){const O=d.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${O}.`)}let y,E;const T=Mi(p.contents),A=(l=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:ZT;let D=0;for(;D<A&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const O=y.candidates[0].content,L=[];for(const z of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(kl(z)){const Y=await z.callTool(y.functionCalls);L.push(...Y)}D++,E={role:"user",parts:L},p.contents=Mi(p.contents),p.contents.push(O),p.contents.push(E),nS(p.config)&&(T.push(O),T.push(E))}return nS(p.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async n=>{var i,o,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),eS(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const p=tS(n);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(d&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Is(Yr.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>kl(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&Ix(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Rx(d),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return f}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(kl(u)){const f=u,p=await f.tool();for(const d of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,f)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:ZT;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(d,y,E){return Ji(this,arguments,function*(){for(var T,A,D,O,L,z;f<l;){u&&(f++,u=!1);const pe=yield Ve(d.processParamsMaybeAddMcpUsage(E)),$=yield Ve(d.generateContentStreamInternal(pe)),N=[],M=[];try{for(var Q=!0,Y=(A=void 0,$i($)),le;le=yield Ve(Y.next()),T=le.done,!T;Q=!0){O=le.value,Q=!1;const R=O;if(yield yield Ve(R),R.candidates&&(!((L=R.candidates[0])===null||L===void 0)&&L.content)){M.push(R.candidates[0].content);for(const F of(z=R.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(f<l&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(F.functionCall.name)){const V=yield Ve(y.get(F.functionCall.name).callTool([F.functionCall]));N.push(...V)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(R){A={error:R}}finally{try{!Q&&!T&&(D=Y.return)&&(yield Ve(D.call(Y)))}finally{if(A)throw A.error}}if(N.length>0){u=!0;const R=new ou;R.candidates=[{content:{role:"user",parts:N}}],yield yield Ve(R);const F=[];F.push(...M),F.push({role:"user",parts:N});const V=Mi(E.contents).concat(F);E.contents=V}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=QT(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=jT(y),T=new ou;return Object.assign(T,E),T})}else{const d=KT(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=XT(y),T=new ou;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=QT(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return Ji(this,arguments,function*(){var T,A,D,O;try{for(var L=!0,z=$i(E),Q;Q=yield Ve(z.next()),T=Q.done,!T;L=!0){O=Q.value,L=!1;const Y=O,le=jT(yield Ve(Y.json()));le.sdkHttpResponse={headers:Y.headers};const pe=new ou;Object.assign(pe,le),yield yield Ve(pe)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(D=z.return)&&(yield Ve(D.call(z)))}finally{if(A)throw A.error}}})})}else{const d=KT(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(E){return Ji(this,arguments,function*(){var T,A,D,O;try{for(var L=!0,z=$i(E),Q;Q=yield Ve(z.next()),T=Q.done,!T;L=!0){O=Q.value,L=!1;const Y=O,le=XT(yield Ve(Y.json()));le.sdkHttpResponse={headers:Y.headers};const pe=new ou;Object.assign(pe,le),yield yield Ve(pe)}}catch(Y){A={error:Y}}finally{try{!L&&!T&&(D=z.return)&&(yield Ve(D.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=gV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=vV(y),T=new MT;return Object.assign(T,E),T})}else{const d=mV(this.apiClient,e);return f=Te("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=yV(y),T=new MT;return Object.assign(T,E),T})}}async generateImagesInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=RV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=MV(y),T=new DT;return Object.assign(T,E),T})}else{const d=IV(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=NV(y),T=new DT;return Object.assign(T,E),T})}}async editImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=fV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=dV(p),y=new ED;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=R4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=N4(p),y=new TD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=c4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=f4(p),y=new SD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=y4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=v4(p),y=new AD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=KV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Cm(y))}else{const d=$V(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>xm(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=i4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=o4(y),T=new kT;return Object.assign(T,E),T})}else{const d=n4(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=r4(y),T=new kT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=b4(this.apiClient,e);return f=Te("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Cm(y))}else{const d=w4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>xm(y))}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=lV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=uV(y),T=new PT;return Object.assign(T,E),T})}else{const d=sV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=aV(y),T=new PT;return Object.assign(T,E),T})}}async countTokens(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=iV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=oV(y),T=new VT;return Object.assign(T,E),T})}else{const d=nV(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=rV(y),T=new VT;return Object.assign(T,E),T})}}async computeTokens(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=QP(this.apiClient,e);return l=Te("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=XP(p),y=new xD;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=UV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const E=VV(y),T=new Of;return Object.assign(T,E),T})}else{const d=LV(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const E=PV(y),T=new Of;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AL extends Xr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=pD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else{const d=hD(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=sD(e);return l=Te("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xL(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function CL(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>PL(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function wL(t,e,n){const i={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=h(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=h(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],kL(t,f));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function bL(t,e){const n={},i=h(e,["config"]);return i!=null&&m(n,["config"],wL(t,i,n)),n}function IL(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function RL(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NL(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function ML(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function DL(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],xg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],CL(In(D)));const O=h(t,["tools"]);if(e!==void 0&&O!=null){let $=$l(O);Array.isArray($)&&($=$.map(N=>LL(Jl(N)))),m(e,["setup","tools"],$)}const L=h(t,["sessionResumption"]);e!==void 0&&L!=null&&m(e,["setup","sessionResumption"],VL(L));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const Q=h(t,["outputAudioTranscription"]);e!==void 0&&Q!=null&&m(e,["setup","outputAudioTranscription"],Q);const Y=h(t,["realtimeInputConfig"]);e!==void 0&&Y!=null&&m(e,["setup","realtimeInputConfig"],Y);const le=h(t,["contextWindowCompression"]);e!==void 0&&le!=null&&m(e,["setup","contextWindowCompression"],le);const pe=h(t,["proactivity"]);if(e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kL(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],at(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],DL(o,n)),n}function PL(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],IL(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],RL(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],xL(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function VL(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function LL(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],NL(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],ML(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function OL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=UL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class FL extends Xr{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=bL(this.apiClient,e);l=Te("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=OL(f,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function BL(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&zL(i,e),e}function qL(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function HL(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function GL(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&HL(i,e),e}function YL(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JL extends Xr{constructor(e){super(),this.apiClient=e,this.list=async n=>new Is(Yr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=qL(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BL(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GL(e);return l=Te("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=YL(p),y=new CD;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $L extends Xr{constructor(e,n=new JL(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new Is(Yr.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=U4(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=z4(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=F4(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J4(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=$4(p),y=new wD;return Object.assign(y,d),y})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=K4(e);return l=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=Q4(p),y=new bD;return Object.assign(y,d),y})}}async importFile(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=H4(e);return l=Te("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=q4(p),y=new _g;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nx=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Nx=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const KL=()=>Nx();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Im=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Di extends Error{}class Pn extends Di{constructor(e,n,i,o){super(`${Pn.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new dd({message:i,cause:Im(n)});const l=n;return e===400?new Dx(e,l,i,o):e===401?new kx(e,l,i,o):e===403?new Px(e,l,i,o):e===404?new Vx(e,l,i,o):e===409?new Lx(e,l,i,o):e===422?new Ux(e,l,i,o):e===429?new Ox(e,l,i,o):e>=500?new Fx(e,l,i,o):new Pn(e,l,i,o)}}class Rm extends Pn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class dd extends Pn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class Mx extends dd{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Dx extends Pn{}class kx extends Pn{}class Px extends Pn{}class Vx extends Pn{}class Lx extends Pn{}class Ux extends Pn{}class Ox extends Pn{}class Fx extends Pn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QL=/^[a-z][a-z0-9+.-]*:/i,XL=t=>QL.test(t);let Nm=t=>(Nm=Array.isArray,Nm(t));const jL=Nm;let WL=jL;const iS=WL;function ZL(t){if(!t)return!0;for(const e in t)return!1;return!0}function eU(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const tU=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Di(`${t} must be an integer`);if(e<0)throw new Di(`${t} must be a positive integer`);return e},nU=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iU=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Al="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rU(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const oU=()=>{var t,e,n,i,o;const l=rU();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":oS(Deno.build.os),"X-Stainless-Arch":rS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":oS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":rS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=sU();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Al,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function sU(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${o}.${l}.${u}`}}}return null}const rS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",oS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let hf;const lU=()=>hf??(hf=oU());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aU(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zx(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function uU(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return zx({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Bx(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function cU(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fU=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kp(t,e,n){return qx(),new File(t,e??"unknown_file",n)}function dU(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const hU=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hx=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",pU=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Hx(t),mU=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function gU(t,e,n){if(qx(),t=await t,pU(t))return t instanceof File?t:Kp([await t.arrayBuffer()],t.name);if(mU(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Kp(await Mm(o),e,n)}const i=await Mm(t);if(e||(e=dU(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return Kp(i,e,n)}async function Mm(t){var e,n,i,o,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(Hx(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(hU(t))try{for(var f=!0,p=$i(t),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const y=o;u.push(...await Mm(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${yU(t)}`)}return u}function yU(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gx{constructor(e){this._client=e}}Gx._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yx(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const sS=Object.freeze(Object.create(null)),vU=(t=Yx)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],u=n.reduce((y,E,T)=>{var A,D,O;/[?#]/.test(E)&&(o=!0);const L=i[T];let z=(o?encodeURIComponent:t)(""+L);return T!==i.length&&(L==null||typeof L=="object"&&L.toString===((O=Object.getPrototypeOf((D=Object.getPrototypeOf((A=L.hasOwnProperty)!==null&&A!==void 0?A:sS))!==null&&D!==void 0?D:sS))===null||O===void 0?void 0:O.toString))&&(z=L+"",l.push({start:y.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),y+E+(T===i.length?"":z)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(f))!==null;)l.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(l.sort((y,E)=>y.start-E.start),l.length>0){let y=0;const E=l.reduce((T,A)=>{const D=" ".repeat(A.start-y),O="^".repeat(A.length);return y=A.start+A.length,T+D+O},"");throw new Di(`Path parameters result in path with invalid segments:
${l.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),pf=vU(Yx);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Jx extends Gx{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=zf(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Di("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Di("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(pf`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(pf`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(pf`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=zf(l,["api_version"]);return this._client.get(pf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Jx._key=Object.freeze(["interactions"]);class $x extends Jx{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _U(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let mf;function wg(t){let e;return(mf??(e=new globalThis.TextEncoder,mf=e.encode.bind(e)))(t)}let gf;function lS(t){let e;return(gf??(e=new globalThis.TextDecoder,gf=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?wg(e):e;this.buffer=_U([this.buffer,n]);const i=[];let o;for(;(o=EU(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(lS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=lS(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}hd.NEWLINE_CHARS=new Set([`
`,"\r"]);hd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function EU(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function TU(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bf={off:0,error:200,warn:300,info:400,debug:500},aS=(t,e,n)=>{if(t){if(eU(Bf,t))return t;kn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Bf))}`)}};function lu(){}function yf(t,e,n){return!e||Bf[t]>Bf[n]?lu:e[t].bind(e)}const SU={error:lu,warn:lu,info:lu,debug:lu};let uS=new WeakMap;function kn(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return SU;const o=uS.get(n);if(o&&o[0]===i)return o[1];const l={error:yf("error",n,i),warn:yf("warn",n,i),info:yf("info",n,i),debug:yf("debug",n,i)};return uS.set(n,[i,l]),l}const Ts=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?kn(i):console;function u(){return Ji(this,arguments,function*(){var p,d,y,E;if(o)throw new Di("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,D=$i(AU(e,n)),O;O=yield Ve(D.next()),p=O.done,!p;A=!0){E=O.value,A=!1;const L=E;if(!T)if(L.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ve(JSON.parse(L.data))}catch(z){throw l.error("Could not parse message into JSON:",L.data),l.error("From chunk:",L.raw),z}}}catch(L){d={error:L}}finally{try{!A&&!p&&(y=D.return)&&(yield Ve(y.call(D)))}finally{if(d)throw d.error}}T=!0}catch(L){if(bm(L))return yield Ve(void 0);throw L}finally{T||n.abort()}})}return new Rl(u,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return Ji(this,arguments,function*(){var p,d,y,E;const T=new hd,A=Bx(e);try{for(var D=!0,O=$i(A),L;L=yield Ve(O.next()),p=L.done,!p;D=!0){E=L.value,D=!1;const z=E;for(const Q of T.decode(z))yield yield Ve(Q)}}catch(z){d={error:z}}finally{try{!D&&!p&&(y=O.return)&&(yield Ve(y.call(O)))}finally{if(d)throw d.error}}for(const z of T.flush())yield yield Ve(z)})}function u(){return Ji(this,arguments,function*(){var p,d,y,E;if(o)throw new Di("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,D=$i(l()),O;O=yield Ve(D.next()),p=O.done,!p;A=!0){E=O.value,A=!1;const L=E;T||L&&(yield yield Ve(JSON.parse(L)))}}catch(L){d={error:L}}finally{try{!A&&!p&&(y=D.return)&&(yield Ve(y.call(D)))}finally{if(d)throw d.error}}T=!0}catch(L){if(bm(L))return yield Ve(void 0);throw L}finally{T||n.abort()}})}return new Rl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new Rl(()=>o(e),this.controller,this.client),new Rl(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return zx({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const u=wg(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function AU(t,e){return Ji(this,arguments,function*(){var i,o,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Di("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Di("Attempted to iterate over a response with no body");const f=new CU,p=new hd,d=Bx(t.body);try{for(var y=!0,E=$i(xU(d)),T;T=yield Ve(E.next()),i=T.done,!i;y=!0){u=T.value,y=!1;const A=u;for(const D of p.decode(A)){const O=f.decode(D);O&&(yield yield Ve(O))}}}catch(A){o={error:A}}finally{try{!y&&!i&&(l=E.return)&&(yield Ve(l.call(E)))}finally{if(o)throw o.error}}for(const A of p.flush()){const D=f.decode(A);D&&(yield yield Ve(D))}})}function xU(t){return Ji(this,arguments,function*(){var n,i,o,l;let u=new Uint8Array;try{for(var f=!0,p=$i(t),d;d=yield Ve(p.next()),n=d.done,!n;f=!0){l=d.value,f=!1;const y=l;if(y==null)continue;const E=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?wg(y):y;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let A;for(;(A=TU(u))!==-1;)yield yield Ve(u.slice(0,A)),u=u.slice(A)}}catch(y){i={error:y}}finally{try{!f&&!n&&(o=p.return)&&(yield Ve(o.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Ve(u))})}class CU{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=wU(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function wU(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bU(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return kn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Rl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return kn(t).debug(`[${i}] response parsed`,Ts({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bg extends Promise{constructor(e,n,i=bU){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new bg(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kx=Symbol("brand.privateNullableHeaders");function*IU(t){if(!t)return;if(Kx in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():iS(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=iS(i[1])?i[1]:[i[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,f])}}const su=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,u]of IU(i)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[Kx]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qp=t=>{var e,n,i,o,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=eD)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qx;class pd{constructor(e){var n,i,o,l,u,f,p,{baseURL:d=Qp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=Qp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,T=zf(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:E},T),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:pd.DEFAULT_TIMEOUT,this.logger=(o=A.logger)!==null&&o!==void 0?o:console;const D="warn";this.logLevel=D,this.logLevel=(u=(l=aS(A.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:aS(Qp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:D,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:aU(),this.encoder=fU,this._options=A,this.apiKey=y,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=su([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return su([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return su([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Di(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Al}`}defaultIdempotencyKey(){return`stainless-node-retry-${KL()}`}makeStatusError(e,n,i,o){return Pn.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=XL(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return ZL(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new bg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,u;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:d,url:y,timeout:E}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(d,{url:y,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=i===void 0?"":`, retryOf: ${i}`,D=Date.now();if(kn(this).debug(`[${T}] sending request`,Ts({retryOfRequestLogID:i,method:f.method,url:y,options:f,headers:d.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new Rm;const O=new AbortController,L=await this.fetchWithTimeout(y,d,E,O).catch(Im),z=Date.now();if(L instanceof globalThis.Error){const Y=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new Rm;const le=bm(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(n)return kn(this).info(`[${T}] connection ${le?"timed out":"failed"} - ${Y}`),kn(this).debug(`[${T}] connection ${le?"timed out":"failed"} (${Y})`,Ts({retryOfRequestLogID:i,url:y,durationMs:z-D,message:L.message})),this.retryRequest(f,n,i??T);throw kn(this).info(`[${T}] connection ${le?"timed out":"failed"} - error; no more retries left`),kn(this).debug(`[${T}] connection ${le?"timed out":"failed"} (error; no more retries left)`,Ts({retryOfRequestLogID:i,url:y,durationMs:z-D,message:L.message})),le?new Mx:new dd({cause:L})}const Q=`[${T}${A}] ${d.method} ${y} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${z-D}ms`;if(!L.ok){const Y=await this.shouldRetry(L);if(n&&Y){const R=`retrying, ${n} attempts remaining`;return await cU(L.body),kn(this).info(`${Q} - ${R}`),kn(this).debug(`[${T}] response error (${R})`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-D})),this.retryRequest(f,n,i??T,L.headers)}const le=Y?"error; no more retries left":"error; not retryable";kn(this).info(`${Q} - ${le}`);const pe=await L.text().catch(R=>Im(R).message),$=nU(pe),N=$?void 0:pe;throw kn(this).debug(`[${T}] response error (${le})`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,message:N,durationMs:Date.now()-D})),this.makeStatusError(L.status,$,N,L.headers)}return kn(this).info(Q),kn(this).debug(`[${T}] response start`,Ts({retryOfRequestLogID:i,url:L.url,status:L.status,headers:L.headers,durationMs:z-D})),{response:L,options:f,controller:O,requestLogID:T,retryOfRequestLogID:i,startTime:D}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:u,method:f}=l,p=zf(l,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const d=setTimeout(()=>o.abort(),i),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:o.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(E.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let u;const f=o==null?void 0:o.get("retry-after-ms");if(f){const d=parseFloat(f);Number.isNaN(d)||(u=d)}const p=o==null?void 0:o.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await iU(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const u=Object.assign({},e),{method:f,path:p,query:d,defaultBaseURL:y}=u,E=this.buildURL(p,d,y);"timeout"in u&&tU("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:u}),D=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:D},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=su([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),lU()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=su([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:uU(e)}:this.encoder({body:e,headers:i})}}pd.DEFAULT_TIMEOUT=6e4;class hn extends pd{constructor(){super(...arguments),this.interactions=new $x(this)}}Qx=hn;hn.GeminiNextGenAPIClient=Qx;hn.GeminiNextGenAPIClientError=Di;hn.APIError=Pn;hn.APIConnectionError=dd;hn.APIConnectionTimeoutError=Mx;hn.APIUserAbortError=Rm;hn.NotFoundError=Vx;hn.ConflictError=Lx;hn.RateLimitError=Ox;hn.BadRequestError=Dx;hn.AuthenticationError=kx;hn.InternalServerError=Fx;hn.PermissionDeniedError=Px;hn.UnprocessableEntityError=Ux;hn.toFile=gU;hn.Interactions=$x;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function NU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function MU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function DU(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function kU(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=h(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=h(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function PU(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec"],cS(A))}else if(o==="PREFERENCE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec"],cS(A))}const l=h(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(f==="PREFERENCE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(p==="PREFERENCE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let y=h(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(y==="PREFERENCE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["beta"]);return e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function VU(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&JU(l);const u=h(t,["config"]);return u!=null&&kU(u,n),n}function LU(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&$U(l,n,e);const u=h(t,["config"]);return u!=null&&PU(u,n,e),n}function UU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function OU(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function FU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function zU(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function BU(t,e){const n={},i=h(t,["config"]);return i!=null&&FU(i,n),n}function qU(t,e){const n={},i=h(t,["config"]);return i!=null&&zU(i,n),n}function HU(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Xx(f))),m(n,["tuningJobs"],u)}return n}function GU(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Dm(f))),m(n,["tuningJobs"],u)}return n}function YU(t,e){const n={},i=h(t,["name"]);i!=null&&m(n,["model"],i);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function JU(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function $U(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Xx(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],dx(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["description"]);y!=null&&m(n,["description"],y);const E=h(t,["baseModel"]);E!=null&&m(n,["baseModel"],E);const T=h(t,["_self"]);return T!=null&&m(n,["tunedModel"],YU(T)),n}function Dm(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],dx(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["error"]);y!=null&&m(n,["error"],y);const E=h(t,["description"]);E!=null&&m(n,["description"],E);const T=h(t,["baseModel"]);T!=null&&m(n,["baseModel"],T);const A=h(t,["tunedModel"]);A!=null&&m(n,["tunedModel"],A);const D=h(t,["preTunedModel"]);D!=null&&m(n,["preTunedModel"],D);const O=h(t,["supervisedTuningSpec"]);O!=null&&m(n,["supervisedTuningSpec"],O);const L=h(t,["preferenceOptimizationSpec"]);L!=null&&m(n,["preferenceOptimizationSpec"],L);const z=h(t,["tuningDataStats"]);z!=null&&m(n,["tuningDataStats"],z);const Q=h(t,["encryptionSpec"]);Q!=null&&m(n,["encryptionSpec"],Q);const Y=h(t,["partnerModelTuningSpec"]);Y!=null&&m(n,["partnerModelTuningSpec"],Y);const le=h(t,["customBaseModel"]);le!=null&&m(n,["customBaseModel"],le);const pe=h(t,["experiment"]);pe!=null&&m(n,["experiment"],pe);const $=h(t,["labels"]);$!=null&&m(n,["labels"],$);const N=h(t,["outputUri"]);N!=null&&m(n,["outputUri"],N);const M=h(t,["pipelineJob"]);M!=null&&m(n,["pipelineJob"],M);const R=h(t,["serviceAccount"]);R!=null&&m(n,["serviceAccount"],R);const F=h(t,["tunedModelDisplayName"]);F!=null&&m(n,["tunedModelDisplayName"],F);const V=h(t,["veoTuningSpec"]);return V!=null&&m(n,["veoTuningSpec"],V),n}function KU(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const f=h(t,["error"]);return f!=null&&m(n,["error"],f),n}function cS(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QU extends Xr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Is(Yr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:Em.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=OU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Dm(y))}else{const d=UU(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Xx(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=qU(e);return f=Te("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=GU(y),T=new LT;return Object.assign(T,E),T})}else{const d=BU(e);return f=Te("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=HU(y),T=new LT;return Object.assign(T,E),T})}}async cancel(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=NU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=DU(y),T=new UT;return Object.assign(T,E),T})}else{const d=RU(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=MU(y),T=new UT;return Object.assign(T,E),T})}}async tuneInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=LU(e,e);return l=Te("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>Dm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=VU(e);return l=Te("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>KU(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XU{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const jU=1024*1024*8,WU=3,ZU=1e3,e3=2,qf="x-goog-upload-status";async function t3(t,e,n){var i;const o=await jx(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[qf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function n3(t,e,n){var i;const o=await jx(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[qf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=sx(l),f=new Eg;return Object.assign(f,u),f}async function jx(t,e,n){var i,o;let l=0,u=0,f=new Tm(new Response),p="upload";for(l=t.size;u<l;){const d=Math.min(jU,l-u),y=t.slice(u,u+d);u+d>=l&&(p+=", finalize");let E=0,T=ZU;for(;E<WU&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[qf]));)E++,await r3(T),T=T*e3;if(u+=d,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[qf])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function i3(t){return{size:t.size,type:t.type}}function r3(t){return new Promise(e=>setTimeout(e,t))}class o3{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t3(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await n3(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await i3(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s3{create(e,n,i){return new l3(e,n,i)}}class l3{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fS="x-goog-api-key";class a3{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(fS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(fS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u3="gl-node/";class c3{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new hn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=rD(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new a3(this.apiKey);this.apiClient=new iL({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:u3+"web",uploader:new o3,downloader:new XU}),this.models=new SL(this.apiClient),this.live=new gL(this.apiClient,o,new s3),this.batches=new kk(this.apiClient),this.chats=new pP(this.models,this.apiClient),this.caches=new fP(this.apiClient),this.files=new xP(this.apiClient),this.operations=new AL(this.apiClient),this.authTokens=new FL(this.apiClient),this.tunings=new QU(this.apiClient),this.fileSearchStores=new $L(this.apiClient)}}const f3=async t=>{try{const n=await new c3({apiKey:"AIzaSyDi-aNH2xR674uo_FFcgzi0Rgydp7TeZqMVITE_ADMIN_PASSWORD=Faioumy9954"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Based on the Fatwa title: "${t}", suggest:
      1. "medical_context": A string of relevant English medical terms (comma separated).
      2. "tags": An array of relevant Arabic search tags (short keywords).
      
      Return ONLY JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:Ni.OBJECT,properties:{medical_context:{type:Ni.STRING},tags:{type:Ni.ARRAY,items:{type:Ni.STRING}}}}}});return n.text?JSON.parse(n.text):{medical_context:"",tags:[]}}catch(e){return console.error("Gemini Suggestion Error:",e),{medical_context:"",tags:[]}}},d3={[kt.SURGERY]:"surg",[kt.WOMEN_PREGNANCY]:"obgyn",[kt.ICU_DEATH]:"icu",[kt.FASTING_MEDICINE]:"fast",[kt.ETHICS]:"ethics",[kt.GENETICS_REPRODUCTION]:"genetic",[kt.TATTOO_CORTISONE]:"tattoo",[kt.PRAYER_PURITY]:"prayer",[kt.MEDICAL_EXPERIMENTS]:"exp",[kt.PHARMACY_DRUGS]:"pharm",[kt.MISCELLANEOUS]:"misc"},h3=({onClose:t,onAddFatwa:e,onDeleteFatwa:n,onUpdateFatwa:i,currentFatwas:o,currentLataif:l,onAddLatifa:u,onUpdateLatifa:f,onDeleteLatifa:p})=>{var ks;const[d,y]=Me.useState(!1),[E,T]=Me.useState(""),[A,D]=Me.useState(""),[O,L]=Me.useState(!1),[z,Q]=Me.useState(!1),[Y,le]=Me.useState(""),[pe,$]=Me.useState(""),[N,M]=Me.useState(""),[R,F]=Me.useState(""),[V,B]=Me.useState(""),P=async fe=>{fe.preventDefault(),L(!0),D("");const ze=localStorage.getItem("admin_password")||void 0||"Faioumy9954";E===ze?(y(!0),T("")):D("   "),L(!1)},ye=fe=>{fe.preventDefault(),F(""),B("");const ze=localStorage.getItem("admin_password")||void 0||"Faioumy9954";if(Y!==ze){F("    ");return}if(pe.length<6){F("      6   ");return}if(pe!==N){F("    ");return}localStorage.setItem("admin_password",pe),B("    "),le(""),$(""),M(""),setTimeout(()=>{Q(!1),B("")},2e3)},[me,X]=Me.useState("fatwas"),[K,he]=Me.useState("add"),[ae,U]=Me.useState({verdict:"CONDITIONAL",tags:[]}),[H,ie]=Me.useState(""),[k,_e]=Me.useState(""),[be,Ce]=Me.useState(!1),[Ue,ut]=Me.useState(!1),[ot,rn]=Me.useState(!1),[An,ji]=Me.useState(""),[di,Vn]=Me.useState(""),[Ln,Un]=Me.useState(null),[jn,ki]=Me.useState("add"),[Je,ht]=Me.useState({text:"",category:"",source:""}),[Wn,Qo]=Me.useState(""),[pn,Vt]=Me.useState(null),[Pi,re]=Me.useState(void 0),[ve,Ie]=Me.useState(0);Me.useEffect(()=>{if(l.length>0){const fe=Math.max(...l.map(ze=>ze.id));Ie(fe+1)}else Ie(1)},[l,jn]);const He=()=>{y(!1),T("")};Me.useEffect(()=>{ae.category&&!ae.id&&et(ae.category)},[ae.category]);const et=fe=>{const ze=d3[fe],Ut=o.filter(Cr=>Cr.category===fe).length+1,Wr=new Date().getFullYear(),xr=`${ze}_${String(Ut).padStart(3,"0")}_${Wr}`;U(Cr=>({...Cr,id:xr}))},Gt=()=>ae.title&&ae.category&&ae.question&&ae.ruling&&ae.id,On=()=>{if(!Gt()){alert("    (   )");return}rn(!0)},Dt=()=>{ae&&Gt()&&(Ln?(i(ae),alert("   "),Un(null)):(e(ae),alert("   ")),U({verdict:"CONDITIONAL",tags:[]}),rn(!1),_e(""))},wt=fe=>{U(fe),Un(fe.id),he("add")},Yt=()=>{U({verdict:"CONDITIONAL",tags:[]}),Un(null)},$e=()=>{if(!Gt()){alert("    (   )");return}const fe=`  {
    id: '${ae.id}',
    category: CategoryId.${ae.category},
    title: '${ae.title}',
    question: '${ae.question}',
    medical_context: '${ae.medical_context||""}',
    ruling: \`${ae.ruling}\`,
    verdict: '${ae.verdict}',
    source: '${ae.source||""}',
    tags: [${(ae.tags||[]).map(ze=>`'${ze}'`).join(", ")}]
  },`;_e(fe)},Zn=fe=>{navigator.clipboard.writeText(fe),Ce(!0),setTimeout(()=>Ce(!1),2e3)},an=fe=>{fe.key==="Enter"&&H.trim()&&(fe.preventDefault(),U(ze=>({...ze,tags:[...ze.tags||[],H.trim()]})),ie(""))},Ds=fe=>{U(ze=>({...ze,tags:(ze.tags||[]).filter(Ut=>Ut!==fe)}))},hi=async()=>{if(!ae.title){alert("    ");return}ut(!0);try{const fe=await f3(ae.title);U(ze=>({...ze,medical_context:fe.medical_context,tags:[...ze.tags||[],...fe.tags]}))}catch(fe){console.error(fe),alert("    ")}finally{ut(!1)}},Vi=o.filter(fe=>{const ze=fe.title.includes(An)||fe.id.includes(An)||fe.question.includes(An),Ut=di?fe.category===di:!0;return ze&&Ut}),Lt=()=>{if(!Je.text){alert("   ");return}if(pn!==null){const fe={id:pn,text:Je.text,category:Je.category||void 0,source:Je.source||void 0,_firestoreId:Pi};f(fe),alert("   "),Vt(null),re(void 0)}else{const fe={id:ve,text:Je.text,category:Je.category||void 0,source:Je.source||void 0};u(fe),alert("   "),Ie(ze=>ze+1)}ht({text:"",category:"",source:""})},pi=fe=>{ht({text:fe.text,category:fe.category||"",source:fe.source||""}),Vt(fe.id),re(fe._firestoreId),ki("add")},mi=()=>{Vt(null),re(void 0),ht({text:"",category:"",source:""})},Nn=l.filter(fe=>{var Ut,Wr;const ze=Wn.toLowerCase();return fe.text.toLowerCase().includes(ze)||((Ut=fe.category)==null?void 0:Ut.toLowerCase().includes(ze))||((Wr=fe.source)==null?void 0:Wr.toLowerCase().includes(ze))});return d?ot&&ae?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm overflow-hidden",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-purple-50 rounded-t-3xl",children:[C.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[C.jsx(J_,{className:"w-5 h-5"}),"  "]}),C.jsx("button",{onClick:()=>rn(!1),className:"p-2 hover:bg-purple-100 rounded-full text-purple-600",children:C.jsx(Pf,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:C.jsx("div",{className:"max-w-xl mx-auto",children:C.jsx(Cf,{fatwa:ae})})}),C.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white rounded-b-3xl flex gap-3",children:[C.jsxs("button",{onClick:()=>rn(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[C.jsx(Lb,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:Dt,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all hover:scale-[1.02]",children:[C.jsx(Sl,{className:"w-5 h-5"}),"  "]})]})]})}):z?C.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm",children:C.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl animate-in zoom-in-95 duration-300",children:[C.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-l from-purple-50 to-purple-100 rounded-t-3xl",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:C.jsx($_,{className:"w-5 h-5 text-white"})}),C.jsx("h3",{className:"text-xl font-bold text-purple-800",children:"  "})]}),C.jsx("p",{className:"text-sm text-purple-600 mt-2",children:"    "})]}),C.jsxs("form",{onSubmit:ye,className:"p-6 space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:Y,onChange:fe=>le(fe.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"   ",required:!0})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  "}),C.jsx("input",{type:"password",value:pe,onChange:fe=>$(fe.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    (6   )",required:!0}),C.jsx("p",{className:`text-xs mt-1 ${pe.length>=6?"text-green-600":"text-orange-600"}`,children:pe.length>=6?"   ":`${pe.length}/6 `})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   "}),C.jsx("input",{type:"password",value:N,onChange:fe=>M(fe.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-right",placeholder:"    ",required:!0}),N&&pe!==N&&C.jsx("p",{className:"text-xs text-red-600 mt-1",children:"   "}),N&&pe===N&&C.jsx("p",{className:"text-xs text-green-600 mt-1",children:" "})]}),R&&C.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm font-bold",children:R}),V&&C.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-xl text-sm font-bold flex items-center gap-2",children:[C.jsx(Sl,{className:"w-5 h-5"}),V]}),C.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100 mt-6",children:[C.jsx("button",{type:"button",onClick:()=>{Q(!1),le(""),$(""),M(""),F(""),B("")},className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold transition-colors",children:""}),C.jsxs("button",{type:"submit",disabled:!Y||!pe||!N||pe.length<6||pe!==N,className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[C.jsx(Sl,{className:"w-5 h-5"}),"  "]})]})]})]})}):C.jsxs("div",{className:"fixed inset-0 bg-gray-100 z-50 overflow-y-auto font-cairo dir-rtl text-right",children:[C.jsxs("div",{className:"bg-[#7c3aed] text-white p-6 shadow-lg relative overflow-hidden",children:[C.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-20 -mt-20"}),C.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white opacity-5 rounded-full -ml-10 -mb-10"}),C.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center relative z-10",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:C.jsx(cI,{className:"w-6 h-6 text-white"})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-2xl font-bold",children:"  "}),C.jsx("p",{className:"text-purple-100 text-xs opacity-90",children:"   "})]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("div",{className:"text-right",children:[C.jsx("p",{className:"text-sm text-white font-bold",children:" "}),C.jsx("p",{className:"text-xs text-purple-100",children:" "})]}),C.jsxs("button",{onClick:()=>Q(!z),className:"px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors text-white text-sm font-bold flex items-center gap-2",title:"  ",children:[C.jsx(uf,{className:"w-4 h-4"}),"  "]}),C.jsx("button",{onClick:He,className:"px-4 py-2 bg-red-500/30 hover:bg-red-500/50 rounded-lg transition-colors text-white text-sm font-bold",children:" "})]})]})]}),C.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:C.jsx("div",{className:"max-w-5xl mx-auto flex justify-center",children:C.jsxs("div",{className:"flex w-full max-w-md p-1 bg-gray-100 rounded-xl my-2",children:[C.jsxs("button",{onClick:()=>X("fatwas"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${me==="fatwas"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(rI,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>X("lataif"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${me==="lataif"?"bg-white text-amber-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[C.jsx(sm,{className:"w-4 h-4"})," "]})]})})}),C.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[me==="fatwas"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>he("add"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${K==="add"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(kp,{className:"w-4 h-4"})," "]}),C.jsxs("button",{onClick:()=>he("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${K==="list"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Pp,{className:"w-4 h-4"}),"  (",o.length,")"]})]}),K==="add"?C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsx("div",{className:"lg:col-span-2 space-y-6",children:C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-800",children:[C.jsx(kp,{className:"w-6 h-6 text-[#7c3aed]"}),C.jsx("h2",{className:"text-xl font-bold",children:Ln?" ":"  "}),Ln&&C.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-bold",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] focus:border-transparent outline-none transition-all",value:ae.category||"",onChange:fe=>U({...ae,category:fe.target.value}),children:[C.jsx("option",{value:"",children:" "}),fu.map(fe=>C.jsx("option",{value:fe.id,children:fe.name},fe.id))]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (ID) - "}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm dir-ltr text-right",value:ae.id||""}),C.jsx("button",{onClick:()=>ae.category&&et(ae.category),className:"p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:" ",children:C.jsx(vI,{className:"w-5 h-5"})})]})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:":   ",value:ae.title||"",onChange:fe=>U({...ae,title:fe.target.value})}),C.jsxs("button",{onClick:hi,disabled:Ue,className:"min-w-[140px] flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl px-4 font-bold text-xs shadow-md hover:shadow-lg transition-all active:scale-95 disabled:opacity-50",children:[Ue?C.jsx(pI,{className:"w-4 h-4 animate-spin"}):C.jsx(ig,{className:"w-4 h-4"}),Ue?" ...":" "]})]}),C.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'    " "       .'})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("textarea",{rows:3,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   ...",value:ae.question||"",onChange:fe=>U({...ae,question:fe.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",value:ae.verdict,onChange:fe=>U({...ae,verdict:fe.target.value}),children:[C.jsx("option",{value:"CONDITIONAL",children:" ( )"}),C.jsx("option",{value:"PERMITTED",children:" / "}),C.jsx("option",{value:"FORBIDDEN",children:" / "})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   -   ...",value:ae.source||"",onChange:fe=>U({...ae,source:fe.target.value})})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   *"}),C.jsx("div",{className:"bg-orange-50 border border-orange-100 p-2 rounded-lg mb-2 text-xs text-orange-700",children:":      ."}),C.jsx("textarea",{rows:8,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none font-mono text-sm leading-relaxed",placeholder:"   ...",value:ae.ruling||"",onChange:fe=>U({...ae,ruling:fe.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none text-left dir-ltr placeholder:text-right",placeholder:"surgery, transplant, ...   ",value:ae.medical_context||"",onChange:fe=>U({...ae,medical_context:fe.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ( Enter )"}),C.jsxs("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus-within:ring-2 focus-within:ring-[#7c3aed] focus-within:bg-white transition-all flex flex-wrap gap-2",children:[(ks=ae.tags)==null?void 0:ks.map((fe,ze)=>C.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-lg text-sm flex items-center gap-1",children:["#",fe,C.jsx("button",{onClick:()=>Ds(fe),className:"hover:text-purple-900",children:C.jsx(Pf,{className:"w-3 h-3"})})]},ze)),C.jsx("input",{type:"text",className:"bg-transparent outline-none flex-1 min-w-[120px]",placeholder:"   Enter",value:H,onChange:fe=>ie(fe.target.value),onKeyDown:an})]})]}),C.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-100 mt-4",children:[C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:On,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95",children:[C.jsx(J_,{className:"w-5 h-5"}),Ln?" ":"  "]}),C.jsx("button",{onClick:()=>U({verdict:"CONDITIONAL",tags:[]}),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-bold transition-colors",children:" "}),Ln&&C.jsx("button",{onClick:Yt,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-bold transition-colors",children:" "})]}),C.jsxs("button",{onClick:$e,className:"w-full bg-green-50 text-green-700 hover:bg-green-100 border border-green-200 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-sm",children:[C.jsx(eI,{className:"w-4 h-4"}),"   ()"]})]})]})]})}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:`bg-[#1e1e1e] rounded-2xl shadow-lg border border-gray-800 overflow-hidden transition-all duration-500 ${k?"opacity-100 translate-y-0":"opacity-50 translate-y-4 grayscale"}`,children:[C.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-gray-700",children:[C.jsx("span",{className:"text-gray-400 text-xs font-mono",children:"constants.ts snippet"}),C.jsxs("button",{onClick:()=>Zn(k),disabled:!k,className:"flex items-center gap-1 text-xs bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors disabled:opacity-50",children:[be?C.jsx(Sl,{className:"w-3 h-3"}):C.jsx(AA,{className:"w-3 h-3"}),be?" ":""]})]}),C.jsx("div",{className:"p-4 relative",children:C.jsx("textarea",{readOnly:!0,value:k||'//  " "     ...',className:"w-full h-[400px] bg-transparent text-green-400 font-mono text-xs outline-none resize-none dir-ltr text-left"})})]}),C.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5",children:[C.jsxs("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[C.jsx(Pp,{className:"w-4 h-4"})," "]}),C.jsxs("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:[" ",C.jsx("strong",{children:'"  "'}),"         (   ).         ",C.jsx("strong",{children:'" "'}),"  ."]})]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:Vi.length})]}),C.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[C.jsxs("select",{value:di,onChange:fe=>Vn(fe.target.value),className:"p-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm min-w-[150px]",children:[C.jsx("option",{value:"",children:" "}),fu.map(fe=>C.jsx("option",{value:fe.id,children:fe.name},fe.id))]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:An,onChange:fe=>ji(fe.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm"}),C.jsx(lm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right",children:"ID"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:Vi.length>0?Vi.map(fe=>{var ze;return C.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500 dir-ltr text-right text-xs",children:fe.id}),C.jsx("td",{className:"px-4 py-3",children:C.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs whitespace-nowrap",children:(ze=fu.find(Ut=>Ut.id===fe.category))==null?void 0:ze.name})}),C.jsx("td",{className:"px-4 py-3 font-bold text-gray-800 max-w-xs truncate",children:fe.title}),C.jsx("td",{className:"px-4 py-3 text-gray-500 truncate max-w-[150px] text-xs",children:fe.source}),C.jsxs("td",{className:"px-4 py-3 text-center",children:[C.jsx("button",{onClick:Ut=>{Ut.stopPropagation(),wt(fe)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(uf,{className:"w-4 h-4"})}),C.jsx("button",{onClick:Ut=>{Ut.stopPropagation(),window.confirm("      ")&&n(fe.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"",children:C.jsx(K_,{className:"w-4 h-4"})})]})]},fe.id)}):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"    "})})})]})})]})]}),me==="lataif"&&C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[C.jsxs("button",{onClick:()=>{ki("add"),Vt(null),re(void 0),ht({text:"",category:"",source:""})},className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${jn==="add"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(kp,{className:"w-4 h-4"}),pn!==null?" ":" "]}),C.jsxs("button",{onClick:()=>ki("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${jn==="list"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[C.jsx(Pp,{className:"w-4 h-4"}),"  (",l.length,")"]})]}),jn==="add"?C.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[C.jsxs("div",{className:"flex items-center justify-between mb-6",children:[C.jsxs("div",{className:"flex items-center gap-2 text-gray-800",children:[pn!==null?C.jsx(uf,{className:"w-6 h-6 text-amber-500"}):C.jsx(sm,{className:"w-6 h-6 text-amber-500"}),C.jsx("h2",{className:"text-xl font-bold",children:pn!==null?" ":"  "})]}),pn!==null&&C.jsx("button",{onClick:mi,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:" "})]}),C.jsxs("div",{className:"space-y-5",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),C.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm",value:pn!==null?pn:ve})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),C.jsx("textarea",{rows:4,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"  ...",value:Je.text,onChange:fe=>ht({...Je,text:fe.target.value})})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":  ",value:Je.category||"",onChange:fe=>ht({...Je,category:fe.target.value})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),C.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":   ",value:Je.source||"",onChange:fe=>ht({...Je,source:fe.target.value})})]})]}),C.jsxs("button",{onClick:Lt,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-md transition-all hover:scale-[1.02] mt-4",children:[pn!==null?C.jsx(EI,{className:"w-5 h-5"}):C.jsx(Sl,{className:"w-5 h-5"}),pn!==null?" ":" "]})]})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[C.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"font-bold text-gray-700",children:" "}),C.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-bold",children:Nn.length})]}),C.jsxs("div",{className:"relative w-full sm:w-64",children:[C.jsx("input",{type:"text",placeholder:"  ...",value:Wn,onChange:fe=>Qo(fe.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm"}),C.jsx(lm,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),C.jsx("div",{className:"overflow-x-auto flex-1",children:C.jsxs("table",{className:"w-full text-sm",children:[C.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:C.jsxs("tr",{children:[C.jsx("th",{className:"px-4 py-3 text-right w-16",children:"#"}),C.jsx("th",{className:"px-4 py-3 text-right",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),C.jsx("th",{className:"px-4 py-3 text-center w-28",children:""})]})}),C.jsx("tbody",{className:"divide-y divide-gray-100",children:Nn.length>0?Nn.map(fe=>C.jsxs("tr",{className:"hover:bg-amber-50/30 transition-colors",children:[C.jsx("td",{className:"px-4 py-3 font-mono text-gray-500",children:fe.id}),C.jsx("td",{className:"px-4 py-3 font-medium text-gray-800 line-clamp-2",children:fe.text}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:fe.category||"-"}),C.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:fe.source||"-"}),C.jsx("td",{className:"px-4 py-3 text-center",children:C.jsxs("div",{className:"flex items-center justify-center gap-2",children:[C.jsx("button",{type:"button",onClick:()=>pi(fe),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:C.jsx(uf,{className:"w-4 h-4"})}),C.jsx("button",{type:"button",onClick:()=>{window.confirm("      ")&&p(fe.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:C.jsx(K_,{className:"w-4 h-4"})})]})})]},fe.id)):C.jsx("tr",{children:C.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"  "})})})]})})]})]})]})]}):C.jsx("div",{className:"fixed inset-0 bg-gray-100 z-50 flex items-center justify-center font-cairo dir-rtl",children:C.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[C.jsxs("div",{className:"flex flex-col items-center mb-6",children:[C.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:C.jsx($_,{className:"w-8 h-8 text-purple-600"})}),C.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" "}),C.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),C.jsxs("form",{onSubmit:P,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),C.jsx("input",{type:"password",value:E,onChange:fe=>T(fe.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-center text-lg",placeholder:"  ",required:!0,disabled:O})]}),A&&C.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:A}),C.jsxs("div",{className:"flex gap-3 mt-6",children:[C.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors disabled:opacity-50",disabled:O,children:""}),C.jsx("button",{type:"submit",className:"flex-1 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold transition-colors disabled:opacity-50",disabled:O,children:O?" ...":""})]})]})]})})},p3=({data:t})=>{const[e,n]=Me.useState(null),[i,o]=Me.useState(!1);return Me.useEffect(()=>{t&&t.length>0&&(sessionStorage.getItem("latifa_shown_session")||requestAnimationFrame(()=>{const u=Math.floor(Math.random()*t.length);n(t[u]),o(!0),sessionStorage.setItem("latifa_shown_session","true")}))},[t]),!e||!i?null:C.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/10 backdrop-blur-[2px] animate-in fade-in duration-500 cursor-pointer",onClick:()=>o(!1),children:C.jsxs("div",{className:"w-full max-w-lg bg-white/95 backdrop-blur-xl rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-amber-100 p-6 relative transform transition-all hover:scale-[1.02] duration-300",onClick:l=>{o(!1)},children:[C.jsx("button",{className:"absolute top-4 left-4 p-2 bg-gray-100/50 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded-full transition-colors",onClick:l=>{l.stopPropagation(),o(!1)},children:C.jsx(Pf,{className:"w-4 h-4"})}),C.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[C.jsx("div",{className:"bg-amber-100 p-2 rounded-full shadow-inner",children:C.jsx(ig,{className:"w-5 h-5 text-amber-600 fill-amber-600"})}),C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-gray-800 text-lg font-cairo",children:" "}),e.category&&C.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 px-2 py-0.5 rounded-full border border-amber-100 font-bold",children:e.category})]})]}),C.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-[0.03] pointer-events-none",children:C.jsx(sm,{className:"w-48 h-48"})}),C.jsxs("div",{className:"text-center py-2 px-2 relative z-10",children:[C.jsxs("p",{className:"text-xl font-bold text-gray-800 font-amiri leading-10 text-right dir-rtl whitespace-pre-wrap",children:['"',e.text,'"']}),e.source&&C.jsxs("div",{className:"mt-4 flex items-center justify-end gap-1 text-sm text-gray-500 font-medium dir-rtl",children:[C.jsx("span",{className:"text-amber-500",children:"~"}),C.jsx("span",{children:e.source})]})]}),C.jsx("div",{className:"mt-6 flex justify-center",children:C.jsx("p",{className:"text-[10px] text-gray-400 font-cairo animate-pulse",children:"(    )"})})]})})},m3=()=>{};var dS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},g3=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,p=o+2<t.length,d=p?t[o+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|d>>6,A=d&63;p||(A=64,u||(T=64)),i.push(n[y],n[E],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||d==null||E==null)throw new y3;const T=l<<2|f>>4;if(i.push(T),d!==64){const A=f<<4&240|d>>2;if(i.push(A),E!==64){const D=d<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v3=function(t){const e=Wx(t);return Zx.encodeByteArray(e,!0)},Hf=function(t){return v3(t).replace(/\./g,"")},_3=function(t){try{return Zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=()=>E3().__FIREBASE_DEFAULTS__,S3=()=>{if(typeof process>"u"||typeof dS>"u")return;const t=dS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},A3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_3(t[1]);return e&&JSON.parse(e)},Ig=()=>{try{return m3()||T3()||S3()||A3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},x3=t=>{var e,n;return(n=(e=Ig())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C3=t=>{const e=x3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},eC=()=>{var t;return(t=Ig())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Hf(JSON.stringify(n)),Hf(JSON.stringify(u)),""].join(".")}const mu={};function R3(){const t={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function N3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hS=!1;function M3(t,e){if(typeof window>"u"||typeof document>"u"||!Rg(window.location.host)||mu[t]===e||mu[t]||hS)return;mu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=R3().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{hS=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=N3(i),A=n("text"),D=document.getElementById(A)||document.createElement("span"),O=n("learnmore"),L=document.getElementById(O)||document.createElement("a"),z=n("preprendIcon"),Q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),y(L,O);const le=d();p(Q,z),Y.append(Q,D,L,le),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k3(){var e;const t=(e=Ig())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P3(){return!k3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V3(){try{return typeof indexedDB=="object"}catch{return!1}}function L3(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="FirebaseError";class Ql extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=U3,Object.setPrototypeOf(this,Ql.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tC.prototype.create)}}class tC{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?O3(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new Ql(o,f,i)}}function O3(t,e){return t.replace(F3,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const F3=/\{\$([^}]+)}/g;function Gf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(pS(l)&&pS(u)){if(!Gf(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function pS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){return t&&t._delegate?t._delegate:t}class Tu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new w3;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q3(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===Ss?void 0:t}function q3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const G3={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},Y3=it.INFO,J3={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=J3[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nC{constructor(e){this.name=e,this._logLevel=Y3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const K3=(t,e)=>e.some(n=>t instanceof n);let mS,gS;function Q3(){return mS||(mS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return gS||(gS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iC=new WeakMap,km=new WeakMap,rC=new WeakMap,Xp=new WeakMap,Ng=new WeakMap;function j3(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ko(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&iC.set(n,t)}).catch(()=>{}),Ng.set(e,t),e}function W3(t){if(km.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});km.set(t,e)}let Pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z3(t){Pm=t(Pm)}function e6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(jp(this),e,...n);return rC.set(i,e.sort?e.sort():[e]),ko(i)}:X3().includes(t)?function(...e){return t.apply(jp(this),e),ko(iC.get(this))}:function(...e){return ko(t.apply(jp(this),e))}}function t6(t){return typeof t=="function"?e6(t):(t instanceof IDBTransaction&&W3(t),K3(t,Q3())?new Proxy(t,Pm):t)}function ko(t){if(t instanceof IDBRequest)return j3(t);if(Xp.has(t))return Xp.get(t);const e=t6(t);return e!==t&&(Xp.set(t,e),Ng.set(e,t)),e}const jp=t=>Ng.get(t);function n6(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=ko(u);return i&&u.addEventListener("upgradeneeded",p=>{i(ko(u.result),p.oldVersion,p.newVersion,ko(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const i6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],Wp=new Map;function yS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=r6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||i6.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),o&&p.done]))[0]};return Wp.set(e,l),l}Z3(t=>({...t,get:(e,n,i)=>yS(e,n)||t.get(e,n,i),has:(e,n)=>!!yS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function s6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",vS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new nC("@firebase/app"),l6="@firebase/app-compat",a6="@firebase/analytics-compat",u6="@firebase/analytics",c6="@firebase/app-check-compat",f6="@firebase/app-check",d6="@firebase/auth",h6="@firebase/auth-compat",p6="@firebase/database",m6="@firebase/data-connect",g6="@firebase/database-compat",y6="@firebase/functions",v6="@firebase/functions-compat",_6="@firebase/installations",E6="@firebase/installations-compat",T6="@firebase/messaging",S6="@firebase/messaging-compat",A6="@firebase/performance",x6="@firebase/performance-compat",C6="@firebase/remote-config",w6="@firebase/remote-config-compat",b6="@firebase/storage",I6="@firebase/storage-compat",R6="@firebase/firestore",N6="@firebase/ai",M6="@firebase/firestore-compat",D6="firebase",k6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="[DEFAULT]",P6={[Vm]:"fire-core",[l6]:"fire-core-compat",[u6]:"fire-analytics",[a6]:"fire-analytics-compat",[f6]:"fire-app-check",[c6]:"fire-app-check-compat",[d6]:"fire-auth",[h6]:"fire-auth-compat",[p6]:"fire-rtdb",[m6]:"fire-data-connect",[g6]:"fire-rtdb-compat",[y6]:"fire-fn",[v6]:"fire-fn-compat",[_6]:"fire-iid",[E6]:"fire-iid-compat",[T6]:"fire-fcm",[S6]:"fire-fcm-compat",[A6]:"fire-perf",[x6]:"fire-perf-compat",[C6]:"fire-rc",[w6]:"fire-rc-compat",[b6]:"fire-gcs",[I6]:"fire-gcs-compat",[R6]:"fire-fst",[M6]:"fire-fst-compat",[N6]:"fire-vertex","fire-js":"fire-js",[D6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,V6=new Map,Um=new Map;function _S(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jf(t){const e=t.name;if(Um.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,t);for(const n of Yf.values())_S(n,t);for(const n of V6.values())_S(n,t);return!0}function L6(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function U6(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Po=new tC("app","Firebase",O6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Tu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6=k6;function oC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:Lm,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Po.create("bad-app-name",{appName:String(o)});if(n||(n=eC()),!n)throw Po.create("no-options");const l=Yf.get(o);if(l){if(Gf(n,l.options)&&Gf(i,l.config))return l;throw Po.create("duplicate-app",{appName:o})}const u=new H3(o);for(const p of Um.values())u.addComponent(p);const f=new F6(n,i,u);return Yf.set(o,f),f}function B6(t=Lm){const e=Yf.get(t);if(!e&&t===Lm&&eC())return oC();if(!e)throw Po.create("no-app",{appName:t});return e}function Pl(t,e,n){let i=P6[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(u.join(" "));return}Jf(new Tu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="firebase-heartbeat-database",H6=1,Su="firebase-heartbeat-store";let Zp=null;function sC(){return Zp||(Zp=n6(q6,H6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Po.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function G6(t){try{const n=(await sC()).transaction(Su),i=await n.objectStore(Su).get(lC(t));return await n.done,i}catch(e){if(e instanceof Ql)$r.warn(e.message);else{const n=Po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function ES(t,e){try{const i=(await sC()).transaction(Su,"readwrite");await i.objectStore(Su).put(e,lC(t)),await i.done}catch(n){if(n instanceof Ql)$r.warn(n.message);else{const i=Po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(i.message)}}}function lC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=1024,J6=30;class $6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=TS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>J6){const u=X6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=TS(),{heartbeatsToSend:i,unsentEntries:o}=K6(this._heartbeatsCache.heartbeats),l=Hf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $r.warn(n),""}}}function TS(){return new Date().toISOString().substring(0,10)}function K6(t,e=Y6){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),SS(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),SS(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V3()?L3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return ES(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SS(t){return Hf(JSON.stringify({version:2,heartbeats:t})).length}function X6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){Jf(new Tu("platform-logger",e=>new o6(e),"PRIVATE")),Jf(new Tu("heartbeat",e=>new $6(e),"PRIVATE")),Pl(Vm,vS,t),Pl(Vm,vS,"esm2020"),Pl("fire-js","")}j6("");var W6="firebase",Z6="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pl(W6,Z6,"app");var AS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vo,aC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function R(){}R.prototype=M.prototype,N.F=M.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(F,V,B){for(var P=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)P[ye-2]=arguments[ye];return M.prototype[V].apply(F,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,M,R){R||(R=0);const F=Array(16);if(typeof M=="string")for(var V=0;V<16;++V)F[V]=M.charCodeAt(R++)|M.charCodeAt(R++)<<8|M.charCodeAt(R++)<<16|M.charCodeAt(R++)<<24;else for(V=0;V<16;++V)F[V]=M[R++]|M[R++]<<8|M[R++]<<16|M[R++]<<24;M=N.g[0],R=N.g[1],V=N.g[2];let B=N.g[3],P;P=M+(B^R&(V^B))+F[0]+3614090360&4294967295,M=R+(P<<7&4294967295|P>>>25),P=B+(V^M&(R^V))+F[1]+3905402710&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(R^B&(M^R))+F[2]+606105819&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(M^V&(B^M))+F[3]+3250441966&4294967295,R=V+(P<<22&4294967295|P>>>10),P=M+(B^R&(V^B))+F[4]+4118548399&4294967295,M=R+(P<<7&4294967295|P>>>25),P=B+(V^M&(R^V))+F[5]+1200080426&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(R^B&(M^R))+F[6]+2821735955&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(M^V&(B^M))+F[7]+4249261313&4294967295,R=V+(P<<22&4294967295|P>>>10),P=M+(B^R&(V^B))+F[8]+1770035416&4294967295,M=R+(P<<7&4294967295|P>>>25),P=B+(V^M&(R^V))+F[9]+2336552879&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(R^B&(M^R))+F[10]+4294925233&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(M^V&(B^M))+F[11]+2304563134&4294967295,R=V+(P<<22&4294967295|P>>>10),P=M+(B^R&(V^B))+F[12]+1804603682&4294967295,M=R+(P<<7&4294967295|P>>>25),P=B+(V^M&(R^V))+F[13]+4254626195&4294967295,B=M+(P<<12&4294967295|P>>>20),P=V+(R^B&(M^R))+F[14]+2792965006&4294967295,V=B+(P<<17&4294967295|P>>>15),P=R+(M^V&(B^M))+F[15]+1236535329&4294967295,R=V+(P<<22&4294967295|P>>>10),P=M+(V^B&(R^V))+F[1]+4129170786&4294967295,M=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(M^R))+F[6]+3225465664&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^R&(B^M))+F[11]+643717713&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^M&(V^B))+F[0]+3921069994&4294967295,R=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(R^V))+F[5]+3593408605&4294967295,M=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(M^R))+F[10]+38016083&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^R&(B^M))+F[15]+3634488961&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^M&(V^B))+F[4]+3889429448&4294967295,R=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(R^V))+F[9]+568446438&4294967295,M=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(M^R))+F[14]+3275163606&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^R&(B^M))+F[3]+4107603335&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^M&(V^B))+F[8]+1163531501&4294967295,R=V+(P<<20&4294967295|P>>>12),P=M+(V^B&(R^V))+F[13]+2850285829&4294967295,M=R+(P<<5&4294967295|P>>>27),P=B+(R^V&(M^R))+F[2]+4243563512&4294967295,B=M+(P<<9&4294967295|P>>>23),P=V+(M^R&(B^M))+F[7]+1735328473&4294967295,V=B+(P<<14&4294967295|P>>>18),P=R+(B^M&(V^B))+F[12]+2368359562&4294967295,R=V+(P<<20&4294967295|P>>>12),P=M+(R^V^B)+F[5]+4294588738&4294967295,M=R+(P<<4&4294967295|P>>>28),P=B+(M^R^V)+F[8]+2272392833&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^R)+F[11]+1839030562&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^M)+F[14]+4259657740&4294967295,R=V+(P<<23&4294967295|P>>>9),P=M+(R^V^B)+F[1]+2763975236&4294967295,M=R+(P<<4&4294967295|P>>>28),P=B+(M^R^V)+F[4]+1272893353&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^R)+F[7]+4139469664&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^M)+F[10]+3200236656&4294967295,R=V+(P<<23&4294967295|P>>>9),P=M+(R^V^B)+F[13]+681279174&4294967295,M=R+(P<<4&4294967295|P>>>28),P=B+(M^R^V)+F[0]+3936430074&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^R)+F[3]+3572445317&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^M)+F[6]+76029189&4294967295,R=V+(P<<23&4294967295|P>>>9),P=M+(R^V^B)+F[9]+3654602809&4294967295,M=R+(P<<4&4294967295|P>>>28),P=B+(M^R^V)+F[12]+3873151461&4294967295,B=M+(P<<11&4294967295|P>>>21),P=V+(B^M^R)+F[15]+530742520&4294967295,V=B+(P<<16&4294967295|P>>>16),P=R+(V^B^M)+F[2]+3299628645&4294967295,R=V+(P<<23&4294967295|P>>>9),P=M+(V^(R|~B))+F[0]+4096336452&4294967295,M=R+(P<<6&4294967295|P>>>26),P=B+(R^(M|~V))+F[7]+1126891415&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~R))+F[14]+2878612391&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~M))+F[5]+4237533241&4294967295,R=V+(P<<21&4294967295|P>>>11),P=M+(V^(R|~B))+F[12]+1700485571&4294967295,M=R+(P<<6&4294967295|P>>>26),P=B+(R^(M|~V))+F[3]+2399980690&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~R))+F[10]+4293915773&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~M))+F[1]+2240044497&4294967295,R=V+(P<<21&4294967295|P>>>11),P=M+(V^(R|~B))+F[8]+1873313359&4294967295,M=R+(P<<6&4294967295|P>>>26),P=B+(R^(M|~V))+F[15]+4264355552&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~R))+F[6]+2734768916&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~M))+F[13]+1309151649&4294967295,R=V+(P<<21&4294967295|P>>>11),P=M+(V^(R|~B))+F[4]+4149444226&4294967295,M=R+(P<<6&4294967295|P>>>26),P=B+(R^(M|~V))+F[11]+3174756917&4294967295,B=M+(P<<10&4294967295|P>>>22),P=V+(M^(B|~R))+F[2]+718787259&4294967295,V=B+(P<<15&4294967295|P>>>17),P=R+(B^(V|~M))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+B&4294967295}i.prototype.v=function(N,M){M===void 0&&(M=N.length);const R=M-this.blockSize,F=this.C;let V=this.h,B=0;for(;B<M;){if(V==0)for(;B<=R;)o(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<M;)if(F[V++]=N.charCodeAt(B++),V==this.blockSize){o(this,F),V=0;break}}else for(;B<M;)if(F[V++]=N[B++],V==this.blockSize){o(this,F),V=0;break}}this.h=V,this.o+=M},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,R=0;R<4;++R)for(let F=0;F<32;F+=8)N[M++]=this.g[R]>>>F&255;return N};function l(N,M){var R=f;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=M(N)}function u(N,M){this.h=M;const R=[];let F=!0;for(let V=N.length-1;V>=0;V--){const B=N[V]|0;F&&B==M||(R[V]=B,F=!1)}this.g=R}var f={};function p(N){return-128<=N&&N<128?l(N,function(M){return new u([M|0],M<0?-1:0)}):new u([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return L(d(-N));const M=[];let R=1;for(let F=0;N>=R;F++)M[F]=N/R|0,R*=4294967296;return new u(M,0)}function y(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return L(y(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(M,8));let F=E;for(let B=0;B<N.length;B+=8){var V=Math.min(8,N.length-B);const P=parseInt(N.substring(B,B+V),M);V<8?(V=d(Math.pow(M,V)),F=F.j(V).add(d(P))):(F=F.j(R),F=F.add(d(P)))}return F}var E=p(0),T=p(1),A=p(16777216);t=u.prototype,t.m=function(){if(O(this))return-L(this).m();let N=0,M=1;for(let R=0;R<this.g.length;R++){const F=this.i(R);N+=(F>=0?F:4294967296+F)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(O(this))return"-"+L(this).toString(N);const M=d(Math.pow(N,6));var R=this;let F="";for(;;){const V=le(R,M).g;R=z(R,V.j(M));let B=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=V,D(R))return B+F;for(;B.length<6;)B="0"+B;F=B+F}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function O(N){return N.h==-1}t.l=function(N){return N=z(this,N),O(N)?-1:D(N)?0:1};function L(N){const M=N.g.length,R=[];for(let F=0;F<M;F++)R[F]=~N.g[F];return new u(R,~N.h).add(T)}t.abs=function(){return O(this)?L(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),R=[];let F=0;for(let V=0;V<=M;V++){let B=F+(this.i(V)&65535)+(N.i(V)&65535),P=(B>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);F=P>>>16,B&=65535,P&=65535,R[V]=P<<16|B}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(N,M){return N.add(L(M))}t.j=function(N){if(D(this)||D(N))return E;if(O(this))return O(N)?L(this).j(L(N)):L(L(this).j(N));if(O(N))return L(this.j(L(N)));if(this.l(A)<0&&N.l(A)<0)return d(this.m()*N.m());const M=this.g.length+N.g.length,R=[];for(var F=0;F<2*M;F++)R[F]=0;for(F=0;F<this.g.length;F++)for(let V=0;V<N.g.length;V++){const B=this.i(F)>>>16,P=this.i(F)&65535,ye=N.i(V)>>>16,me=N.i(V)&65535;R[2*F+2*V]+=P*me,Q(R,2*F+2*V),R[2*F+2*V+1]+=B*me,Q(R,2*F+2*V+1),R[2*F+2*V+1]+=P*ye,Q(R,2*F+2*V+1),R[2*F+2*V+2]+=B*ye,Q(R,2*F+2*V+2)}for(N=0;N<M;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=M;N<2*M;N++)R[N]=0;return new u(R,0)};function Q(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function Y(N,M){this.g=N,this.h=M}function le(N,M){if(D(M))throw Error("division by zero");if(D(N))return new Y(E,E);if(O(N))return M=le(L(N),M),new Y(L(M.g),L(M.h));if(O(M))return M=le(N,L(M)),new Y(L(M.g),M.h);if(N.g.length>30){if(O(N)||O(M))throw Error("slowDivide_ only works with positive integers.");for(var R=T,F=M;F.l(N)<=0;)R=pe(R),F=pe(F);var V=$(R,1),B=$(F,1);for(F=$(F,2),R=$(R,2);!D(F);){var P=B.add(F);P.l(N)<=0&&(V=V.add(R),B=P),F=$(F,1),R=$(R,1)}return M=z(N,V.j(M)),new Y(V,M)}for(V=E;N.l(M)>=0;){for(R=Math.max(1,Math.floor(N.m()/M.m())),F=Math.ceil(Math.log(R)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),B=d(R),P=B.j(M);O(P)||P.l(N)>0;)R-=F,B=d(R),P=B.j(M);D(B)&&(B=T),V=V.add(B),N=z(N,P)}return new Y(V,N)}t.B=function(N){return le(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),R=[];for(let F=0;F<M;F++)R[F]=this.i(F)&N.i(F);return new u(R,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),R=[];for(let F=0;F<M;F++)R[F]=this.i(F)|N.i(F);return new u(R,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),R=[];for(let F=0;F<M;F++)R[F]=this.i(F)^N.i(F);return new u(R,this.h^N.h)};function pe(N){const M=N.g.length+1,R=[];for(let F=0;F<M;F++)R[F]=N.i(F)<<1|N.i(F-1)>>>31;return new u(R,N.h)}function $(N,M){const R=M>>5;M%=32;const F=N.g.length-R,V=[];for(let B=0;B<F;B++)V[B]=M>0?N.i(B+R)>>>M|N.i(B+R+1)<<32-M:N.i(B+R);return new u(V,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,aC=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,Vo=u}).apply(typeof AS<"u"?AS:typeof self<"u"?self:typeof window<"u"?window:{});var vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uC,au,cC,If,Om,fC,dC,hC;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof vf=="object"&&vf];for(var S=0;S<g.length;++S){var w=g[S];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(g,S){if(S)e:{var w=i;g=g.split(".");for(var I=0;I<g.length-1;I++){var j=g[I];if(!(j in w))break e;w=w[j]}g=g[g.length-1],I=w[g],S=S(I),S!=I&&S!=null&&e(w,g,{configurable:!0,writable:!0,value:S})}}o("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(g){return g||function(S){var w=[],I;for(I in S)Object.prototype.hasOwnProperty.call(S,I)&&w.push([I,S[I]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,w){return g.call.apply(g.bind,arguments)}function d(g,S,w){return d=p,d.apply(null,arguments)}function y(g,S){var w=Array.prototype.slice.call(arguments,1);return function(){var I=w.slice();return I.push.apply(I,arguments),g.apply(this,I)}}function E(g,S){function w(){}w.prototype=S.prototype,g.Z=S.prototype,g.prototype=new w,g.prototype.constructor=g,g.Ob=function(I,j,te){for(var Ee=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)Ee[Be-2]=arguments[Be];return S.prototype[j].apply(I,Ee)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function A(g){const S=g.length;if(S>0){const w=Array(S);for(let I=0;I<S;I++)w[I]=g[I];return w}return[]}function D(g,S){for(let I=1;I<arguments.length;I++){const j=arguments[I];var w=typeof j;if(w=w!="object"?w:j?Array.isArray(j)?"array":w:"null",w=="array"||w=="object"&&typeof j.length=="number"){w=g.length||0;const te=j.length||0;g.length=w+te;for(let Ee=0;Ee<te;Ee++)g[w+Ee]=j[Ee]}else g.push(j)}}class O{constructor(S,w){this.i=S,this.j=w,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function L(g){u.setTimeout(()=>{throw g},0)}function z(){var g=N;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class Q{constructor(){this.h=this.g=null}add(S,w){const I=Y.get();I.set(S,w),this.h?this.h.next=I:this.g=I,this.h=I}}var Y=new O(()=>new le,g=>g.reset());class le{constructor(){this.next=this.g=this.h=null}set(S,w){this.h=S,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,$=!1,N=new Q,M=()=>{const g=Promise.resolve(void 0);pe=()=>{g.then(R)}};function R(){for(var g;g=z();){try{g.h.call(g.g)}catch(w){L(w)}var S=Y;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}$=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const w=()=>{};u.addEventListener("test",w,S),u.removeEventListener("test",w,S)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function ye(g,S){V.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}E(ye,V),ye.prototype.init=function(g,S){const w=this.type=g.type,I=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(w=="mouseover"?S=g.fromElement:w=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),X=0;function K(g,S,w,I,j){this.listener=g,this.proxy=null,this.src=S,this.type=w,this.capture=!!I,this.ha=j,this.key=++X,this.da=this.fa=!1}function he(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ae(g,S,w){for(const I in g)S.call(w,g[I],I,g)}function U(g,S){for(const w in g)S.call(void 0,g[w],w,g)}function H(g){const S={};for(const w in g)S[w]=g[w];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(g,S){let w,I;for(let j=1;j<arguments.length;j++){I=arguments[j];for(w in I)g[w]=I[w];for(let te=0;te<ie.length;te++)w=ie[te],Object.prototype.hasOwnProperty.call(I,w)&&(g[w]=I[w])}}function _e(g){this.src=g,this.g={},this.h=0}_e.prototype.add=function(g,S,w,I,j){const te=g.toString();g=this.g[te],g||(g=this.g[te]=[],this.h++);const Ee=Ce(g,S,I,j);return Ee>-1?(S=g[Ee],w||(S.fa=!1)):(S=new K(S,this.src,te,!!I,j),S.fa=w,g.push(S)),S};function be(g,S){const w=S.type;if(w in g.g){var I=g.g[w],j=Array.prototype.indexOf.call(I,S,void 0),te;(te=j>=0)&&Array.prototype.splice.call(I,j,1),te&&(he(S),g.g[w].length==0&&(delete g.g[w],g.h--))}}function Ce(g,S,w,I){for(let j=0;j<g.length;++j){const te=g[j];if(!te.da&&te.listener==S&&te.capture==!!w&&te.ha==I)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),ut={};function ot(g,S,w,I,j){if(Array.isArray(S)){for(let te=0;te<S.length;te++)ot(g,S[te],w,I,j);return null}return w=ki(w),g&&g[me]?g.J(S,w,f(I)?!!I.capture:!1,j):rn(g,S,w,!1,I,j)}function rn(g,S,w,I,j,te){if(!S)throw Error("Invalid event type");const Ee=f(j)?!!j.capture:!!j;let Be=Un(g);if(Be||(g[Ue]=Be=new _e(g)),w=Be.add(S,w,I,Ee,te),w.proxy)return w;if(I=An(),w.proxy=I,I.src=g,I.listener=w,g.addEventListener)B||(j=Ee),j===void 0&&(j=!1),g.addEventListener(S.toString(),I,j);else if(g.attachEvent)g.attachEvent(Vn(S.toString()),I);else if(g.addListener&&g.removeListener)g.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return w}function An(){function g(w){return S.call(g.src,g.listener,w)}const S=Ln;return g}function ji(g,S,w,I,j){if(Array.isArray(S))for(var te=0;te<S.length;te++)ji(g,S[te],w,I,j);else I=f(I)?!!I.capture:!!I,w=ki(w),g&&g[me]?(g=g.i,te=String(S).toString(),te in g.g&&(S=g.g[te],w=Ce(S,w,I,j),w>-1&&(he(S[w]),Array.prototype.splice.call(S,w,1),S.length==0&&(delete g.g[te],g.h--)))):g&&(g=Un(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Ce(S,w,I,j)),(w=g>-1?S[g]:null)&&di(w))}function di(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[me])be(S.i,g);else{var w=g.type,I=g.proxy;S.removeEventListener?S.removeEventListener(w,I,g.capture):S.detachEvent?S.detachEvent(Vn(w),I):S.addListener&&S.removeListener&&S.removeListener(I),(w=Un(S))?(be(w,g),w.h==0&&(w.src=null,S[Ue]=null)):he(g)}}}function Vn(g){return g in ut?ut[g]:ut[g]="on"+g}function Ln(g,S){if(g.da)g=!0;else{S=new ye(S,this);const w=g.listener,I=g.ha||g.src;g.fa&&di(g),g=w.call(I,S)}return g}function Un(g){return g=g[Ue],g instanceof _e?g:null}var jn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ki(g){return typeof g=="function"?g:(g[jn]||(g[jn]=function(S){return g.handleEvent(S)}),g[jn])}function Je(){F.call(this),this.i=new _e(this),this.M=this,this.G=null}E(Je,F),Je.prototype[me]=!0,Je.prototype.removeEventListener=function(g,S,w,I){ji(this,g,S,w,I)};function ht(g,S){var w,I=g.G;if(I)for(w=[];I;I=I.G)w.push(I);if(g=g.M,I=S.type||S,typeof S=="string")S=new V(S,g);else if(S instanceof V)S.target=S.target||g;else{var j=S;S=new V(I,g),k(S,j)}j=!0;let te,Ee;if(w)for(Ee=w.length-1;Ee>=0;Ee--)te=S.g=w[Ee],j=Wn(te,I,!0,S)&&j;if(te=S.g=g,j=Wn(te,I,!0,S)&&j,j=Wn(te,I,!1,S)&&j,w)for(Ee=0;Ee<w.length;Ee++)te=S.g=w[Ee],j=Wn(te,I,!1,S)&&j}Je.prototype.N=function(){if(Je.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const w=g.g[S];for(let I=0;I<w.length;I++)he(w[I]);delete g.g[S],g.h--}}this.G=null},Je.prototype.J=function(g,S,w,I){return this.i.add(String(g),S,!1,w,I)},Je.prototype.K=function(g,S,w,I){return this.i.add(String(g),S,!0,w,I)};function Wn(g,S,w,I){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let j=!0;for(let te=0;te<S.length;++te){const Ee=S[te];if(Ee&&!Ee.da&&Ee.capture==w){const Be=Ee.listener,zt=Ee.ha||Ee.src;Ee.fa&&be(g.i,Ee),j=Be.call(zt,I)!==!1&&j}}return j&&!I.defaultPrevented}function Qo(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function pn(g){g.g=Qo(()=>{g.g=null,g.i&&(g.i=!1,pn(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class Vt extends F{constructor(S,w){super(),this.m=S,this.l=w,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:pn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(g){F.call(this),this.h=g,this.g={}}E(Pi,F);var re=[];function ve(g){ae(g.g,function(S,w){this.g.hasOwnProperty(w)&&di(S)},g),g.g={}}Pi.prototype.N=function(){Pi.Z.N.call(this),ve(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ie=u.JSON.stringify,He=u.JSON.parse,et=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function Gt(){}function On(){}var Dt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){V.call(this,"d")}E(wt,V);function Yt(){V.call(this,"c")}E(Yt,V);var $e={},Zn=null;function an(){return Zn=Zn||new Je}$e.Ia="serverreachability";function Ds(g){V.call(this,$e.Ia,g)}E(Ds,V);function hi(g){const S=an();ht(S,new Ds(S))}$e.STAT_EVENT="statevent";function Vi(g,S){V.call(this,$e.STAT_EVENT,g),this.stat=S}E(Vi,V);function Lt(g){const S=an();ht(S,new Vi(S,g))}$e.Ja="timingevent";function pi(g,S){V.call(this,$e.Ja,g),this.size=S}E(pi,V);function mi(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function ks(g,S,w,I,j,te){g.info(function(){if(g.g)if(te){var Ee="",Be=te.split("&");for(let ct=0;ct<Be.length;ct++){var zt=Be[ct].split("=");if(zt.length>1){const Nt=zt[0];zt=zt[1];const _i=Nt.split("_");Ee=_i.length>=2&&_i[1]=="type"?Ee+(Nt+"="+zt+"&"):Ee+(Nt+"=redacted&")}}}else Ee=null;else Ee=te;return"XMLHTTP REQ ("+I+") [attempt "+j+"]: "+S+`
`+w+`
`+Ee})}function fe(g,S,w,I,j,te,Ee){g.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+j+"]: "+S+`
`+w+`
`+te+" "+Ee})}function ze(g,S,w,I){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+Wr(g,w)+(I?" "+I:"")})}function Ut(g,S){g.info(function(){return"TIMEOUT: "+S})}Nn.prototype.info=function(){};function Wr(g,S){if(!g.g)return S;if(!S)return null;try{const te=JSON.parse(S);if(te){for(g=0;g<te.length;g++)if(Array.isArray(te[g])){var w=te[g];if(!(w.length<2)){var I=w[1];if(Array.isArray(I)&&!(I.length<1)){var j=I[0];if(j!="noop"&&j!="stop"&&j!="close")for(let Ee=1;Ee<I.length;Ee++)I[Ee]=""}}}}return Ie(te)}catch{return S}}var xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ta;function Xo(){}E(Xo,Gt),Xo.prototype.g=function(){return new XMLHttpRequest},ta=new Xo;function wr(g){return encodeURIComponent(String(g))}function zu(g){var S=1;g=g.split(":");const w=[];for(;S>0&&g.length;)w.push(g.shift()),S--;return g.length&&w.push(g.join(":")),w}function Li(g,S,w,I){this.j=g,this.i=S,this.l=w,this.S=I||1,this.V=new Pi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Jt={},un={};function Wi(g,S,w){g.M=1,g.A=jo(Kt(S)),g.u=w,g.R=!0,Ps(g,null)}function Ps(g,S){g.F=Date.now(),Zi(g),g.B=Kt(g.A);var w=g.B,I=g.S;Array.isArray(I)||(I=[String(I)]),Os(w.i,"t",I),g.C=0,w=g.j.L,g.h=new Ui,g.g=tc(g.j,w?S:null,!g.u),g.P>0&&(g.O=new Vt(d(g.Y,g,g.g),g.P)),S=g.V,w=g.g,I=g.ba;var j="readystatechange";Array.isArray(j)||(j&&(re[0]=j.toString()),j=re);for(let te=0;te<j.length;te++){const Ee=ot(w,j[te],I||S.handleEvent,!1,S.h||S);if(!Ee)break;S.g[Ee.key]=Ee}S=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),hi(),ks(g.i,g.v,g.B,g.l,g.S,g.u)}Li.prototype.ba=function(g){g=g.target;const S=this.O;S&&zi(g)==3?S.j():this.Y(g)},Li.prototype.Y=function(g){try{if(g==this.g)e:{const Be=zi(this.g),zt=this.g.ya(),ct=this.g.ca();if(!(Be<3)&&(Be!=3||this.g&&(this.h.h||this.g.la()||mn(this.g)))){this.K||Be!=4||zt==7||(zt==8||ct<=0?hi(3):hi(2)),er(this);var S=this.g.ca();this.X=S;var w=kd(this);if(this.o=S==200,fe(this.i,this.v,this.B,this.l,this.S,Be,S),this.o){if(this.U&&!this.L){t:{if(this.g){var I,j=this.g;if((I=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var te=I;break t}}te=null}if(g=te)ze(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tr(this,g);else{this.o=!1,this.m=3,Lt(12),ei(this),gi(this);break e}}if(this.R){g=!0;let Nt;for(;!this.K&&this.C<w.length;)if(Nt=qu(this,w),Nt==un){Be==4&&(this.m=4,Lt(14),g=!1),ze(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==Jt){this.m=4,Lt(15),ze(this.i,this.l,w,"[Invalid Chunk]"),g=!1;break}else ze(this.i,this.l,Nt,null),tr(this,Nt);if(Bu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Be!=4||w.length!=0||this.h.h||(this.m=1,Lt(16),g=!1),this.o=this.o&&g,!g)ze(this.i,this.l,w,"[Invalid Chunked Response]"),ei(this),gi(this);else if(w.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ga(Ee),Ee.P=!0,Lt(11))}}else ze(this.i,this.l,w,null),tr(this,w);Be==4&&ei(this),this.o&&!this.K&&(Be==4?ju(this.j,this):(this.o=!1,Zi(this)))}else Ir(this.g),S==400&&w.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),ei(this),gi(this)}}}catch{}finally{}};function kd(g){if(!Bu(g))return g.g.la();const S=mn(g.g);if(S==="")return"";let w="";const I=S.length,j=zi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ei(g),gi(g),"";g.h.i=new u.TextDecoder}for(let te=0;te<I;te++)g.h.h=!0,w+=g.h.i.decode(S[te],{stream:!(j&&te==I-1)});return S.length=0,g.h.g+=w,g.C=0,g.h.g}function Bu(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function qu(g,S){var w=g.C,I=S.indexOf(`
`,w);return I==-1?un:(w=Number(S.substring(w,I)),isNaN(w)?Jt:(I+=1,I+w>S.length?un:(S=S.slice(I,I+w),g.C=I+w,S)))}Li.prototype.cancel=function(){this.K=!0,ei(this)};function Zi(g){g.T=Date.now()+g.H,Vs(g,g.H)}function Vs(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=mi(d(g.aa,g),S)}function er(g){g.D&&(u.clearTimeout(g.D),g.D=null)}Li.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ut(this.i,this.B),this.M!=2&&(hi(),Lt(17)),ei(this),this.m=2,gi(this)):Vs(this,this.T-g)};function gi(g){g.j.I==0||g.K||ju(g.j,g)}function ei(g){er(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,ve(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function tr(g,S){try{var w=g.j;if(w.I!=0&&(w.g==g||ir(w.h,g))){if(!g.L&&ir(w.h,g)&&w.I==3){try{var I=w.Ba.g.parse(S)}catch{I=null}if(Array.isArray(I)&&I.length==3){var j=I;if(j[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<g.F)Hs(w),so(w);else break e;rs(w),Lt(18)}}else w.xa=j[1],0<w.xa-w.K&&j[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=mi(d(w.Va,w),6e3));nr(w.h)<=1&&w.ta&&(w.ta=void 0)}else ur(w,11)}else if((g.L||w.g==g)&&Hs(w),!P(S))for(j=w.Ba.g.parse(S),S=0;S<j.length;S++){let ct=j[S];const Nt=ct[0];if(!(Nt<=w.K))if(w.K=Nt,ct=ct[1],w.I==2)if(ct[0]=="c"){w.M=ct[1],w.ba=ct[2];const _i=ct[3];_i!=null&&(w.ka=_i,w.j.info("VER="+w.ka));const cr=ct[4];cr!=null&&(w.za=cr,w.j.info("SVER="+w.za));const Bi=ct[5];Bi!=null&&typeof Bi=="number"&&Bi>0&&(I=1.5*Bi,w.O=I,w.j.info("backChannelRequestTimeoutMs_="+I)),I=w;const qi=g.g;if(qi){const os=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var te=I.h;te.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(ra(te,te.h),te.h=null))}if(I.G){const Gs=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(I.wa=Gs,mt(I.J,I.G,Gs))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-g.F,w.j.info("Handshake RTT: "+w.T+"ms")),I=w;var Ee=g;if(I.na=ec(I,I.L?I.ba:null,I.W),Ee.L){oa(I.h,Ee);var Be=Ee,zt=I.O;zt&&(Be.H=zt),Be.D&&(er(Be),Zi(Be)),I.g=Ee}else Qu(I);w.i.length>0&&ar(w)}else ct[0]!="stop"&&ct[0]!="close"||ur(w,7);else w.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ur(w,7):pa(w):ct[0]!="noop"&&w.l&&w.l.qa(ct),w.A=0)}}hi(4)}catch{}}var $t=class{constructor(g,S){this.g=g,this.map=S}};function na(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ia(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function nr(g){return g.h?1:g.g?g.g.size:0}function ir(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function ra(g,S){g.g?g.g.add(S):g.h=S}function oa(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}na.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function sa(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const w of g.g.values())S=S.concat(w.G);return S}return A(g.i)}var Hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ls(g,S){if(g){g=g.split("&");for(let w=0;w<g.length;w++){const I=g[w].indexOf("=");let j,te=null;I>=0?(j=g[w].substring(0,I),te=g[w].substring(I+1)):j=g[w],S(j,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ti(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof ti?(this.l=g.l,cn(this,g.j),this.o=g.o,this.g=g.g,Zr(this,g.u),this.h=g.h,la(this,$u(g.i)),this.m=g.m):g&&(S=String(g).match(Hu))?(this.l=!1,cn(this,S[1]||"",!0),this.o=rr(S[2]||""),this.g=rr(S[3]||"",!0),Zr(this,S[4]),this.h=rr(S[5]||"",!0),la(this,S[6]||"",!0),this.m=rr(S[7]||"")):(this.l=!1,this.i=new to(null,this.l))}ti.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Wo(S,Us,!0),":");var w=this.g;return(w||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Wo(S,Us,!0),"@"),g.push(wr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&g.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&g.push("/"),g.push(Wo(w,w.charAt(0)=="/"?aa:Gu,!0))),(w=this.i.toString())&&g.push("?",w),(w=this.m)&&g.push("#",Wo(w,Yu)),g.join("")},ti.prototype.resolve=function(g){const S=Kt(this);let w=!!g.j;w?cn(S,g.j):w=!!g.o,w?S.o=g.o:w=!!g.g,w?S.g=g.g:w=g.u!=null;var I=g.h;if(w)Zr(S,g.u);else if(w=!!g.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var j=S.h.lastIndexOf("/");j!=-1&&(I=S.h.slice(0,j+1)+I)}if(j=I,j==".."||j==".")I="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){I=j.lastIndexOf("/",0)==0,j=j.split("/");const te=[];for(let Ee=0;Ee<j.length;){const Be=j[Ee++];Be=="."?I&&Ee==j.length&&te.push(""):Be==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),I&&Ee==j.length&&te.push("")):(te.push(Be),I=!0)}I=te.join("/")}else I=j}return w?S.h=I:w=g.i.toString()!=="",w?la(S,$u(g.i)):w=!!g.m,w&&(S.m=g.m),S};function Kt(g){return new ti(g)}function cn(g,S,w){g.j=w?rr(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function Zr(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function la(g,S,w){S instanceof to?(g.i=S,Fs(g.i,g.l)):(w||(S=Wo(S,eo)),g.i=new to(S,g.l))}function mt(g,S,w){g.i.set(S,w)}function jo(g){return mt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function rr(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Wo(g,S,w){return typeof g=="string"?(g=encodeURI(g).replace(S,Fn),w&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Fn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Us=/[#\/\?@]/g,Gu=/[#\?:]/g,aa=/[#\?]/g,eo=/[#\?@]/g,Yu=/#/g;function to(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function zn(g){g.g||(g.g=new Map,g.h=0,g.i&&Ls(g.i,function(S,w){g.add(decodeURIComponent(S.replace(/\+/g," ")),w)}))}t=to.prototype,t.add=function(g,S){zn(this),this.i=null,g=no(this,g);let w=this.g.get(g);return w||this.g.set(g,w=[]),w.push(S),this.h+=1,this};function Ju(g,S){zn(g),S=no(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function ua(g,S){return zn(g),S=no(g,S),g.g.has(S)}t.forEach=function(g,S){zn(this),this.g.forEach(function(w,I){w.forEach(function(j){g.call(S,j,I,this)},this)},this)};function ca(g,S){zn(g);let w=[];if(typeof S=="string")ua(g,S)&&(w=w.concat(g.g.get(no(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)w=w.concat(g[S]);return w}t.set=function(g,S){return zn(this),this.i=null,g=no(this,g),ua(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=ca(this,g),g.length>0?String(g[0]):S):S};function Os(g,S,w){Ju(g,S),w.length>0&&(g.i=null,g.g.set(no(g,S),A(w)),g.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let I=0;I<S.length;I++){var w=S[I];const j=wr(w);w=ca(this,w);for(let te=0;te<w.length;te++){let Ee=j;w[te]!==""&&(Ee+="="+wr(w[te])),g.push(Ee)}}return this.i=g.join("&")};function $u(g){const S=new to;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function no(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Fs(g,S){S&&!g.j&&(zn(g),g.i=null,g.g.forEach(function(w,I){const j=I.toLowerCase();I!=j&&(Ju(this,I),Os(this,j,w))},g)),g.j=S}function Oi(g,S){const w=new Nn;if(u.Image){const I=new Image;I.onload=y(yi,w,"TestLoadImage: loaded",!0,S,I),I.onerror=y(yi,w,"TestLoadImage: error",!1,S,I),I.onabort=y(yi,w,"TestLoadImage: abort",!1,S,I),I.ontimeout=y(yi,w,"TestLoadImage: timeout",!1,S,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=g}else S(!1)}function fa(g,S){const w=new Nn,I=new AbortController,j=setTimeout(()=>{I.abort(),yi(w,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:I.signal}).then(te=>{clearTimeout(j),te.ok?yi(w,"TestPingServer: ok",!0,S):yi(w,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(j),yi(w,"TestPingServer: error",!1,S)})}function yi(g,S,w,I,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),I(w)}catch{}}function io(){this.g=new et}function or(g){this.i=g.Sb||null,this.h=g.ab||!1}E(or,Gt),or.prototype.g=function(){return new Zo(this.i,this.h)};function Zo(g,S){Je.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Zo,Je),t=Zo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,Fi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zs(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function zs(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?ro(this):Fi(this),this.readyState==3&&zs(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ro(this))},t.Na=function(g){this.g&&(this.response=g,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Fi(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var w=S.next();!w.done;)w=w.value,g.push(w[0]+": "+w[1]),w=S.next();return g.join(`\r
`)};function Fi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function vi(g){let S="";return ae(g,function(w,I){S+=I,S+=":",S+=w,S+=`\r
`}),S}function es(g,S,w){e:{for(I in w){var I=!1;break e}I=!0}I||(w=vi(w),typeof g=="string"?w!=null&&wr(w):mt(g,S,w))}function vt(g){Je.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(vt,Je);var sr=/^https?$/i,da=["POST","PUT"];t=vt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,w,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ta.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(te){ts(this,te);return}if(g=w||"",w=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var j in I)w.set(j,I[j]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const te of I.keys())w.set(te,I.get(te));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(w.keys()).find(te=>te.toLowerCase()=="content-type"),j=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(da,S,void 0)>=0)||I||j||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,Ee]of w)this.g.setRequestHeader(te,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(te){ts(this,te)}};function ts(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,ha(g),br(g)}function ha(g){g.A||(g.A=!0,ht(g,"complete"),ht(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ht(this,"complete"),ht(this,"abort"),br(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),br(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ns(this):this.Xa())},t.Xa=function(){ns(this)};function ns(g){if(g.h&&typeof l<"u"){if(g.v&&zi(g)==4)setTimeout(g.Ca.bind(g),0);else if(ht(g,"readystatechange"),zi(g)==4){g.h=!1;try{const te=g.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var w;if(!(w=S)){var I;if(I=te===0){let Ee=String(g.D).match(Hu)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),I=!sr.test(Ee?Ee.toLowerCase():"")}w=I}if(w)ht(g,"complete"),ht(g,"success");else{g.o=6;try{var j=zi(g)>2?g.g.statusText:""}catch{j=""}g.l=j+" ["+g.ca()+"]",ha(g)}}finally{br(g)}}}}function br(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const w=g.g;g.g=null,S||ht(g,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function zi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),He(S)}};function mn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ir(g){const S={};g=(g.g&&zi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<g.length;I++){if(P(g[I]))continue;var w=zu(g[I]);const j=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const te=S[j]||[];S[j]=te,te.push(w)}U(S,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(g,S,w){return w&&w.internalChannelParams&&w.internalChannelParams[g]||S}function oo(g){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=lr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=lr("baseRetryDelayMs",5e3,g),this.Za=lr("retryDelaySeedMs",1e4,g),this.Ta=lr("forwardChannelMaxRetries",2,g),this.va=lr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new na(g&&g.concurrentRequestLimit),this.Ba=new io,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=oo.prototype,t.ka=8,t.I=1,t.connect=function(g,S,w,I){Lt(0),this.W=g,this.H=S||{},w&&I!==void 0&&(this.H.OSID=w,this.H.OAID=I),this.F=this.X,this.J=ec(this,null,this.W),ar(this)};function pa(g){if(Bs(g),g.I==3){var S=g.V++,w=Kt(g.J);if(mt(w,"SID",g.M),mt(w,"RID",S),mt(w,"TYPE","terminate"),is(g,w),S=new Li(g,g.j,S),S.M=2,S.A=jo(Kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=S.A,w=!0),w||(S.g=tc(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Zi(S)}Zu(g)}function so(g){g.g&&(ga(g),g.g.cancel(),g.g=null)}function Bs(g){so(g),g.v&&(u.clearTimeout(g.v),g.v=null),Hs(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function ar(g){if(!ia(g.h)&&!g.m){g.m=!0;var S=g.Ea;pe||M(),$||(pe(),$=!0),N.add(S,g),g.D=0}}function qs(g,S){return nr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=mi(d(g.Ea,g,S),Wu(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const j=new Li(this,this.j,g);let te=this.o;if(this.U&&(te?(te=H(te),k(te,this.U)):te=this.U),this.u!==null||this.R||(j.J=te,te=null),this.S)e:{for(var S=0,w=0;w<this.i.length;w++){t:{var I=this.i[w];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(S+=I,S>4096){S=w;break e}if(S===4096||w===this.i.length-1){S=w+1;break e}}S=1e3}else S=1e3;S=Ku(this,j,S),w=Kt(this.J),mt(w,"RID",g),mt(w,"CVER",22),this.G&&mt(w,"X-HTTP-Session-Id",this.G),is(this,w),te&&(this.R?S="headers="+wr(vi(te))+"&"+S:this.u&&es(w,this.u,te)),ra(this.h,j),this.Ra&&mt(w,"TYPE","init"),this.S?(mt(w,"$req",S),mt(w,"SID","null"),j.U=!0,Wi(j,w,null)):Wi(j,w,S),this.I=2}}else this.I==3&&(g?ma(this,g):this.i.length==0||ia(this.h)||ma(this))};function ma(g,S){var w;S?w=S.l:w=g.V++;const I=Kt(g.J);mt(I,"SID",g.M),mt(I,"RID",w),mt(I,"AID",g.K),is(g,I),g.u&&g.o&&es(I,g.u,g.o),w=new Li(g,g.j,w,g.D+1),g.u===null&&(w.J=g.o),S&&(g.i=S.G.concat(g.i)),S=Ku(g,w,1e3),w.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ra(g.h,w),Wi(w,I,S)}function is(g,S){g.H&&ae(g.H,function(w,I){mt(S,I,w)}),g.l&&ae({},function(w,I){mt(S,I,w)})}function Ku(g,S,w){w=Math.min(g.i.length,w);const I=g.l?d(g.l.Ka,g.l,g):null;e:{var j=g.i;let Be=-1;for(;;){const zt=["count="+w];Be==-1?w>0?(Be=j[0].g,zt.push("ofs="+Be)):Be=0:zt.push("ofs="+Be);let ct=!0;for(let Nt=0;Nt<w;Nt++){var te=j[Nt].g;const _i=j[Nt].map;if(te-=Be,te<0)Be=Math.max(0,j[Nt].g-100),ct=!1;else try{te="req"+te+"_"||"";try{var Ee=_i instanceof Map?_i:Object.entries(_i);for(const[cr,Bi]of Ee){let qi=Bi;f(Bi)&&(qi=Ie(Bi)),zt.push(te+cr+"="+encodeURIComponent(qi))}}catch(cr){throw zt.push(te+"type="+encodeURIComponent("_badmap")),cr}}catch{I&&I(_i)}}if(ct){Ee=zt.join("&");break e}}Ee=void 0}return g=g.i.splice(0,w),S.G=g,Ee}function Qu(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;pe||M(),$||(pe(),$=!0),N.add(S,g),g.A=0}}function rs(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=mi(d(g.Da,g),Wu(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Xu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=mi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),so(this),Xu(this))};function ga(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function Xu(g){g.g=new Li(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Kt(g.na);mt(S,"RID","rpc"),mt(S,"SID",g.M),mt(S,"AID",g.K),mt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&mt(S,"TO",g.ia),mt(S,"TYPE","xmlhttp"),is(g,S),g.u&&g.o&&es(S,g.u,g.o),g.O&&(g.g.H=g.O);var w=g.g;g=g.ba,w.M=1,w.A=jo(Kt(S)),w.u=null,w.R=!0,Ps(w,g)}t.Va=function(){this.C!=null&&(this.C=null,so(this),rs(this),Lt(19))};function Hs(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function ju(g,S){var w=null;if(g.g==S){Hs(g),ga(g),g.g=null;var I=2}else if(ir(g.h,S))w=S.G,oa(g.h,S),I=1;else return;if(g.I!=0){if(S.o)if(I==1){w=S.u?S.u.length:0,S=Date.now()-S.F;var j=g.D;I=an(),ht(I,new pi(I,w)),ar(g)}else Qu(g);else if(j=S.m,j==3||j==0&&S.X>0||!(I==1&&qs(g,S)||I==2&&rs(g)))switch(w&&w.length>0&&(S=g.h,S.i=S.i.concat(w)),j){case 1:ur(g,5);break;case 4:ur(g,10);break;case 3:ur(g,6);break;default:ur(g,2)}}}function Wu(g,S){let w=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(w*=2),w*S}function ur(g,S){if(g.j.info("Error code "+S),S==2){var w=d(g.bb,g),I=g.Ua;const j=!I;I=new ti(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(I,"https"),jo(I),j?Oi(I.toString(),w):fa(I.toString(),w)}else Lt(2);g.I=0,g.l&&g.l.pa(S),Zu(g),Bs(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function Zu(g){if(g.I=0,g.ja=[],g.l){const S=sa(g.h);(S.length!=0||g.i.length!=0)&&(D(g.ja,S),D(g.ja,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.oa()}}function ec(g,S,w){var I=w instanceof ti?Kt(w):new ti(w);if(I.g!="")S&&(I.g=S+"."+I.g),Zr(I,I.u);else{var j=u.location;I=j.protocol,S=S?S+"."+j.hostname:j.hostname,j=+j.port;const te=new ti(null);I&&cn(te,I),S&&(te.g=S),j&&Zr(te,j),w&&(te.h=w),I=te}return w=g.G,S=g.wa,w&&S&&mt(I,w,S),mt(I,"VER",g.ka),is(g,I),I}function tc(g,S,w){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new vt(new or({ab:w})):new vt(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}t=nc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function lo(){}lo.prototype.g=function(g,S){return new Mn(g,S)};function Mn(g,S){Je.call(this),this.g=new oo(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!P(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!P(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Rr(this)}E(Mn,Je),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){pa(this.g)},Mn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var w={};w.__data__=g,g=w}else this.v&&(w={},w.__data__=Ie(g),g=w);S.i.push(new $t(S.Ya++,g)),S.I==3&&ar(S)},Mn.prototype.N=function(){this.g.l=null,delete this.j,pa(this.g),delete this.g,Mn.Z.N.call(this)};function ic(g){wt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const w in S){g=w;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(ic,wt);function rc(){Yt.call(this),this.status=1}E(rc,Yt);function Rr(g){this.g=g}E(Rr,nc),Rr.prototype.ra=function(){ht(this.g,"a")},Rr.prototype.qa=function(g){ht(this.g,new ic(g))},Rr.prototype.pa=function(g){ht(this.g,new rc)},Rr.prototype.oa=function(){ht(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,hC=function(){return new lo},dC=function(){return an()},fC=$e,Om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xr.NO_ERROR=0,xr.TIMEOUT=8,xr.HTTP_ERROR=6,If=xr,Cr.COMPLETE="complete",cC=Cr,On.EventType=Dt,Dt.OPEN="a",Dt.CLOSE="b",Dt.ERROR="c",Dt.MESSAGE="d",Je.prototype.listen=Je.prototype.J,au=On,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,uC=vt}).apply(typeof vf<"u"?vf:typeof self<"u"?self:typeof window<"u"?window:{});const xS="@firebase/firestore",CS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new nC("@firebase/firestore");function xl(){return xs.logLevel}function Ae(t,...e){if(xs.logLevel<=it.DEBUG){const n=e.map(Mg);xs.debug(`Firestore (${Xl}): ${t}`,...n)}}function Kr(t,...e){if(xs.logLevel<=it.ERROR){const n=e.map(Mg);xs.error(`Firestore (${Xl}): ${t}`,...n)}}function Ol(t,...e){if(xs.logLevel<=it.WARN){const n=e.map(Mg);xs.warn(`Firestore (${Xl}): ${t}`,...n)}}function Mg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,pC(t,i,n)}function pC(t,e,n){let i=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Kr(i),new Error(i)}function pt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||pC(e,o,i)}function Fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Ql{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class e5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class t5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class n5{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new Lo;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lo,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lo)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new mC(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class i5{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class r5{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new i5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o5{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,U6(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=s5(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function We(t,e){return t<e?-1:t>e?1:0}function Fm(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return em(o)===em(l)?We(o,l):em(o)?1:-1}return We(t.length,e.length)}const l5=55296,a5=57343;function em(t){const e=t.charCodeAt(0);return e>=l5&&e<=a5}function Fl(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="__name__";class gr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=gr.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const i=gr.isNumericId(e),o=gr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?gr.extractNumericId(e).compare(gr.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Vo.fromString(e.substring(4,e.length-2))}}class xt extends gr{construct(e,n,i){return new xt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const u5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends gr{construct(e,n,i){return new Tn(e,n,i)}static isValidIdentifier(e){return u5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bS}static keyField(){return new Tn([bS])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Se(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new Se(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(n)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(xt.fromString(e))}static fromName(e){return new Ne(xt.fromString(e).popFirst(5))}static empty(){return new Ne(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e,n){if(!n)throw new Se(ce.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function c5(t,e,n,i){if(e===!0&&i===!0)throw new Se(ce.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IS(t){if(!Ne.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RS(t){if(Ne.isDocumentKey(t))throw new Se(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=md(t);throw new Se(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Du(t,e){if(!yC(t))throw new Se(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Se(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=-62135596800,MS=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*MS);return new Rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<NS)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MS}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:nn("string",Rt._jsonSchemaVersion),seconds:nn("number"),nanoseconds:nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Rt(0,0))}static max(){return new Le(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=-1;function f5(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Le.fromTimestamp(i===1e9?new Rt(n+1,0):new Rt(n,i));return new Oo(o,Ne.empty(),e)}function d5(t){return new Oo(t.readTime,t.key,Au)}class Oo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Oo(Le.min(),Ne.empty(),Au)}static max(){return new Oo(Le.max(),Ne.empty(),Au)}}function h5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==ce.FAILED_PRECONDITION||t.message!==p5)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,i)=>{n(e)}))}static reject(e){return new de(((n,i)=>{i(e)}))}static waitFor(e){return new de(((n,i)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&n()}),(p=>i(p)))})),u=!0,l===o&&n()}))}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next((o=>o?de.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,l)=>{i.push(n.call(this,o,l))})),this.waitFor(i)}static mapArray(e,n){return new de(((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&i(u)}),(y=>o(y)))}}))}static doWhile(e,n){return new de(((i,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):i()};l()}))}}function g5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg=-1;function yd(t){return t==null}function $f(t){return t===0&&1/t==-1/0}function y5(t){return typeof t=="number"&&Number.isInteger(t)&&!$f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="";function v5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=DS(e)),e=_5(t.get(n),e);return DS(e)}function _5(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case vC:n+="";break;default:n+=l}}return n}function DS(t){return t+vC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _C(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){this.comparator=e,this.root=n||En.EMPTY}insert(e,n){return new Pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _f(this.root,e,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _f(this.root,e,this.comparator,!0)}}class _f{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??En.RED,this.left=o??En.EMPTY,this.right=l??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new En(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return En.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new En(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PS(this.data.getIterator())}getIteratorFrom(e){return new PS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class PS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new fi([])}unionWith(e){let n=new ln(Tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new fi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new EC("Invalid base64 string: "+l):l}})(e);return new Sn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new Sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sn.EMPTY_BYTE_STRING=new Sn("");const E5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fo(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=E5.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zo(t){return typeof t=="string"?Sn.fromBase64String(t):Sn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="server_timestamp",SC="__type__",AC="__previous_value__",xC="__local_write_time__";function Pg(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SC])==null?void 0:i.stringValue)===TC}function vd(t){const e=t.mapValue.fields[AC];return Pg(e)?vd(e):e}function xu(t){const e=Fo(t.mapValue.fields[xC].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,i,o,l,u,f,p,d,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y}}const Kf="(default)";class Cu{constructor(e,n){this.projectId=e,this.database=n||Kf}static empty(){return new Cu("","")}get isDefaultDatabase(){return this.database===Kf}isEqual(e){return e instanceof Cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__type__",S5="__max__",Ef={mapValue:{}},wC="__vector__",Qf="value";function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Pg(t)?4:x5(t)?9007199254740991:A5(t)?10:11:ke(28295,{value:t})}function Ar(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Fo(o.timestampValue),f=Fo(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return zo(o.bytesValue).isEqual(zo(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return Ht(o.geoPointValue.latitude)===Ht(l.geoPointValue.latitude)&&Ht(o.geoPointValue.longitude)===Ht(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ht(o.integerValue)===Ht(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ht(o.doubleValue),f=Ht(l.doubleValue);return u===f?$f(u)===$f(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(kS(u)!==kS(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!Ar(u[p],f[p])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function wu(t,e){return(t.values||[]).find((n=>Ar(n,e)))!==void 0}function zl(t,e){if(t===e)return 0;const n=Bo(t),i=Bo(e);if(n!==i)return We(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=Ht(l.integerValue||l.doubleValue),p=Ht(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return VS(t.timestampValue,e.timestampValue);case 4:return VS(xu(t),xu(e));case 5:return Fm(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=zo(l),p=zo(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=We(f[d],p[d]);if(y!==0)return y}return We(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=We(Ht(l.latitude),Ht(u.latitude));return f!==0?f:We(Ht(l.longitude),Ht(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return LS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var T,A,D,O;const f=l.fields||{},p=u.fields||{},d=(T=f[Qf])==null?void 0:T.arrayValue,y=(A=p[Qf])==null?void 0:A.arrayValue,E=We(((D=d==null?void 0:d.values)==null?void 0:D.length)||0,((O=y==null?void 0:y.values)==null?void 0:O.length)||0);return E!==0?E:LS(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Ef.mapValue&&u===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(u===Ef.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let E=0;E<p.length&&E<y.length;++E){const T=Fm(p[E],y[E]);if(T!==0)return T;const A=zl(f[p[E]],d[y[E]]);if(A!==0)return A}return We(p.length,y.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function VS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=Fo(t),i=Fo(e),o=We(n.seconds,i.seconds);return o!==0?o:We(n.nanos,i.nanos)}function LS(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=zl(n[o],i[o]);if(l)return l}return We(n.length,i.length)}function Bl(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Fo(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=zm(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${zm(n.fields[u])}`;return o+"}"})(t.mapValue):ke(61005,{value:t})}function Rf(t){switch(Bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vd(t);return e?16+Rf(e):16;case 5:return 2*t.stringValue.length;case 6:return zo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+Rf(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return Jo(i.fields,((l,u)=>{o+=l.length+Rf(u)})),o})(t.mapValue);default:throw ke(13486,{value:t})}}function US(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Vg(t){return!!t&&"arrayValue"in t}function OS(t){return!!t&&"nullValue"in t}function FS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nf(t){return!!t&&"mapValue"in t}function A5(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CC])==null?void 0:i.stringValue)===wC}function gu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Jo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=gu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gu(t.arrayValue.values[n]);return e}return{...t}}function x5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===S5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gu(n)}setAll(e){let n=Tn.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=gu(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());Nf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Nf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){Jo(n,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Kn(gu(this.value))}}function bC(t){const e=[];return Jo(t.fields,((n,i)=>{const o=new Tn([n]);if(Nf(i)){const l=bC(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new fi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new bn(e,0,Le.min(),Le.min(),Le.min(),Kn.empty(),0)}static newFoundDocument(e,n,i,o){return new bn(e,1,n,Le.min(),i,o,0)}static newNoDocument(e,n){return new bn(e,2,n,Le.min(),Le.min(),Kn.empty(),0)}static newUnknownDocument(e,n){return new bn(e,3,n,Le.min(),Le.min(),Kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.position=e,this.inclusive=n}}function zS(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(u.referenceValue),n.key):i=zl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function BS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ar(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function C5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class tn extends IC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new b5(e,n,i):n==="array-contains"?new N5(e,i):n==="in"?new M5(e,i):n==="not-in"?new D5(e,i):n==="array-contains-any"?new k5(e,i):new tn(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new I5(e,i):new R5(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends IC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qi(e,n)}matches(e){return RC(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RC(t){return t.op==="and"}function NC(t){return w5(t)&&RC(t)}function w5(t){for(const e of t.filters)if(e instanceof Qi)return!1;return!0}function qm(t){if(t instanceof tn)return t.field.canonicalString()+t.op.toString()+Bl(t.value);if(NC(t))return t.filters.map((e=>qm(e))).join(",");{const e=t.filters.map((n=>qm(n))).join(",");return`${t.op}(${e})`}}function MC(t,e){return t instanceof tn?(function(i,o){return o instanceof tn&&i.op===o.op&&i.field.isEqual(o.field)&&Ar(i.value,o.value)})(t,e):t instanceof Qi?(function(i,o){return o instanceof Qi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,u,f)=>l&&MC(u,o.filters[f])),!0):!1})(t,e):void ke(19439)}function DC(t){return t instanceof tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Bl(n.value)}`})(t):t instanceof Qi?(function(n){return n.op.toString()+" {"+n.getFilters().map(DC).join(" ,")+"}"})(t):"Filter"}class b5 extends tn{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class I5 extends tn{constructor(e,n){super(e,"in",n),this.keys=kC("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class R5 extends tn{constructor(e,n){super(e,"not-in",n),this.keys=kC("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function kC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ne.fromName(i.referenceValue)))}class N5 extends tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vg(n)&&wu(n.arrayValue,this.value)}}class M5 extends tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class D5 extends tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wu(this.value.arrayValue,n)}}class k5 extends tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>wu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function qS(t,e=null,n=[],i=[],o=null,l=null,u=null){return new P5(t,e,n,i,o,l,u)}function Lg(t){const e=Fe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>qm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>Bl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>Bl(i))).join(",")),e.Te=n}return e.Te}function Ug(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BS(t.startAt,e.startAt)&&BS(t.endAt,e.endAt)}function Hm(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function V5(t,e,n,i,o,l,u,f){return new Zl(t,e,n,i,o,l,u,f)}function PC(t){return new Zl(t)}function HS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VC(t){return t.collectionGroup!==null}function yu(t){const e=Fe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ln(Tn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new bu(l,i))})),n.has(Tn.keyField().canonicalString())||e.Ie.push(new bu(Tn.keyField(),i))}return e.Ie}function vr(t){const e=Fe(t);return e.Ee||(e.Ee=L5(e,yu(t))),e.Ee}function L5(t,e){if(t.limitType==="F")return qS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new bu(o.field,l)}));const n=t.endAt?new Xf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Xf(t.startAt.position,t.startAt.inclusive):null;return qS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Gm(t,e){const n=t.filters.concat([e]);return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ym(t,e,n){return new Zl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _d(t,e){return Ug(vr(t),vr(e))&&t.limitType===e.limitType}function LC(t){return`${Lg(vr(t))}|lt:${t.limitType}`}function Cl(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>DC(o))).join(", ")}]`),yd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>Bl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>Bl(o))).join(",")),`Target(${i})`})(vr(t))}; limitType=${t.limitType})`}function Ed(t,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,o){for(const l of yu(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,p){const d=zS(u,f,p);return u.inclusive?d<=0:d<0})(i.startAt,yu(i),o)||i.endAt&&!(function(u,f,p){const d=zS(u,f,p);return u.inclusive?d>=0:d>0})(i.endAt,yu(i),o))})(t,e)}function U5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UC(t){return(e,n)=>{let i=!1;for(const o of yu(t)){const l=O5(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function O5(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?zl(p,d):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jo(this.inner,((n,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return _C(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=new Pt(Ne.comparator);function Qr(){return F5}const OC=new Pt(Ne.comparator);function uu(...t){let e=OC;for(const n of t)e=e.insert(n.key,n);return e}function FC(t){let e=OC;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function As(){return vu()}function zC(){return vu()}function vu(){return new Rs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const z5=new Pt(Ne.comparator),B5=new ln(Ne.comparator);function Ze(...t){let e=B5;for(const n of t)e=e.add(n);return e}const q5=new ln(We);function H5(){return q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$f(e)?"-0":e}}function BC(t){return{integerValue:""+t}}function G5(t,e){return y5(e)?BC(e):Og(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this._=void 0}}function Y5(t,e,n){return t instanceof jf?(function(o,l){const u={fields:{[SC]:{stringValue:TC},[xC]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Pg(l)&&(l=vd(l)),l&&(u.fields[AC]=l),{mapValue:u}})(n,e):t instanceof Iu?HC(t,e):t instanceof Ru?GC(t,e):(function(o,l){const u=qC(o,l),f=GS(u)+GS(o.Ae);return Bm(u)&&Bm(o.Ae)?BC(f):Og(o.serializer,f)})(t,e)}function J5(t,e,n){return t instanceof Iu?HC(t,e):t instanceof Ru?GC(t,e):n}function qC(t,e){return t instanceof Wf?(function(i){return Bm(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class jf extends Td{}class Iu extends Td{constructor(e){super(),this.elements=e}}function HC(t,e){const n=YC(e);for(const i of t.elements)n.some((o=>Ar(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Ru extends Td{constructor(e){super(),this.elements=e}}function GC(t,e){let n=YC(e);for(const i of t.elements)n=n.filter((o=>!Ar(o,i)));return{arrayValue:{values:n}}}class Wf extends Td{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function GS(t){return Ht(t.integerValue||t.doubleValue)}function YC(t){return Vg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $5(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Iu&&o instanceof Iu||i instanceof Ru&&o instanceof Ru?Fl(i.elements,o.elements,Ar):i instanceof Wf&&o instanceof Wf?Ar(i.Ae,o.Ae):i instanceof jf&&o instanceof jf})(t.transform,e.transform)}class K5{constructor(e,n){this.version=e,this.transformResults=n}}class Ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ki}static exists(e){return new Ki(void 0,e)}static updateTime(e){return new Ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Sd{}function JC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,Ki.none()):new ku(t.key,t.data,Ki.none());{const n=t.data,i=Kn.empty();let o=new ln(Tn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new $o(t.key,i,new fi(o.toArray()),Ki.none())}}function Q5(t,e,n){t instanceof ku?(function(o,l,u){const f=o.value.clone(),p=JS(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof $o?(function(o,l,u){if(!Mf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=JS(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll($C(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function _u(t,e,n,i){return t instanceof ku?(function(l,u,f,p){if(!Mf(l.precondition,u))return f;const d=l.value.clone(),y=$S(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof $o?(function(l,u,f,p){if(!Mf(l.precondition,u))return f;const d=$S(l.fieldTransforms,p,u),y=u.data;return y.setAll($C(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,u,f){return Mf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function X5(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=qC(i.transform,o||null);l!=null&&(n===null&&(n=Kn.empty()),n.set(i.field,l))}return n||null}function YS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Fl(i,o,((l,u)=>$5(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends Sd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $o extends Sd{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $C(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function JS(t,e,n){const i=new Map;pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,J5(u,f,n[o]))}return i}function $S(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,Y5(l,u,e))}return i}class Fg extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j5 extends Sd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&Q5(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=_u(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=_u(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=zC();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const p=JC(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Le.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ze())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((n,i)=>YS(n,i)))&&Fl(this.baseMutations,e.baseMutations,((n,i)=>YS(n,i)))}}class zg{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){pt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return z5})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new zg(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,nt;function tO(t){switch(t){case ce.OK:return ke(64938);case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function KC(t){if(t===void 0)return Kr("GRPC error has no .code"),ce.UNKNOWN;switch(t){case Zt.OK:return ce.OK;case Zt.CANCELLED:return ce.CANCELLED;case Zt.UNKNOWN:return ce.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return ce.INTERNAL;case Zt.UNAVAILABLE:return ce.UNAVAILABLE;case Zt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Zt.NOT_FOUND:return ce.NOT_FOUND;case Zt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Zt.ABORTED:return ce.ABORTED;case Zt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Zt.DATA_LOSS:return ce.DATA_LOSS;default:return ke(39323,{code:t})}}(nt=Zt||(Zt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new Vo([4294967295,4294967295],0);function KS(t){const e=nO().encode(t),n=new aC;return n.update(e),new Uint8Array(n.digest())}function QS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Vo([n,i],0),new Vo([o,l],0)]}class Bg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new cu(`Invalid padding: ${n}`);if(i<0)throw new cu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new cu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Vo.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(Vo.fromNumber(i)));return o.compare(iO)===1&&(o=new Vo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=KS(e),[i,o]=QS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Bg(l,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=KS(e),[i,o]=QS(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Pu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ad(Le.min(),o,new Pt(We),Qr(),Ze())}}class Pu{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Pu(i,n,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class QC{constructor(e,n){this.targetId=e,this.Ce=n}}class XC{constructor(e,n,i=Sn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class XS{constructor(){this.ve=0,this.Fe=jS(),this.Me=Sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),n=Ze(),i=Ze();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new Pu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=jS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class rO{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=Tf(),this.He=Tf(),this.Ye=new Pt(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Hm(l))if(i===0){const u=new Ne(l.path);this.et(n,u,bn.newNoDocument(u,Le.min()))}else pt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=zo(i).toUint8Array()}catch(p){if(p instanceof EC)return Ol("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Bg(u,o,l)}catch(p){return Ol(p instanceof cu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Hm(f.target)){const p=new Ne(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,bn.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Ze();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Ad(e,n,this.Ye,this.je,i);return this.je=Qr(),this.Je=Tf(),this.He=Tf(),this.Ye=new Pt(We),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new XS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ln(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ln(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Tf(){return new Pt(Ne.comparator)}function jS(){return new Pt(Ne.comparator)}const oO={asc:"ASCENDING",desc:"DESCENDING"},sO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lO={and:"AND",or:"OR"};class aO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uO(t,e){return Zf(t,e.toTimestamp())}function _r(t){return pt(!!t,49232),Le.fromTimestamp((function(n){const i=Fo(n);return new Rt(i.seconds,i.nanos)})(t))}function qg(t,e){return $m(t,e).canonicalString()}function $m(t,e){const n=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function WC(t){const e=xt.fromString(t);return pt(i1(e),10190,{key:e.toString()}),e}function Km(t,e){return qg(t.databaseId,e.path)}function tm(t,e){const n=WC(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(e1(n))}function ZC(t,e){return qg(t.databaseId,e)}function cO(t){const e=WC(t);return e.length===4?xt.emptyPath():e1(e)}function Qm(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function e1(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function WS(t,e,n){return{name:Km(t,e),fields:n.value.mapValue.fields}}function fO(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(pt(y===void 0||typeof y=="string",58123),Sn.fromBase64String(y||"")):(pt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Sn.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?ce.UNKNOWN:KC(d.code);return new Se(y,d.message||"")})(u);n=new XC(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=tm(t,i.document.name),l=_r(i.document.updateTime),u=i.document.createTime?_r(i.document.createTime):Le.min(),f=new Kn({mapValue:{fields:i.document.fields}}),p=bn.newFoundDocument(o,l,u,f),d=i.targetIds||[],y=i.removedTargetIds||[];n=new Df(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=tm(t,i.document),l=i.readTime?_r(i.readTime):Le.min(),u=bn.newNoDocument(o,l),f=i.removedTargetIds||[];n=new Df([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=tm(t,i.document),l=i.removedTargetIds||[];n=new Df([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new eO(o,l),f=i.targetId;n=new QC(f,u)}}return n}function dO(t,e){let n;if(e instanceof ku)n={update:WS(t,e.key,e.value)};else if(e instanceof Fg)n={delete:Km(t,e.key)};else if(e instanceof $o)n={update:WS(t,e.key,e.data),updateMask:TO(e.fieldMask)};else{if(!(e instanceof j5))return ke(16599,{Vt:e.type});n={verify:Km(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof jf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Wf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:uO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function hO(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?_r(o.updateTime):_r(l);return u.isEqual(Le.min())&&(u=_r(l)),new K5(u,o.transformResults||[])})(n,e)))):[]}function pO(t,e){return{documents:[ZC(t,e.path)]}}function mO(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=ZC(t,o);const l=(function(d){if(d.length!==0)return n1(Qi.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(T){return{field:wl(T.field),direction:vO(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Jm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function gO(t){let e=cO(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){pt(i===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const T=t1(E);return T instanceof Qi&&NC(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(D){return new bu(bl(D.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,yd(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,A=E.values||[];return new Xf(A,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(E){const T=!E.before,A=E.values||[];return new Xf(A,T)})(n.endAt)),V5(e,o,u,l,f,"F",p,d)}function yO(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function t1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=bl(n.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=bl(n.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bl(n.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bl(n.unaryFilter.field);return tn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tn.create(bl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qi.create(n.compositeFilter.filters.map((i=>t1(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function vO(t){return oO[t]}function _O(t){return sO[t]}function EO(t){return lO[t]}function wl(t){return{fieldPath:t.canonicalString()}}function bl(t){return Tn.fromServerFormat(t.fieldPath)}function n1(t){return t instanceof tn?(function(n){if(n.op==="=="){if(FS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NAN"}};if(OS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NAN"}};if(OS(n.value))return{unaryFilter:{field:wl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(n.field),op:_O(n.op),value:n.value}}})(t):t instanceof Qi?(function(n){const i=n.getFilters().map((o=>n1(o)));return i.length===1?i[0]:{compositeFilter:{op:EO(n.op),filters:i}}})(t):ke(54877,{filter:t})}function TO(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function i1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n,i,o,l=Le.min(),u=Le.min(),f=Sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Do(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Do(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.yt=e}}function AO(t){const e=gO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.Cn=new CO}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Oo.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class CO{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new ln(xt.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new ln(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r1=41943040;class $n{static withCacheSize(e){return new $n(e,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(r1,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ql(0)}static cr(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="LruGarbageCollector",wO=1048576;function tA([t,e],[n,i]){const o=We(t,n);return o===0?We(e,i):o}class bO{constructor(e){this.Ir=e,this.buffer=new ln(tA),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();tA(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class IO{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ae(eA,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wl(n)?Ae(eA,"Ignoring IndexedDB error during garbage collection: ",n):await jl(n)}await this.Vr(3e5)}))}}class RO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(gd.ce);const i=new bO(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(ZS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(d=Date.now(),xl()<=it.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function NO(t,e){return new RO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.changes=new Rs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&_u(i.mutation,o,fi.empty(),Rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,Ze()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=Ze()){const o=As();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((l=>{let u=uu();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=As();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,Ze())))}populateOverlays(e,n,i){const o=[];return i.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let l=Qr();const u=vu(),f=(function(){return vu()})();return n.forEach(((p,d)=>{const y=i.get(d.key);o.has(d.key)&&(y===void 0||y.mutation instanceof $o)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),_u(y.mutation,d,y.mutation.getFieldMask(),Rt.now())):u.set(d.key,fi.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new DO(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=vu();let o=new Pt(((u,f)=>u-f)),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=i.get(p)||fi.empty();y=f.applyToLocalView(d,y),i.set(p,y);const E=(o.get(f.batchId)||Ze()).add(p);o=o.insert(f.batchId,E)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,E=zC();y.forEach((T=>{if(!l.has(T)){const A=JC(n.get(T),i.get(T));A!==null&&E.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return de.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):de.resolve(As());let f=Au,p=l;return u.next((d=>de.forEach(d,((y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,Ze()))).next((y=>({batchId:f,changes:FC(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let o=uu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=uu();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(p=>{const d=(function(E,T){return new Zl(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((y=>{y.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,bn.newInvalidDocument(y)))}));let f=uu();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&_u(y.mutation,d,fi.empty(),Rt.now()),Ed(n,d)&&(f=f.insert(p,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:AO(o.bundledQuery),readTime:_r(o.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.overlays=new Pt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=As();return de.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,l)=>{this.St(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const o=As(),l=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return de.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new Pt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let y=l.get(d.largestBatchId);y===null&&(y=As(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=As(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=o)););return de.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new Z5(n,i));let l=this.qr.get(n);l===void 0&&(l=Ze(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.sessionToken=Sn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Qr=new ln(dn.$r),this.Ur=new ln(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new dn(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new dn(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ne(new xt([])),i=new dn(n,e),o=new dn(n,e+1),l=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new xt([])),i=new dn(n,e),o=new dn(n,e+1);let l=Ze();return this.Ur.forEachInRange([i,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new dn(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ln(dn.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new W5(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new dn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?kg:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new dn(n,0),o=new dn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ln(We);return n.forEach((o=>{const l=new dn(o,0),u=new dn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),de.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const u=new dn(new Ne(l),0);let f=new ln(We);return this.Zr.forEachWhile((p=>{const d=p.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(f=f.add(p.Yr)),!0)}),u),de.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return de.forEach(n.mutations,(o=>{const l=new dn(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new dn(n,0),o=this.Zr.firstAfterOrEqual(i);return de.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.ri=e,this.docs=(function(){return new Pt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():bn.newInvalidDocument(n))}getEntries(e,n){let i=Qr();return n.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():bn.newInvalidDocument(o))})),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Qr();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||h5(d5(y),i)<=0||(o.has(y.key)||Ed(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ke(9500)}ii(e,n){return de.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new FO(this)}getSize(e){return de.resolve(this.size)}}class FO extends MO{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.persistence=e,this.si=new Rs((n=>Lg(n)),Ug),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new Hg,this.targetCount=0,this.ai=ql.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),de.waitFor(l).next((()=>o))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.ui={},this.overlays={},this.ci=new gd(0),this.li=!1,this.li=!0,this.hi=new LO,this.referenceDelegate=e(this),this.Pi=new zO(this),this.indexManager=new xO,this.remoteDocumentCache=(function(o){return new OO(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new SO(n),this.Ii=new PO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new UO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){Ae("MemoryPersistence","Starting transaction:",e);const o=new BO(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return de.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class BO extends m5{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.Ri=new Hg,this.Vi=null}static mi(e){return new Gg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(i=>{const o=Ne.fromPath(i);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ed{constructor(e,n){this.persistence=e,this.pi=new Rs((i=>v5(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=NO(this,n)}static mi(e,n){return new ed(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?de.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Le.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rf(e.data.value)),n}br(e,n,i){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return de.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=Ze(),o=Ze();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Yg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return P3()?8:g5(D3())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,o,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new qO;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(xl()<=it.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Cl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(xl()<=it.DEBUG&&Ae("QueryEngine","Query:",Cl(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(xl()<=it.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Cl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):de.resolve())}ys(e,n){if(HS(n))return de.resolve(null);let i=vr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ym(n,null,"F"),i=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=Ze(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const d=this.Ds(n,f);return this.Cs(n,d,u,p.readTime)?this.ys(e,Ym(n,null,"F")):this.vs(e,d,n,p)}))))})))))}ws(e,n,i,o){return HS(n)||o.isEqual(Le.min())?de.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?de.resolve(null):(xl()<=it.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Cl(n)),this.vs(e,u,n,f5(o,Au)).next((f=>f)))}))}Ds(e,n){let i=new ln(UC(e));return n.forEach(((o,l)=>{Ed(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return xl()<=it.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Cl(n)),this.ps.getDocumentsMatchingQuery(e,n,Oo.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="LocalStore",GO=3e8;class YO{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new Pt(We),this.xs=new Rs((l=>Lg(l)),Ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function JO(t,e,n,i){return new YO(t,e,n,i)}async function s1(t,e){const n=Fe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=Ze();for(const d of o){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function $O(t,e){const n=Fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const E=d.batch,T=E.keys();let A=de.resolve();return T.forEach((D=>{A=A.next((()=>y.getEntry(p,D))).next((O=>{const L=d.docVersions.get(D);pt(L!==null,48541),O.version.compareTo(L)<0&&(E.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),y.addEntry(O)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(p,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ze();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function l1(t){const e=Fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function KO(t,e){const n=Fe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((y,E)=>{const T=o.get(E);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,E))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(Sn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(E,A),(function(O,L,z){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=GO?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,y)&&f.push(n.Pi.updateTargetData(l,A))}));let p=Qr(),d=Ze();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(QO(l,u,e.documentUpdates).next((y=>{p=y.ks,d=y.qs}))),!i.isEqual(Le.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return de.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function QO(t,e,n){let i=Ze(),o=Ze();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Qr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):Ae(Jg,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function XO(t,e){const n=Fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=kg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function jO(t,e){const n=Fe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((l=>l?(o=l,de.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Do(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Xm(t,e,n){const i=Fe(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Wl(u))throw u;Ae(Jg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function nA(t,e,n){const i=Fe(t);let o=Le.min(),l=Ze();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const E=Fe(p),T=E.xs.get(y);return T!==void 0?de.resolve(E.Ms.get(T)):E.Pi.getTargetData(d,y)})(i,u,vr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Le.min(),n?l:Ze()))).next((f=>(WO(i,U5(e),f),{documents:f,Qs:l})))))}function WO(t,e,n){let i=t.Os.get(e)||Le.min();n.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class iA{constructor(){this.activeTargetIds=H5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZO{constructor(){this.Mo=new iA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="ConnectivityMonitor";class oA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ae(rA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ae(rA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf=null;function jm(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="RestConnection",t9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class n9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Kf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=jm(),f=this.zo(e,n.toUriEncodedString());Ae(nm,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:d}=new URL(f),y=Rg(d);return this.Jo(e,f,p,i,y).then((E=>(Ae(nm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Ol(nm,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const i=t9[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class r9 extends n9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=jm();return new Promise(((f,p)=>{const d=new uC;d.setWithCredentials(!0),d.listenOnce(cC.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case If.NO_ERROR:const E=d.getResponseJson();Ae(Cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case If.TIMEOUT:Ae(Cn,`RPC '${e}' ${u} timed out`),p(new Se(ce.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const T=d.getStatus();if(Ae(Cn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const O=(function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(Q)>=0?Q:ce.UNKNOWN})(D.status);p(new Se(O,D.message))}else p(new Se(ce.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new Se(ce.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ae(Cn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);Ae(Cn,`RPC '${e}' ${u} sending request:`,o),d.send(n,"POST",y,i,15)}))}T_(e,n,i){const o=jm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=hC(),f=dC(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(p.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");Ae(Cn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=u.createWebChannel(y,p);this.I_(E);let T=!1,A=!1;const D=new i9({Yo:L=>{A?Ae(Cn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(Ae(Cn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Ae(Cn,`RPC '${e}' stream ${o} sending:`,L),E.send(L))},Zo:()=>E.close()}),O=(L,z,Q)=>{L.listen(z,(Y=>{try{Q(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return O(E,au.EventType.OPEN,(()=>{A||(Ae(Cn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),O(E,au.EventType.CLOSE,(()=>{A||(A=!0,Ae(Cn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))})),O(E,au.EventType.ERROR,(L=>{A||(A=!0,Ol(Cn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),D.a_(new Se(ce.UNAVAILABLE,"The operation could not be completed")))})),O(E,au.EventType.MESSAGE,(L=>{var z;if(!A){const Q=L.data[0];pt(!!Q,16349);const Y=Q,le=(Y==null?void 0:Y.error)||((z=Y[0])==null?void 0:z.error);if(le){Ae(Cn,`RPC '${e}' stream ${o} received error:`,le);const pe=le.status;let $=(function(R){const F=Zt[R];if(F!==void 0)return KC(F)})(pe),N=le.message;$===void 0&&($=ce.INTERNAL,N="Unknown error status: "+pe+" with message "+le.message),A=!0,D.a_(new Se($,N)),E.close()}else Ae(Cn,`RPC '${e}' stream ${o} received:`,Q),D.u_(Q)}})),O(f,fC.STAT_EVENT,(L=>{L.stat===Om.PROXY?Ae(Cn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Om.NOPROXY&&Ae(Cn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){return new aO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&Ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="PersistentStream";class u1{constructor(e,n,i,o,l,u,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ce.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Se(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ae(sA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ae(sA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o9 extends u1{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=fO(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Le.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?_r(u.readTime):Le.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Hm(p)?{documents:pO(l,p)}:{query:mO(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=jC(l,u.resumeToken);const d=Jm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Le.min())>0){f.readTime=Zf(l,u.snapshotVersion.toTimestamp());const d=Jm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=yO(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class s9 extends u1{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=hO(e.writeResults,e.commitTime),i=_r(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>dO(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{}class a9 extends l9{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,$m(n,i),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Se(ce.UNKNOWN,l.toString())}))}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,$m(n,i),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ce.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class u9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):Ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class c9{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Ns(this)&&(Ae(ws,"Restarting streams for network reachability change."),await(async function(p){const d=Fe(p);d.Ea.add(4),await Vu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Cd(d)})(this))}))})),this.Ra=new u9(i,o)}}async function Cd(t){if(Ns(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function c1(t,e){const n=Fe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xg(n)?Qg(n):ea(n).O_()&&Kg(n,e))}function $g(t,e){const n=Fe(t),i=ea(n);n.Ia.delete(e),i.O_()&&f1(n,e),n.Ia.size===0&&(i.O_()?i.L_():Ns(n)&&n.Ra.set("Unknown"))}function Kg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).Y_(e)}function f1(t,e){t.Va.Ue(e),ea(t).Z_(e)}function Qg(t){t.Va=new rO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.Ra.ua()}function Xg(t){return Ns(t)&&!ea(t).x_()&&t.Ia.size>0}function Ns(t){return Fe(t).Ea.size===0}function d1(t){t.Va=void 0}async function f9(t){t.Ra.set("Online")}async function d9(t){t.Ia.forEach(((e,n)=>{Kg(t,e)}))}async function h9(t,e){d1(t),Xg(t)?(t.Ra.ha(e),Qg(t)):t.Ra.set("Unknown")}async function p9(t,e,n){if(t.Ra.set("Online"),e instanceof XC&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){Ae(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await td(t,i)}else if(e instanceof Df?t.Va.Ze(e):e instanceof QC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const i=await l1(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(Sn.EMPTY_BYTE_STRING,y.snapshotVersion)),f1(l,p);const E=new Do(y.target,p,d,y.sequenceNumber);Kg(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){Ae(ws,"Failed to raise snapshot:",i),await td(t,i)}}async function td(t,e,n){if(!Wl(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>l1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ae(ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Cd(t)}))}function h1(t,e){return e().catch((n=>td(t,n,e)))}async function wd(t){const e=Fe(t),n=qo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:kg;for(;m9(e);)try{const o=await XO(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,g9(e,o)}catch(o){await td(e,o)}p1(e)&&m1(e)}function m9(t){return Ns(t)&&t.Ta.length<10}function g9(t,e){t.Ta.push(e);const n=qo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function p1(t){return Ns(t)&&!qo(t).x_()&&t.Ta.length>0}function m1(t){qo(t).start()}async function y9(t){qo(t).ra()}async function v9(t){const e=qo(t);for(const n of t.Ta)e.ea(n.mutations)}async function _9(t,e,n){const i=t.Ta.shift(),o=zg.from(i,e,n);await h1(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await wd(t)}async function E9(t,e){e&&qo(t).X_&&await(async function(i,o){if((function(u){return tO(u)&&u!==ce.ABORTED})(o.code)){const l=i.Ta.shift();qo(i).B_(),await h1(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await wd(i)}})(t,e),p1(t)&&m1(t)}async function lA(t,e){const n=Fe(t);n.asyncQueue.verifyOperationInProgress(),Ae(ws,"RemoteStore received new credentials");const i=Ns(n);n.Ea.add(3),await Vu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Cd(n)}async function T9(t,e){const n=Fe(t);e?(n.Ea.delete(2),await Cd(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function ea(t){return t.ma||(t.ma=(function(n,i,o){const l=Fe(n);return l.sa(),new o9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:f9.bind(null,t),t_:d9.bind(null,t),r_:h9.bind(null,t),H_:p9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Xg(t)?Qg(t):t.Ra.set("Unknown")):(await t.ma.stop(),d1(t))}))),t.ma}function qo(t){return t.fa||(t.fa=(function(n,i,o){const l=Fe(n);return l.sa(),new s9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:y9.bind(null,t),r_:E9.bind(null,t),ta:v9.bind(null,t),na:_9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wd(t)):(await t.fa.stop(),t.Ta.length>0&&(Ae(ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Lo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new jg(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Wl(t))return new Se(ce.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{static emptySet(e){return new Vl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=uu(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Vl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.ga=new Pt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Hl{constructor(e,n,i,o,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Hl(e,n,Vl.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class A9{constructor(){this.queries=uA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=Fe(n),l=o.queries;o.queries=uA(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Se(ce.ABORTED,"Firestore shutting down"))}}function uA(){return new Rs((t=>LC(t)),_d)}async function x9(t,e){const n=Fe(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new S9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=Wg(u,`Initialization of query '${Cl(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Zg(n)}async function C9(t,e){const n=Fe(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function w9(t,e){const n=Fe(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&Zg(n)}function b9(t,e,n){const i=Fe(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function Zg(t){t.Ca.forEach((e=>{e.next()}))}var Wm,cA;(cA=Wm||(Wm={})).Ma="default",cA.Cache="cache";class I9{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Hl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.key=e}}class y1{constructor(e){this.key=e}}class R9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=UC(e),this.tu=new Vl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new aA,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,E)=>{const T=o.get(y),A=Ed(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),O=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;T&&A?T.data.isEqual(A.data)?D!==O&&(i.track({type:3,doc:A}),L=!0):this.su(T,A)||(i.track({type:2,doc:A}),L=!0,(p&&this.eu(A,p)>0||d&&this.eu(A,d)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),L=!0):T&&!A&&(i.track({type:1,doc:T}),L=!0,(p||d)&&(f=!0)),L&&(A?(u=u.add(A),l=O?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,E)=>(function(A,D){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:L})}};return O(A)-O(D)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,d=p!==this.Za;return this.Za=p,u.length!==0||d?{snapshot:new Hl(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new y1(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new g1(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ey="SyncEngine";class N9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class M9{constructor(e){this.key=e,this.hu=!1}}class D9{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Rs((f=>LC(f)),_d),this.Iu=new Map,this.Eu=new Set,this.du=new Pt(Ne.comparator),this.Au=new Map,this.Ru=new Hg,this.Vu={},this.mu=new Map,this.fu=ql.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k9(t,e,n=!0){const i=A1(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await v1(i,e,n,!0),o}async function P9(t,e){const n=A1(t);await v1(n,e,!0,!1)}async function v1(t,e,n,i){const o=await jO(t.localStore,vr(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await V9(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&c1(t.remoteStore,o),f}async function V9(t,e,n,i,o){t.pu=(E,T,A)=>(async function(O,L,z,Q){let Y=L.view.ru(z);Y.Cs&&(Y=await nA(O.localStore,L.query,!1).then((({documents:N})=>L.view.ru(N,Y))));const le=Q&&Q.targetChanges.get(L.targetId),pe=Q&&Q.targetMismatches.get(L.targetId)!=null,$=L.view.applyChanges(Y,O.isPrimaryClient,le,pe);return dA(O,L.targetId,$.au),$.snapshot})(t,E,T,A);const l=await nA(t.localStore,e,!0),u=new R9(e,l.Qs),f=u.ru(l.documents),p=Pu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),d=u.applyChanges(f,t.isPrimaryClient,p);dA(t,n,d.au);const y=new N9(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function L9(t,e,n){const i=Fe(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((u=>!_d(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&$g(i.remoteStore,o.targetId),Zm(i,o.targetId)})).catch(jl)):(Zm(i,o.targetId),await Xm(i.localStore,o.targetId,!0))}async function U9(t,e){const n=Fe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),$g(n.remoteStore,i.targetId))}async function O9(t,e,n){const i=Y9(t);try{const o=await(function(u,f){const p=Fe(u),d=Rt.now(),y=f.reduce(((A,D)=>A.add(D.key)),Ze());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Qr(),O=Ze();return p.Ns.getEntries(A,y).next((L=>{D=L,D.forEach(((z,Q)=>{Q.isValidDocument()||(O=O.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((L=>{E=L;const z=[];for(const Q of f){const Y=X5(Q,E.get(Q.key).overlayedDocument);Y!=null&&z.push(new $o(Q.key,Y,bC(Y.value.mapValue),Ki.exists(!0)))}return p.mutationQueue.addMutationBatch(A,d,z,f)})).next((L=>{T=L;const z=L.applyToLocalDocumentSet(E,O);return p.documentOverlayCache.saveOverlays(A,L.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:FC(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let d=u.Vu[u.currentUser.toKey()];d||(d=new Pt(We)),d=d.insert(f,p),u.Vu[u.currentUser.toKey()]=d})(i,o.batchId,n),await Lu(i,o.changes),await wd(i.remoteStore)}catch(o){const l=Wg(o,"Failed to persist write");n.reject(l)}}async function _1(t,e){const n=Fe(t);try{const i=await KO(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?pt(u.hu,14607):o.removedDocuments.size>0&&(pt(u.hu,42227),u.hu=!1))})),await Lu(n,i,e)}catch(i){await jl(i)}}function fA(t,e,n){const i=Fe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=Fe(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,E)=>{for(const T of E.Sa)T.va(f)&&(d=!0)})),d&&Zg(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function F9(t,e,n){const i=Fe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new Pt(Ne.comparator);u=u.insert(l,bn.newNoDocument(l,Le.min()));const f=Ze().add(l),p=new Ad(Le.min(),new Map,new Pt(We),u,f);await _1(i,p),i.du=i.du.remove(l),i.Au.delete(e),ty(i)}else await Xm(i.localStore,e,!1).then((()=>Zm(i,e,n))).catch(jl)}async function z9(t,e){const n=Fe(t),i=e.batch.batchId;try{const o=await $O(n.localStore,e);T1(n,i,null),E1(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Lu(n,o)}catch(o){await jl(o)}}async function B9(t,e,n){const i=Fe(t);try{const o=await(function(u,f){const p=Fe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((E=>(pt(E!==null,37113),y=E.keys(),p.mutationQueue.removeMutationBatch(d,E)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(i.localStore,e);T1(i,e,n),E1(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Lu(i,o)}catch(o){await jl(o)}}function E1(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function T1(t,e,n){const i=Fe(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||S1(t,i)}))}function S1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&($g(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),ty(t))}function dA(t,e,n){for(const i of n)i instanceof g1?(t.Ru.addReference(i.key,e),q9(t,i)):i instanceof y1?(Ae(ey,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||S1(t,i.key)):ke(19791,{wu:i})}function q9(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(Ae(ey,"New document in limbo: "+n),t.Eu.add(i),ty(t))}function ty(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(xt.fromString(e)),i=t.fu.next();t.Au.set(i,new M9(n)),t.du=t.du.insert(n,i),c1(t.remoteStore,new Do(vr(PC(n.path)),i,"TargetPurposeLimboResolution",gd.ce))}}async function Lu(t,e,n){const i=Fe(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((d=>{var y;if((d||n)&&i.isPrimaryClient){const E=d?!d.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(d){o.push(d);const E=Yg.As(p.targetId,d);l.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(p,d){const y=Fe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(d,(T=>de.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>de.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!Wl(E))throw E;Ae(Jg,"Failed to update sequence numbers: "+E)}for(const E of d){const T=E.targetId;if(!E.fromCache){const A=y.Ms.get(T),D=A.snapshotVersion,O=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(T,O)}}})(i.localStore,l))}async function H9(t,e){const n=Fe(t);if(!n.currentUser.isEqual(e)){Ae(ey,"User change. New user:",e.toKey());const i=await s1(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Se(ce.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Lu(n,i.Ls)}}function G9(t,e){const n=Fe(t),i=n.Au.get(e);if(i&&i.hu)return Ze().add(i.key);{let o=Ze();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function A1(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=F9.bind(null,e),e.Pu.H_=w9.bind(null,e.eventManager),e.Pu.yu=b9.bind(null,e.eventManager),e}function Y9(t){const e=Fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B9.bind(null,e),e}class nd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JO(this.persistence,new HO,e.initialUser,this.serializer)}Cu(e){return new o1(Gg.mi,this.serializer)}Du(e){return new ZO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nd.provider={build:()=>new nd};class J9 extends nd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof ed,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new IO(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$n.withCacheSize(this.cacheSizeBytes):$n.DEFAULT;return new o1((i=>ed.mi(i,n)),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H9.bind(null,this.syncEngine),await T9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new A9})()}createDatastore(e){const n=xd(e.databaseInfo.databaseId),i=(function(l){return new r9(l)})(e.databaseInfo);return(function(l,u,f,p){return new a9(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,l,u,f){return new c9(i,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>fA(this.syncEngine,n,0)),(function(){return oA.v()?new oA:new e9})())}createSyncEngine(e,n){return(function(o,l,u,f,p,d,y){const E=new D9(o,l,u,f,p,d);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=Fe(o);Ae(ws,"RemoteStore shutting down."),l.Ea.add(5),await Vu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class K9{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=wn.UNAUTHENTICATED,this.clientId=Dg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{Ae(Ho,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Ae(Ho,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function rm(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(Ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await s1(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function hA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Q9(t);Ae(Ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>lA(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>lA(e.remoteStore,o))),t._onlineComponents=e}async function Q9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(Ho,"Using user provided OfflineComponentProvider");try{await rm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ce.FAILED_PRECONDITION||o.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ol("Error using user provided cache. Falling back to memory cache: "+n),await rm(t,new nd)}}else Ae(Ho,"Using default OfflineComponentProvider"),await rm(t,new J9(void 0));return t._offlineComponents}async function x1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(Ho,"Using user provided OnlineComponentProvider"),await hA(t,t._uninitializedComponentsProvider._online)):(Ae(Ho,"Using default OnlineComponentProvider"),await hA(t,new eg))),t._onlineComponents}function X9(t){return x1(t).then((e=>e.syncEngine))}async function j9(t){const e=await x1(t),n=e.eventManager;return n.onListen=k9.bind(null,e.syncEngine),n.onUnlisten=L9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=P9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=U9.bind(null,e.syncEngine),n}function W9(t,e,n={}){const i=new Lo;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new $9({next:T=>{y.Nu(),u.enqueueAndForget((()=>C9(l,E))),T.fromCache&&p.source==="server"?d.reject(new Se(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),E=new I9(f,y,{includeMetadataChanges:!0,qa:!0});return x9(l,E)})(await j9(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firestore.googleapis.com",mA=!0;class gA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=w1,this.ssl=mA}else this.host=e.host,this.ssl=e.ssl??mA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wO)throw new Se(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=C1(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Se(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new e5;switch(i.type){case"firstParty":return new r5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=pA.get(n);i&&(Ae("ComponentProvider","Removing Datastore"),pA.delete(n),i.terminate())})(this),Promise.resolve()}}function Z9(t,e,n,i={}){var d;t=Cs(t,bd);const o=Rg(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(b3(`https://${f}`),M3("Firestore",!0)),l.host!==w1&&l.host!==f&&Ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!Gf(p,u)&&(t._setSettings(p),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=wn.MOCK_USER;else{y=I3(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Se(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new wn(T)}t._authCredentials=new t5(new mC(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ms(this.firestore,e,this._query)}}class sn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}toJSON(){return{type:sn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Du(n,sn._jsonSchema))return new sn(e,i||null,new Ne(xt.fromString(n.referencePath)))}}sn._jsonSchemaVersion="firestore/documentReference/1.0",sn._jsonSchema={type:nn("string",sn._jsonSchemaVersion),referencePath:nn("string")};class Uo extends Ms{constructor(e,n,i){super(e,n,PC(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ne(e))}withConverter(e){return new Uo(this.firestore,e,this._path)}}function Id(t,e,...n){if(t=Jr(t),gC("collection","path",e),t instanceof bd){const i=xt.fromString(e,...n);return RS(i),new Uo(t,null,i)}{if(!(t instanceof sn||t instanceof Uo))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return RS(i),new Uo(t.firestore,null,i)}}function Uu(t,e,...n){if(t=Jr(t),arguments.length===1&&(e=Dg.newId()),gC("doc","path",e),t instanceof bd){const i=xt.fromString(e,...n);return IS(i),new sn(t,null,new Ne(i))}{if(!(t instanceof sn||t instanceof Uo))throw new Se(ce.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(xt.fromString(e,...n));return IS(i),new sn(t.firestore,t instanceof Uo?t.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="AsyncQueue";class vA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a1(this,"async_queue_retry"),this._c=()=>{const i=im();i&&Ae(yA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Lo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wl(e))throw e;Ae(yA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",_A(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jg.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:_A(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function _A(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ou extends bd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new vA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vA(e),this._firestoreClient=void 0,await e}}}function eF(t,e){const n=typeof t=="object"?t:B6(),i=typeof t=="string"?t:Kf,o=L6(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=C3("firestore");l&&Z9(o,...l)}return o}function b1(t){if(t._terminated)throw new Se(ce.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tF(t),t._firestoreClient}function tF(t){var i,o,l;const e=t._freezeSettings(),n=(function(f,p,d,y){return new T5(f,p,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,C1(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new K9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(Sn.fromBase64String(e))}catch(n){throw new Se(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(Sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:nn("string",Ri._jsonSchemaVersion),bytes:nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(Du(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:nn("string",Er._jsonSchemaVersion),latitude:nn("number"),longitude:nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new Se(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:nn("string",Tr._jsonSchemaVersion),vectorValues:nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=/^__.*__$/;class iF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new $o(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class I1{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new $o(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function R1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class iy{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new iy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return id(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(R1(this.Ac)&&nF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class rF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xd(e)}Cc(e,n,i,o=!1){return new iy({Ac:e,methodName:n,Dc:i,path:Tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ry(t){const e=t._freezeSettings(),n=xd(t._databaseId);return new rF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function oF(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);oy("Data must be an object, but it was:",u,i);const f=N1(i,u);let p,d;if(l.merge)p=new fi(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=tg(e,E,n);if(!u.contains(T))throw new Se(ce.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);D1(y,T)||y.push(T)}p=new fi(y),d=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,d=u.fieldTransforms;return new iF(new Kn(f),p,d)}class Nd extends ny{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}function sF(t,e,n,i){const o=t.Cc(1,e,n);oy("Data must be an object, but it was:",o,i);const l=[],u=Kn.empty();Jo(i,((p,d)=>{const y=sy(e,p,n);d=Jr(d);const E=o.yc(y);if(d instanceof Nd)l.push(y);else{const T=Fu(d,E);T!=null&&(l.push(y),u.set(y,T))}}));const f=new fi(l);return new I1(u,f,o.fieldTransforms)}function lF(t,e,n,i,o,l){const u=t.Cc(1,e,n),f=[tg(e,i,n)],p=[o];if(l.length%2!=0)throw new Se(ce.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(tg(e,l[T])),p.push(l[T+1]);const d=[],y=Kn.empty();for(let T=f.length-1;T>=0;--T)if(!D1(d,f[T])){const A=f[T];let D=p[T];D=Jr(D);const O=u.yc(A);if(D instanceof Nd)d.push(A);else{const L=Fu(D,O);L!=null&&(d.push(A),y.set(A,L))}}const E=new fi(d);return new I1(y,E,u.fieldTransforms)}function aF(t,e,n,i=!1){return Fu(n,t.Cc(i?4:3,e))}function Fu(t,e){if(M1(t=Jr(t)))return oy("Unsupported field value:",e,t),N1(t,e);if(t instanceof ny)return(function(i,o){if(!R1(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let u=0;for(const f of i){let p=Fu(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,o){if((i=Jr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G5(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Rt.fromDate(i);return{timestampValue:Zf(o.serializer,l)}}if(i instanceof Rt){const l=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Zf(o.serializer,l)}}if(i instanceof Er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ri)return{bytesValue:jC(o.serializer,i._byteString)};if(i instanceof sn){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Tr)return(function(u,f){return{mapValue:{fields:{[CC]:{stringValue:wC},[Qf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return Og(f.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${md(i)}`)})(t,e)}function N1(t,e){const n={};return _C(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jo(t,((i,o)=>{const l=Fu(o,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function M1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof Er||t instanceof Ri||t instanceof sn||t instanceof ny||t instanceof Tr)}function oy(t,e,n){if(!M1(n)||!yC(n)){const i=md(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function tg(t,e,n){if((e=Jr(e))instanceof Rd)return e._internalPath;if(typeof e=="string")return sy(t,e);throw id("Field path arguments must be of type string or ",t,!1,void 0,n)}const uF=new RegExp("[~\\*/\\[\\]]");function sy(t,e,n){if(e.search(uF)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Rd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function id(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new Se(ce.INVALID_ARGUMENT,f+t+p)}function D1(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new cF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class cF extends k1{data(){return super.data()}}function ly(t,e){return typeof e=="string"?sy(t,e):e instanceof Rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ay{}class P1 extends ay{}function V1(t,e,...n){let i=[];e instanceof ay&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof cy)).length,f=l.filter((p=>p instanceof uy)).length;if(u>1||u>0&&f>0)throw new Se(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class uy extends P1{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new uy(e,n,i)}_apply(e){const n=this._parse(e);return L1(e._query,n),new Ms(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=ry(e.firestore);return(function(l,u,f,p,d,y,E){let T;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){TA(E,y);const D=[];for(const O of E)D.push(EA(p,l,O));T={arrayValue:{values:D}}}else T=EA(p,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||TA(E,y),T=aF(f,u,E,y==="in"||y==="not-in");return tn.create(d,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cy extends ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cy(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Qi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)L1(u,p),u=Gm(u,p)})(e._query,n),new Ms(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class fy extends P1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fy(e,n)}_apply(e){const n=(function(o,l,u){if(o.startAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Se(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(l,u)})(e._query,this._field,this._direction);return new Ms(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new Zl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function dF(t,e="asc"){const n=e,i=ly("orderBy",t);return fy._create(i,n)}function EA(t,e,n){if(typeof(n=Jr(n))=="string"){if(n==="")throw new Se(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VC(e)&&n.indexOf("/")!==-1)throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(xt.fromString(n));if(!Ne.isDocumentKey(i))throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return US(t,new Ne(i))}if(n instanceof sn)return US(t,n._key);throw new Se(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${md(n)}.`)}function TA(t,e){if(!Array.isArray(t)||t.length===0)throw new Se(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L1(t,e){const n=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(ce.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hF{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Jo(e,((o,l)=>{i[o]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,o,l;const n=(l=(o=(i=e.fields)==null?void 0:i[Qf].arrayValue)==null?void 0:o.values)==null?void 0:l.map((u=>Ht(u.doubleValue)));return new Tr(n)}convertGeoPoint(e){return new Er(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=vd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=Fo(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=xt.fromString(e);pt(i1(i),9688,{name:e});const o=new Cu(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return o.isEqual(n)||Kr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class Af{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ll extends k1{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(ly("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ll._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ll._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ll._jsonSchema={type:nn("string",Ll._jsonSchemaVersion),bundleSource:nn("string","DocumentSnapshot"),bundleName:nn("string"),bundle:nn("string")};class kf extends Ll{data(e={}){return super.data(e)}}class Ul{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Af(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new kf(this._firestore,this._userDataWriter,i.key,i,new Af(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Af(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new kf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Af(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:mF(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}Ul._jsonSchemaVersion="firestore/querySnapshot/1.0",Ul._jsonSchema={type:nn("string",Ul._jsonSchemaVersion),bundleSource:nn("string","QuerySnapshot"),bundleName:nn("string"),bundle:nn("string")};class gF extends hF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function U1(t){t=Cs(t,Ms);const e=Cs(t.firestore,Ou),n=b1(e),i=new gF(e);return fF(t._query),W9(n,t._query).then((o=>new Ul(e,i,t,o)))}function O1(t,e,n,...i){t=Cs(t,sn);const o=Cs(t.firestore,Ou),l=ry(o);let u;return u=typeof(e=Jr(e))=="string"||e instanceof Rd?lF(l,"updateDoc",t._key,e,n,i):sF(l,"updateDoc",t._key,e),dy(o,[u.toMutation(t._key,Ki.exists(!0))])}function F1(t){return dy(Cs(t.firestore,Ou),[new Fg(t._key,Ki.none())])}function z1(t,e){const n=Cs(t.firestore,Ou),i=Uu(t),o=pF(t.converter,e);return dy(n,[oF(ry(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Ki.exists(!1))]).then((()=>i))}function dy(t,e){return(function(i,o){const l=new Lo;return i.asyncQueue.enqueueAndForget((async()=>O9(await X9(i),o,l))),l.promise})(b1(t),e)}(function(e,n=!0){(function(o){Xl=o})(z6),Jf(new Tu("firestore",((i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Ou(new n5(i.getProvider("auth-internal")),new o5(u,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Se(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cu(d.options.projectId,y)})(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Pl(xS,CS,e),Pl(xS,CS,"esm2020")})();const yF={apiKey:"AIzaSyDgdUYq80uSRJLQcJYMzQM6nk77D4ql5Rg",authDomain:"tabibfaqih.firebaseapp.com",projectId:"tabibfaqih",storageBucket:"tabibfaqih.firebasestorage.app",messagingSenderId:"202460803784",appId:"1:202460803784:web:9c6cd0a97b622206f4abfd",measurementId:"G-KMCRY4YDWN"},vF=oC(yF),Ko=eF(vF),Md="fatwas",Dd="lataif",_F=async()=>{try{const t=V1(Id(Ko,Md)),e=await U1(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching fatwas: ",t),[]}},EF=async t=>{try{return(await z1(Id(Ko,Md),t)).id}catch(e){return console.error("Error adding fatwa: ",e),null}},TF=async t=>{try{return await F1(Uu(Ko,Md,t)),!0}catch(e){return console.error("Error deleting fatwa: ",e),!1}},SF=async t=>{if(!t._firestoreId)return!1;try{const e=Uu(Ko,Md,t._firestoreId),{_firestoreId:n,...i}=t;return await O1(e,i),!0}catch(e){return console.error("Error updating fatwa: ",e),!1}},AF=async()=>{try{const t=V1(Id(Ko,Dd),dF("id")),e=await U1(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching lataif: ",t),[]}},xF=async t=>{try{const e=JSON.parse(JSON.stringify(t));return(await z1(Id(Ko,Dd),e)).id}catch(e){return console.error("Error adding latifa: ",e),null}},CF=async t=>{if(!t._firestoreId)return!1;try{const e=Uu(Ko,Dd,t._firestoreId),{_firestoreId:n,...i}=t;return await O1(e,i),!0}catch(e){return console.error("Error updating latifa: ",e),!1}},wF=async t=>{try{return await F1(Uu(Ko,Dd,t)),!0}catch(e){return console.error("Error deleting latifa: ",e),!1}},bF=[{id:1,text:"        ",author:" "},{id:2,text:"            ",author:" "}],om=t=>t?t.replace(/(||)/g,"").replace(//g,"").replace(//g,"").replace(/[\u064B-\u065F]/g,"").replace(/[^\w\s\u0600-\u06FF]/g," ").toLowerCase().trim().replace(/(^|\s)/g,"$1"):"",IF=()=>{const[t,e]=Me.useState("chat"),[n,i]=Me.useState(null),[o,l]=Me.useState([]),[u,f]=Me.useState([]),[p,d]=Me.useState(""),[y,E]=Me.useState([]),[T,A]=Me.useState(!1),[D,O]=Me.useState(!1),[L,z]=Me.useState(null),Q=Me.useRef(null),Y=()=>{var K;t==="chat"&&((K=Q.current)==null||K.scrollIntoView({behavior:"smooth"}))};Me.useEffect(()=>{(async()=>{const[he,ae]=await Promise.all([_F(),AF()]);l(he),f(ae)})()},[]),Me.useEffect(()=>{Y()},[y,T,t]);const le=async K=>{const he=await EF(K);he?l(ae=>[...ae,{...K,_firestoreId:he}]):alert("     ")},pe=async K=>{const he=o.find(ae=>ae.id===K);he&&he._firestoreId&&(await TF(he._firestoreId)?l(U=>U.filter(H=>H.id!==K)):alert("      ."))},$=async K=>{K._firestoreId&&(await SF(K)||alert("     ")),l(he=>he.map(ae=>ae.id===K.id?K:ae))},N=async K=>{const he=await xF(K);he?f(ae=>[...ae,{...K,_firestoreId:he}]):alert("     ")},M=async K=>{if(K._firestoreId&&!await CF(K)){alert("     ");return}f(he=>he.map(ae=>ae.id===K.id?K:ae))},R=async K=>{const he=u.find(ae=>ae.id===K);if(!he){alert("  ");return}if(he._firestoreId){if(!await wF(he._firestoreId)){alert("    ");return}const U=u.filter(ie=>ie.id!==K),H=F(U);f(H)}},F=K=>K.map((he,ae)=>({...he,id:ae+1})),V=()=>{if(!p.trim())return;t!=="chat"&&e("chat");const K={role:"user",content:p,timestamp:new Date,isFatwa:!1};E(he=>[...he,K]),A(!0),setTimeout(()=>{const ae=om(p).split(/\s+/).filter(Boolean),U=o.filter(H=>{const ie=om(H.title||""),k=om(H.question||"");return ae.every(_e=>ie.includes(_e))||ae.every(_e=>k.includes(_e))});if(U.length>0){const H={role:"model",content:U,timestamp:new Date,isFatwa:!0};E(ie=>[...ie,H])}else{const H={role:"model",content:"             .        .",timestamp:new Date,isFatwa:!1};E(ie=>[...ie,H])}A(!1)},600),d("")},B=K=>{K.key==="Enter"&&V()},P=K=>{i(K),e("details"),O(!1)},ye=K=>{z(he=>he===K?null:K)},me=()=>{e("chat"),i(null)},X=o.reduce((K,he)=>(K[he.category]||(K[he.category]=[]),K[he.category].push(he),K),{});return C.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50 relative font-cairo text-right",children:[C.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar w-full max-w-3xl mx-auto px-4 pt-6 pb-4",children:[C.jsxs("div",{className:"flex flex-col items-center mb-3",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[C.jsx(am,{className:"w-6 h-6 text-teal-600"}),C.jsx("h1",{className:"text-2xl font-extrabold text-gray-800 tracking-tight",children:" "}),C.jsx(am,{className:"w-6 h-6 text-teal-600 transform scale-x-[-1]"})]}),C.jsx("p",{className:"text-teal-600 font-medium text-xs",children:"(  )"})]}),t==="admin"?C.jsx(h3,{onClose:()=>e("chat"),onAddFatwa:le,onDeleteFatwa:pe,onUpdateFatwa:$,currentFatwas:o,currentLataif:u,onAddLatifa:N,onUpdateLatifa:M,onDeleteLatifa:R}):t==="details"&&n?C.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-500 w-full min-h-screen bg-white flex flex-col items-center justify-start px-0 py-0",children:C.jsx("div",{className:"w-full max-w-4xl mx-auto px-0 sm:px-4 pt-0 sm:pt-8 pb-8",children:C.jsx(Cf,{fatwa:n,detailsMode:!0,onGoBack:me})})}):C.jsx(C.Fragment,{children:y.length===0?C.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in duration-500",children:[C.jsx(p3,{data:u}),C.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm mb-4 animate-pulse",children:C.jsx(aI,{className:"w-8 h-8 text-teal-600"})}),C.jsxs("div",{className:"text-center mb-4",children:[C.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),C.jsx("p",{className:"text-gray-500 text-xs",children:"        "})]}),C.jsx("div",{className:"w-full space-y-3 mb-2",children:bF.map(K=>C.jsx(PI,{quote:K},K.id))})]}):C.jsxs("div",{className:"w-full space-y-6 mb-4",children:[y.map((K,he)=>C.jsx("div",{className:`flex w-full ${K.role==="user"?"justify-start":"justify-end"}`,children:K.isFatwa&&Array.isArray(K.content)?C.jsxs("div",{className:"w-full max-w-2xl space-y-4 animate-in slide-in-from-bottom-4 fade-in",children:[C.jsxs("div",{className:"bg-teal-50 border border-teal-100 p-3 rounded-xl text-teal-800 text-sm font-bold flex items-center gap-2",children:[C.jsx(lm,{className:"w-4 h-4"}),C.jsxs("span",{children:["   ",K.content.length,"   :"]})]}),K.content.map((ae,U)=>C.jsx(Cf,{fatwa:ae},ae.id||U))]}):K.isFatwa&&!Array.isArray(K.content)&&typeof K.content!="string"?C.jsx("div",{className:"w-full max-w-2xl",children:C.jsx(Cf,{fatwa:K.content})}):C.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm text-base ${K.role==="user"?"bg-teal-600 text-white rounded-tr-none":"bg-white border border-gray-100 text-gray-800 rounded-tl-none"}`,children:K.role==="model"?C.jsx("div",{className:"prose prose-sm max-w-none text-right font-medium leading-7 dir-rtl",children:C.jsx(ox,{children:K.content})}):C.jsx("p",{className:"font-medium",children:K.content})})},he)),T&&C.jsx("div",{className:"flex justify-end w-full",children:C.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center gap-2",children:[C.jsx(ig,{className:"w-4 h-4 text-teal-500 animate-spin"}),C.jsx("span",{className:"text-sm text-gray-400",children:"   ..."})]})}),C.jsx("div",{ref:Q})]})})]}),t!=="admin"&&t!=="details"&&C.jsx("footer",{className:"flex-shrink-0 w-full bg-white border-t border-gray-200 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:C.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-2 flex flex-col gap-2",children:[C.jsxs("div",{className:"w-full relative",children:[C.jsxs("button",{onClick:()=>O(!D),className:`w-full border rounded-lg py-2 px-3 flex items-center justify-between font-semibold transition-colors text-xs ${D?"bg-teal-50 border-teal-200 text-teal-700":"bg-sky-50 border-sky-100 text-gray-700 hover:bg-sky-100"}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx(zb,{className:"w-3.5 h-3.5"}),C.jsx("span",{className:"text-sm",children:" "})]}),C.jsx(G_,{className:`w-3.5 h-3.5 transition-transform duration-300 ${D?"rotate-180":""}`})]}),D&&C.jsxs("div",{className:"absolute z-50 bottom-full mb-2 w-full bg-white rounded-xl shadow-2xl border border-gray-200 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[C.jsx("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white rounded-t-xl",children:C.jsxs("a",{href:"https://drive.google.com/drive/folders/1p54qWPMLT5ghN2dlOhFybCkWwrIfbg3j",target:"_blank",rel:"noopener noreferrer",className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 text-amber-800 rounded-lg text-xs font-bold transition-colors border border-amber-200",children:[C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[C.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),C.jsx("polyline",{points:"14 2 14 8 20 8"})]}),C.jsx("span",{children:"            -  "})]})}),fu.map(K=>{const he=X[K.id];if(!he||he.length===0)return null;const ae=L===K.id;return C.jsxs("div",{className:"border-b border-gray-100 last:border-0",children:[C.jsxs("button",{onClick:()=>ye(K.id),className:`w-full flex items-center justify-between p-2 text-right hover:bg-gray-50 transition-colors ${ae?"bg-gray-50":""}`,children:[C.jsxs("div",{className:"flex items-center gap-1.5",children:[C.jsx("span",{className:`w-2 h-6 rounded-full ${K.color.replace("text-","bg-").split(" ")[0]}`}),C.jsx("span",{className:"text-xs font-bold text-gray-700",children:K.name}),C.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded-full",children:he.length})]}),C.jsx(G_,{className:`w-3.5 h-3.5 text-gray-400 transition-transform duration-300 ${ae?"rotate-180":""}`})]}),C.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${ae?"max-h-[3000px] opacity-100":"max-h-0 opacity-0"}`,children:C.jsx("div",{className:"bg-gray-50/50 p-1.5 space-y-0.5",children:he.map(U=>C.jsxs("button",{onClick:()=>P(U),className:"w-full text-right px-3 py-2 text-xs text-gray-600 hover:bg-white hover:text-teal-700 hover:shadow-sm rounded-lg transition-all duration-200 flex items-center gap-1.5 group",children:[C.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300 group-hover:bg-teal-500 transition-colors"}),C.jsx("span",{className:"truncate",children:U.title})]},U.id))})})]},K.id)})]})]}),C.jsxs("div",{className:"w-full relative",children:[C.jsx("input",{type:"text",value:p,onChange:K=>d(K.target.value),onKeyDown:B,placeholder:"      ",className:"w-full bg-gray-50 border-2 border-gray-100 hover:border-teal-200 focus:border-teal-500 rounded-full py-2 pr-5 pl-12 text-base text-gray-700 placeholder-gray-400 outline-none transition-all shadow-sm focus:bg-white"}),C.jsx("button",{onClick:V,disabled:T||!p.trim(),className:"absolute left-1.5 top-1/2 -translate-y-1/2 p-1.5 bg-transparent hover:bg-teal-50 rounded-full transition-colors disabled:opacity-50",children:C.jsx(AI,{className:`w-4 h-4 ${p.trim()?"text-teal-600":"text-gray-300"}`})})]}),C.jsx("div",{className:"text-center pt-1",children:C.jsx("p",{className:"text-gray-400 text-[10px] font-medium leading-tight",children:"(         -   )"})}),C.jsxs("div",{className:"flex justify-between items-center w-full pb-0.5 pt-0.5",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:"text-[13px] font-bold text-teal-700",children:" :"}),C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("a",{href:"https://www.facebook.com/share/17XjZt9zR5/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:C.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),C.jsx("a",{href:"https://t.me/El_Faioumy",target:"_blank",rel:"noopener noreferrer",className:"bg-sky-500 text-white p-1.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),C.jsx("path",{d:"M22 2 11 13"})]})})]})]}),C.jsx("button",{onClick:()=>e("admin"),className:"w-8 h-8 bg-teal-600 hover:bg-teal-700 text-white rounded-full shadow-md flex items-center justify-center transition-transform hover:scale-105 active:scale-95",children:C.jsx(CI,{className:"w-4 h-4 animate-[spin_10s_linear_infinite]"})})]})]})})]})},B1=document.getElementById("root");if(!B1)throw new Error("Could not find root element to mount to");const RF=Rb.createRoot(B1);RF.render(C.jsx(Tb.StrictMode,{children:C.jsx(IF,{})}));
