(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function td(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xp={exports:{}},$a={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function vw(){if(Dv)return $a;Dv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var f in o)f!=="key"&&(l[f]=o[f])}else l=o;return o=l.ref,{$$typeof:t,type:i,key:u,ref:o!==void 0?o:null,props:l}}return $a.Fragment=e,$a.jsx=n,$a.jsxs=n,$a}var Mv;function Ew(){return Mv||(Mv=1,xp.exports=vw()),xp.exports}var I=Ew(),Cp={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Tw(){if(Pv)return Fe;Pv=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(Y){return Y===null||typeof Y!="object"?null:(Y=T&&Y[T]||Y["@@iterator"],typeof Y=="function"?Y:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,k={};function z(Y,ie,P){this.props=Y,this.context=ie,this.refs=k,this.updater=P||D}z.prototype.isReactComponent={},z.prototype.setState=function(Y,ie){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ie,"setState")},z.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function j(){}j.prototype=z.prototype;function H(Y,ie,P){this.props=Y,this.context=ie,this.refs=k,this.updater=P||D}var re=H.prototype=new j;re.constructor=H,U(re,z.prototype),re.isPureReactComponent=!0;var pe=Array.isArray;function K(){}var N={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function b(Y,ie,P){var _e=P.ref;return{$$typeof:t,type:Y,key:ie,ref:_e!==void 0?_e:null,props:P}}function F(Y,ie){return b(Y.type,ie,Y.props)}function L(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function q(Y){var ie={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(P){return ie[P]})}var V=/\/+/g;function ge(Y,ie){return typeof Y=="object"&&Y!==null&&Y.key!=null?q(""+Y.key):ie.toString(36)}function me(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(K,K):(Y.status="pending",Y.then(function(ie){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ie)},function(ie){Y.status==="pending"&&(Y.status="rejected",Y.reason=ie)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function B(Y,ie,P,_e,Re){var Ie=typeof Y;(Ie==="undefined"||Ie==="boolean")&&(Y=null);var Me=!1;if(Y===null)Me=!0;else switch(Ie){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(Y.$$typeof){case t:case e:Me=!0;break;case y:return Me=Y._init,B(Me(Y._payload),ie,P,_e,Re)}}if(Me)return Re=Re(Y),Me=_e===""?"."+ge(Y,0):_e,pe(Re)?(P="",Me!=null&&(P=Me.replace(V,"$&/")+"/"),B(Re,ie,P,"",function(en){return en})):Re!=null&&(L(Re)&&(Re=F(Re,P+(Re.key==null||Y&&Y.key===Re.key?"":(""+Re.key).replace(V,"$&/")+"/")+Me)),ie.push(Re)),1;Me=0;var st=_e===""?".":_e+":";if(pe(Y))for(var lt=0;lt<Y.length;lt++)_e=Y[lt],Ie=st+ge(_e,lt),Me+=B(_e,ie,P,Ie,Re);else if(lt=A(Y),typeof lt=="function")for(Y=lt.call(Y),lt=0;!(_e=Y.next()).done;)_e=_e.value,Ie=st+ge(_e,lt++),Me+=B(_e,ie,P,Ie,Re);else if(Ie==="object"){if(typeof Y.then=="function")return B(me(Y),ie,P,_e,Re);throw ie=String(Y),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Me}function te(Y,ie,P){if(Y==null)return Y;var _e=[],Re=0;return B(Y,_e,"","",function(Ie){return ie.call(P,Ie,Re++)}),_e}function he(Y){if(Y._status===-1){var ie=Y._result;ie=ie(),ie.then(function(P){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=P)},function(P){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=P)}),Y._status===-1&&(Y._status=0,Y._result=ie)}if(Y._status===1)return Y._result.default;throw Y._result}var Se=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)},O={map:te,forEach:function(Y,ie,P){te(Y,function(){ie.apply(this,arguments)},P)},count:function(Y){var ie=0;return te(Y,function(){ie++}),ie},toArray:function(Y){return te(Y,function(ie){return ie})||[]},only:function(Y){if(!L(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}};return Fe.Activity=E,Fe.Children=O,Fe.Component=z,Fe.Fragment=n,Fe.Profiler=o,Fe.PureComponent=H,Fe.StrictMode=i,Fe.Suspense=p,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return N.H.useMemoCache(Y)}},Fe.cache=function(Y){return function(){return Y.apply(null,arguments)}},Fe.cacheSignal=function(){return null},Fe.cloneElement=function(Y,ie,P){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var _e=U({},Y.props),Re=Y.key;if(ie!=null)for(Ie in ie.key!==void 0&&(Re=""+ie.key),ie)!M.call(ie,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ie.ref===void 0||(_e[Ie]=ie[Ie]);var Ie=arguments.length-2;if(Ie===1)_e.children=P;else if(1<Ie){for(var Me=Array(Ie),st=0;st<Ie;st++)Me[st]=arguments[st+2];_e.children=Me}return b(Y.type,Re,_e)},Fe.createContext=function(Y){return Y={$$typeof:u,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:l,_context:Y},Y},Fe.createElement=function(Y,ie,P){var _e,Re={},Ie=null;if(ie!=null)for(_e in ie.key!==void 0&&(Ie=""+ie.key),ie)M.call(ie,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(Re[_e]=ie[_e]);var Me=arguments.length-2;if(Me===1)Re.children=P;else if(1<Me){for(var st=Array(Me),lt=0;lt<Me;lt++)st[lt]=arguments[lt+2];Re.children=st}if(Y&&Y.defaultProps)for(_e in Me=Y.defaultProps,Me)Re[_e]===void 0&&(Re[_e]=Me[_e]);return b(Y,Ie,Re)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(Y){return{$$typeof:f,render:Y}},Fe.isValidElement=L,Fe.lazy=function(Y){return{$$typeof:y,_payload:{_status:-1,_result:Y},_init:he}},Fe.memo=function(Y,ie){return{$$typeof:d,type:Y,compare:ie===void 0?null:ie}},Fe.startTransition=function(Y){var ie=N.T,P={};N.T=P;try{var _e=Y(),Re=N.S;Re!==null&&Re(P,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(K,Se)}catch(Ie){Se(Ie)}finally{ie!==null&&P.types!==null&&(ie.types=P.types),N.T=ie}},Fe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Fe.use=function(Y){return N.H.use(Y)},Fe.useActionState=function(Y,ie,P){return N.H.useActionState(Y,ie,P)},Fe.useCallback=function(Y,ie){return N.H.useCallback(Y,ie)},Fe.useContext=function(Y){return N.H.useContext(Y)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(Y,ie){return N.H.useDeferredValue(Y,ie)},Fe.useEffect=function(Y,ie){return N.H.useEffect(Y,ie)},Fe.useEffectEvent=function(Y){return N.H.useEffectEvent(Y)},Fe.useId=function(){return N.H.useId()},Fe.useImperativeHandle=function(Y,ie,P){return N.H.useImperativeHandle(Y,ie,P)},Fe.useInsertionEffect=function(Y,ie){return N.H.useInsertionEffect(Y,ie)},Fe.useLayoutEffect=function(Y,ie){return N.H.useLayoutEffect(Y,ie)},Fe.useMemo=function(Y,ie){return N.H.useMemo(Y,ie)},Fe.useOptimistic=function(Y,ie){return N.H.useOptimistic(Y,ie)},Fe.useReducer=function(Y,ie,P){return N.H.useReducer(Y,ie,P)},Fe.useRef=function(Y){return N.H.useRef(Y)},Fe.useState=function(Y){return N.H.useState(Y)},Fe.useSyncExternalStore=function(Y,ie,P){return N.H.useSyncExternalStore(Y,ie,P)},Fe.useTransition=function(){return N.H.useTransition()},Fe.version="19.2.3",Fe}var kv;function eg(){return kv||(kv=1,Cp.exports=Tw()),Cp.exports}var Le=eg();const Sw=td(Le);var Ip={exports:{}},Ka={},wp={exports:{}},Rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Aw(){return Vv||(Vv=1,(function(t){function e(B,te){var he=B.length;B.push(te);e:for(;0<he;){var Se=he-1>>>1,O=B[Se];if(0<o(O,te))B[Se]=te,B[he]=O,he=Se;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var te=B[0],he=B.pop();if(he!==te){B[0]=he;e:for(var Se=0,O=B.length,Y=O>>>1;Se<Y;){var ie=2*(Se+1)-1,P=B[ie],_e=ie+1,Re=B[_e];if(0>o(P,he))_e<O&&0>o(Re,P)?(B[Se]=Re,B[_e]=he,Se=_e):(B[Se]=P,B[ie]=he,Se=ie);else if(_e<O&&0>o(Re,he))B[Se]=Re,B[_e]=he,Se=_e;else break e}}return te}function o(B,te){var he=B.sortIndex-te.sortIndex;return he!==0?he:B.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var p=[],d=[],y=1,E=null,T=3,A=!1,D=!1,U=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function re(B){for(var te=n(d);te!==null;){if(te.callback===null)i(d);else if(te.startTime<=B)i(d),te.sortIndex=te.expirationTime,e(p,te);else break;te=n(d)}}function pe(B){if(U=!1,re(B),!D)if(n(p)!==null)D=!0,K||(K=!0,q());else{var te=n(d);te!==null&&me(pe,te.startTime-B)}}var K=!1,N=-1,M=5,b=-1;function F(){return k?!0:!(t.unstable_now()-b<M)}function L(){if(k=!1,K){var B=t.unstable_now();b=B;var te=!0;try{e:{D=!1,U&&(U=!1,j(N),N=-1),A=!0;var he=T;try{t:{for(re(B),E=n(p);E!==null&&!(E.expirationTime>B&&F());){var Se=E.callback;if(typeof Se=="function"){E.callback=null,T=E.priorityLevel;var O=Se(E.expirationTime<=B);if(B=t.unstable_now(),typeof O=="function"){E.callback=O,re(B),te=!0;break t}E===n(p)&&i(p),re(B)}else i(p);E=n(p)}if(E!==null)te=!0;else{var Y=n(d);Y!==null&&me(pe,Y.startTime-B),te=!1}}break e}finally{E=null,T=he,A=!1}te=void 0}}finally{te?q():K=!1}}}var q;if(typeof H=="function")q=function(){H(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ge=V.port2;V.port1.onmessage=L,q=function(){ge.postMessage(null)}}else q=function(){z(L,0)};function me(B,te){N=z(function(){B(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(B){switch(T){case 1:case 2:case 3:var te=3;break;default:te=T}var he=T;T=te;try{return B()}finally{T=he}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(B,te){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var he=T;T=B;try{return te()}finally{T=he}},t.unstable_scheduleCallback=function(B,te,he){var Se=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Se+he:Se):he=Se,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=he+O,B={id:y++,callback:te,priorityLevel:B,startTime:he,expirationTime:O,sortIndex:-1},he>Se?(B.sortIndex=he,e(d,B),n(p)===null&&B===n(d)&&(U?(j(N),N=-1):U=!0,me(pe,he-Se))):(B.sortIndex=O,e(p,B),D||A||(D=!0,K||(K=!0,q()))),B},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(B){var te=T;return function(){var he=T;T=te;try{return B.apply(this,arguments)}finally{T=he}}}})(Rp)),Rp}var Lv;function xw(){return Lv||(Lv=1,wp.exports=Aw()),wp.exports}var bp={exports:{}},En={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function Cw(){if(Uv)return En;Uv=1;var t=eg();function e(p){var d="https://react.dev/errors/"+p;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,d,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:d,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,d){if(p==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,En.createPortal=function(p,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(p,d,null,y)},En.flushSync=function(p){var d=u.T,y=i.p;try{if(u.T=null,i.p=2,p)return p()}finally{u.T=d,i.p=y,i.d.f()}},En.preconnect=function(p,d){typeof p=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(p,d))},En.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},En.preinit=function(p,d){if(typeof p=="string"&&d&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin),T=typeof d.integrity=="string"?d.integrity:void 0,A=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(p,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(p,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},En.preinitModule=function(p,d){if(typeof p=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=f(d.as,d.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(p)},En.preload=function(p,d){if(typeof p=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,E=f(y,d.crossOrigin);i.d.L(p,y,{crossOrigin:E,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},En.preloadModule=function(p,d){if(typeof p=="string")if(d){var y=f(d.as,d.crossOrigin);i.d.m(p,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(p)},En.requestFormReset=function(p){i.d.r(p)},En.unstable_batchedUpdates=function(p,d){return p(d)},En.useFormState=function(p,d,y){return u.H.useFormState(p,d,y)},En.useFormStatus=function(){return u.H.useHostTransitionStatus()},En.version="19.2.3",En}var Ov;function Iw(){if(Ov)return bp.exports;Ov=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bp.exports=Cw(),bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fv;function ww(){if(Fv)return Ka;Fv=1;var t=xw(),e=eg(),n=Iw();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var a=r,c=s;;){var _=a.return;if(_===null)break;var v=_.alternate;if(v===null){if(c=_.return,c!==null){a=c;continue}break}if(_.child===v.child){for(v=_.child;v;){if(v===a)return p(_),r;if(v===c)return p(_),s;v=v.sibling}throw Error(i(188))}if(a.return!==c.return)a=_,c=v;else{for(var x=!1,w=_.child;w;){if(w===a){x=!0,a=_,c=v;break}if(w===c){x=!0,c=_,a=v;break}w=w.sibling}if(!x){for(w=v.child;w;){if(w===a){x=!0,a=v,c=_;break}if(w===c){x=!0,c=v,a=_;break}w=w.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==c)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),H=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case z:return"Profiler";case k:return"StrictMode";case pe:return"Suspense";case K:return"SuspenseList";case b:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case H:return r.displayName||"Context";case j:return(r._context.displayName||"Context")+".Consumer";case re:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:ge(r.type)||"Memo";case M:s=r._payload,r=r._init;try{return ge(r(s))}catch{}}return null}var me=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Se=[],O=-1;function Y(r){return{current:r}}function ie(r){0>O||(r.current=Se[O],Se[O]=null,O--)}function P(r,s){O++,Se[O]=r.current,r.current=s}var _e=Y(null),Re=Y(null),Ie=Y(null),Me=Y(null);function st(r,s){switch(P(Ie,s),P(Re,r),P(_e,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?ev(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=ev(s),r=tv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(_e),P(_e,r)}function lt(){ie(_e),ie(Re),ie(Ie)}function en(r){r.memoizedState!==null&&P(Me,r);var s=_e.current,a=tv(s,r.type);s!==a&&(P(Re,r),P(_e,a))}function Dn(r){Re.current===r&&(ie(_e),ie(Re)),Me.current===r&&(ie(Me),Ha._currentValue=he)}var ii,Bi;function In(r){if(ii===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ii=s&&s[1]||"",Bi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+r+Bi}var ri=!1;function oi(r,s){if(!r||ri)return"";ri=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var Z=ne}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ne){Z=ne}r.call(ce.prototype)}}else{try{throw Error()}catch(ne){Z=ne}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&Z&&typeof ne.stack=="string")return[ne.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=c.DetermineComponentFrameRoot(),x=v[0],w=v[1];if(x&&w){var G=x.split(`
`),W=w.split(`
`);for(_=c=0;c<G.length&&!G[c].includes("DetermineComponentFrameRoot");)c++;for(;_<W.length&&!W[_].includes("DetermineComponentFrameRoot");)_++;if(c===G.length||_===W.length)for(c=G.length-1,_=W.length-1;1<=c&&0<=_&&G[c]!==W[_];)_--;for(;1<=c&&0<=_;c--,_--)if(G[c]!==W[_]){if(c!==1||_!==1)do if(c--,_--,0>_||G[c]!==W[_]){var oe=`
`+G[c].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=c&&0<=_);break}}}finally{ri=!1,Error.prepareStackTrace=a}return(a=r?r.displayName||r.name:"")?In(a):""}function zi(r,s){switch(r.tag){case 26:case 27:case 5:return In(r.type);case 16:return In("Lazy");case 13:return r.child!==s&&s!==null?In("Suspense Fallback"):In("Suspense");case 19:return In("SuspenseList");case 0:case 15:return oi(r.type,!1);case 11:return oi(r.type.render,!1);case 1:return oi(r.type,!0);case 31:return In("Activity");default:return""}}function vr(r){try{var s="",a=null;do s+=zi(r,a),a=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var wt=Object.prototype.hasOwnProperty,Dt=t.unstable_scheduleCallback,si=t.unstable_cancelCallback,zo=t.unstable_shouldYield,Jr=t.unstable_requestPaint,tn=t.unstable_now,Gn=t.unstable_getCurrentPriorityLevel,se=t.unstable_ImmediatePriority,ve=t.unstable_UserBlockingPriority,De=t.unstable_NormalPriority,Be=t.unstable_LowPriority,tt=t.unstable_IdlePriority,ue=t.log,Je=t.unstable_setDisableYieldValue,Xe=null,_t=null;function Bt(r){if(typeof ue=="function"&&Je(r),_t&&typeof _t.setStrictMode=="function")try{_t.setStrictMode(Xe,r)}catch{}}var $e=Math.clz32?Math.clz32:Vu,xi=Math.log,vn=Math.LN2;function Vu(r){return r>>>=0,r===0?32:31-(xi(r)/vn|0)|0}var Hi=256,Ho=262144,zt=4194304;function Gi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Yi(r,s,a){var c=r.pendingLanes;if(c===0)return 0;var _=0,v=r.suspendedLanes,x=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~v,c!==0?_=Gi(c):(x&=w,x!==0?_=Gi(x):a||(a=w&~r,a!==0&&(_=Gi(a))))):(w=c&~v,w!==0?_=Gi(w):x!==0?_=Gi(x):a||(a=c&~r,a!==0&&(_=Gi(a)))),_===0?0:s!==0&&s!==_&&(s&v)===0&&(v=_&-_,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:_}function Ci(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Rd(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lu(){var r=zt;return zt<<=1,(zt&62914560)===0&&(zt=4194304),r}function Ji(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Go(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function bd(r,s,a,c,_,v){var x=r.pendingLanes;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=a,r.entangledLanes&=a,r.errorRecoveryDisabledLanes&=a,r.shellSuspendCounter=0;var w=r.entanglements,G=r.expirationTimes,W=r.hiddenUpdates;for(a=x&~a;0<a;){var oe=31-$e(a),ce=1<<oe;w[oe]=0,G[oe]=-1;var Z=W[oe];if(Z!==null)for(W[oe]=null,oe=0;oe<Z.length;oe++){var ne=Z[oe];ne!==null&&(ne.lane&=-536870913)}a&=~ce}c!==0&&Yo(r,c,0),v!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=v&~(x&~s))}function Yo(r,s,a){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-$e(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|a&261930}function Kl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-$e(a),_=1<<c;_&s|r[c]&s&&(r[c]|=s),a&=~_}}function Ql(r,s){var a=s&-s;return a=(a&42)!==0?1:Jo(a),(a&(r.suspendedLanes|s))!==0?0:a}function Jo(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Er(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Uu(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:xv(r.type))}function Ii(r,s){var a=te.p;try{return te.p=r,s()}finally{te.p=a}}var wi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+wi,sn="__reactProps$"+wi,$i="__reactContainer$"+wi,Rs="__reactEvents$"+wi,Nd="__reactListeners$"+wi,Ou="__reactHandles$"+wi,Fu="__reactResources$"+wi,Ki="__reactMarker$"+wi;function bs(r){delete r[Ht],delete r[sn],delete r[Rs],delete r[Nd],delete r[Ou]}function Qi(r){var s=r[Ht];if(s)return s;for(var a=r.parentNode;a;){if(s=a[$i]||a[Ht]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=av(r);r!==null;){if(a=r[Ht])return a;r=av(r)}return s}r=a,a=r.parentNode}return null}function li(r){if(r=r[Ht]||r[$i]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Yn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Xi(r){var s=r[Fu];return s||(s=r[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Gt(r){r[Ki]=!0}var Xl=new Set,Wl={};function Wi(r,s){ji(r,s),ji(r+"Capture",s)}function ji(r,s){for(Wl[r]=s,r=0;r<s.length;r++)Xl.add(s[r])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},ea={};function qu(r){return wt.call(ea,r)?!0:wt.call(Zl,r)?!1:jl.test(r)?ea[r]=!0:(Zl[r]=!0,!1)}function Ns(r,s,a){if(qu(s))if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+a)}}function Jn(r,s,a){if(a===null)r.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+a)}}function Yt(r,s,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttributeNS(s,a,""+c)}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $r(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ta(r,s,a){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var _=c.get,v=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return _.call(this)},set:function(x){a=""+x,v.call(this,x)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(x){a=""+x},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function mt(r){if(!r._valueTracker){var s=$r(r)?"checked":"value";r._valueTracker=ta(r,s,""+r[s])}}function $o(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=$r(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Zi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Ko=/[\n"\\]/g;function Mn(r){return r.replace(Ko,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ds(r,s,a,c,_,v,x,w){r.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?r.type=x:r.removeAttribute("type"),s!=null?x==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ln(s)):r.value!==""+ln(s)&&(r.value=""+ln(s)):x!=="submit"&&x!=="reset"||r.removeAttribute("value"),s!=null?na(r,x,ln(s)):a!=null?na(r,x,ln(a)):c!=null&&r.removeAttribute("value"),_==null&&v!=null&&(r.defaultChecked=!!v),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+ln(w):r.removeAttribute("name")}function Bu(r,s,a,c,_,v,x,w){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(r.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){mt(r);return}a=a!=null?""+ln(a):"",s=s!=null?""+ln(s):a,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??_,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.name=x),mt(r)}function na(r,s,a){s==="number"&&Zi(r.ownerDocument)===r||r.defaultValue===""+a||(r.defaultValue=""+a)}function Kr(r,s,a,c){if(r=r.options,s){s={};for(var _=0;_<a.length;_++)s["$"+a[_]]=!0;for(a=0;a<r.length;a++)_=s.hasOwnProperty("$"+r[a].value),r[a].selected!==_&&(r[a].selected=_),_&&c&&(r[a].defaultSelected=!0)}else{for(a=""+ln(a),s=null,_=0;_<r.length;_++){if(r[_].value===a){r[_].selected=!0,c&&(r[_].defaultSelected=!0);return}s!==null||r[_].disabled||(s=r[_])}s!==null&&(s.selected=!0)}}function zu(r,s,a){if(s!=null&&(s=""+ln(s),s!==r.value&&(r.value=s),a==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=a!=null?""+ln(a):""}function Qr(r,s,a,c){if(s==null){if(c!=null){if(a!=null)throw Error(i(92));if(me(c)){if(1<c.length)throw Error(i(93));c=c[0]}a=c}a==null&&(a=""),s=a}a=ln(s),r.defaultValue=a,c=r.textContent,c===a&&c!==""&&c!==null&&(r.value=c),mt(r)}function Pn(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ia(r,s,a){var c=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,a):typeof a!="number"||a===0||Hu.has(s)?s==="float"?r.cssFloat=a:r[s]=(""+a).trim():r[s]=a+"px"}function ra(r,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var _ in s)c=s[_],s.hasOwnProperty(_)&&a[_]!==c&&ia(r,_,c)}else for(var v in s)s.hasOwnProperty(v)&&ia(r,v,s[v])}function Ms(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(r){return Xr.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ri(){}var oa=null;function ai(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Wr=null,er=null;function Qo(r){var s=li(r);if(s&&(r=s.stateNode)){var a=r[sn]||null;e:switch(r=s.stateNode,s.type){case"input":if(Ds(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var _=c[sn]||null;if(!_)throw Error(i(90));Ds(c,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<a.length;s++)c=a[s],c.form===r.form&&$o(c)}break e;case"textarea":zu(r,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Kr(r,!!a.multiple,s,!1)}}}var ks=!1;function jr(r,s,a){if(ks)return r(s,a);ks=!0;try{var c=r(s);return c}finally{if(ks=!1,(Wr!==null||er!==null)&&(Uc(),Wr&&(s=Wr,r=er,er=Wr=null,Qo(s),r)))for(s=0;s<r.length;s++)Qo(r[s])}}function bi(r,s){var a=r.stateNode;if(a===null)return null;var c=a[sn]||null;if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(ui)try{var vt={};Object.defineProperty(vt,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",vt,vt),window.removeEventListener("test",vt,vt)}catch{Xo=!1}var tr=null,sa=null,Wo=null;function la(){if(Wo)return Wo;var r,s=sa,a=s.length,c,_="value"in tr?tr.value:tr.textContent,v=_.length;for(r=0;r<a&&s[r]===_[r];r++);var x=a-r;for(c=1;c<=x&&s[a-c]===_[v-c];c++);return Wo=_.slice(r,1<c?1-c:void 0)}function jo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Tr(){return!0}function Ni(){return!1}function fn(r){function s(a,c,_,v,x){this._reactName=a,this._targetInst=_,this.type=c,this.nativeEvent=v,this.target=x,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(v):v[w]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Tr:Ni,this.isPropagationStopped=Ni,this}return E(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Tr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Tr)},persist:function(){},isPersistent:Tr}),s}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=fn(Sr),Zr=E({},Sr,{view:0,detail:0}),aa=fn(Zr),eo,Vs,ir,Ls=E({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:to,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ir&&(ir&&r.type==="mousemove"?(eo=r.screenX-ir.screenX,Vs=r.screenY-ir.screenY):Vs=eo=0,ir=r),eo)},movementY:function(r){return"movementY"in r?r.movementY:Vs}}),ua=fn(Ls),Zo=E({},Ls,{dataTransfer:0}),Yu=fn(Zo),Ju=E({},Zr,{relatedTarget:0}),es=fn(Ju),ca=E({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),$u=fn(ca),Us=E({},Sr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ku=fn(Us),Qu=E({},Sr,{data:0}),rr=fn(Qu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ju[r])?!!s[r]:!1}function to(){return Zu}var wn=E({},Zr,{key:function(r){if(r.key){var s=Xu[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=jo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Wu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:to,charCode:function(r){return r.type==="keypress"?jo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?jo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ec=fn(wn),tc=E({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ar=fn(tc),g=E({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:to}),S=fn(g),C=E({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=fn(C),Q=E({},Ls,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ee=fn(Q),Ee=E({},Sr,{newState:0,oldState:0}),ze=fn(Ee),Ut=[9,13,27,32],ft=ui&&"CompositionEvent"in window,Mt=null;ui&&"documentMode"in document&&(Mt=document.documentMode);var ci=ui&&"TextEvent"in window&&!Mt,or=ui&&(!ft||Mt&&8<Mt&&11>=Mt),Di=" ",Mi=!1;function ts(r,s){switch(r){case"keyup":return Ut.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Os(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Fs=!1;function HC(r,s){switch(r){case"compositionend":return Os(s);case"keypress":return s.which!==32?null:(Mi=!0,Di);case"textInput":return r=s.data,r===Di&&Mi?null:r;default:return null}}function GC(r,s){if(Fs)return r==="compositionend"||!ft&&ts(r,s)?(r=la(),Wo=sa=tr=null,Fs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return or&&s.locale!=="ko"?null:s.data;default:return null}}var YC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!YC[r.type]:s==="textarea"}function dy(r,s,a,c){Wr?er?er.push(c):er=[c]:Wr=c,s=Gc(s,"onChange"),0<s.length&&(a=new nr("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var fa=null,da=null;function JC(r){K_(r,0)}function nc(r){var s=Yn(r);if($o(s))return r}function hy(r,s){if(r==="change")return s}var py=!1;if(ui){var Dd;if(ui){var Md="oninput"in document;if(!Md){var my=document.createElement("div");my.setAttribute("oninput","return;"),Md=typeof my.oninput=="function"}Dd=Md}else Dd=!1;py=Dd&&(!document.documentMode||9<document.documentMode)}function gy(){fa&&(fa.detachEvent("onpropertychange",yy),da=fa=null)}function yy(r){if(r.propertyName==="value"&&nc(da)){var s=[];dy(s,da,r,ai(r)),jr(JC,s)}}function $C(r,s,a){r==="focusin"?(gy(),fa=s,da=a,fa.attachEvent("onpropertychange",yy)):r==="focusout"&&gy()}function KC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return nc(da)}function QC(r,s){if(r==="click")return nc(s)}function XC(r,s){if(r==="input"||r==="change")return nc(s)}function WC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:WC;function ha(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var _=a[c];if(!wt.call(s,_)||!$n(r[_],s[_]))return!1}return!0}function _y(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vy(r,s){var a=_y(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_y(a)}}function Ey(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Ey(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Ty(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Zi(r.document);s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Zi(r.document)}return s}function Pd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var jC=ui&&"documentMode"in document&&11>=document.documentMode,qs=null,kd=null,pa=null,Vd=!1;function Sy(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vd||qs==null||qs!==Zi(c)||(c=qs,"selectionStart"in c&&Pd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),pa&&ha(pa,c)||(pa=c,c=Gc(kd,"onSelect"),0<c.length&&(s=new nr("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=qs)))}function ns(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Bs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Ld={},Ay={};ui&&(Ay=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function is(r){if(Ld[r])return Ld[r];if(!Bs[r])return r;var s=Bs[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Ay)return Ld[r]=s[a];return r}var xy=is("animationend"),Cy=is("animationiteration"),Iy=is("animationstart"),ZC=is("transitionrun"),eI=is("transitionstart"),tI=is("transitioncancel"),wy=is("transitionend"),Ry=new Map,Ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ud.push("scrollEnd");function Pi(r,s){Ry.set(r,s),Wi(s,[r])}var ic=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},fi=[],zs=0,Od=0;function rc(){for(var r=zs,s=Od=zs=0;s<r;){var a=fi[s];fi[s++]=null;var c=fi[s];fi[s++]=null;var _=fi[s];fi[s++]=null;var v=fi[s];if(fi[s++]=null,c!==null&&_!==null){var x=c.pending;x===null?_.next=_:(_.next=x.next,x.next=_),c.pending=_}v!==0&&by(a,_,v)}}function oc(r,s,a,c){fi[zs++]=r,fi[zs++]=s,fi[zs++]=a,fi[zs++]=c,Od|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Fd(r,s,a,c){return oc(r,s,a,c),sc(r)}function rs(r,s){return oc(r,null,null,s),sc(r)}function by(r,s,a){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a);for(var _=!1,v=r.return;v!==null;)v.childLanes|=a,c=v.alternate,c!==null&&(c.childLanes|=a),v.tag===22&&(r=v.stateNode,r===null||r._visibility&1||(_=!0)),r=v,v=v.return;return r.tag===3?(v=r.stateNode,_&&s!==null&&(_=31-$e(a),r=v.hiddenUpdates,c=r[_],c===null?r[_]=[s]:c.push(s),s.lane=a|536870912),v):null}function sc(r){if(50<La)throw La=0,Kh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Hs={};function nI(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(r,s,a,c){return new nI(r,s,a,c)}function qd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function xr(r,s){var a=r.alternate;return a===null?(a=Kn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&65011712,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a.refCleanup=r.refCleanup,a}function Ny(r,s){r.flags&=65011714;var a=r.alternate;return a===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,s=a.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function lc(r,s,a,c,_,v){var x=0;if(c=r,typeof r=="function")qd(r)&&(x=1);else if(typeof r=="string")x=lw(r,a,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case b:return r=Kn(31,a,s,_),r.elementType=b,r.lanes=v,r;case U:return os(a.children,_,v,s);case k:x=8,_|=24;break;case z:return r=Kn(12,a,s,_|2),r.elementType=z,r.lanes=v,r;case pe:return r=Kn(13,a,s,_),r.elementType=pe,r.lanes=v,r;case K:return r=Kn(19,a,s,_),r.elementType=K,r.lanes=v,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:x=10;break e;case j:x=9;break e;case re:x=11;break e;case N:x=14;break e;case M:x=16,c=null;break e}x=29,a=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Kn(x,a,s,_),s.elementType=r,s.type=c,s.lanes=v,s}function os(r,s,a,c){return r=Kn(7,r,c,s),r.lanes=a,r}function Bd(r,s,a){return r=Kn(6,r,null,s),r.lanes=a,r}function Dy(r){var s=Kn(18,null,null,0);return s.stateNode=r,s}function zd(r,s,a){return s=Kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var My=new WeakMap;function di(r,s){if(typeof r=="object"&&r!==null){var a=My.get(r);return a!==void 0?a:(s={value:r,source:s,stack:vr(s)},My.set(r,s),s)}return{value:r,source:s,stack:vr(s)}}var Gs=[],Ys=0,ac=null,ma=0,hi=[],pi=0,no=null,sr=1,lr="";function Cr(r,s){Gs[Ys++]=ma,Gs[Ys++]=ac,ac=r,ma=s}function Py(r,s,a){hi[pi++]=sr,hi[pi++]=lr,hi[pi++]=no,no=r;var c=sr;r=lr;var _=32-$e(c)-1;c&=~(1<<_),a+=1;var v=32-$e(s)+_;if(30<v){var x=_-_%5;v=(c&(1<<x)-1).toString(32),c>>=x,_-=x,sr=1<<32-$e(s)+_|a<<_|c,lr=v+r}else sr=1<<v|a<<_|c,lr=r}function Hd(r){r.return!==null&&(Cr(r,1),Py(r,1,0))}function Gd(r){for(;r===ac;)ac=Gs[--Ys],Gs[Ys]=null,ma=Gs[--Ys],Gs[Ys]=null;for(;r===no;)no=hi[--pi],hi[pi]=null,lr=hi[--pi],hi[pi]=null,sr=hi[--pi],hi[pi]=null}function ky(r,s){hi[pi++]=sr,hi[pi++]=lr,hi[pi++]=no,sr=s.id,lr=s.overflow,no=r}var dn=null,Rt=null,nt=!1,io=null,mi=!1,Yd=Error(i(519));function ro(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ga(di(s,r)),Yd}function Vy(r){var s=r.stateNode,a=r.type,c=r.memoizedProps;switch(s[Ht]=r,s[sn]=c,a){case"dialog":Qe("cancel",s),Qe("close",s);break;case"iframe":case"object":case"embed":Qe("load",s);break;case"video":case"audio":for(a=0;a<Oa.length;a++)Qe(Oa[a],s);break;case"source":Qe("error",s);break;case"img":case"image":case"link":Qe("error",s),Qe("load",s);break;case"details":Qe("toggle",s);break;case"input":Qe("invalid",s),Bu(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Qe("invalid",s);break;case"textarea":Qe("invalid",s),Qr(s,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||c.suppressHydrationWarning===!0||j_(s.textContent,a)?(c.popover!=null&&(Qe("beforetoggle",s),Qe("toggle",s)),c.onScroll!=null&&Qe("scroll",s),c.onScrollEnd!=null&&Qe("scrollend",s),c.onClick!=null&&(s.onclick=Ri),s=!0):s=!1,s||ro(r,!0)}function Ly(r){for(dn=r.return;dn;)switch(dn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:dn=dn.return}}function Js(r){if(r!==dn)return!1;if(!nt)return Ly(r),nt=!0,!1;var s=r.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=r.type,a=!(a!=="form"&&a!=="button")||up(r.type,r.memoizedProps)),a=!a),a&&Rt&&ro(r),Ly(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Rt=lv(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Rt=lv(r)}else s===27?(s=Rt,vo(r.type)?(r=pp,pp=null,Rt=r):Rt=s):Rt=dn?yi(r.stateNode.nextSibling):null;return!0}function ss(){Rt=dn=null,nt=!1}function Jd(){var r=io;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),io=null),r}function ga(r){io===null?io=[r]:io.push(r)}var $d=Y(null),ls=null,Ir=null;function oo(r,s,a){P($d,s._currentValue),s._currentValue=a}function wr(r){r._currentValue=$d.current,ie($d)}function Kd(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function Qd(r,s,a,c){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var v=_.dependencies;if(v!==null){var x=_.child;v=v.firstContext;e:for(;v!==null;){var w=v;v=_;for(var G=0;G<s.length;G++)if(w.context===s[G]){v.lanes|=a,w=v.alternate,w!==null&&(w.lanes|=a),Kd(v.return,a,r),c||(x=null);break e}v=w.next}}else if(_.tag===18){if(x=_.return,x===null)throw Error(i(341));x.lanes|=a,v=x.alternate,v!==null&&(v.lanes|=a),Kd(x,a,r),x=null}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===r){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}}function $s(r,s,a,c){r=null;for(var _=s,v=!1;_!==null;){if(!v){if((_.flags&524288)!==0)v=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var x=_.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var w=_.type;$n(_.pendingProps.value,x.value)||(r!==null?r.push(w):r=[w])}}else if(_===Me.current){if(x=_.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(Ha):r=[Ha])}_=_.return}r!==null&&Qd(s,r,a,c),s.flags|=262144}function uc(r){for(r=r.firstContext;r!==null;){if(!$n(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function as(r){ls=r,Ir=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return Uy(ls,r)}function cc(r,s){return ls===null&&as(r),Uy(r,s)}function Uy(r,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},Ir===null){if(r===null)throw Error(i(308));Ir=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ir=Ir.next=s;return a}var iI=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(a,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(a){return a()})}},rI=t.unstable_scheduleCallback,oI=t.unstable_NormalPriority,Jt={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xd(){return{controller:new iI,data:new Map,refCount:0}}function ya(r){r.refCount--,r.refCount===0&&rI(oI,function(){r.controller.abort()})}var _a=null,Wd=0,Ks=0,Qs=null;function sI(r,s){if(_a===null){var a=_a=[];Wd=0,Ks=ep(),Qs={status:"pending",value:void 0,then:function(c){a.push(c)}}}return Wd++,s.then(Oy,Oy),s}function Oy(){if(--Wd===0&&_a!==null){Qs!==null&&(Qs.status="fulfilled");var r=_a;_a=null,Ks=0,Qs=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function lI(r,s){var a=[],c={status:"pending",value:null,reason:null,then:function(_){a.push(_)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var _=0;_<a.length;_++)(0,a[_])(s)},function(_){for(c.status="rejected",c.reason=_,_=0;_<a.length;_++)(0,a[_])(void 0)}),c}var Fy=B.S;B.S=function(r,s){S_=tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sI(r,s),Fy!==null&&Fy(r,s)};var us=Y(null);function jd(){var r=us.current;return r!==null?r:At.pooledCache}function fc(r,s){s===null?P(us,us.current):P(us,s.pool)}function qy(){var r=jd();return r===null?null:{parent:Jt._currentValue,pool:r}}var Xs=Error(i(460)),Zd=Error(i(474)),dc=Error(i(542)),hc={then:function(){}};function By(r){return r=r.status,r==="fulfilled"||r==="rejected"}function zy(r,s,a){switch(a=r[a],a===void 0?r.push(s):a!==s&&(s.then(Ri,Ri),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Gy(r),r;default:if(typeof s.status=="string")s.then(Ri,Ri);else{if(r=At,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=c}},function(c){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Gy(r),r}throw fs=s,Xs}}function cs(r){try{var s=r._init;return s(r._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(fs=a,Xs):a}}var fs=null;function Hy(){if(fs===null)throw Error(i(459));var r=fs;return fs=null,r}function Gy(r){if(r===Xs||r===dc)throw Error(i(483))}var Ws=null,va=0;function pc(r){var s=va;return va+=1,Ws===null&&(Ws=[]),zy(Ws,r,s)}function Ea(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function mc(r,s){throw s.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Yy(r){function s($,J){if(r){var X=$.deletions;X===null?($.deletions=[J],$.flags|=16):X.push(J)}}function a($,J){if(!r)return null;for(;J!==null;)s($,J),J=J.sibling;return null}function c($){for(var J=new Map;$!==null;)$.key!==null?J.set($.key,$):J.set($.index,$),$=$.sibling;return J}function _($,J){return $=xr($,J),$.index=0,$.sibling=null,$}function v($,J,X){return $.index=X,r?(X=$.alternate,X!==null?(X=X.index,X<J?($.flags|=67108866,J):X):($.flags|=67108866,J)):($.flags|=1048576,J)}function x($){return r&&$.alternate===null&&($.flags|=67108866),$}function w($,J,X,ae){return J===null||J.tag!==6?(J=Bd(X,$.mode,ae),J.return=$,J):(J=_(J,X),J.return=$,J)}function G($,J,X,ae){var be=X.type;return be===U?oe($,J,X.props.children,ae,X.key):J!==null&&(J.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&cs(be)===J.type)?(J=_(J,X.props),Ea(J,X),J.return=$,J):(J=lc(X.type,X.key,X.props,null,$.mode,ae),Ea(J,X),J.return=$,J)}function W($,J,X,ae){return J===null||J.tag!==4||J.stateNode.containerInfo!==X.containerInfo||J.stateNode.implementation!==X.implementation?(J=zd(X,$.mode,ae),J.return=$,J):(J=_(J,X.children||[]),J.return=$,J)}function oe($,J,X,ae,be){return J===null||J.tag!==7?(J=os(X,$.mode,ae,be),J.return=$,J):(J=_(J,X),J.return=$,J)}function ce($,J,X){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Bd(""+J,$.mode,X),J.return=$,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return X=lc(J.type,J.key,J.props,null,$.mode,X),Ea(X,J),X.return=$,X;case D:return J=zd(J,$.mode,X),J.return=$,J;case M:return J=cs(J),ce($,J,X)}if(me(J)||q(J))return J=os(J,$.mode,X,null),J.return=$,J;if(typeof J.then=="function")return ce($,pc(J),X);if(J.$$typeof===H)return ce($,cc($,J),X);mc($,J)}return null}function Z($,J,X,ae){var be=J!==null?J.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return be!==null?null:w($,J,""+X,ae);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case A:return X.key===be?G($,J,X,ae):null;case D:return X.key===be?W($,J,X,ae):null;case M:return X=cs(X),Z($,J,X,ae)}if(me(X)||q(X))return be!==null?null:oe($,J,X,ae,null);if(typeof X.then=="function")return Z($,J,pc(X),ae);if(X.$$typeof===H)return Z($,J,cc($,X),ae);mc($,X)}return null}function ne($,J,X,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return $=$.get(X)||null,w(J,$,""+ae,be);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case A:return $=$.get(ae.key===null?X:ae.key)||null,G(J,$,ae,be);case D:return $=$.get(ae.key===null?X:ae.key)||null,W(J,$,ae,be);case M:return ae=cs(ae),ne($,J,X,ae,be)}if(me(ae)||q(ae))return $=$.get(X)||null,oe(J,$,ae,be,null);if(typeof ae.then=="function")return ne($,J,X,pc(ae),be);if(ae.$$typeof===H)return ne($,J,X,cc(J,ae),be);mc(J,ae)}return null}function Ce($,J,X,ae){for(var be=null,at=null,we=J,Ge=J=0,je=null;we!==null&&Ge<X.length;Ge++){we.index>Ge?(je=we,we=null):je=we.sibling;var ut=Z($,we,X[Ge],ae);if(ut===null){we===null&&(we=je);break}r&&we&&ut.alternate===null&&s($,we),J=v(ut,J,Ge),at===null?be=ut:at.sibling=ut,at=ut,we=je}if(Ge===X.length)return a($,we),nt&&Cr($,Ge),be;if(we===null){for(;Ge<X.length;Ge++)we=ce($,X[Ge],ae),we!==null&&(J=v(we,J,Ge),at===null?be=we:at.sibling=we,at=we);return nt&&Cr($,Ge),be}for(we=c(we);Ge<X.length;Ge++)je=ne(we,$,Ge,X[Ge],ae),je!==null&&(r&&je.alternate!==null&&we.delete(je.key===null?Ge:je.key),J=v(je,J,Ge),at===null?be=je:at.sibling=je,at=je);return r&&we.forEach(function(xo){return s($,xo)}),nt&&Cr($,Ge),be}function Pe($,J,X,ae){if(X==null)throw Error(i(151));for(var be=null,at=null,we=J,Ge=J=0,je=null,ut=X.next();we!==null&&!ut.done;Ge++,ut=X.next()){we.index>Ge?(je=we,we=null):je=we.sibling;var xo=Z($,we,ut.value,ae);if(xo===null){we===null&&(we=je);break}r&&we&&xo.alternate===null&&s($,we),J=v(xo,J,Ge),at===null?be=xo:at.sibling=xo,at=xo,we=je}if(ut.done)return a($,we),nt&&Cr($,Ge),be;if(we===null){for(;!ut.done;Ge++,ut=X.next())ut=ce($,ut.value,ae),ut!==null&&(J=v(ut,J,Ge),at===null?be=ut:at.sibling=ut,at=ut);return nt&&Cr($,Ge),be}for(we=c(we);!ut.done;Ge++,ut=X.next())ut=ne(we,$,Ge,ut.value,ae),ut!==null&&(r&&ut.alternate!==null&&we.delete(ut.key===null?Ge:ut.key),J=v(ut,J,Ge),at===null?be=ut:at.sibling=ut,at=ut);return r&&we.forEach(function(_w){return s($,_w)}),nt&&Cr($,Ge),be}function St($,J,X,ae){if(typeof X=="object"&&X!==null&&X.type===U&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case A:e:{for(var be=X.key;J!==null;){if(J.key===be){if(be=X.type,be===U){if(J.tag===7){a($,J.sibling),ae=_(J,X.props.children),ae.return=$,$=ae;break e}}else if(J.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===M&&cs(be)===J.type){a($,J.sibling),ae=_(J,X.props),Ea(ae,X),ae.return=$,$=ae;break e}a($,J);break}else s($,J);J=J.sibling}X.type===U?(ae=os(X.props.children,$.mode,ae,X.key),ae.return=$,$=ae):(ae=lc(X.type,X.key,X.props,null,$.mode,ae),Ea(ae,X),ae.return=$,$=ae)}return x($);case D:e:{for(be=X.key;J!==null;){if(J.key===be)if(J.tag===4&&J.stateNode.containerInfo===X.containerInfo&&J.stateNode.implementation===X.implementation){a($,J.sibling),ae=_(J,X.children||[]),ae.return=$,$=ae;break e}else{a($,J);break}else s($,J);J=J.sibling}ae=zd(X,$.mode,ae),ae.return=$,$=ae}return x($);case M:return X=cs(X),St($,J,X,ae)}if(me(X))return Ce($,J,X,ae);if(q(X)){if(be=q(X),typeof be!="function")throw Error(i(150));return X=be.call(X),Pe($,J,X,ae)}if(typeof X.then=="function")return St($,J,pc(X),ae);if(X.$$typeof===H)return St($,J,cc($,X),ae);mc($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,J!==null&&J.tag===6?(a($,J.sibling),ae=_(J,X),ae.return=$,$=ae):(a($,J),ae=Bd(X,$.mode,ae),ae.return=$,$=ae),x($)):a($,J)}return function($,J,X,ae){try{va=0;var be=St($,J,X,ae);return Ws=null,be}catch(we){if(we===Xs||we===dc)throw we;var at=Kn(29,we,null,$.mode);return at.lanes=ae,at.return=$,at}finally{}}}var ds=Yy(!0),Jy=Yy(!1),so=!1;function eh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function lo(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ao(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(dt&2)!==0){var _=c.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),c.pending=s,s=sc(r),by(r,null,a),s}return oc(r,c,s,a),sc(r)}function Ta(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Kl(r,a)}}function nh(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var _=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?_=v=x:v=v.next=x,a=a.next}while(a!==null);v===null?_=v=s:v=v.next=s}else _=v=s;a={baseState:c.baseState,firstBaseUpdate:_,lastBaseUpdate:v,shared:c.shared,callbacks:c.callbacks},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}var ih=!1;function Sa(){if(ih){var r=Qs;if(r!==null)throw r}}function Aa(r,s,a,c){ih=!1;var _=r.updateQueue;so=!1;var v=_.firstBaseUpdate,x=_.lastBaseUpdate,w=_.shared.pending;if(w!==null){_.shared.pending=null;var G=w,W=G.next;G.next=null,x===null?v=W:x.next=W,x=G;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,w=oe.lastBaseUpdate,w!==x&&(w===null?oe.firstBaseUpdate=W:w.next=W,oe.lastBaseUpdate=G))}if(v!==null){var ce=_.baseState;x=0,oe=W=G=null,w=v;do{var Z=w.lane&-536870913,ne=Z!==w.lane;if(ne?(We&Z)===Z:(c&Z)===Z){Z!==0&&Z===Ks&&(ih=!0),oe!==null&&(oe=oe.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ce=r,Pe=w;Z=s;var St=a;switch(Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){ce=Ce.call(St,ce,Z);break e}ce=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,Z=typeof Ce=="function"?Ce.call(St,ce,Z):Ce,Z==null)break e;ce=E({},ce,Z);break e;case 2:so=!0}}Z=w.callback,Z!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=_.callbacks,ne===null?_.callbacks=[Z]:ne.push(Z))}else ne={lane:Z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},oe===null?(W=oe=ne,G=ce):oe=oe.next=ne,x|=Z;if(w=w.next,w===null){if(w=_.shared.pending,w===null)break;ne=w,w=ne.next,ne.next=null,_.lastBaseUpdate=ne,_.shared.pending=null}}while(!0);oe===null&&(G=ce),_.baseState=G,_.firstBaseUpdate=W,_.lastBaseUpdate=oe,v===null&&(_.shared.lanes=0),po|=x,r.lanes=x,r.memoizedState=ce}}function $y(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Ky(r,s){var a=r.callbacks;if(a!==null)for(r.callbacks=null,r=0;r<a.length;r++)$y(a[r],s)}var js=Y(null),gc=Y(0);function Qy(r,s){r=Lr,P(gc,r),P(js,s),Lr=r|s.baseLanes}function rh(){P(gc,Lr),P(js,js.current)}function oh(){Lr=gc.current,ie(js),ie(gc)}var Qn=Y(null),gi=null;function uo(r){var s=r.alternate;P(Ot,Ot.current&1),P(Qn,r),gi===null&&(s===null||js.current!==null||s.memoizedState!==null)&&(gi=r)}function sh(r){P(Ot,Ot.current),P(Qn,r),gi===null&&(gi=r)}function Xy(r){r.tag===22?(P(Ot,Ot.current),P(Qn,r),gi===null&&(gi=r)):co()}function co(){P(Ot,Ot.current),P(Qn,Qn.current)}function Xn(r){ie(Qn),gi===r&&(gi=null),ie(Ot)}var Ot=Y(0);function yc(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dp(a)||hp(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rr=0,He=null,Et=null,$t=null,_c=!1,Zs=!1,hs=!1,vc=0,xa=0,el=null,aI=0;function Vt(){throw Error(i(321))}function lh(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function ah(r,s,a,c,_,v){return Rr=v,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=r===null||r.memoizedState===null?P0:Ah,hs=!1,v=a(c,_),hs=!1,Zs&&(v=jy(s,a,c,_)),Wy(r),v}function Wy(r){B.H=wa;var s=Et!==null&&Et.next!==null;if(Rr=0,$t=Et=He=null,_c=!1,xa=0,el=null,s)throw Error(i(300));r===null||Kt||(r=r.dependencies,r!==null&&uc(r)&&(Kt=!0))}function jy(r,s,a,c){He=r;var _=0;do{if(Zs&&(el=null),xa=0,Zs=!1,25<=_)throw Error(i(301));if(_+=1,$t=Et=null,r.updateQueue!=null){var v=r.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}B.H=k0,v=s(a,c)}while(Zs);return v}function uI(){var r=B.H,s=r.useState()[0];return s=typeof s.then=="function"?Ca(s):s,r=r.useState()[0],(Et!==null?Et.memoizedState:null)!==r&&(He.flags|=1024),s}function uh(){var r=vc!==0;return vc=0,r}function ch(r,s,a){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~a}function fh(r){if(_c){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_c=!1}Rr=0,$t=Et=He=null,Zs=!1,xa=vc=0,el=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?He.memoizedState=$t=r:$t=$t.next=r,$t}function Ft(){if(Et===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=Et.next;var s=$t===null?He.memoizedState:$t.next;if(s!==null)$t=s,Et=r;else{if(r===null)throw He.alternate===null?Error(i(467)):Error(i(310));Et=r,r={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},$t===null?He.memoizedState=$t=r:$t=$t.next=r}return $t}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ca(r){var s=xa;return xa+=1,el===null&&(el=[]),r=zy(el,r,s),s=He,($t===null?s.memoizedState:$t.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?P0:Ah),r}function Tc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ca(r);if(r.$$typeof===H)return hn(r)}throw Error(i(438,String(r)))}function dh(r){var s=null,a=He.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var c=He.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Ec(),He.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(r),c=0;c<r;c++)a[c]=F;return s.index++,a}function br(r,s){return typeof s=="function"?s(r):s}function Sc(r){var s=Ft();return hh(s,Et,r)}function hh(r,s,a){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=a;var _=r.baseQueue,v=c.pending;if(v!==null){if(_!==null){var x=_.next;_.next=v.next,v.next=x}s.baseQueue=_=v,c.pending=null}if(v=r.baseState,_===null)r.memoizedState=v;else{s=_.next;var w=x=null,G=null,W=s,oe=!1;do{var ce=W.lane&-536870913;if(ce!==W.lane?(We&ce)===ce:(Rr&ce)===ce){var Z=W.revertLane;if(Z===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ce===Ks&&(oe=!0);else if((Rr&Z)===Z){W=W.next,Z===Ks&&(oe=!0);continue}else ce={lane:0,revertLane:W.revertLane,gesture:null,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},G===null?(w=G=ce,x=v):G=G.next=ce,He.lanes|=Z,po|=Z;ce=W.action,hs&&a(v,ce),v=W.hasEagerState?W.eagerState:a(v,ce)}else Z={lane:ce,revertLane:W.revertLane,gesture:W.gesture,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},G===null?(w=G=Z,x=v):G=G.next=Z,He.lanes|=ce,po|=ce;W=W.next}while(W!==null&&W!==s);if(G===null?x=v:G.next=w,!$n(v,r.memoizedState)&&(Kt=!0,oe&&(a=Qs,a!==null)))throw a;r.memoizedState=v,r.baseState=x,r.baseQueue=G,c.lastRenderedState=v}return _===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function ph(r){var s=Ft(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=r;var c=a.dispatch,_=a.pending,v=s.memoizedState;if(_!==null){a.pending=null;var x=_=_.next;do v=r(v,x.action),x=x.next;while(x!==_);$n(v,s.memoizedState)||(Kt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,c]}function Zy(r,s,a){var c=He,_=Ft(),v=nt;if(v){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!$n((Et||_).memoizedState,a);if(x&&(_.memoizedState=a,Kt=!0),_=_.queue,yh(n0.bind(null,c,_,r),[r]),_.getSnapshot!==s||x||$t!==null&&$t.memoizedState.tag&1){if(c.flags|=2048,tl(9,{destroy:void 0},t0.bind(null,c,_,a,s),null),At===null)throw Error(i(349));v||(Rr&127)!==0||e0(c,s,a)}return a}function e0(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s=Ec(),He.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function t0(r,s,a,c){s.value=a,s.getSnapshot=c,i0(s)&&r0(r)}function n0(r,s,a){return a(function(){i0(s)&&r0(r)})}function i0(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function r0(r){var s=rs(r,2);s!==null&&On(s,r,2)}function mh(r){var s=Rn();if(typeof r=="function"){var a=r;if(r=a(),hs){Bt(!0);try{a()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:r},s}function o0(r,s,a,c){return r.baseState=a,hh(r,Et,typeof c=="function"?c:br)}function cI(r,s,a,c,_){if(Cc(r))throw Error(i(485));if(r=s.action,r!==null){var v={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){v.listeners.push(x)}};B.T!==null?a(!0):v.isTransition=!1,c(v),a=s.pending,a===null?(v.next=s.pending=v,s0(s,v)):(v.next=a.next,s.pending=a.next=v)}}function s0(r,s){var a=s.action,c=s.payload,_=r.state;if(s.isTransition){var v=B.T,x={};B.T=x;try{var w=a(_,c),G=B.S;G!==null&&G(x,w),l0(r,s,w)}catch(W){gh(r,s,W)}finally{v!==null&&x.types!==null&&(v.types=x.types),B.T=v}}else try{v=a(_,c),l0(r,s,v)}catch(W){gh(r,s,W)}}function l0(r,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){a0(r,s,c)},function(c){return gh(r,s,c)}):a0(r,s,a)}function a0(r,s,a){s.status="fulfilled",s.value=a,u0(s),r.state=a,s=r.pending,s!==null&&(a=s.next,a===s?r.pending=null:(a=a.next,s.next=a,s0(r,a)))}function gh(r,s,a){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=a,u0(s),s=s.next;while(s!==c)}r.action=null}function u0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function c0(r,s){return s}function f0(r,s){if(nt){var a=At.formState;if(a!==null){e:{var c=He;if(nt){if(Rt){t:{for(var _=Rt,v=mi;_.nodeType!==8;){if(!v){_=null;break t}if(_=yi(_.nextSibling),_===null){_=null;break t}}v=_.data,_=v==="F!"||v==="F"?_:null}if(_){Rt=yi(_.nextSibling),c=_.data==="F!";break e}}ro(c)}c=!1}c&&(s=a[0])}}return a=Rn(),a.memoizedState=a.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c0,lastRenderedState:s},a.queue=c,a=N0.bind(null,He,c),c.dispatch=a,c=mh(!1),v=Sh.bind(null,He,!1,c.queue),c=Rn(),_={state:s,dispatch:null,action:r,pending:null},c.queue=_,a=cI.bind(null,He,_,v,a),_.dispatch=a,c.memoizedState=r,[s,a,!1]}function d0(r){var s=Ft();return h0(s,Et,r)}function h0(r,s,a){if(s=hh(r,s,c0)[0],r=Sc(br)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ca(s)}catch(x){throw x===Xs?dc:x}else c=s;s=Ft();var _=s.queue,v=_.dispatch;return a!==s.memoizedState&&(He.flags|=2048,tl(9,{destroy:void 0},fI.bind(null,_,a),null)),[c,v,r]}function fI(r,s){r.action=s}function p0(r){var s=Ft(),a=Et;if(a!==null)return h0(s,a,r);Ft(),s=s.memoizedState,a=Ft();var c=a.queue.dispatch;return a.memoizedState=r,[s,c,!1]}function tl(r,s,a,c){return r={tag:r,create:a,deps:c,inst:s,next:null},s=He.updateQueue,s===null&&(s=Ec(),He.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r),r}function m0(){return Ft().memoizedState}function Ac(r,s,a,c){var _=Rn();He.flags|=r,_.memoizedState=tl(1|s,{destroy:void 0},a,c===void 0?null:c)}function xc(r,s,a,c){var _=Ft();c=c===void 0?null:c;var v=_.memoizedState.inst;Et!==null&&c!==null&&lh(c,Et.memoizedState.deps)?_.memoizedState=tl(s,v,a,c):(He.flags|=r,_.memoizedState=tl(1|s,v,a,c))}function g0(r,s){Ac(8390656,8,r,s)}function yh(r,s){xc(2048,8,r,s)}function dI(r){He.flags|=4;var s=He.updateQueue;if(s===null)s=Ec(),He.updateQueue=s,s.events=[r];else{var a=s.events;a===null?s.events=[r]:a.push(r)}}function y0(r){var s=Ft().memoizedState;return dI({ref:s,nextImpl:r}),function(){if((dt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function _0(r,s){return xc(4,2,r,s)}function v0(r,s){return xc(4,4,r,s)}function E0(r,s){if(typeof s=="function"){r=r();var a=s(r);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function T0(r,s,a){a=a!=null?a.concat([r]):null,xc(4,4,E0.bind(null,s,r),a)}function _h(){}function S0(r,s){var a=Ft();s=s===void 0?null:s;var c=a.memoizedState;return s!==null&&lh(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function A0(r,s){var a=Ft();s=s===void 0?null:s;var c=a.memoizedState;if(s!==null&&lh(s,c[1]))return c[0];if(c=r(),hs){Bt(!0);try{r()}finally{Bt(!1)}}return a.memoizedState=[c,s],c}function vh(r,s,a){return a===void 0||(Rr&1073741824)!==0&&(We&261930)===0?r.memoizedState=s:(r.memoizedState=a,r=x_(),He.lanes|=r,po|=r,a)}function x0(r,s,a,c){return $n(a,s)?a:js.current!==null?(r=vh(r,a,c),$n(r,s)||(Kt=!0),r):(Rr&42)===0||(Rr&1073741824)!==0&&(We&261930)===0?(Kt=!0,r.memoizedState=a):(r=x_(),He.lanes|=r,po|=r,s)}function C0(r,s,a,c,_){var v=te.p;te.p=v!==0&&8>v?v:8;var x=B.T,w={};B.T=w,Sh(r,!1,s,a);try{var G=_(),W=B.S;if(W!==null&&W(w,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var oe=lI(G,c);Ia(r,s,oe,Zn(r))}else Ia(r,s,c,Zn(r))}catch(ce){Ia(r,s,{then:function(){},status:"rejected",reason:ce},Zn())}finally{te.p=v,x!==null&&w.types!==null&&(x.types=w.types),B.T=x}}function hI(){}function Eh(r,s,a,c){if(r.tag!==5)throw Error(i(476));var _=I0(r).queue;C0(r,_,s,he,a===null?hI:function(){return w0(r),a(c)})}function I0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:he},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:a},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function w0(r){var s=I0(r);s.next===null&&(s=r.alternate.memoizedState),Ia(r,s.next.queue,{},Zn())}function Th(){return hn(Ha)}function R0(){return Ft().memoizedState}function b0(){return Ft().memoizedState}function pI(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var a=Zn();r=lo(a);var c=ao(s,r,a);c!==null&&(On(c,s,a),Ta(c,s,a)),s={cache:Xd()},r.payload=s;return}s=s.return}}function mI(r,s,a){var c=Zn();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(r)?D0(s,a):(a=Fd(r,s,a,c),a!==null&&(On(a,r,c),M0(a,s,c)))}function N0(r,s,a){var c=Zn();Ia(r,s,a,c)}function Ia(r,s,a,c){var _={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(r))D0(s,_);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var x=s.lastRenderedState,w=v(x,a);if(_.hasEagerState=!0,_.eagerState=w,$n(w,x))return oc(r,s,_,0),At===null&&rc(),!1}catch{}finally{}if(a=Fd(r,s,_,c),a!==null)return On(a,r,c),M0(a,s,c),!0}return!1}function Sh(r,s,a,c){if(c={lane:2,revertLane:ep(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Cc(r)){if(s)throw Error(i(479))}else s=Fd(r,a,c,2),s!==null&&On(s,r,2)}function Cc(r){var s=r.alternate;return r===He||s!==null&&s===He}function D0(r,s){Zs=_c=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function M0(r,s,a){if((a&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,Kl(r,a)}}var wa={readContext:hn,use:Tc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};wa.useEffectEvent=Vt;var P0={readContext:hn,use:Tc,useCallback:function(r,s){return Rn().memoizedState=[r,s===void 0?null:s],r},useContext:hn,useEffect:g0,useImperativeHandle:function(r,s,a){a=a!=null?a.concat([r]):null,Ac(4194308,4,E0.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Ac(4194308,4,r,s)},useInsertionEffect:function(r,s){Ac(4,2,r,s)},useMemo:function(r,s){var a=Rn();s=s===void 0?null:s;var c=r();if(hs){Bt(!0);try{r()}finally{Bt(!1)}}return a.memoizedState=[c,s],c},useReducer:function(r,s,a){var c=Rn();if(a!==void 0){var _=a(s);if(hs){Bt(!0);try{a(s)}finally{Bt(!1)}}}else _=s;return c.memoizedState=c.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},c.queue=r,r=r.dispatch=mI.bind(null,He,r),[c.memoizedState,r]},useRef:function(r){var s=Rn();return r={current:r},s.memoizedState=r},useState:function(r){r=mh(r);var s=r.queue,a=N0.bind(null,He,s);return s.dispatch=a,[r.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(r,s){var a=Rn();return vh(a,r,s)},useTransition:function(){var r=mh(!1);return r=C0.bind(null,He,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,a){var c=He,_=Rn();if(nt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),At===null)throw Error(i(349));(We&127)!==0||e0(c,s,a)}_.memoizedState=a;var v={value:a,getSnapshot:s};return _.queue=v,g0(n0.bind(null,c,v,r),[r]),c.flags|=2048,tl(9,{destroy:void 0},t0.bind(null,c,v,a,s),null),a},useId:function(){var r=Rn(),s=At.identifierPrefix;if(nt){var a=lr,c=sr;a=(c&~(1<<32-$e(c)-1)).toString(32)+a,s="_"+s+"R_"+a,a=vc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=aI++,s="_"+s+"r_"+a.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Th,useFormState:f0,useActionState:f0,useOptimistic:function(r){var s=Rn();s.memoizedState=s.baseState=r;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Sh.bind(null,He,!0,a),a.dispatch=s,[r,s]},useMemoCache:dh,useCacheRefresh:function(){return Rn().memoizedState=pI.bind(null,He)},useEffectEvent:function(r){var s=Rn(),a={impl:r};return s.memoizedState=a,function(){if((dt&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},Ah={readContext:hn,use:Tc,useCallback:S0,useContext:hn,useEffect:yh,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:A0,useReducer:Sc,useRef:m0,useState:function(){return Sc(br)},useDebugValue:_h,useDeferredValue:function(r,s){var a=Ft();return x0(a,Et.memoizedState,r,s)},useTransition:function(){var r=Sc(br)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:Ca(r),s]},useSyncExternalStore:Zy,useId:R0,useHostTransitionStatus:Th,useFormState:d0,useActionState:d0,useOptimistic:function(r,s){var a=Ft();return o0(a,Et,r,s)},useMemoCache:dh,useCacheRefresh:b0};Ah.useEffectEvent=y0;var k0={readContext:hn,use:Tc,useCallback:S0,useContext:hn,useEffect:yh,useImperativeHandle:T0,useInsertionEffect:_0,useLayoutEffect:v0,useMemo:A0,useReducer:ph,useRef:m0,useState:function(){return ph(br)},useDebugValue:_h,useDeferredValue:function(r,s){var a=Ft();return Et===null?vh(a,r,s):x0(a,Et.memoizedState,r,s)},useTransition:function(){var r=ph(br)[0],s=Ft().memoizedState;return[typeof r=="boolean"?r:Ca(r),s]},useSyncExternalStore:Zy,useId:R0,useHostTransitionStatus:Th,useFormState:p0,useActionState:p0,useOptimistic:function(r,s){var a=Ft();return Et!==null?o0(a,Et,r,s):(a.baseState=r,[r,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:b0};k0.useEffectEvent=y0;function xh(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:E({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ch={enqueueSetState:function(r,s,a){r=r._reactInternals;var c=Zn(),_=lo(c);_.payload=s,a!=null&&(_.callback=a),s=ao(r,_,c),s!==null&&(On(s,r,c),Ta(s,r,c))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=Zn(),_=lo(c);_.tag=1,_.payload=s,a!=null&&(_.callback=a),s=ao(r,_,c),s!==null&&(On(s,r,c),Ta(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Zn(),c=lo(a);c.tag=2,s!=null&&(c.callback=s),s=ao(r,c,a),s!==null&&(On(s,r,a),Ta(s,r,a))}};function V0(r,s,a,c,_,v,x){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,v,x):s.prototype&&s.prototype.isPureReactComponent?!ha(a,c)||!ha(_,v):!0}function L0(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&Ch.enqueueReplaceState(s,s.state,null)}function ps(r,s){var a=s;if("ref"in s){a={};for(var c in s)c!=="ref"&&(a[c]=s[c])}if(r=r.defaultProps){a===s&&(a=E({},a));for(var _ in r)a[_]===void 0&&(a[_]=r[_])}return a}function U0(r){ic(r)}function O0(r){console.error(r)}function F0(r){ic(r)}function Ic(r,s){try{var a=r.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function q0(r,s,a){try{var c=r.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Ih(r,s,a){return a=lo(a),a.tag=3,a.payload={element:null},a.callback=function(){Ic(r,s)},a}function B0(r){return r=lo(r),r.tag=3,r}function z0(r,s,a,c){var _=a.type.getDerivedStateFromError;if(typeof _=="function"){var v=c.value;r.payload=function(){return _(v)},r.callback=function(){q0(s,a,c)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(r.callback=function(){q0(s,a,c),typeof _!="function"&&(mo===null?mo=new Set([this]):mo.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function gI(r,s,a,c,_){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=a.alternate,s!==null&&$s(s,a,_,!0),a=Qn.current,a!==null){switch(a.tag){case 31:case 13:return gi===null?Oc():a.alternate===null&&Lt===0&&(Lt=3),a.flags&=-257,a.flags|=65536,a.lanes=_,c===hc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([c]):s.add(c),Wh(r,c,_)),!1;case 22:return a.flags|=65536,c===hc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([c]):a.add(c)),Wh(r,c,_)),!1}throw Error(i(435,a.tag))}return Wh(r,c,_),Oc(),!1}if(nt)return s=Qn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,c!==Yd&&(r=Error(i(422),{cause:c}),ga(di(r,a)))):(c!==Yd&&(s=Error(i(423),{cause:c}),ga(di(s,a))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,c=di(c,a),_=Ih(r.stateNode,c,_),nh(r,_),Lt!==4&&(Lt=2)),!1;var v=Error(i(520),{cause:c});if(v=di(v,a),Va===null?Va=[v]:Va.push(v),Lt!==4&&(Lt=2),s===null)return!0;c=di(c,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,r=_&-_,a.lanes|=r,r=Ih(a.stateNode,c,r),nh(a,r),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(mo===null||!mo.has(v))))return a.flags|=65536,_&=-_,a.lanes|=_,_=B0(_),z0(_,r,a,c),nh(a,_),!1}a=a.return}while(a!==null);return!1}var wh=Error(i(461)),Kt=!1;function pn(r,s,a,c){s.child=r===null?Jy(s,null,a,c):ds(s,r.child,a,c)}function H0(r,s,a,c,_){a=a.render;var v=s.ref;if("ref"in c){var x={};for(var w in c)w!=="ref"&&(x[w]=c[w])}else x=c;return as(s),c=ah(r,s,a,x,v,_),w=uh(),r!==null&&!Kt?(ch(r,s,_),Nr(r,s,_)):(nt&&w&&Hd(s),s.flags|=1,pn(r,s,c,_),s.child)}function G0(r,s,a,c,_){if(r===null){var v=a.type;return typeof v=="function"&&!qd(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,Y0(r,s,v,c,_)):(r=lc(a.type,null,c,s,s.mode,_),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!Vh(r,_)){var x=v.memoizedProps;if(a=a.compare,a=a!==null?a:ha,a(x,c)&&r.ref===s.ref)return Nr(r,s,_)}return s.flags|=1,r=xr(v,c),r.ref=s.ref,r.return=s,s.child=r}function Y0(r,s,a,c,_){if(r!==null){var v=r.memoizedProps;if(ha(v,c)&&r.ref===s.ref)if(Kt=!1,s.pendingProps=c=v,Vh(r,_))(r.flags&131072)!==0&&(Kt=!0);else return s.lanes=r.lanes,Nr(r,s,_)}return Rh(r,s,a,c,_)}function J0(r,s,a,c){var _=c.children,v=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,r!==null){for(c=s.child=r.child,_=0;c!==null;)_=_|c.lanes|c.childLanes,c=c.sibling;c=_&~v}else c=0,s.child=null;return $0(r,s,v,a,c)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&fc(s,v!==null?v.cachePool:null),v!==null?Qy(s,v):rh(),Xy(s);else return c=s.lanes=536870912,$0(r,s,v!==null?v.baseLanes|a:a,a,c)}else v!==null?(fc(s,v.cachePool),Qy(s,v),co(),s.memoizedState=null):(r!==null&&fc(s,null),rh(),co());return pn(r,s,_,a),s.child}function Ra(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $0(r,s,a,c,_){var v=jd();return v=v===null?null:{parent:Jt._currentValue,pool:v},s.memoizedState={baseLanes:a,cachePool:v},r!==null&&fc(s,null),rh(),Xy(s),r!==null&&$s(r,s,c,!0),s.childLanes=_,null}function wc(r,s){return s=bc({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function K0(r,s,a){return ds(s,r.child,null,a),r=wc(s,s.pendingProps),r.flags|=2,Xn(s),s.memoizedState=null,r}function yI(r,s,a){var c=s.pendingProps,_=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(nt){if(c.mode==="hidden")return r=wc(s,c),s.lanes=536870912,Ra(null,r);if(sh(s),(r=Rt)?(r=sv(r,mi),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:no!==null?{id:sr,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},a=Dy(r),a.return=s,s.child=a,dn=s,Rt=null)):r=null,r===null)throw ro(s);return s.lanes=536870912,null}return wc(s,c)}var v=r.memoizedState;if(v!==null){var x=v.dehydrated;if(sh(s),_)if(s.flags&256)s.flags&=-257,s=K0(r,s,a);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Kt||$s(r,s,a,!1),_=(a&r.childLanes)!==0,Kt||_){if(c=At,c!==null&&(x=Ql(c,a),x!==0&&x!==v.retryLane))throw v.retryLane=x,rs(r,x),On(c,r,x),wh;Oc(),s=K0(r,s,a)}else r=v.treeContext,Rt=yi(x.nextSibling),dn=s,nt=!0,io=null,mi=!1,r!==null&&ky(s,r),s=wc(s,c),s.flags|=4096;return s}return r=xr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Rc(r,s){var a=s.ref;if(a===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(r===null||r.ref!==a)&&(s.flags|=4194816)}}function Rh(r,s,a,c,_){return as(s),a=ah(r,s,a,c,void 0,_),c=uh(),r!==null&&!Kt?(ch(r,s,_),Nr(r,s,_)):(nt&&c&&Hd(s),s.flags|=1,pn(r,s,a,_),s.child)}function Q0(r,s,a,c,_,v){return as(s),s.updateQueue=null,a=jy(s,c,a,_),Wy(r),c=uh(),r!==null&&!Kt?(ch(r,s,v),Nr(r,s,v)):(nt&&c&&Hd(s),s.flags|=1,pn(r,s,a,v),s.child)}function X0(r,s,a,c,_){if(as(s),s.stateNode===null){var v=Hs,x=a.contextType;typeof x=="object"&&x!==null&&(v=hn(x)),v=new a(c,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Ch,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=c,v.state=s.memoizedState,v.refs={},eh(s),x=a.contextType,v.context=typeof x=="object"&&x!==null?hn(x):Hs,v.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(xh(s,a,x,c),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(x=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),x!==v.state&&Ch.enqueueReplaceState(v,v.state,null),Aa(s,c,v,_),Sa(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){v=s.stateNode;var w=s.memoizedProps,G=ps(a,w);v.props=G;var W=v.context,oe=a.contextType;x=Hs,typeof oe=="object"&&oe!==null&&(x=hn(oe));var ce=a.getDerivedStateFromProps;oe=typeof ce=="function"||typeof v.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,oe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w||W!==x)&&L0(s,v,c,x),so=!1;var Z=s.memoizedState;v.state=Z,Aa(s,c,v,_),Sa(),W=s.memoizedState,w||Z!==W||so?(typeof ce=="function"&&(xh(s,a,ce,c),W=s.memoizedState),(G=so||V0(s,a,G,c,Z,W,x))?(oe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),v.props=c,v.state=W,v.context=x,c=G):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{v=s.stateNode,th(r,s),x=s.memoizedProps,oe=ps(a,x),v.props=oe,ce=s.pendingProps,Z=v.context,W=a.contextType,G=Hs,typeof W=="object"&&W!==null&&(G=hn(W)),w=a.getDerivedStateFromProps,(W=typeof w=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(x!==ce||Z!==G)&&L0(s,v,c,G),so=!1,Z=s.memoizedState,v.state=Z,Aa(s,c,v,_),Sa();var ne=s.memoizedState;x!==ce||Z!==ne||so||r!==null&&r.dependencies!==null&&uc(r.dependencies)?(typeof w=="function"&&(xh(s,a,w,c),ne=s.memoizedState),(oe=so||V0(s,a,oe,c,Z,ne,G)||r!==null&&r.dependencies!==null&&uc(r.dependencies))?(W||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ne,G),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ne,G)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ne),v.props=c,v.state=ne,v.context=G,c=oe):(typeof v.componentDidUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||x===r.memoizedProps&&Z===r.memoizedState||(s.flags|=1024),c=!1)}return v=c,Rc(r,s),c=(s.flags&128)!==0,v||c?(v=s.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,r!==null&&c?(s.child=ds(s,r.child,null,_),s.child=ds(s,null,a,_)):pn(r,s,a,_),s.memoizedState=v.state,r=s.child):r=Nr(r,s,_),r}function W0(r,s,a,c){return ss(),s.flags|=256,pn(r,s,a,c),s.child}var bh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(r){return{baseLanes:r,cachePool:qy()}}function Dh(r,s,a){return r=r!==null?r.childLanes&~a:0,s&&(r|=jn),r}function j0(r,s,a){var c=s.pendingProps,_=!1,v=(s.flags&128)!==0,x;if((x=v)||(x=r!==null&&r.memoizedState===null?!1:(Ot.current&2)!==0),x&&(_=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(_?uo(s):co(),(r=Rt)?(r=sv(r,mi),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:no!==null?{id:sr,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},a=Dy(r),a.return=s,s.child=a,dn=s,Rt=null)):r=null,r===null)throw ro(s);return hp(r)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,_?(co(),_=s.mode,w=bc({mode:"hidden",children:w},_),c=os(c,_,a,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Nh(a),c.childLanes=Dh(r,x,a),s.memoizedState=bh,Ra(null,c)):(uo(s),Mh(s,w))}var G=r.memoizedState;if(G!==null&&(w=G.dehydrated,w!==null)){if(v)s.flags&256?(uo(s),s.flags&=-257,s=Ph(r,s,a)):s.memoizedState!==null?(co(),s.child=r.child,s.flags|=128,s=null):(co(),w=c.fallback,_=s.mode,c=bc({mode:"visible",children:c.children},_),w=os(w,_,a,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,ds(s,r.child,null,a),c=s.child,c.memoizedState=Nh(a),c.childLanes=Dh(r,x,a),s.memoizedState=bh,s=Ra(null,c));else if(uo(s),hp(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var W=x.dgst;x=W,c=Error(i(419)),c.stack="",c.digest=x,ga({value:c,source:null,stack:null}),s=Ph(r,s,a)}else if(Kt||$s(r,s,a,!1),x=(a&r.childLanes)!==0,Kt||x){if(x=At,x!==null&&(c=Ql(x,a),c!==0&&c!==G.retryLane))throw G.retryLane=c,rs(r,c),On(x,r,c),wh;dp(w)||Oc(),s=Ph(r,s,a)}else dp(w)?(s.flags|=192,s.child=r.child,s=null):(r=G.treeContext,Rt=yi(w.nextSibling),dn=s,nt=!0,io=null,mi=!1,r!==null&&ky(s,r),s=Mh(s,c.children),s.flags|=4096);return s}return _?(co(),w=c.fallback,_=s.mode,G=r.child,W=G.sibling,c=xr(G,{mode:"hidden",children:c.children}),c.subtreeFlags=G.subtreeFlags&65011712,W!==null?w=xr(W,w):(w=os(w,_,a,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,Ra(null,c),c=s.child,w=r.child.memoizedState,w===null?w=Nh(a):(_=w.cachePool,_!==null?(G=Jt._currentValue,_=_.parent!==G?{parent:G,pool:G}:_):_=qy(),w={baseLanes:w.baseLanes|a,cachePool:_}),c.memoizedState=w,c.childLanes=Dh(r,x,a),s.memoizedState=bh,Ra(r.child,c)):(uo(s),a=r.child,r=a.sibling,a=xr(a,{mode:"visible",children:c.children}),a.return=s,a.sibling=null,r!==null&&(x=s.deletions,x===null?(s.deletions=[r],s.flags|=16):x.push(r)),s.child=a,s.memoizedState=null,a)}function Mh(r,s){return s=bc({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function bc(r,s){return r=Kn(22,r,null,s),r.lanes=0,r}function Ph(r,s,a){return ds(s,r.child,null,a),r=Mh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Z0(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Kd(r.return,s,a)}function kh(r,s,a,c,_,v){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:_,treeForkCount:v}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=c,x.tail=a,x.tailMode=_,x.treeForkCount=v)}function e_(r,s,a){var c=s.pendingProps,_=c.revealOrder,v=c.tail;c=c.children;var x=Ot.current,w=(x&2)!==0;if(w?(x=x&1|2,s.flags|=128):x&=1,P(Ot,x),pn(r,s,c,a),c=nt?ma:0,!w&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Z0(r,a,s);else if(r.tag===19)Z0(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(_){case"forwards":for(a=s.child,_=null;a!==null;)r=a.alternate,r!==null&&yc(r)===null&&(_=a),a=a.sibling;a=_,a===null?(_=s.child,s.child=null):(_=a.sibling,a.sibling=null),kh(s,!1,_,a,v,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,_=s.child,s.child=null;_!==null;){if(r=_.alternate,r!==null&&yc(r)===null){s.child=_;break}r=_.sibling,_.sibling=a,a=_,_=r}kh(s,!0,a,null,v,c);break;case"together":kh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Nr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),po|=s.lanes,(a&s.childLanes)===0)if(r!==null){if($s(r,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,a=xr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=xr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Vh(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&uc(r)))}function _I(r,s,a){switch(s.tag){case 3:st(s,s.stateNode.containerInfo),oo(s,Jt,r.memoizedState.cache),ss();break;case 27:case 5:en(s);break;case 4:st(s,s.stateNode.containerInfo);break;case 10:oo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,sh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(uo(s),s.flags|=128,null):(a&s.child.childLanes)!==0?j0(r,s,a):(uo(s),r=Nr(r,s,a),r!==null?r.sibling:null);uo(s);break;case 19:var _=(r.flags&128)!==0;if(c=(a&s.childLanes)!==0,c||($s(r,s,a,!1),c=(a&s.childLanes)!==0),_){if(c)return e_(r,s,a);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),P(Ot,Ot.current),c)break;return null;case 22:return s.lanes=0,J0(r,s,a,s.pendingProps);case 24:oo(s,Jt,r.memoizedState.cache)}return Nr(r,s,a)}function t_(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps)Kt=!0;else{if(!Vh(r,a)&&(s.flags&128)===0)return Kt=!1,_I(r,s,a);Kt=(r.flags&131072)!==0}else Kt=!1,nt&&(s.flags&1048576)!==0&&Py(s,ma,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(r=cs(s.elementType),s.type=r,typeof r=="function")qd(r)?(c=ps(r,c),s.tag=1,s=X0(null,s,r,c,a)):(s.tag=0,s=Rh(null,s,r,c,a));else{if(r!=null){var _=r.$$typeof;if(_===re){s.tag=11,s=H0(null,s,r,c,a);break e}else if(_===N){s.tag=14,s=G0(null,s,r,c,a);break e}}throw s=ge(r)||r,Error(i(306,s,""))}}return s;case 0:return Rh(r,s,s.type,s.pendingProps,a);case 1:return c=s.type,_=ps(c,s.pendingProps),X0(r,s,c,_,a);case 3:e:{if(st(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var v=s.memoizedState;_=v.element,th(r,s),Aa(s,c,null,a);var x=s.memoizedState;if(c=x.cache,oo(s,Jt,c),c!==v.cache&&Qd(s,[Jt],a,!0),Sa(),c=x.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=W0(r,s,c,a);break e}else if(c!==_){_=di(Error(i(424)),s),ga(_),s=W0(r,s,c,a);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=yi(r.firstChild),dn=s,nt=!0,io=null,mi=!0,a=Jy(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ss(),c===_){s=Nr(r,s,a);break e}pn(r,s,c,a)}s=s.child}return s;case 26:return Rc(r,s),r===null?(a=dv(s.type,null,s.pendingProps,null))?s.memoizedState=a:nt||(a=s.type,r=s.pendingProps,c=Yc(Ie.current).createElement(a),c[Ht]=s,c[sn]=r,mn(c,a,r),Gt(c),s.stateNode=c):s.memoizedState=dv(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return en(s),r===null&&nt&&(c=s.stateNode=uv(s.type,s.pendingProps,Ie.current),dn=s,mi=!0,_=Rt,vo(s.type)?(pp=_,Rt=yi(c.firstChild)):Rt=_),pn(r,s,s.pendingProps.children,a),Rc(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((_=c=Rt)&&(c=KI(c,s.type,s.pendingProps,mi),c!==null?(s.stateNode=c,dn=s,Rt=yi(c.firstChild),mi=!1,_=!0):_=!1),_||ro(s)),en(s),_=s.type,v=s.pendingProps,x=r!==null?r.memoizedProps:null,c=v.children,up(_,v)?c=null:x!==null&&up(_,x)&&(s.flags|=32),s.memoizedState!==null&&(_=ah(r,s,uI,null,null,a),Ha._currentValue=_),Rc(r,s),pn(r,s,c,a),s.child;case 6:return r===null&&nt&&((r=a=Rt)&&(a=QI(a,s.pendingProps,mi),a!==null?(s.stateNode=a,dn=s,Rt=null,r=!0):r=!1),r||ro(s)),null;case 13:return j0(r,s,a);case 4:return st(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=ds(s,null,c,a):pn(r,s,c,a),s.child;case 11:return H0(r,s,s.type,s.pendingProps,a);case 7:return pn(r,s,s.pendingProps,a),s.child;case 8:return pn(r,s,s.pendingProps.children,a),s.child;case 12:return pn(r,s,s.pendingProps.children,a),s.child;case 10:return c=s.pendingProps,oo(s,s.type,c.value),pn(r,s,c.children,a),s.child;case 9:return _=s.type._context,c=s.pendingProps.children,as(s),_=hn(_),c=c(_),s.flags|=1,pn(r,s,c,a),s.child;case 14:return G0(r,s,s.type,s.pendingProps,a);case 15:return Y0(r,s,s.type,s.pendingProps,a);case 19:return e_(r,s,a);case 31:return yI(r,s,a);case 22:return J0(r,s,a,s.pendingProps);case 24:return as(s),c=hn(Jt),r===null?(_=jd(),_===null&&(_=At,v=Xd(),_.pooledCache=v,v.refCount++,v!==null&&(_.pooledCacheLanes|=a),_=v),s.memoizedState={parent:c,cache:_},eh(s),oo(s,Jt,_)):((r.lanes&a)!==0&&(th(r,s),Aa(s,null,null,a),Sa()),_=r.memoizedState,v=s.memoizedState,_.parent!==c?(_={parent:c,cache:c},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),oo(s,Jt,c)):(c=v.cache,oo(s,Jt,c),c!==_.cache&&Qd(s,[Jt],a,!0))),pn(r,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Dr(r){r.flags|=4}function Lh(r,s,a,c,_){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(_&335544128)===_)if(r.stateNode.complete)r.flags|=8192;else if(R_())r.flags|=8192;else throw fs=hc,Zd}else r.flags&=-16777217}function n_(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!yv(s))if(R_())r.flags|=8192;else throw fs=hc,Zd}function Nc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Lu():536870912,r.lanes|=s,ol|=s)}function ba(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var _=r.child;_!==null;)a|=_.lanes|_.childLanes,c|=_.subtreeFlags&65011712,c|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)a|=_.lanes|_.childLanes,c|=_.subtreeFlags,c|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function vI(r,s,a){var c=s.pendingProps;switch(Gd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(s),null;case 1:return bt(s),null;case 3:return a=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wr(Jt),lt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(r===null||r.child===null)&&(Js(s)?Dr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jd())),bt(s),null;case 26:var _=s.type,v=s.memoizedState;return r===null?(Dr(s),v!==null?(bt(s),n_(s,v)):(bt(s),Lh(s,_,null,c,a))):v?v!==r.memoizedState?(Dr(s),bt(s),n_(s,v)):(bt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Dr(s),bt(s),Lh(s,_,r,c,a)),null;case 27:if(Dn(s),a=Ie.current,_=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Dr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return bt(s),null}r=_e.current,Js(s)?Vy(s):(r=uv(_,c,a),s.stateNode=r,Dr(s))}return bt(s),null;case 5:if(Dn(s),_=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Dr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return bt(s),null}if(v=_e.current,Js(s))Vy(s);else{var x=Yc(Ie.current);switch(v){case 1:v=x.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:v=x.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":v=x.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":v=x.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":v=x.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof c.is=="string"?x.createElement("select",{is:c.is}):x.createElement("select"),c.multiple?v.multiple=!0:c.size&&(v.size=c.size);break;default:v=typeof c.is=="string"?x.createElement(_,{is:c.is}):x.createElement(_)}}v[Ht]=s,v[sn]=c;e:for(x=s.child;x!==null;){if(x.tag===5||x.tag===6)v.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===s)break e;for(;x.sibling===null;){if(x.return===null||x.return===s)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}s.stateNode=v;e:switch(mn(v,_,c),_){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Dr(s)}}return bt(s),Lh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,a),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Dr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ie.current,Js(s)){if(r=s.stateNode,a=s.memoizedProps,c=null,_=dn,_!==null)switch(_.tag){case 27:case 5:c=_.memoizedProps}r[Ht]=s,r=!!(r.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||j_(r.nodeValue,a)),r||ro(s,!0)}else r=Yc(r).createTextNode(c),r[Ht]=s,s.stateNode=r}return bt(s),null;case 31:if(a=s.memoizedState,r===null||r.memoizedState!==null){if(c=Js(s),a!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ht]=s}else ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),r=!1}else a=Jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=a),r=!0;if(!r)return s.flags&256?(Xn(s),s):(Xn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return bt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=Js(s),c!==null&&c.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Ht]=s}else ss(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;bt(s),_=!1}else _=Jd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Xn(s),s):(Xn(s),null)}return Xn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=c!==null,r=r!==null&&r.memoizedState!==null,a&&(c=s.child,_=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(_=c.alternate.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==_&&(c.flags|=2048)),a!==r&&a&&(s.child.flags|=8192),Nc(s,s.updateQueue),bt(s),null);case 4:return lt(),r===null&&rp(s.stateNode.containerInfo),bt(s),null;case 10:return wr(s.type),bt(s),null;case 19:if(ie(Ot),c=s.memoizedState,c===null)return bt(s),null;if(_=(s.flags&128)!==0,v=c.rendering,v===null)if(_)ba(c,!1);else{if(Lt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(v=yc(r),v!==null){for(s.flags|=128,ba(c,!1),r=v.updateQueue,s.updateQueue=r,Nc(s,r),s.subtreeFlags=0,r=a,a=s.child;a!==null;)Ny(a,r),a=a.sibling;return P(Ot,Ot.current&1|2),nt&&Cr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&tn()>Vc&&(s.flags|=128,_=!0,ba(c,!1),s.lanes=4194304)}else{if(!_)if(r=yc(v),r!==null){if(s.flags|=128,_=!0,r=r.updateQueue,s.updateQueue=r,Nc(s,r),ba(c,!0),c.tail===null&&c.tailMode==="hidden"&&!v.alternate&&!nt)return bt(s),null}else 2*tn()-c.renderingStartTime>Vc&&a!==536870912&&(s.flags|=128,_=!0,ba(c,!1),s.lanes=4194304);c.isBackwards?(v.sibling=s.child,s.child=v):(r=c.last,r!==null?r.sibling=v:s.child=v,c.last=v)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=tn(),r.sibling=null,a=Ot.current,P(Ot,_?a&1|2:a&1),nt&&Cr(s,c.treeForkCount),r):(bt(s),null);case 22:case 23:return Xn(s),oh(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(a&536870912)!==0&&(s.flags&128)===0&&(bt(s),s.subtreeFlags&6&&(s.flags|=8192)):bt(s),a=s.updateQueue,a!==null&&Nc(s,a.retryQueue),a=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==a&&(s.flags|=2048),r!==null&&ie(us),null;case 24:return a=null,r!==null&&(a=r.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),wr(Jt),bt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function EI(r,s){switch(Gd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wr(Jt),lt(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Dn(s),null;case 31:if(s.memoizedState!==null){if(Xn(s),s.alternate===null)throw Error(i(340));ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Xn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(Ot),null;case 4:return lt(),null;case 10:return wr(s.type),null;case 22:case 23:return Xn(s),oh(),r!==null&&ie(us),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wr(Jt),null;case 25:return null;default:return null}}function i_(r,s){switch(Gd(s),s.tag){case 3:wr(Jt),lt();break;case 26:case 27:case 5:Dn(s);break;case 4:lt();break;case 31:s.memoizedState!==null&&Xn(s);break;case 13:Xn(s);break;case 19:ie(Ot);break;case 10:wr(s.type);break;case 22:case 23:Xn(s),oh(),r!==null&&ie(us);break;case 24:wr(Jt)}}function Na(r,s){try{var a=s.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var _=c.next;a=_;do{if((a.tag&r)===r){c=void 0;var v=a.create,x=a.inst;c=v(),x.destroy=c}a=a.next}while(a!==_)}}catch(w){yt(s,s.return,w)}}function fo(r,s,a){try{var c=s.updateQueue,_=c!==null?c.lastEffect:null;if(_!==null){var v=_.next;c=v;do{if((c.tag&r)===r){var x=c.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,_=s;var G=a,W=w;try{W()}catch(oe){yt(_,G,oe)}}}c=c.next}while(c!==v)}}catch(oe){yt(s,s.return,oe)}}function r_(r){var s=r.updateQueue;if(s!==null){var a=r.stateNode;try{Ky(s,a)}catch(c){yt(r,r.return,c)}}}function o_(r,s,a){a.props=ps(r.type,r.memoizedProps),a.state=r.memoizedState;try{a.componentWillUnmount()}catch(c){yt(r,s,c)}}function Da(r,s){try{var a=r.ref;if(a!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof a=="function"?r.refCleanup=a(c):a.current=c}}catch(_){yt(r,s,_)}}function ar(r,s){var a=r.ref,c=r.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(_){yt(r,s,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(_){yt(r,s,_)}else a.current=null}function s_(r){var s=r.type,a=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(_){yt(r,r.return,_)}}function Uh(r,s,a){try{var c=r.stateNode;zI(c,r.type,a,s),c[sn]=s}catch(_){yt(r,r.return,_)}}function l_(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vo(r.type)||r.tag===4}function Oh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||l_(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Fh(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(r,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(r),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ri));else if(c!==4&&(c===27&&vo(r.type)&&(a=r.stateNode,s=null),r=r.child,r!==null))for(Fh(r,s,a),r=r.sibling;r!==null;)Fh(r,s,a),r=r.sibling}function Dc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(c===27&&vo(r.type)&&(a=r.stateNode),r=r.child,r!==null))for(Dc(r,s,a),r=r.sibling;r!==null;)Dc(r,s,a),r=r.sibling}function a_(r){var s=r.stateNode,a=r.memoizedProps;try{for(var c=r.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);mn(s,c,a),s[Ht]=r,s[sn]=a}catch(v){yt(r,r.return,v)}}var Mr=!1,Qt=!1,qh=!1,u_=typeof WeakSet=="function"?WeakSet:Set,an=null;function TI(r,s){if(r=r.containerInfo,lp=jc,r=Ty(r),Pd(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var _=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var x=0,w=-1,G=-1,W=0,oe=0,ce=r,Z=null;t:for(;;){for(var ne;ce!==a||_!==0&&ce.nodeType!==3||(w=x+_),ce!==v||c!==0&&ce.nodeType!==3||(G=x+c),ce.nodeType===3&&(x+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)Z=ce,ce=ne;for(;;){if(ce===r)break t;if(Z===a&&++W===_&&(w=x),Z===v&&++oe===c&&(G=x),(ne=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ne}a=w===-1||G===-1?null:{start:w,end:G}}else a=null}a=a||{start:0,end:0}}else a=null;for(ap={focusedElem:r,selectionRange:a},jc=!1,an=s;an!==null;)if(s=an,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,an=r;else for(;an!==null;){switch(s=an,v=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(a=0;a<r.length;a++)_=r[a],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&v!==null){r=void 0,a=s,_=v.memoizedProps,v=v.memoizedState,c=a.stateNode;try{var Ce=ps(a.type,_);r=c.getSnapshotBeforeUpdate(Ce,v),c.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){yt(a,a.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,a=r.nodeType,a===9)fp(r);else if(a===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":fp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,an=r;break}an=s.return}}function c_(r,s,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:kr(r,a),c&4&&Na(5,a);break;case 1:if(kr(r,a),c&4)if(r=a.stateNode,s===null)try{r.componentDidMount()}catch(x){yt(a,a.return,x)}else{var _=ps(a.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(_,s,r.__reactInternalSnapshotBeforeUpdate)}catch(x){yt(a,a.return,x)}}c&64&&r_(a),c&512&&Da(a,a.return);break;case 3:if(kr(r,a),c&64&&(r=a.updateQueue,r!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ky(r,s)}catch(x){yt(a,a.return,x)}}break;case 27:s===null&&c&4&&a_(a);case 26:case 5:kr(r,a),s===null&&c&4&&s_(a),c&512&&Da(a,a.return);break;case 12:kr(r,a);break;case 31:kr(r,a),c&4&&h_(r,a);break;case 13:kr(r,a),c&4&&p_(r,a),c&64&&(r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(a=NI.bind(null,a),XI(r,a))));break;case 22:if(c=a.memoizedState!==null||Mr,!c){s=s!==null&&s.memoizedState!==null||Qt,_=Mr;var v=Qt;Mr=c,(Qt=s)&&!v?Vr(r,a,(a.subtreeFlags&8772)!==0):kr(r,a),Mr=_,Qt=v}break;case 30:break;default:kr(r,a)}}function f_(r){var s=r.alternate;s!==null&&(r.alternate=null,f_(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&bs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Pt=null,kn=!1;function Pr(r,s,a){for(a=a.child;a!==null;)d_(r,s,a),a=a.sibling}function d_(r,s,a){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Xe,a)}catch{}switch(a.tag){case 26:Qt||ar(a,s),Pr(r,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||ar(a,s);var c=Pt,_=kn;vo(a.type)&&(Pt=a.stateNode,kn=!1),Pr(r,s,a),qa(a.stateNode),Pt=c,kn=_;break;case 5:Qt||ar(a,s);case 6:if(c=Pt,_=kn,Pt=null,Pr(r,s,a),Pt=c,kn=_,Pt!==null)if(kn)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(a.stateNode)}catch(v){yt(a,s,v)}else try{Pt.removeChild(a.stateNode)}catch(v){yt(a,s,v)}break;case 18:Pt!==null&&(kn?(r=Pt,rv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.stateNode),hl(r)):rv(Pt,a.stateNode));break;case 4:c=Pt,_=kn,Pt=a.stateNode.containerInfo,kn=!0,Pr(r,s,a),Pt=c,kn=_;break;case 0:case 11:case 14:case 15:fo(2,a,s),Qt||fo(4,a,s),Pr(r,s,a);break;case 1:Qt||(ar(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"&&o_(a,s,c)),Pr(r,s,a);break;case 21:Pr(r,s,a);break;case 22:Qt=(c=Qt)||a.memoizedState!==null,Pr(r,s,a),Qt=c;break;default:Pr(r,s,a)}}function h_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{hl(r)}catch(a){yt(s,s.return,a)}}}function p_(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hl(r)}catch(a){yt(s,s.return,a)}}function SI(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new u_),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new u_),s;default:throw Error(i(435,r.tag))}}function Mc(r,s){var a=SI(r);s.forEach(function(c){if(!a.has(c)){a.add(c);var _=DI.bind(null,r,c);c.then(_,_)}})}function Vn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var _=a[c],v=r,x=s,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(vo(w.type)){Pt=w.stateNode,kn=!1;break e}break;case 5:Pt=w.stateNode,kn=!1;break e;case 3:case 4:Pt=w.stateNode.containerInfo,kn=!0;break e}w=w.return}if(Pt===null)throw Error(i(160));d_(v,x,_),Pt=null,kn=!1,v=_.alternate,v!==null&&(v.return=null),_.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)m_(s,r),s=s.sibling}var ki=null;function m_(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vn(s,r),Ln(r),c&4&&(fo(3,r,r.return),Na(3,r),fo(5,r,r.return));break;case 1:Vn(s,r),Ln(r),c&512&&(Qt||a===null||ar(a,a.return)),c&64&&Mr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(a=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var _=ki;if(Vn(s,r),Ln(r),c&512&&(Qt||a===null||ar(a,a.return)),c&4){var v=a!==null?a.memoizedState:null;if(c=r.memoizedState,a===null)if(c===null)if(r.stateNode===null){e:{c=r.type,a=r.memoizedProps,_=_.ownerDocument||_;t:switch(c){case"title":v=_.getElementsByTagName("title")[0],(!v||v[Ki]||v[Ht]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=_.createElement(c),_.head.insertBefore(v,_.querySelector("head > title"))),mn(v,c,a),v[Ht]=r,Gt(v),c=v;break e;case"link":var x=mv("link","href",_).get(c+(a.href||""));if(x){for(var w=0;w<x.length;w++)if(v=x[w],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(w,1);break t}}v=_.createElement(c),mn(v,c,a),_.head.appendChild(v);break;case"meta":if(x=mv("meta","content",_).get(c+(a.content||""))){for(w=0;w<x.length;w++)if(v=x[w],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(w,1);break t}}v=_.createElement(c),mn(v,c,a),_.head.appendChild(v);break;default:throw Error(i(468,c))}v[Ht]=r,Gt(v),c=v}r.stateNode=c}else gv(_,r.type,r.stateNode);else r.stateNode=pv(_,c,r.memoizedProps);else v!==c?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,c===null?gv(_,r.type,r.stateNode):pv(_,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Uh(r,r.memoizedProps,a.memoizedProps)}break;case 27:Vn(s,r),Ln(r),c&512&&(Qt||a===null||ar(a,a.return)),a!==null&&c&4&&Uh(r,r.memoizedProps,a.memoizedProps);break;case 5:if(Vn(s,r),Ln(r),c&512&&(Qt||a===null||ar(a,a.return)),r.flags&32){_=r.stateNode;try{Pn(_,"")}catch(Ce){yt(r,r.return,Ce)}}c&4&&r.stateNode!=null&&(_=r.memoizedProps,Uh(r,_,a!==null?a.memoizedProps:_)),c&1024&&(qh=!0);break;case 6:if(Vn(s,r),Ln(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,a=r.stateNode;try{a.nodeValue=c}catch(Ce){yt(r,r.return,Ce)}}break;case 3:if(Kc=null,_=ki,ki=Jc(s.containerInfo),Vn(s,r),ki=_,Ln(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{hl(s.containerInfo)}catch(Ce){yt(r,r.return,Ce)}qh&&(qh=!1,g_(r));break;case 4:c=ki,ki=Jc(r.stateNode.containerInfo),Vn(s,r),Ln(r),ki=c;break;case 12:Vn(s,r),Ln(r);break;case 31:Vn(s,r),Ln(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Mc(r,c)));break;case 13:Vn(s,r),Ln(r),r.child.flags&8192&&r.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kc=tn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Mc(r,c)));break;case 22:_=r.memoizedState!==null;var G=a!==null&&a.memoizedState!==null,W=Mr,oe=Qt;if(Mr=W||_,Qt=oe||G,Vn(s,r),Qt=oe,Mr=W,Ln(r),c&8192)e:for(s=r.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(a===null||G||Mr||Qt||ms(r)),a=null,s=r;;){if(s.tag===5||s.tag===26){if(a===null){G=a=s;try{if(v=G.stateNode,_)x=v.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=G.stateNode;var ce=G.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;w.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ce){yt(G,G.return,Ce)}}}else if(s.tag===6){if(a===null){G=s;try{G.stateNode.nodeValue=_?"":G.memoizedProps}catch(Ce){yt(G,G.return,Ce)}}}else if(s.tag===18){if(a===null){G=s;try{var ne=G.stateNode;_?ov(ne,!0):ov(G.stateNode,!1)}catch(Ce){yt(G,G.return,Ce)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Mc(r,a))));break;case 19:Vn(s,r),Ln(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Mc(r,c)));break;case 30:break;case 21:break;default:Vn(s,r),Ln(r)}}function Ln(r){var s=r.flags;if(s&2){try{for(var a,c=r.return;c!==null;){if(l_(c)){a=c;break}c=c.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var _=a.stateNode,v=Oh(r);Dc(r,v,_);break;case 5:var x=a.stateNode;a.flags&32&&(Pn(x,""),a.flags&=-33);var w=Oh(r);Dc(r,w,x);break;case 3:case 4:var G=a.stateNode.containerInfo,W=Oh(r);Fh(r,W,G);break;default:throw Error(i(161))}}catch(oe){yt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function g_(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;g_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function kr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)c_(r,s.alternate,s),s=s.sibling}function ms(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:fo(4,s,s.return),ms(s);break;case 1:ar(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&o_(s,s.return,a),ms(s);break;case 27:qa(s.stateNode);case 26:case 5:ar(s,s.return),ms(s);break;case 22:s.memoizedState===null&&ms(s);break;case 30:ms(s);break;default:ms(s)}r=r.sibling}}function Vr(r,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,_=r,v=s,x=v.flags;switch(v.tag){case 0:case 11:case 15:Vr(_,v,a),Na(4,v);break;case 1:if(Vr(_,v,a),c=v,_=c.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(W){yt(c,c.return,W)}if(c=v,_=c.updateQueue,_!==null){var w=c.stateNode;try{var G=_.shared.hiddenCallbacks;if(G!==null)for(_.shared.hiddenCallbacks=null,_=0;_<G.length;_++)$y(G[_],w)}catch(W){yt(c,c.return,W)}}a&&x&64&&r_(v),Da(v,v.return);break;case 27:a_(v);case 26:case 5:Vr(_,v,a),a&&c===null&&x&4&&s_(v),Da(v,v.return);break;case 12:Vr(_,v,a);break;case 31:Vr(_,v,a),a&&x&4&&h_(_,v);break;case 13:Vr(_,v,a),a&&x&4&&p_(_,v);break;case 22:v.memoizedState===null&&Vr(_,v,a),Da(v,v.return);break;case 30:break;default:Vr(_,v,a)}s=s.sibling}}function Bh(r,s){var a=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(r!=null&&r.refCount++,a!=null&&ya(a))}function zh(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ya(r))}function Vi(r,s,a,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)y_(r,s,a,c),s=s.sibling}function y_(r,s,a,c){var _=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(r,s,a,c),_&2048&&Na(9,s);break;case 1:Vi(r,s,a,c);break;case 3:Vi(r,s,a,c),_&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ya(r)));break;case 12:if(_&2048){Vi(r,s,a,c),r=s.stateNode;try{var v=s.memoizedProps,x=v.id,w=v.onPostCommit;typeof w=="function"&&w(x,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(G){yt(s,s.return,G)}}else Vi(r,s,a,c);break;case 31:Vi(r,s,a,c);break;case 13:Vi(r,s,a,c);break;case 23:break;case 22:v=s.stateNode,x=s.alternate,s.memoizedState!==null?v._visibility&2?Vi(r,s,a,c):Ma(r,s):v._visibility&2?Vi(r,s,a,c):(v._visibility|=2,nl(r,s,a,c,(s.subtreeFlags&10256)!==0||!1)),_&2048&&Bh(x,s);break;case 24:Vi(r,s,a,c),_&2048&&zh(s.alternate,s);break;default:Vi(r,s,a,c)}}function nl(r,s,a,c,_){for(_=_&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=r,x=s,w=a,G=c,W=x.flags;switch(x.tag){case 0:case 11:case 15:nl(v,x,w,G,_),Na(8,x);break;case 23:break;case 22:var oe=x.stateNode;x.memoizedState!==null?oe._visibility&2?nl(v,x,w,G,_):Ma(v,x):(oe._visibility|=2,nl(v,x,w,G,_)),_&&W&2048&&Bh(x.alternate,x);break;case 24:nl(v,x,w,G,_),_&&W&2048&&zh(x.alternate,x);break;default:nl(v,x,w,G,_)}s=s.sibling}}function Ma(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=r,c=s,_=c.flags;switch(c.tag){case 22:Ma(a,c),_&2048&&Bh(c.alternate,c);break;case 24:Ma(a,c),_&2048&&zh(c.alternate,c);break;default:Ma(a,c)}s=s.sibling}}var Pa=8192;function il(r,s,a){if(r.subtreeFlags&Pa)for(r=r.child;r!==null;)__(r,s,a),r=r.sibling}function __(r,s,a){switch(r.tag){case 26:il(r,s,a),r.flags&Pa&&r.memoizedState!==null&&aw(a,ki,r.memoizedState,r.memoizedProps);break;case 5:il(r,s,a);break;case 3:case 4:var c=ki;ki=Jc(r.stateNode.containerInfo),il(r,s,a),ki=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Pa,Pa=16777216,il(r,s,a),Pa=c):il(r,s,a));break;default:il(r,s,a)}}function v_(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ka(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];an=c,T_(c,r)}v_(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)E_(r),r=r.sibling}function E_(r){switch(r.tag){case 0:case 11:case 15:ka(r),r.flags&2048&&fo(9,r,r.return);break;case 3:ka(r);break;case 12:ka(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Pc(r)):ka(r);break;default:ka(r)}}function Pc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var c=s[a];an=c,T_(c,r)}v_(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:fo(8,s,s.return),Pc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Pc(s));break;default:Pc(s)}r=r.sibling}}function T_(r,s){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:fo(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ya(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,an=c;else e:for(a=r;an!==null;){c=an;var _=c.sibling,v=c.return;if(f_(c),c===a){an=null;break e}if(_!==null){_.return=v,an=_;break e}an=v}}}var AI={getCacheForType:function(r){var s=hn(Jt),a=s.data.get(r);return a===void 0&&(a=r(),s.data.set(r,a)),a},cacheSignal:function(){return hn(Jt).controller.signal}},xI=typeof WeakMap=="function"?WeakMap:Map,dt=0,At=null,Ke=null,We=0,gt=0,Wn=null,ho=!1,rl=!1,Hh=!1,Lr=0,Lt=0,po=0,gs=0,Gh=0,jn=0,ol=0,Va=null,Un=null,Yh=!1,kc=0,S_=0,Vc=1/0,Lc=null,mo=null,nn=0,go=null,sl=null,Ur=0,Jh=0,$h=null,A_=null,La=0,Kh=null;function Zn(){return(dt&2)!==0&&We!==0?We&-We:B.T!==null?ep():Uu()}function x_(){if(jn===0)if((We&536870912)===0||nt){var r=Ho;Ho<<=1,(Ho&3932160)===0&&(Ho=262144),jn=r}else jn=536870912;return r=Qn.current,r!==null&&(r.flags|=32),jn}function On(r,s,a){(r===At&&(gt===2||gt===9)||r.cancelPendingCommit!==null)&&(ll(r,0),yo(r,We,jn,!1)),Go(r,a),((dt&2)===0||r!==At)&&(r===At&&((dt&2)===0&&(gs|=a),Lt===4&&yo(r,We,jn,!1)),ur(r))}function C_(r,s,a){if((dt&6)!==0)throw Error(i(327));var c=!a&&(s&127)===0&&(s&r.expiredLanes)===0||Ci(r,s),_=c?wI(r,s):Xh(r,s,!0),v=c;do{if(_===0){rl&&!c&&yo(r,s,0,!1);break}else{if(a=r.current.alternate,v&&!CI(a)){_=Xh(r,s,!1),v=!1;continue}if(_===2){if(v=s,r.errorRecoveryDisabledLanes&v)var x=0;else x=r.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var w=r;_=Va;var G=w.current.memoizedState.isDehydrated;if(G&&(ll(w,x).flags|=256),x=Xh(w,x,!1),x!==2){if(Hh&&!G){w.errorRecoveryDisabledLanes|=v,gs|=v,_=4;break e}v=Un,Un=_,v!==null&&(Un===null?Un=v:Un.push.apply(Un,v))}_=x}if(v=!1,_!==2)continue}}if(_===1){ll(r,0),yo(r,s,0,!0);break}e:{switch(c=r,v=_,v){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:yo(c,s,jn,!ho);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(_=kc+300-tn(),10<_)){if(yo(c,s,jn,!ho),Yi(c,0,!0)!==0)break e;Ur=s,c.timeoutHandle=nv(I_.bind(null,c,a,Un,Lc,Yh,s,jn,gs,ol,ho,v,"Throttled",-0,0),_);break e}I_(c,a,Un,Lc,Yh,s,jn,gs,ol,ho,v,null,-0,0)}}break}while(!0);ur(r)}function I_(r,s,a,c,_,v,x,w,G,W,oe,ce,Z,ne){if(r.timeoutHandle=-1,ce=s.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},__(s,v,ce);var Ce=(v&62914560)===v?kc-tn():(v&4194048)===v?S_-tn():0;if(Ce=uw(ce,Ce),Ce!==null){Ur=v,r.cancelPendingCommit=Ce(k_.bind(null,r,s,v,a,c,_,x,w,G,oe,ce,null,Z,ne)),yo(r,v,x,!W);return}}k_(r,s,v,a,c,_,x,w,G)}function CI(r){for(var s=r;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var _=a[c],v=_.getSnapshot;_=_.value;try{if(!$n(v(),_))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function yo(r,s,a,c){s&=~Gh,s&=~gs,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var _=s;0<_;){var v=31-$e(_),x=1<<v;c[v]=-1,_&=~x}a!==0&&Yo(r,a,s)}function Uc(){return(dt&6)===0?(Ua(0),!1):!0}function Qh(){if(Ke!==null){if(gt===0)var r=Ke.return;else r=Ke,Ir=ls=null,fh(r),Ws=null,va=0,r=Ke;for(;r!==null;)i_(r.alternate,r),r=r.return;Ke=null}}function ll(r,s){var a=r.timeoutHandle;a!==-1&&(r.timeoutHandle=-1,YI(a)),a=r.cancelPendingCommit,a!==null&&(r.cancelPendingCommit=null,a()),Ur=0,Qh(),At=r,Ke=a=xr(r.current,null),We=s,gt=0,Wn=null,ho=!1,rl=Ci(r,s),Hh=!1,ol=jn=Gh=gs=po=Lt=0,Un=Va=null,Yh=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var _=31-$e(c),v=1<<_;s|=r[_],c&=~v}return Lr=s,rc(),a}function w_(r,s){He=null,B.H=wa,s===Xs||s===dc?(s=Hy(),gt=3):s===Zd?(s=Hy(),gt=4):gt=s===wh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wn=s,Ke===null&&(Lt=1,Ic(r,di(s,r.current)))}function R_(){var r=Qn.current;return r===null?!0:(We&4194048)===We?gi===null:(We&62914560)===We||(We&536870912)!==0?r===gi:!1}function b_(){var r=B.H;return B.H=wa,r===null?wa:r}function N_(){var r=B.A;return B.A=AI,r}function Oc(){Lt=4,ho||(We&4194048)!==We&&Qn.current!==null||(rl=!0),(po&134217727)===0&&(gs&134217727)===0||At===null||yo(At,We,jn,!1)}function Xh(r,s,a){var c=dt;dt|=2;var _=b_(),v=N_();(At!==r||We!==s)&&(Lc=null,ll(r,s)),s=!1;var x=Lt;e:do try{if(gt!==0&&Ke!==null){var w=Ke,G=Wn;switch(gt){case 8:Qh(),x=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(s=!0);var W=gt;if(gt=0,Wn=null,al(r,w,G,W),a&&rl){x=0;break e}break;default:W=gt,gt=0,Wn=null,al(r,w,G,W)}}II(),x=Lt;break}catch(oe){w_(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Ir=ls=null,dt=c,B.H=_,B.A=v,Ke===null&&(At=null,We=0,rc()),x}function II(){for(;Ke!==null;)D_(Ke)}function wI(r,s){var a=dt;dt|=2;var c=b_(),_=N_();At!==r||We!==s?(Lc=null,Vc=tn()+500,ll(r,s)):rl=Ci(r,s);e:do try{if(gt!==0&&Ke!==null){s=Ke;var v=Wn;t:switch(gt){case 1:gt=0,Wn=null,al(r,s,v,1);break;case 2:case 9:if(By(v)){gt=0,Wn=null,M_(s);break}s=function(){gt!==2&&gt!==9||At!==r||(gt=7),ur(r)},v.then(s,s);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:By(v)?(gt=0,Wn=null,M_(s)):(gt=0,Wn=null,al(r,s,v,7));break;case 5:var x=null;switch(Ke.tag){case 26:x=Ke.memoizedState;case 5:case 27:var w=Ke;if(x?yv(x):w.stateNode.complete){gt=0,Wn=null;var G=w.sibling;if(G!==null)Ke=G;else{var W=w.return;W!==null?(Ke=W,Fc(W)):Ke=null}break t}}gt=0,Wn=null,al(r,s,v,5);break;case 6:gt=0,Wn=null,al(r,s,v,6);break;case 8:Qh(),Lt=6;break e;default:throw Error(i(462))}}RI();break}catch(oe){w_(r,oe)}while(!0);return Ir=ls=null,B.H=c,B.A=_,dt=a,Ke!==null?0:(At=null,We=0,rc(),Lt)}function RI(){for(;Ke!==null&&!zo();)D_(Ke)}function D_(r){var s=t_(r.alternate,r,Lr);r.memoizedProps=r.pendingProps,s===null?Fc(r):Ke=s}function M_(r){var s=r,a=s.alternate;switch(s.tag){case 15:case 0:s=Q0(a,s,s.pendingProps,s.type,void 0,We);break;case 11:s=Q0(a,s,s.pendingProps,s.type.render,s.ref,We);break;case 5:fh(s);default:i_(a,s),s=Ke=Ny(s,Lr),s=t_(a,s,Lr)}r.memoizedProps=r.pendingProps,s===null?Fc(r):Ke=s}function al(r,s,a,c){Ir=ls=null,fh(s),Ws=null,va=0;var _=s.return;try{if(gI(r,_,s,a,We)){Lt=1,Ic(r,di(a,r.current)),Ke=null;return}}catch(v){if(_!==null)throw Ke=_,v;Lt=1,Ic(r,di(a,r.current)),Ke=null;return}s.flags&32768?(nt||c===1?r=!0:rl||(We&536870912)!==0?r=!1:(ho=r=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),P_(s,r)):Fc(s)}function Fc(r){var s=r;do{if((s.flags&32768)!==0){P_(s,ho);return}r=s.return;var a=vI(s.alternate,s,Lr);if(a!==null){Ke=a;return}if(s=s.sibling,s!==null){Ke=s;return}Ke=s=r}while(s!==null);Lt===0&&(Lt=5)}function P_(r,s){do{var a=EI(r.alternate,r);if(a!==null){a.flags&=32767,Ke=a;return}if(a=r.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(r=r.sibling,r!==null)){Ke=r;return}Ke=r=a}while(r!==null);Lt=6,Ke=null}function k_(r,s,a,c,_,v,x,w,G){r.cancelPendingCommit=null;do qc();while(nn!==0);if((dt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(v=s.lanes|s.childLanes,v|=Od,bd(r,a,v,x,w,G),r===At&&(Ke=At=null,We=0),sl=s,go=r,Ur=a,Jh=v,$h=_,A_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,MI(De,function(){return F_(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,_=te.p,te.p=2,x=dt,dt|=4;try{TI(r,s,a)}finally{dt=x,te.p=_,B.T=c}}nn=1,V_(),L_(),U_()}}function V_(){if(nn===1){nn=0;var r=go,s=sl,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var c=te.p;te.p=2;var _=dt;dt|=4;try{m_(s,r);var v=ap,x=Ty(r.containerInfo),w=v.focusedElem,G=v.selectionRange;if(x!==w&&w&&w.ownerDocument&&Ey(w.ownerDocument.documentElement,w)){if(G!==null&&Pd(w)){var W=G.start,oe=G.end;if(oe===void 0&&(oe=W),"selectionStart"in w)w.selectionStart=W,w.selectionEnd=Math.min(oe,w.value.length);else{var ce=w.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ne=Z.getSelection(),Ce=w.textContent.length,Pe=Math.min(G.start,Ce),St=G.end===void 0?Pe:Math.min(G.end,Ce);!ne.extend&&Pe>St&&(x=St,St=Pe,Pe=x);var $=vy(w,Pe),J=vy(w,St);if($&&J&&(ne.rangeCount!==1||ne.anchorNode!==$.node||ne.anchorOffset!==$.offset||ne.focusNode!==J.node||ne.focusOffset!==J.offset)){var X=ce.createRange();X.setStart($.node,$.offset),ne.removeAllRanges(),Pe>St?(ne.addRange(X),ne.extend(J.node,J.offset)):(X.setEnd(J.node,J.offset),ne.addRange(X))}}}}for(ce=[],ne=w;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ce.length;w++){var ae=ce[w];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}jc=!!lp,ap=lp=null}finally{dt=_,te.p=c,B.T=a}}r.current=s,nn=2}}function L_(){if(nn===2){nn=0;var r=go,s=sl,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var c=te.p;te.p=2;var _=dt;dt|=4;try{c_(r,s.alternate,s)}finally{dt=_,te.p=c,B.T=a}}nn=3}}function U_(){if(nn===4||nn===3){nn=0,Jr();var r=go,s=sl,a=Ur,c=A_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?nn=5:(nn=0,sl=go=null,O_(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(mo=null),Er(a),s=s.stateNode,_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Xe,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,_=te.p,te.p=2,B.T=null;try{for(var v=r.onRecoverableError,x=0;x<c.length;x++){var w=c[x];v(w.value,{componentStack:w.stack})}}finally{B.T=s,te.p=_}}(Ur&3)!==0&&qc(),ur(r),_=r.pendingLanes,(a&261930)!==0&&(_&42)!==0?r===Kh?La++:(La=0,Kh=r):La=0,Ua(0)}}function O_(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ya(s)))}function qc(){return V_(),L_(),U_(),F_()}function F_(){if(nn!==5)return!1;var r=go,s=Jh;Jh=0;var a=Er(Ur),c=B.T,_=te.p;try{te.p=32>a?32:a,B.T=null,a=$h,$h=null;var v=go,x=Ur;if(nn=0,sl=go=null,Ur=0,(dt&6)!==0)throw Error(i(331));var w=dt;if(dt|=4,E_(v.current),y_(v,v.current,x,a),dt=w,Ua(0,!1),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Xe,v)}catch{}return!0}finally{te.p=_,B.T=c,O_(r,s)}}function q_(r,s,a){s=di(a,s),s=Ih(r.stateNode,s,2),r=ao(r,s,2),r!==null&&(Go(r,2),ur(r))}function yt(r,s,a){if(r.tag===3)q_(r,r,a);else for(;s!==null;){if(s.tag===3){q_(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(mo===null||!mo.has(c))){r=di(a,r),a=B0(2),c=ao(s,a,2),c!==null&&(z0(a,c,s,r),Go(c,2),ur(c));break}}s=s.return}}function Wh(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new xI;var _=new Set;c.set(s,_)}else _=c.get(s),_===void 0&&(_=new Set,c.set(s,_));_.has(a)||(Hh=!0,_.add(a),r=bI.bind(null,r,s,a),s.then(r,r))}function bI(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&a,r.warmLanes&=~a,At===r&&(We&a)===a&&(Lt===4||Lt===3&&(We&62914560)===We&&300>tn()-kc?(dt&2)===0&&ll(r,0):Gh|=a,ol===We&&(ol=0)),ur(r)}function B_(r,s){s===0&&(s=Lu()),r=rs(r,s),r!==null&&(Go(r,s),ur(r))}function NI(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),B_(r,a)}function DI(r,s){var a=0;switch(r.tag){case 31:case 13:var c=r.stateNode,_=r.memoizedState;_!==null&&(a=_.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),B_(r,a)}function MI(r,s){return Dt(r,s)}var Bc=null,ul=null,jh=!1,zc=!1,Zh=!1,_o=0;function ur(r){r!==ul&&r.next===null&&(ul===null?Bc=ul=r:ul=ul.next=r),zc=!0,jh||(jh=!0,kI())}function Ua(r,s){if(!Zh&&zc){Zh=!0;do for(var a=!1,c=Bc;c!==null;){if(r!==0){var _=c.pendingLanes;if(_===0)var v=0;else{var x=c.suspendedLanes,w=c.pingedLanes;v=(1<<31-$e(42|r)+1)-1,v&=_&~(x&~w),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Y_(c,v))}else v=We,v=Yi(c,c===At?v:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(v&3)===0||Ci(c,v)||(a=!0,Y_(c,v));c=c.next}while(a);Zh=!1}}function PI(){z_()}function z_(){zc=jh=!1;var r=0;_o!==0&&GI()&&(r=_o);for(var s=tn(),a=null,c=Bc;c!==null;){var _=c.next,v=H_(c,s);v===0?(c.next=null,a===null?Bc=_:a.next=_,_===null&&(ul=a)):(a=c,(r!==0||(v&3)!==0)&&(zc=!0)),c=_}nn!==0&&nn!==5||Ua(r),_o!==0&&(_o=0)}function H_(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,_=r.expirationTimes,v=r.pendingLanes&-62914561;0<v;){var x=31-$e(v),w=1<<x,G=_[x];G===-1?((w&a)===0||(w&c)!==0)&&(_[x]=Rd(w,s)):G<=s&&(r.expiredLanes|=w),v&=~w}if(s=At,a=We,a=Yi(r,r===s?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,a===0||r===s&&(gt===2||gt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&si(c),r.callbackNode=null,r.callbackPriority=0;if((a&3)===0||Ci(r,a)){if(s=a&-a,s===r.callbackPriority)return s;switch(c!==null&&si(c),Er(a)){case 2:case 8:a=ve;break;case 32:a=De;break;case 268435456:a=tt;break;default:a=De}return c=G_.bind(null,r),a=Dt(a,c),r.callbackPriority=s,r.callbackNode=a,s}return c!==null&&c!==null&&si(c),r.callbackPriority=2,r.callbackNode=null,2}function G_(r,s){if(nn!==0&&nn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var a=r.callbackNode;if(qc()&&r.callbackNode!==a)return null;var c=We;return c=Yi(r,r===At?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(C_(r,c,s),H_(r,tn()),r.callbackNode!=null&&r.callbackNode===a?G_.bind(null,r):null)}function Y_(r,s){if(qc())return null;C_(r,s,!0)}function kI(){JI(function(){(dt&6)!==0?Dt(se,PI):z_()})}function ep(){if(_o===0){var r=Ks;r===0&&(r=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),_o=r}return _o}function J_(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Ps(""+r)}function $_(r,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,r.id&&a.setAttribute("form",r.id),s.parentNode.insertBefore(a,s),r=new FormData(r),a.parentNode.removeChild(a),r}function VI(r,s,a,c,_){if(s==="submit"&&a&&a.stateNode===_){var v=J_((_[sn]||null).action),x=c.submitter;x&&(s=(s=x[sn]||null)?J_(s.formAction):x.getAttribute("formAction"),s!==null&&(v=s,x=null));var w=new nr("action","action",null,c,_);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_o!==0){var G=x?$_(_,x):new FormData(_);Eh(a,{pending:!0,data:G,method:_.method,action:v},null,G)}}else typeof v=="function"&&(w.preventDefault(),G=x?$_(_,x):new FormData(_),Eh(a,{pending:!0,data:G,method:_.method,action:v},v,G))},currentTarget:_}]})}}for(var tp=0;tp<Ud.length;tp++){var np=Ud[tp],LI=np.toLowerCase(),UI=np[0].toUpperCase()+np.slice(1);Pi(LI,"on"+UI)}Pi(xy,"onAnimationEnd"),Pi(Cy,"onAnimationIteration"),Pi(Iy,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ZC,"onTransitionRun"),Pi(eI,"onTransitionStart"),Pi(tI,"onTransitionCancel"),Pi(wy,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oa));function K_(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],_=c.event;c=c.listeners;e:{var v=void 0;if(s)for(var x=c.length-1;0<=x;x--){var w=c[x],G=w.instance,W=w.currentTarget;if(w=w.listener,G!==v&&_.isPropagationStopped())break e;v=w,_.currentTarget=W;try{v(_)}catch(oe){ic(oe)}_.currentTarget=null,v=G}else for(x=0;x<c.length;x++){if(w=c[x],G=w.instance,W=w.currentTarget,w=w.listener,G!==v&&_.isPropagationStopped())break e;v=w,_.currentTarget=W;try{v(_)}catch(oe){ic(oe)}_.currentTarget=null,v=G}}}}function Qe(r,s){var a=s[Rs];a===void 0&&(a=s[Rs]=new Set);var c=r+"__bubble";a.has(c)||(Q_(s,r,2,!1),a.add(c))}function ip(r,s,a){var c=0;s&&(c|=4),Q_(a,r,c,s)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function rp(r){if(!r[Hc]){r[Hc]=!0,Xl.forEach(function(a){a!=="selectionchange"&&(OI.has(a)||ip(a,!1,r),ip(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hc]||(s[Hc]=!0,ip("selectionchange",!1,s))}}function Q_(r,s,a,c){switch(xv(s)){case 2:var _=dw;break;case 8:_=hw;break;default:_=vp}a=_.bind(null,s,a,r),_=void 0,!Xo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),c?_!==void 0?r.addEventListener(s,a,{capture:!0,passive:_}):r.addEventListener(s,a,!0):_!==void 0?r.addEventListener(s,a,{passive:_}):r.addEventListener(s,a,!1)}function op(r,s,a,c,_){var v=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var x=c.tag;if(x===3||x===4){var w=c.stateNode.containerInfo;if(w===_)break;if(x===4)for(x=c.return;x!==null;){var G=x.tag;if((G===3||G===4)&&x.stateNode.containerInfo===_)return;x=x.return}for(;w!==null;){if(x=Qi(w),x===null)return;if(G=x.tag,G===5||G===6||G===26||G===27){c=v=x;continue e}w=w.parentNode}}c=c.return}jr(function(){var W=v,oe=ai(a),ce=[];e:{var Z=Ry.get(r);if(Z!==void 0){var ne=nr,Ce=r;switch(r){case"keypress":if(jo(a)===0)break e;case"keydown":case"keyup":ne=ec;break;case"focusin":Ce="focus",ne=es;break;case"focusout":Ce="blur",ne=es;break;case"beforeblur":case"afterblur":ne=es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=S;break;case xy:case Cy:case Iy:ne=$u;break;case wy:ne=R;break;case"scroll":case"scrollend":ne=aa;break;case"wheel":ne=ee;break;case"copy":case"cut":case"paste":ne=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ar;break;case"toggle":case"beforetoggle":ne=ze}var Pe=(s&4)!==0,St=!Pe&&(r==="scroll"||r==="scrollend"),$=Pe?Z!==null?Z+"Capture":null:Z;Pe=[];for(var J=W,X;J!==null;){var ae=J;if(X=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||X===null||$===null||(ae=bi(J,$),ae!=null&&Pe.push(Fa(J,ae,X))),St)break;J=J.return}0<Pe.length&&(Z=new ne(Z,Ce,null,a,oe),ce.push({event:Z,listeners:Pe}))}}if((s&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",Z&&a!==oa&&(Ce=a.relatedTarget||a.fromElement)&&(Qi(Ce)||Ce[$i]))break e;if((ne||Z)&&(Z=oe.window===oe?oe:(Z=oe.ownerDocument)?Z.defaultView||Z.parentWindow:window,ne?(Ce=a.relatedTarget||a.toElement,ne=W,Ce=Ce?Qi(Ce):null,Ce!==null&&(St=l(Ce),Pe=Ce.tag,Ce!==St||Pe!==5&&Pe!==27&&Pe!==6)&&(Ce=null)):(ne=null,Ce=W),ne!==Ce)){if(Pe=ua,ae="onMouseLeave",$="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Ar,ae="onPointerLeave",$="onPointerEnter",J="pointer"),St=ne==null?Z:Yn(ne),X=Ce==null?Z:Yn(Ce),Z=new Pe(ae,J+"leave",ne,a,oe),Z.target=St,Z.relatedTarget=X,ae=null,Qi(oe)===W&&(Pe=new Pe($,J+"enter",Ce,a,oe),Pe.target=X,Pe.relatedTarget=St,ae=Pe),St=ae,ne&&Ce)t:{for(Pe=FI,$=ne,J=Ce,X=0,ae=$;ae;ae=Pe(ae))X++;ae=0;for(var be=J;be;be=Pe(be))ae++;for(;0<X-ae;)$=Pe($),X--;for(;0<ae-X;)J=Pe(J),ae--;for(;X--;){if($===J||J!==null&&$===J.alternate){Pe=$;break t}$=Pe($),J=Pe(J)}Pe=null}else Pe=null;ne!==null&&X_(ce,Z,ne,Pe,!1),Ce!==null&&St!==null&&X_(ce,St,Ce,Pe,!0)}}e:{if(Z=W?Yn(W):window,ne=Z.nodeName&&Z.nodeName.toLowerCase(),ne==="select"||ne==="input"&&Z.type==="file")var at=hy;else if(fy(Z))if(py)at=XC;else{at=KC;var we=$C}else ne=Z.nodeName,!ne||ne.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?W&&Ms(W.elementType)&&(at=hy):at=QC;if(at&&(at=at(r,W))){dy(ce,at,a,oe);break e}we&&we(r,Z,W),r==="focusout"&&W&&Z.type==="number"&&W.memoizedProps.value!=null&&na(Z,"number",Z.value)}switch(we=W?Yn(W):window,r){case"focusin":(fy(we)||we.contentEditable==="true")&&(qs=we,kd=W,pa=null);break;case"focusout":pa=kd=qs=null;break;case"mousedown":Vd=!0;break;case"contextmenu":case"mouseup":case"dragend":Vd=!1,Sy(ce,a,oe);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Sy(ce,a,oe)}var Ge;if(ft)e:{switch(r){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Fs?ts(r,a)&&(je="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(or&&a.locale!=="ko"&&(Fs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Fs&&(Ge=la()):(tr=oe,sa="value"in tr?tr.value:tr.textContent,Fs=!0)),we=Gc(W,je),0<we.length&&(je=new rr(je,r,null,a,oe),ce.push({event:je,listeners:we}),Ge?je.data=Ge:(Ge=Os(a),Ge!==null&&(je.data=Ge)))),(Ge=ci?HC(r,a):GC(r,a))&&(je=Gc(W,"onBeforeInput"),0<je.length&&(we=new rr("onBeforeInput","beforeinput",null,a,oe),ce.push({event:we,listeners:je}),we.data=Ge)),VI(ce,r,W,a,oe)}K_(ce,s)})}function Fa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Gc(r,s){for(var a=s+"Capture",c=[];r!==null;){var _=r,v=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||v===null||(_=bi(r,a),_!=null&&c.unshift(Fa(r,_,v)),_=bi(r,s),_!=null&&c.push(Fa(r,_,v))),r.tag===3)return c;r=r.return}return[]}function FI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function X_(r,s,a,c,_){for(var v=s._reactName,x=[];a!==null&&a!==c;){var w=a,G=w.alternate,W=w.stateNode;if(w=w.tag,G!==null&&G===c)break;w!==5&&w!==26&&w!==27||W===null||(G=W,_?(W=bi(a,v),W!=null&&x.unshift(Fa(a,W,G))):_||(W=bi(a,v),W!=null&&x.push(Fa(a,W,G)))),a=a.return}x.length!==0&&r.push({event:s,listeners:x})}var qI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function W_(r){return(typeof r=="string"?r:""+r).replace(qI,`
`).replace(BI,"")}function j_(r,s){return s=W_(s),W_(r)===s}function Tt(r,s,a,c,_,v){switch(a){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pn(r,""+c);break;case"className":Jn(r,"class",c);break;case"tabIndex":Jn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(r,a,c);break;case"style":ra(r,c,v);break;case"data":if(s!=="object"){Jn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||a!=="href")){r.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Ps(""+c),r.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&Tt(r,s,"name",_.name,_,null),Tt(r,s,"formEncType",_.formEncType,_,null),Tt(r,s,"formMethod",_.formMethod,_,null),Tt(r,s,"formTarget",_.formTarget,_,null)):(Tt(r,s,"encType",_.encType,_,null),Tt(r,s,"method",_.method,_,null),Tt(r,s,"target",_.target,_,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(a);break}c=Ps(""+c),r.setAttribute(a,c);break;case"onClick":c!=null&&(r.onclick=Ri);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}a=Ps(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""+c):r.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,""):r.removeAttribute(a);break;case"capture":case"download":c===!0?r.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(a,c):r.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(a,c):r.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(a):r.setAttribute(a,c);break;case"popover":Qe("beforetoggle",r),Qe("toggle",r),Ns(r,"popover",c);break;case"xlinkActuate":Yt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Yt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Yt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Yt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Yt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Yt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Yt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ns(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gu.get(a)||a,Ns(r,a,c))}}function sp(r,s,a,c,_,v){switch(a){case"style":ra(r,c,v);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(a=c.__html,a!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=a}}break;case"children":typeof c=="string"?Pn(r,c):(typeof c=="number"||typeof c=="bigint")&&Pn(r,""+c);break;case"onScroll":c!=null&&Qe("scroll",r);break;case"onScrollEnd":c!=null&&Qe("scrollend",r);break;case"onClick":c!=null&&(r.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(_=a.endsWith("Capture"),s=a.slice(2,_?a.length-7:void 0),v=r[sn]||null,v=v!=null?v[a]:null,typeof v=="function"&&r.removeEventListener(s,v,_),typeof c=="function")){typeof v!="function"&&v!==null&&(a in r?r[a]=null:r.hasAttribute(a)&&r.removeAttribute(a)),r.addEventListener(s,c,_);break e}a in r?r[a]=c:c===!0?r.setAttribute(a,""):Ns(r,a,c)}}}function mn(r,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qe("error",r),Qe("load",r);var c=!1,_=!1,v;for(v in a)if(a.hasOwnProperty(v)){var x=a[v];if(x!=null)switch(v){case"src":c=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(r,s,v,x,a,null)}}_&&Tt(r,s,"srcSet",a.srcSet,a,null),c&&Tt(r,s,"src",a.src,a,null);return;case"input":Qe("invalid",r);var w=v=x=_=null,G=null,W=null;for(c in a)if(a.hasOwnProperty(c)){var oe=a[c];if(oe!=null)switch(c){case"name":_=oe;break;case"type":x=oe;break;case"checked":G=oe;break;case"defaultChecked":W=oe;break;case"value":v=oe;break;case"defaultValue":w=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:Tt(r,s,c,oe,a,null)}}Bu(r,v,w,G,W,x,_,!1);return;case"select":Qe("invalid",r),c=x=v=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":v=w;break;case"defaultValue":x=w;break;case"multiple":c=w;default:Tt(r,s,_,w,a,null)}s=v,a=x,r.multiple=!!c,s!=null?Kr(r,!!c,s,!1):a!=null&&Kr(r,!!c,a,!0);return;case"textarea":Qe("invalid",r),v=_=c=null;for(x in a)if(a.hasOwnProperty(x)&&(w=a[x],w!=null))switch(x){case"value":c=w;break;case"defaultValue":_=w;break;case"children":v=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Tt(r,s,x,w,a,null)}Qr(r,c,_,v);return;case"option":for(G in a)if(a.hasOwnProperty(G)&&(c=a[G],c!=null))switch(G){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Tt(r,s,G,c,a,null)}return;case"dialog":Qe("beforetoggle",r),Qe("toggle",r),Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":Qe("load",r);break;case"video":case"audio":for(c=0;c<Oa.length;c++)Qe(Oa[c],r);break;case"image":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"embed":case"source":case"link":Qe("error",r),Qe("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in a)if(a.hasOwnProperty(W)&&(c=a[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Tt(r,s,W,c,a,null)}return;default:if(Ms(s)){for(oe in a)a.hasOwnProperty(oe)&&(c=a[oe],c!==void 0&&sp(r,s,oe,c,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(c=a[w],c!=null&&Tt(r,s,w,c,a,null))}function zI(r,s,a,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,v=null,x=null,w=null,G=null,W=null,oe=null;for(ne in a){var ce=a[ne];if(a.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":G=ce;default:c.hasOwnProperty(ne)||Tt(r,s,ne,null,c,ce)}}for(var Z in c){var ne=c[Z];if(ce=a[Z],c.hasOwnProperty(Z)&&(ne!=null||ce!=null))switch(Z){case"type":v=ne;break;case"name":_=ne;break;case"checked":W=ne;break;case"defaultChecked":oe=ne;break;case"value":x=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==ce&&Tt(r,s,Z,ne,c,ce)}}Ds(r,x,w,G,W,oe,v,_);return;case"select":ne=x=w=Z=null;for(v in a)if(G=a[v],a.hasOwnProperty(v)&&G!=null)switch(v){case"value":break;case"multiple":ne=G;default:c.hasOwnProperty(v)||Tt(r,s,v,null,c,G)}for(_ in c)if(v=c[_],G=a[_],c.hasOwnProperty(_)&&(v!=null||G!=null))switch(_){case"value":Z=v;break;case"defaultValue":w=v;break;case"multiple":x=v;default:v!==G&&Tt(r,s,_,v,c,G)}s=w,a=x,c=ne,Z!=null?Kr(r,!!a,Z,!1):!!c!=!!a&&(s!=null?Kr(r,!!a,s,!0):Kr(r,!!a,a?[]:"",!1));return;case"textarea":ne=Z=null;for(w in a)if(_=a[w],a.hasOwnProperty(w)&&_!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Tt(r,s,w,null,c,_)}for(x in c)if(_=c[x],v=a[x],c.hasOwnProperty(x)&&(_!=null||v!=null))switch(x){case"value":Z=_;break;case"defaultValue":ne=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==v&&Tt(r,s,x,_,c,v)}zu(r,Z,ne);return;case"option":for(var Ce in a)if(Z=a[Ce],a.hasOwnProperty(Ce)&&Z!=null&&!c.hasOwnProperty(Ce))switch(Ce){case"selected":r.selected=!1;break;default:Tt(r,s,Ce,null,c,Z)}for(G in c)if(Z=c[G],ne=a[G],c.hasOwnProperty(G)&&Z!==ne&&(Z!=null||ne!=null))switch(G){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Tt(r,s,G,Z,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in a)Z=a[Pe],a.hasOwnProperty(Pe)&&Z!=null&&!c.hasOwnProperty(Pe)&&Tt(r,s,Pe,null,c,Z);for(W in c)if(Z=c[W],ne=a[W],c.hasOwnProperty(W)&&Z!==ne&&(Z!=null||ne!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Tt(r,s,W,Z,c,ne)}return;default:if(Ms(s)){for(var St in a)Z=a[St],a.hasOwnProperty(St)&&Z!==void 0&&!c.hasOwnProperty(St)&&sp(r,s,St,void 0,c,Z);for(oe in c)Z=c[oe],ne=a[oe],!c.hasOwnProperty(oe)||Z===ne||Z===void 0&&ne===void 0||sp(r,s,oe,Z,c,ne);return}}for(var $ in a)Z=a[$],a.hasOwnProperty($)&&Z!=null&&!c.hasOwnProperty($)&&Tt(r,s,$,null,c,Z);for(ce in c)Z=c[ce],ne=a[ce],!c.hasOwnProperty(ce)||Z===ne||Z==null&&ne==null||Tt(r,s,ce,Z,c,ne)}function Z_(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var _=a[c],v=_.transferSize,x=_.initiatorType,w=_.duration;if(v&&w&&Z_(x)){for(x=0,w=_.responseEnd,c+=1;c<a.length;c++){var G=a[c],W=G.startTime;if(W>w)break;var oe=G.transferSize,ce=G.initiatorType;oe&&Z_(ce)&&(G=G.responseEnd,x+=oe*(G<w?1:(w-W)/(G-W)))}if(--c,s+=8*(v+x)/(_.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var lp=null,ap=null;function Yc(r){return r.nodeType===9?r:r.ownerDocument}function ev(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function up(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var cp=null;function GI(){var r=window.event;return r&&r.type==="popstate"?r===cp?!1:(cp=r,!0):(cp=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,YI=typeof clearTimeout=="function"?clearTimeout:void 0,iv=typeof Promise=="function"?Promise:void 0,JI=typeof queueMicrotask=="function"?queueMicrotask:typeof iv<"u"?function(r){return iv.resolve(null).then(r).catch($I)}:nv;function $I(r){setTimeout(function(){throw r})}function vo(r){return r==="head"}function rv(r,s){var a=s,c=0;do{var _=a.nextSibling;if(r.removeChild(a),_&&_.nodeType===8)if(a=_.data,a==="/$"||a==="/&"){if(c===0){r.removeChild(_),hl(s);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")qa(r.ownerDocument.documentElement);else if(a==="head"){a=r.ownerDocument.head,qa(a);for(var v=a.firstChild;v;){var x=v.nextSibling,w=v.nodeName;v[Ki]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=x}}else a==="body"&&qa(r.ownerDocument.body);a=_}while(a);hl(s)}function ov(r,s){var a=r;r=0;do{var c=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(r===0)break;r--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||r++;a=c}while(a)}function fp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fp(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}r.removeChild(a)}}function KI(r,s,a,c){for(;r.nodeType===1;){var _=a;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Ki])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(v=r.getAttribute("rel"),v==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(v!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(v=r.getAttribute("src"),(v!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&v&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var v=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===v)return r}else return r;if(r=yi(r.nextSibling),r===null)break}return null}function QI(r,s,a){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=yi(r.nextSibling),r===null))return null;return r}function sv(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=yi(r.nextSibling),r===null))return null;return r}function dp(r){return r.data==="$?"||r.data==="$~"}function hp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function XI(r,s){var a=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||a.readyState!=="loading")s();else{var c=function(){s(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function yi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var pp=null;function lv(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"||a==="/&"){if(s===0)return yi(r.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}r=r.nextSibling}return null}function av(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return r;s--}else a!=="/$"&&a!=="/&"||s++}r=r.previousSibling}return null}function uv(r,s,a){switch(s=Yc(a),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function qa(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);bs(r)}var _i=new Map,cv=new Set;function Jc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Or=te.d;te.d={f:WI,r:jI,D:ZI,C:ew,L:tw,m:nw,X:rw,S:iw,M:ow};function WI(){var r=Or.f(),s=Uc();return r||s}function jI(r){var s=li(r);s!==null&&s.tag===5&&s.type==="form"?w0(s):Or.r(r)}var cl=typeof document>"u"?null:document;function fv(r,s,a){var c=cl;if(c&&typeof s=="string"&&s){var _=Mn(s);_='link[rel="'+r+'"][href="'+_+'"]',typeof a=="string"&&(_+='[crossorigin="'+a+'"]'),cv.has(_)||(cv.add(_),r={rel:r,crossOrigin:a,href:s},c.querySelector(_)===null&&(s=c.createElement("link"),mn(s,"link",r),Gt(s),c.head.appendChild(s)))}}function ZI(r){Or.D(r),fv("dns-prefetch",r,null)}function ew(r,s){Or.C(r,s),fv("preconnect",r,s)}function tw(r,s,a){Or.L(r,s,a);var c=cl;if(c&&r&&s){var _='link[rel="preload"][as="'+Mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(_+='[imagesrcset="'+Mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(_+='[imagesizes="'+Mn(a.imageSizes)+'"]')):_+='[href="'+Mn(r)+'"]';var v=_;switch(s){case"style":v=fl(r);break;case"script":v=dl(r)}_i.has(v)||(r=E({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:r,as:s},a),_i.set(v,r),c.querySelector(_)!==null||s==="style"&&c.querySelector(Ba(v))||s==="script"&&c.querySelector(za(v))||(s=c.createElement("link"),mn(s,"link",r),Gt(s),c.head.appendChild(s)))}}function nw(r,s){Or.m(r,s);var a=cl;if(a&&r){var c=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Mn(c)+'"][href="'+Mn(r)+'"]',v=_;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=dl(r)}if(!_i.has(v)&&(r=E({rel:"modulepreload",href:r},s),_i.set(v,r),a.querySelector(_)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(za(v)))return}c=a.createElement("link"),mn(c,"link",r),Gt(c),a.head.appendChild(c)}}}function iw(r,s,a){Or.S(r,s,a);var c=cl;if(c&&r){var _=Xi(c).hoistableStyles,v=fl(r);s=s||"default";var x=_.get(v);if(!x){var w={loading:0,preload:null};if(x=c.querySelector(Ba(v)))w.loading=5;else{r=E({rel:"stylesheet",href:r,"data-precedence":s},a),(a=_i.get(v))&&mp(r,a);var G=x=c.createElement("link");Gt(G),mn(G,"link",r),G._p=new Promise(function(W,oe){G.onload=W,G.onerror=oe}),G.addEventListener("load",function(){w.loading|=1}),G.addEventListener("error",function(){w.loading|=2}),w.loading|=4,$c(x,s,c)}x={type:"stylesheet",instance:x,count:1,state:w},_.set(v,x)}}}function rw(r,s){Or.X(r,s);var a=cl;if(a&&r){var c=Xi(a).hoistableScripts,_=dl(r),v=c.get(_);v||(v=a.querySelector(za(_)),v||(r=E({src:r,async:!0},s),(s=_i.get(_))&&gp(r,s),v=a.createElement("script"),Gt(v),mn(v,"link",r),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(_,v))}}function ow(r,s){Or.M(r,s);var a=cl;if(a&&r){var c=Xi(a).hoistableScripts,_=dl(r),v=c.get(_);v||(v=a.querySelector(za(_)),v||(r=E({src:r,async:!0,type:"module"},s),(s=_i.get(_))&&gp(r,s),v=a.createElement("script"),Gt(v),mn(v,"link",r),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},c.set(_,v))}}function dv(r,s,a,c){var _=(_=Ie.current)?Jc(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=fl(a.href),a=Xi(_).hoistableStyles,c=a.get(s),c||(c={type:"style",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){r=fl(a.href);var v=Xi(_).hoistableStyles,x=v.get(r);if(x||(_=_.ownerDocument||_,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(r,x),(v=_.querySelector(Ba(r)))&&!v._p&&(x.instance=v,x.state.loading=5),_i.has(r)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},_i.set(r,a),v||sw(_,r,a,x.state))),s&&c===null)throw Error(i(528,""));return x}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=dl(a),a=Xi(_).hoistableScripts,c=a.get(s),c||(c={type:"script",instance:null,count:0,state:null},a.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function fl(r){return'href="'+Mn(r)+'"'}function Ba(r){return'link[rel="stylesheet"]['+r+"]"}function hv(r){return E({},r,{"data-precedence":r.precedence,precedence:null})}function sw(r,s,a,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),mn(s,"link",a),Gt(s),r.head.appendChild(s))}function dl(r){return'[src="'+Mn(r)+'"]'}function za(r){return"script[async]"+r}function pv(r,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Mn(a.href)+'"]');if(c)return s.instance=c,Gt(c),c;var _=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Gt(c),mn(c,"style",_),$c(c,a.precedence,r),s.instance=c;case"stylesheet":_=fl(a.href);var v=r.querySelector(Ba(_));if(v)return s.state.loading|=4,s.instance=v,Gt(v),v;c=hv(a),(_=_i.get(_))&&mp(c,_),v=(r.ownerDocument||r).createElement("link"),Gt(v);var x=v;return x._p=new Promise(function(w,G){x.onload=w,x.onerror=G}),mn(v,"link",c),s.state.loading|=4,$c(v,a.precedence,r),s.instance=v;case"script":return v=dl(a.src),(_=r.querySelector(za(v)))?(s.instance=_,Gt(_),_):(c=a,(_=_i.get(v))&&(c=E({},a),gp(c,_)),r=r.ownerDocument||r,_=r.createElement("script"),Gt(_),mn(_,"link",c),r.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,$c(c,a.precedence,r));return s.instance}function $c(r,s,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=c.length?c[c.length-1]:null,v=_,x=0;x<c.length;x++){var w=c[x];if(w.dataset.precedence===s)v=w;else if(v!==_)break}v?v.parentNode.insertBefore(r,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(r,s.firstChild))}function mp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function gp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Kc=null;function mv(r,s,a){if(Kc===null){var c=new Map,_=Kc=new Map;_.set(a,c)}else _=Kc,c=_.get(a),c||(c=new Map,_.set(a,c));if(c.has(r))return c;for(c.set(r,null),a=a.getElementsByTagName(r),_=0;_<a.length;_++){var v=a[_];if(!(v[Ki]||v[Ht]||r==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var x=v.getAttribute(s)||"";x=r+x;var w=c.get(x);w?w.push(v):c.set(x,[v])}}return c}function gv(r,s,a){r=r.ownerDocument||r,r.head.insertBefore(a,s==="title"?r.querySelector("head > title"):null)}function lw(r,s,a){if(a===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yv(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function aw(r,s,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var _=fl(c.href),v=s.querySelector(Ba(_));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Qc.bind(r),s.then(r,r)),a.state.loading|=4,a.instance=v,Gt(v);return}v=s.ownerDocument||s,c=hv(c),(_=_i.get(_))&&mp(c,_),v=v.createElement("link"),Gt(v);var x=v;x._p=new Promise(function(w,G){x.onload=w,x.onerror=G}),mn(v,"link",c),a.instance=v}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(r.count++,a=Qc.bind(r),s.addEventListener("load",a),s.addEventListener("error",a))}}var yp=0;function uw(r,s){return r.stylesheets&&r.count===0&&Wc(r,r.stylesheets),0<r.count||0<r.imgCount?function(a){var c=setTimeout(function(){if(r.stylesheets&&Wc(r,r.stylesheets),r.unsuspend){var v=r.unsuspend;r.unsuspend=null,v()}},6e4+s);0<r.imgBytes&&yp===0&&(yp=62500*HI());var _=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wc(r,r.stylesheets),r.unsuspend)){var v=r.unsuspend;r.unsuspend=null,v()}},(r.imgBytes>yp?50:800)+s);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(_)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Xc=null;function Wc(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Xc=new Map,s.forEach(cw,r),Xc=null,Qc.call(r))}function cw(r,s){if(!(s.state.loading&4)){var a=Xc.get(r);if(a)var c=a.get(null);else{a=new Map,Xc.set(r,a);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<_.length;v++){var x=_[v];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),c=x)}c&&a.set(null,c)}_=s.instance,x=_.getAttribute("data-precedence"),v=a.get(x)||c,v===c&&a.set(null,_),a.set(x,_),this.count++,c=Qc.bind(this),_.addEventListener("load",c),_.addEventListener("error",c),v?v.parentNode.insertBefore(_,v.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),s.state.loading|=4}}var Ha={$$typeof:H,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function fw(r,s,a,c,_,v,x,w,G){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=c,this.onUncaughtError=_,this.onCaughtError=v,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function _v(r,s,a,c,_,v,x,w,G,W,oe,ce){return r=new fw(r,s,a,x,G,W,oe,ce,w),s=1,v===!0&&(s|=24),v=Kn(3,null,null,s),r.current=v,v.stateNode=r,s=Xd(),s.refCount++,r.pooledCache=s,s.refCount++,v.memoizedState={element:c,isDehydrated:a,cache:s},eh(v),r}function vv(r){return r?(r=Hs,r):Hs}function Ev(r,s,a,c,_,v){_=vv(_),c.context===null?c.context=_:c.pendingContext=_,c=lo(s),c.payload={element:a},v=v===void 0?null:v,v!==null&&(c.callback=v),a=ao(r,c,s),a!==null&&(On(a,r,s),Ta(a,r,s))}function Tv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function _p(r,s){Tv(r,s),(r=r.alternate)&&Tv(r,s)}function Sv(r){if(r.tag===13||r.tag===31){var s=rs(r,67108864);s!==null&&On(s,r,67108864),_p(r,67108864)}}function Av(r){if(r.tag===13||r.tag===31){var s=Zn();s=Jo(s);var a=rs(r,s);a!==null&&On(a,r,s),_p(r,s)}}var jc=!0;function dw(r,s,a,c){var _=B.T;B.T=null;var v=te.p;try{te.p=2,vp(r,s,a,c)}finally{te.p=v,B.T=_}}function hw(r,s,a,c){var _=B.T;B.T=null;var v=te.p;try{te.p=8,vp(r,s,a,c)}finally{te.p=v,B.T=_}}function vp(r,s,a,c){if(jc){var _=Ep(c);if(_===null)op(r,s,c,Zc,a),Cv(r,c);else if(mw(_,r,s,a,c))c.stopPropagation();else if(Cv(r,c),s&4&&-1<pw.indexOf(r)){for(;_!==null;){var v=li(_);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var x=Gi(v.pendingLanes);if(x!==0){var w=v;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var G=1<<31-$e(x);w.entanglements[1]|=G,x&=~G}ur(v),(dt&6)===0&&(Vc=tn()+500,Ua(0))}}break;case 31:case 13:w=rs(v,2),w!==null&&On(w,v,2),Uc(),_p(v,2)}if(v=Ep(c),v===null&&op(r,s,c,Zc,a),v===_)break;_=v}_!==null&&c.stopPropagation()}else op(r,s,c,null,a)}}function Ep(r){return r=ai(r),Tp(r)}var Zc=null;function Tp(r){if(Zc=null,r=Qi(r),r!==null){var s=l(r);if(s===null)r=null;else{var a=s.tag;if(a===13){if(r=u(s),r!==null)return r;r=null}else if(a===31){if(r=f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zc=r,null}function xv(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gn()){case se:return 2;case ve:return 8;case De:case Be:return 32;case tt:return 268435456;default:return 32}default:return 32}}var Sp=!1,Eo=null,To=null,So=null,Ga=new Map,Ya=new Map,Ao=[],pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(r,s){switch(r){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":To=null;break;case"mouseover":case"mouseout":So=null;break;case"pointerover":case"pointerout":Ga.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(s.pointerId)}}function Ja(r,s,a,c,_,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[_]},s!==null&&(s=li(s),s!==null&&Sv(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),r)}function mw(r,s,a,c,_){switch(s){case"focusin":return Eo=Ja(Eo,r,s,a,c,_),!0;case"dragenter":return To=Ja(To,r,s,a,c,_),!0;case"mouseover":return So=Ja(So,r,s,a,c,_),!0;case"pointerover":var v=_.pointerId;return Ga.set(v,Ja(Ga.get(v)||null,r,s,a,c,_)),!0;case"gotpointercapture":return v=_.pointerId,Ya.set(v,Ja(Ya.get(v)||null,r,s,a,c,_)),!0}return!1}function Iv(r){var s=Qi(r.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=u(a),s!==null){r.blockedOn=s,Ii(r.priority,function(){Av(a)});return}}else if(s===31){if(s=f(a),s!==null){r.blockedOn=s,Ii(r.priority,function(){Av(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ef(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Ep(r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);oa=c,a.target.dispatchEvent(c),oa=null}else return s=li(a),s!==null&&Sv(s),r.blockedOn=a,!1;s.shift()}return!0}function wv(r,s,a){ef(r)&&a.delete(s)}function gw(){Sp=!1,Eo!==null&&ef(Eo)&&(Eo=null),To!==null&&ef(To)&&(To=null),So!==null&&ef(So)&&(So=null),Ga.forEach(wv),Ya.forEach(wv)}function tf(r,s){r.blockedOn===s&&(r.blockedOn=null,Sp||(Sp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gw)))}var nf=null;function Rv(r){nf!==r&&(nf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nf===r&&(nf=null);for(var s=0;s<r.length;s+=3){var a=r[s],c=r[s+1],_=r[s+2];if(typeof c!="function"){if(Tp(c||a)===null)continue;break}var v=li(a);v!==null&&(r.splice(s,3),s-=3,Eh(v,{pending:!0,data:_,method:a.method,action:c},c,_))}}))}function hl(r){function s(G){return tf(G,r)}Eo!==null&&tf(Eo,r),To!==null&&tf(To,r),So!==null&&tf(So,r),Ga.forEach(s),Ya.forEach(s);for(var a=0;a<Ao.length;a++){var c=Ao[a];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Ao.length&&(a=Ao[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Ao.shift();if(a=(r.ownerDocument||r).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var _=a[c],v=a[c+1],x=_[sn]||null;if(typeof v=="function")x||Rv(a);else if(x){var w=null;if(v&&v.hasAttribute("formAction")){if(_=v,x=v[sn]||null)w=x.formAction;else if(Tp(_)!==null)continue}else w=x.action;typeof w=="function"?a[c+1]=w:(a.splice(c,3),c-=3),Rv(a)}}}function bv(){function r(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(x){return _=x})},focusReset:"manual",scroll:"manual"})}function s(){_!==null&&(_(),_=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,_=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),_!==null&&(_(),_=null)}}}function Ap(r){this._internalRoot=r}rf.prototype.render=Ap.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,c=Zn();Ev(a,c,r,s,null,null)},rf.prototype.unmount=Ap.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ev(r.current,2,null,r,null,null),Uc(),s[$i]=null}};function rf(r){this._internalRoot=r}rf.prototype.unstable_scheduleHydration=function(r){if(r){var s=Uu();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Ao.length&&s!==0&&s<Ao[a].priority;a++);Ao.splice(a,0,r),a===0&&Iv(r)}};var Nv=e.version;if(Nv!=="19.2.3")throw Error(i(527,Nv,"19.2.3"));te.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var yw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Xe=of.inject(yw),_t=of}catch{}}return Ka.createRoot=function(r,s){if(!o(r))throw Error(i(299));var a=!1,c="",_=U0,v=O0,x=F0;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),s=_v(r,1,!1,null,null,a,c,null,_,v,x,bv),r[$i]=s.current,rp(r),new Ap(s)},Ka.hydrateRoot=function(r,s,a){if(!o(r))throw Error(i(299));var c=!1,_="",v=U0,x=O0,w=F0,G=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(_=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(G=a.formState)),s=_v(r,1,!0,s,a??null,c,_,G,v,x,w,bv),s.context=vv(null),a=s.current,c=Zn(),c=Jo(c),_=lo(c),_.callback=null,ao(a,_,c),a=c,s.current.lanes=a,Go(s,a),ur(s),r[$i]=s.current,rp(r),new rf(s)},Ka.version="19.2.3",Ka}var qv;function Rw(){if(qv)return Ip.exports;qv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ip.exports=ww(),Ip.exports}var bw=Rw();const Nw=td(bw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mw=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Bv=t=>{const e=Mw(t);return e.charAt(0).toUpperCase()+e.slice(1)},TA=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),Pw=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=Le.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},p)=>Le.createElement("svg",{ref:p,...kw,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:TA("lucide",o),...!l&&!Pw(f)&&{"aria-hidden":"true"},...f},[...u.map(([d,y])=>Le.createElement(d,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(t,e)=>{const n=Le.forwardRef(({className:i,...o},l)=>Le.createElement(Vw,{ref:l,iconNode:e,className:TA(`lucide-${Dw(Bv(t))}`,`lucide-${t}`,i),...o}));return n.displayName=Bv(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Uw=ot("arrow-left",Lw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fw=ot("arrow-right",Ow);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Bw=ot("book-open",qw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Hw=ot("book",zw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ef=ot("check",Gw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zv=ot("chevron-down",Yw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$w=ot("circle-alert",Jw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qw=ot("circle-check-big",Kw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Np=ot("circle-plus",Xw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hv=ot("circle-question-mark",Ww);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zw=ot("circle-x",jw);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],tR=ot("code",eR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],SA=ot("copy",nR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gv=ot("eye",iR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oR=ot("file-text",rR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3l8.384-8.381",key:"pgg06f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m21.5 10.5-8-8",key:"a17d9x"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m8.5 7.5 8 8",key:"1oyaui"}]],lR=ot("gavel",sR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],uR=ot("heart-pulse",aR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],fR=ot("layout-dashboard",cR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],rm=ot("lightbulb",dR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Dp=ot("list",hR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mR=ot("loader-circle",pR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],yR=ot("lock",gR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Mp=ot("pencil",_R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ER=ot("refresh-cw",vR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SR=ot("save",TR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],om=ot("search",AR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],CR=ot("send",xR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wR=ot("settings",IR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],bR=ot("share-2",RR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tg=ot("sparkles",NR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],sm=ot("stethoscope",DR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],PR=ot("tag",MR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yv=ot("trash-2",kR);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ou=ot("x",VR);var le=(t=>(t.SURGERY="SURGERY",t.WOMEN_PREGNANCY="WOMEN_PREGNANCY",t.ICU_DEATH="ICU_DEATH",t.FASTING_MEDICINE="FASTING_MEDICINE",t.ETHICS="ETHICS",t.GENETICS_REPRODUCTION="GENETICS_REPRODUCTION",t.TATTOO_CORTISONE="TATTOO_CORTISONE",t.PRAYER_PURITY="PRAYER_PURITY",t.MEDICAL_EXPERIMENTS="MEDICAL_EXPERIMENTS",t.PHARMACY_DRUGS="PHARMACY_DRUGS",t.MISCELLANEOUS="MISCELLANEOUS",t))(le||{});const su=[{id:le.SURGERY,name:" ",icon:"Scissors",color:"bg-blue-100 text-blue-600"},{id:le.WOMEN_PREGNANCY,name:"    ",icon:"Baby",color:"bg-pink-100 text-pink-600"},{id:le.ICU_DEATH,name:"     ",icon:"Activity",color:"bg-red-100 text-red-600"},{id:le.FASTING_MEDICINE,name:"   ",icon:"Moon",color:"bg-yellow-100 text-yellow-600"},{id:le.ETHICS,name:"  ",icon:"Heart",color:"bg-green-100 text-green-600"},{id:le.GENETICS_REPRODUCTION,name:"   ",icon:"Dna",color:"bg-purple-100 text-purple-600"},{id:le.TATTOO_CORTISONE,name:"      ",icon:"Zap",color:"bg-orange-100 text-orange-600"},{id:le.PRAYER_PURITY,name:"   ",icon:"BookOpen",color:"bg-indigo-100 text-indigo-600"},{id:le.MEDICAL_EXPERIMENTS,name:"      ",icon:"TestTube2",color:"bg-cyan-100 text-cyan-600"},{id:le.PHARMACY_DRUGS,name:"  ",icon:"Pill",color:"bg-lime-100 text-lime-600"},{id:le.MISCELLANEOUS,name:" ",icon:"MoreHorizontal",color:"bg-gray-100 text-gray-600"}],Jv=[{id:"surg_001_2025",category:le.SURGERY,title:"   ",question:"         ( )",medical_context:"plastic surgery, rhinoplasty, breast augmentation, liposuction, botox, fillers, reconstruction, cosmetic, burn",ruling:`:    ():
   .    :
1.       (         ).
2.                 .
:                  .

:    ():
                   (             ).
:  : "   "           .

:    :
     ()    (  )      .               .`,verdict:"CONDITIONAL",source:"   ( 2045) /       173 (2007)",tags:["","","  "," "]},{id:"surg_002_2025",category:le.SURGERY,title:"   (Hymenoplasty)",question:"        (   )    ",medical_context:"hymenoplasty, virginity repair, hymen, concealment, satr, marriage",ruling:`:  :
1.         :           .
2.       ()    :      ""                  .

:  :
                       .                 .
 : "       ".`,verdict:"PERMITTED",source:"   (  - .  ) /    ",tags:["","","",""]},{id:"surg_003_2025",category:le.SURGERY,title:"    ",question:"     (Intersex)   (Transgender)",medical_context:"gender reassignment, sex change, intersex, hermaphrodite, gender dysphoria",ruling:`1.    (  - Intersex):
 .                       (  ).   ""     .

2.    (Sex Change):
    .         ( )        () .    "  "      .`,verdict:"CONDITIONAL",source:"      43 (1989) /   ",tags:["",""," "]},{id:"surg_004_2025",category:le.SURGERY,title:"   ( )",question:"          ",medical_context:"organ transplant, kidney, liver, brain death, donation, selling organs",ruling:`:    :
 :
1. :       .
2.  :           (    ).
3.  :      (       ).
4.  :    .

:    :
 :
1.    (      ).
2.           .
3.          (     ).`,verdict:"CONDITIONAL",source:"   ( 2009) /    (  26)",tags:[" ",""," ",""]},{id:"obgyn_001_2025",category:le.WOMEN_PREGNANCY,title:"   ",question:"          ",medical_context:"IVF, ICSI, artificial insemination, sperm donation, egg donation, surrogacy",ruling:`:   ( ):
1.                  (  ).
2.         ( ).
:              .

:   (5 ):
1.     ().
2.     ().
3.     ( )          .
4.           .
5.         ().`,verdict:"CONDITIONAL",source:"      16 (1986) /   ",tags:[" ","","",""]},{id:"obgyn_002_2025",category:le.WOMEN_PREGNANCY,title:"    ",question:"       ()   ",medical_context:"abortion, pregnancy termination, fetus soul, 40 days, 120 days, congenital defects",ruling:`1.   ( 40 ):
       (          )   .

2.   ( 40  120  -   ):
       (   )            .

3.   ( 120  -   ):
     ()            "     ". :                ()      .
:   (  )  120             .`,verdict:"CONDITIONAL",source:"    /    /   ",tags:["","","",""]},{id:"obgyn_003_2025",category:le.WOMEN_PREGNANCY,title:"   ",question:"      ( )    ",medical_context:"contraception, sterilization, vasectomy, tubal ligation, family planning",ruling:`1.   ():
       (  )          ""       .

2.   ( ):
             .

3.   (     ):
  (    )                         .`,verdict:"CONDITIONAL",source:"   /   ",tags:[" ",""," "]},{id:"obgyn_004_2025",category:le.WOMEN_PREGNANCY,title:"     (Abortion)",question:"          ",medical_context:"       ",ruling:`      :

 :  40  ( ):
-    :    ( )   
- :        (   )
- :       

 :  40  120  (   ):
- :       
- :    ( )
- :     (     )

 :  120  ( ):
- :   
- :       
- :    
-  :          ( )
  *          ( :     )

       :
1.         
2.         (  ) +  120   
3.     (  ) +   +  120 

  :
-  120 :      (   40   )
-  120 :        

 -:          .`,verdict:"CONDITIONAL",source:"   +      ",tags:["","","","",""]},{id:"obgyn_005_2025",category:le.WOMEN_PREGNANCY,title:"    (IVF)",question:"          ",medical_context:"IVF ICSI      ",ruling:`     :

  ( ):
1.      :
   - :     ( )
   - :
     *    (   )
     *        (  )
     *     (  )

2.   (ICSI)    :
   - :  (   IVF)
   - :   

  ( ):
1.      :
   - :  (  )
   - :     

2.      :
   - :  (  )
   - :   

3.   (Surrogacy):
   - :  (   )
   - :     (     )
   - :            

 :
-   :  (    )
-       :  ( )
-   :  (    )

  :           .`,verdict:"CONDITIONAL",source:"   +    ",tags:["","","","IVF",""]},{id:"obgyn_006_2025",category:le.WOMEN_PREGNANCY,title:"  /   (Surrogacy)",question:"       ( )",medical_context:"    surrogacy   ",ruling:`  :   

    ( ):
         (    ).

  :

 :  :
-   :       
  *   ( ) 
  *   ( )
-  : " " (  )
-     ( )    
-         

 :   :
-      (Market Commodification)
-       
-     (     )
-    (    )

 :      :
-        
-     (   " ")
-       

 :   :
-      
-       
-      

 :
-     ( ):   
-    ():       
-   :      

  :
-     (    )
-   (      )

  :      .`,verdict:"FORBIDDEN",source:"    ( 173/52  )",tags:[" "," ","","",""]},{id:"obgyn_007_2025",category:le.WOMEN_PREGNANCY,title:"   (Gender Selection)",question:"     (  )  ",medical_context:"     PGD   ",ruling:`    :

  ( ):
- :         
- :  
- :          

  ():
1.    (  ):
   - : 
   - :       

2.     (  IVF):
   - :     (Family Balancing)
   - :    ( 3   )
   - :        
   - :     (       )

3.     :
   - :  
   - :      
   - :      

  :

 :       
- :      
- :       (    )

 :    
- :     
- :     

 :  :
- :   "    "
-     IVF      

 :
-  :     
-  :  (   )
-  :     (  )

  :
-        
-        
-  :         .`,verdict:"CONDITIONAL",source:".    +   ",tags:[" ","","",""," "]},{id:"icu_001_2025",category:le.ICU_DEATH,title:"    ",question:"           ",medical_context:"brain death, ventilator, life support, DNR, brain stem death",ruling:`:   :
        ( )   :
1.         .
2.       (  )                   .

:  :
   "  "                                  .`,verdict:"PERMITTED",source:"      17 (1986) /   ",tags:[" ","","",""]},{id:"icu_002_2025",category:le.ICU_DEATH,title:"   (DNR)",question:"         (Do Not Resuscitate)",medical_context:"DNR, CPR, resuscitation, terminal illness, cancer",ruling:`       (CPR)   :
1.             (Futile).
2.          (   )               .
 :         (  )                 .`,verdict:"PERMITTED",source:"   (  12086) /    ",tags:["","DNR"," ",""]},{id:"icu_003_2025",category:le.ICU_DEATH,title:"  (Euthanasia)",question:"         ( )",medical_context:"euthanasia, mercy killing, assisted suicide, pain relief, morphine",ruling:`1.    (Active Euthanasia):
           " "                   .

2.    (Passive Euthanasia):
    " "  "   "      (   DNR)  ""        .

3.    ():
           (   )          (  ).`,verdict:"FORBIDDEN",source:"   /   ",tags:[" ","","",""]},{id:"fast_001_2025",category:le.FASTING_MEDICINE,title:"   ",question:"           ",medical_context:"fasting, injections, inhalers, eye drops, ear drops, suppositories, endoscopy, dialysis, anesthesia",ruling:`:    ( ):
1.    (     ).
2.    (         ).
3.     (  )     .
4.     ()     .
5.    (   ).
6.  ()   ( ).
7.     (    ).

:   ( ):
1.   (  ).
2.   (  )    .
3.   (   ).
4.   (      ).
5.   (      ).`,verdict:"CONDITIONAL",source:"    (  -   )",tags:["","","",""," "]},{id:"fast_002_2025",category:le.FASTING_MEDICINE,title:"  ",question:"       ",medical_context:"alcohol in medicine, pork gelatin, heparin, insulin, porcine",ruling:`1. :
              ""        (  ).

2.   (   ):
-  .
-       ""            .
-    (    )         "" (  )       .`,verdict:"CONDITIONAL",source:"     ( 1995) /   ",tags:["","","",""]},{id:"ethics_001_2025",category:le.ETHICS,title:"    ",question:"        ",medical_context:"male doctor, female patient, awrah, examination, privacy",ruling:`        .            :
1.     (     ).
2.    (    ).
3.      (  ).
4.    .
                .`,verdict:"CONDITIONAL",source:"   /   ( )",tags:["","","",""]},{id:"ethics_002_2025",category:le.ETHICS,title:"  ",question:"     ",medical_context:"confidentiality, medical secrets, aids, infectious diseases, harm",ruling:`              (    )   :
1.      (  )      .
2.          ( ).
3.      (  ).
4.   .
: "     ".`,verdict:"CONDITIONAL",source:"    /   ",tags:[" ","",""]},{id:"ethics_003_2025",category:le.ETHICS,title:"  ",question:"        ",medical_context:"autopsy, dissection, forensic, medical education",ruling:`1.  :
         (  )           .

2.   ( ):
             (  /)            .`,verdict:"PERMITTED",source:"   /    ",tags:[""," ",""]},{id:"ethics_004_2025",category:le.ETHICS,title:"     ",question:"           ",medical_context:"     ",ruling:`  :   :
-  : "    "
-   : "   "
-          

  :   :
- "  " (  )
- "  " (   )

  :

 :
       **  **.         .

  :

 :  :
-         
-       
-     

 :  :
-       
-     
-      

 :  :
-      
-       
-       

 :  :
-  :    
-    :   
-    ():   

 :

 :   :
-    :     
-     :      

 :  :
- :    (    ) 
-    :   
- :   

 : :
-         
- :  
- :    
-     :             

 :

-        
-        
-          

 :
       **  **       ( ).`,verdict:"CONDITIONAL",source:"  ( ) +   ",tags:["","",""," ","",""]},{id:"ethics_005_2025",category:le.ETHICS,title:"     ",question:"          ",medical_context:"       ",ruling:`  :  :
-       
-  : "       "
-        

  :   :
- "  "
-   :      

 :

 :  /  :
- :   (    )
- :    
- :    

 :     :
- :       
-   (4 ):
  1.  :     (  )
  2.    :   
  3.  :   
  4.   :     

 :     :
-     (  )  :  
- :   
- :     

 :

 :
-     :    
-    :    
- :     (  )

 :
-    :    ( )
- :    
- :  

 :

  ( ):
-  :  (     )
-    :    
-  :       

 :
-      
-        :
  *  
  *    
  *   

:
-     
-      ( )
-  :   

 :
      ()         :           .     .`,verdict:"CONDITIONAL",source:"   +    +   ",tags:["","","","","","",""]},{id:"genetic_001_2025",category:le.GENETICS_REPRODUCTION,title:" ",question:"       (     )",medical_context:"egg freezing, cryopreservation, oocyte preservation, social freezing, medical freezing",ruling:`:    .

 :         (       )         .

 :
1.  :            .
2.  :                 .
3.  :        (     ).
4.         .

 :       (2015  )     "    "    .`,verdict:"CONDITIONAL",source:"   ( 2015  ) /     ",tags:["","","",""]},{id:"genetic_002_2025",category:le.GENETICS_REPRODUCTION,title:"  ",question:"       (  )",medical_context:"sex selection, gender choice, PGD, sperm sorting, family balancing",ruling:`:   .

 :
1.    ( Sperm Sorting).
2.      (PGD - Pre-implantation Genetic Diagnosis).

 :
1.  :    ""       (      ).  ""    .
2.   (Family Balancing):                       :
   -             (  ).
   -          .

   :           ( )  .`,verdict:"CONDITIONAL",source:"    ( 102) /     ",tags:[" "," ",""]},{id:"genetic_003_2025",category:le.GENETICS_REPRODUCTION,title:"  (DNA)  ",question:"    DNA    ",medical_context:"DNA, genetic fingerprint, paternity test, parentage verification, switched babies",ruling:`:          .

  :
1.     ().
2.          ( ).
3.    .
4.     .

  :
  DNA   "  " (       ).                    "" .

 :             .

  :         "    "       .`,verdict:"CONDITIONAL",source:"     ( 71) /   ",tags:[" ","","DNA"]},{id:"genetic_004_2025",category:le.GENETICS_REPRODUCTION,title:"  (Surrogacy)",question:"            ",medical_context:"surrogacy, gestational carrier, womb rental, gestational mother, genetic mother",ruling:`:     (    ).

 :                        .

  :
1.  :    " " (  - ) " " (  - )    {    }           .
2.  :          .
3.  :     (         ).
4.  :         .

 : "                 ".`,verdict:"FORBIDDEN",source:"      15 (1986) /    ( 11804)",tags:[" ","surrogacy","",""]},{id:"genetic_005_2025",category:le.GENETICS_REPRODUCTION,title:"   ",question:"          ",medical_context:"genetic diseases, hereditary disorders, PGD, sickle cell, cystic fibrosis, hemophilia",ruling:`:  (   )      :

 :
1.     ""          (     ).
2.    " " ()     .
3.            (PGD)     .
4.        .

 :       ""   (     )         .

:                .`,verdict:"PERMITTED",source:"    /       ",tags:[" ","","PGD",""]},{id:"tattoo_001_2025",category:le.TATTOO_CORTISONE,title:"  (Tattoo Removal)",question:"          ",medical_context:"tattoo, laser removal, dermatology, repentance, sin",ruling:`:  (   )    .

:
1.   ():      " ".
2.  :      (  )   "" ""  .
3. :             : {   }.`,verdict:"PERMITTED",source:"   /   ",tags:[""," ",""]},{id:"tattoo_002_2025",category:le.TATTOO_CORTISONE,title:"  (Skin Lightening)",question:"       ",medical_context:"skin lightening, bleaching cream, melanin reduction, cosmetic",ruling:`:     .

:
1.      (        ): .
2.           " ":  :
   -   .
   -   " "     .
   -     (     ).

:        "" ""       .`,verdict:"FORBIDDEN",source:"  /    ",tags:[""," ",""]},{id:"prayer_001_2025",category:le.PRAYER_PURITY,title:"   ",question:"          ",medical_context:"prayer positions, disabled, wheelchair, bedridden, standing, sitting",ruling:` : "          " ( ).

 :
1. :  .
2. :     (     ).
3.  ():     (   ).
4. :       (   ).
5.   :          .

   :
-  :      (    ).
-     :         ( ).

 :
       ( )          .`,verdict:"CONDITIONAL",source:"   /    /  ",tags:["","","",""]},{id:"prayer_002_2025",category:le.PRAYER_PURITY,title:"    ",question:"        (  )",medical_context:"ablution, wudu, splint, bandage, wounds, burns, tayammum",ruling:`:     (   )   .

:
1.         (  ).
2.      (     ).
3.      "  ".
4.          ( ).

:           (    ).

 :   ():
      (    )             .`,verdict:"CONDITIONAL",source:"   /   ( )",tags:["","","",""]},{id:"prayer_003_2025",category:le.PRAYER_PURITY,title:"    ",question:"      ",medical_context:"fasting, illness, travel, exemption, makeup days, kuffara",ruling:`    (  ):
1. :        (    ).
2. :     (   80  90 ).
3.  :       /.

:
- :    (   ).
- :      .
- :    (   ).

 :
-   :     :          ( ).
-  :     (  ):     .`,verdict:"CONDITIONAL",source:"   /   ",tags:["","","","",""]},{id:"prayer_004_2025",category:le.PRAYER_PURITY,title:"  :     ",question:"         ",medical_context:"       ",ruling:`             :
"                 "

        : "    "

 :        ""      " ".                  .

  :    (   )      .`,verdict:"PERMITTED",source:"   +    +    ",tags:["","","","  ",""]},{id:"prayer_005_2025",category:le.PRAYER_PURITY,title:"     ",question:'    "  "    ',medical_context:"        ",ruling:` "  "         .        :

1.  :      6  8           .

2.  :    ( )       (PPE)                    .

3.   :                        .

 :        .`,verdict:"PERMITTED",source:"   +   ",tags:[" ","","","",""]},{id:"prayer_006_2025",category:le.PRAYER_PURITY,title:"      ",question:"          ",medical_context:"        ",ruling:`       :     .

     " " (    ) " " (    )         .

:                .

 :          ( )       ()     .`,verdict:"PERMITTED",source:"   -   ",tags:[" "," "," ","",""]},{id:"prayer_007_2025",category:le.PRAYER_PURITY,title:" :     ",question:"           ",medical_context:"         ",ruling:`               .

   :
                (  )         .

 :
1.   :  
2.   (4 )  " "
3.   :   
4.   (4 )  "     "
5.       

:              .`,verdict:"PERMITTED",source:"   -   ",tags:[""," ","",""," "]},{id:"prayer_008_2025",category:le.PRAYER_PURITY,title:" :     ",question:"           ",medical_context:"        ",ruling:`                   .

     :
                (     )          .

 :
1.           
2.   : "          "
3.   
4.   (  ):     ( )  

:        .`,verdict:"PERMITTED",source:"   -   ",tags:[""," ","","",""]},{id:"prayer_009_2025",category:le.PRAYER_PURITY,title:"   :     ",question:"      (   )   ",medical_context:"      ",ruling:`    ( ) .

 :
-    ""    " "
-     ""  (  )
-       ()  ""  ""

 :
-      ()
-     ()
-     ()
-     ()

 :         .`,verdict:"CONDITIONAL",source:"   +     +   ",tags:["","","","",""]},{id:"prayer_010_2025",category:le.PRAYER_PURITY,title:"    :    ",question:"           ",medical_context:"        ",ruling:`    .   :

:   :
-          (  )
-  : "    "  "    "

:   :
-         
-  :             : "    "    
- :         

:  :
-    (    )
-       

 :     .`,verdict:"CONDITIONAL",source:"   -   ",tags:["","",""," "]},{id:"prayer_011_2025",category:le.PRAYER_PURITY,title:"  ()   ",question:"        ",medical_context:"     ",ruling:` ()       .

 :
-       
-           

 :
1.   (4 )
2.   
3.        
4.   (4 )

 :
-  
-   
-  
-     

 :           .`,verdict:"CONDITIONAL",source:"  ",tags:["","","",""]},{id:"prayer_012_2025",category:le.PRAYER_PURITY,title:"    ",question:"          ",medical_context:"     ",ruling:`      .

 :
-       
-     
-     

 :
     :
1.    (4 )
2.     (4 )

  :
1.    (4 )
2.     (4 )

 :
-      
-      

 :          .`,verdict:"CONDITIONAL",source:"  ",tags:["","","",""]},{id:"prayer_013_2025",category:le.PRAYER_PURITY,title:"    :    ",question:"         ()",medical_context:"      PPE   ",ruling:`             . :       .

:     :
-     (PPE)          
-     
- :      

:     ( ):
-       
-      
-    
-           " " " "   
- :       

:             .`,verdict:"PERMITTED",source:"     -  ",tags:["","","","","",""]},{id:"prayer_014_2025",category:le.PRAYER_PURITY,title:"     ",question:"           ",medical_context:"       ",ruling:`               :

 :   (   ):
-  :        
-  :       
- :     (   )

 :     (  ):
-  :           (Full PPE)
-  :     
-  :              

:       .`,verdict:"CONDITIONAL",source:"   -  ",tags:["","",""," "]},{id:"prayer_015_2025",category:le.PRAYER_PURITY,title:"      ",question:"           ",medical_context:"        ",ruling:`           :

:     :
-        
- :     
- :      

:  :
-    (    )    

:     :
-  :  (    )
-                

:     ( ):
-   " " (   )
-  :        
- :      

 :         .`,verdict:"PERMITTED",source:"   -  ",tags:["","","","",""]},{id:"prayer_016_2025",category:le.PRAYER_PURITY,title:"     ",question:"        ",medical_context:"       ",ruling:`    ( )       :

 :
-      (  )
-      

 :   ( ):
-     ( )
-    (    )
-      
- :  

 :     :
-       
-      

 :       ( ):
-       
- :    
- : "   "
-  :    

:          .`,verdict:"CONDITIONAL",source:"   -  ",tags:["","","","",""]},{id:"prayer_017_2025",category:le.PRAYER_PURITY,title:"    :  ",question:"         ",medical_context:"     ",ruling:`          .    : "             "

  ():
-   ""    ()
-      

     :
1.      :   
2.        :   
3.        :   
4.       :   

  :
-           ""
-     "" (   )
-       

 :          .`,verdict:"CONDITIONAL",source:"     -    ",tags:["","","","",""]},{id:"prayer_018_2025",category:le.PRAYER_PURITY,title:"  :   ",question:"         ",medical_context:"     ",ruling:`        :  " "     .

 :
-   
-    ( : "    ")
-   " "       

 :
1.        
2.  :        
3.        

 :
-               
-         
-     

 :             .`,verdict:"PERMITTED",source:"   +     ",tags:["","","","",""]},{id:"prayer_019_2025",category:le.PRAYER_PURITY,title:"    ",question:"          ",medical_context:"     ",ruling:`              :

  :
1.     
2.      

 :
-         ()
-      ( ) 
-            

  :
1.    
2.        
3.      
4.    (     )

:             .`,verdict:"PERMITTED",source:"    ",tags:["","","","",""]},{id:"prayer_020_2025",category:le.PRAYER_PURITY,title:" :   (Elective Surgery)",question:"            ",medical_context:"       ",ruling:`             :

  :
:         12:00    5:00 

   :
1.     ( ):    
2.   (4 )  : " "
3.     :    ( )
4.   (4 ) : "     "
5.    :    

:          

 :   ( )    :
-     
-       
-      

 :          .`,verdict:"PERMITTED",source:"   -   ",tags:[""," "," "," "]},{id:"prayer_021_2025",category:le.PRAYER_PURITY,title:" :    (Emergency)",question:"         ",medical_context:"       ",ruling:`    (    )          :

  :
:                    

   :
1.           
2.    ( ): "          "
3.        
4.      (  ):   
5.    (4 ) -   
6.    (4 )   

:        

   :
-     (   )
-         
- :        

 :           .`,verdict:"PERMITTED",source:"   -   ",tags:[""," ","",""," "]},{id:"prayer_022_2025",category:le.PRAYER_PURITY,title:" :     ",question:"            8 ",medical_context:"   8     ",ruling:`         8     :

   :

  ( ):
1.       
2. :      
3. :         

  ( ):
1.    
2.   ()
3.     " "  " "

  ( ):
)       :
-   
-    (  )
-  

)     ( ):
-    
-    
-   

  (  ):
-  :     (    )
-   :  
-  :    
    " " (   )
    :     

 :
-      
-     
-    (  )  
-    

 :             .`,verdict:"PERMITTED",source:"  ",tags:["","",""," "," "]},{id:"prayer_023_2025",category:le.PRAYER_PURITY,title:"    ",question:"         ",medical_context:"    ",ruling:`    (     )    :

 :   :
-    
-    (   )
-  " "      
-       

 :   :
-      
-    :      
-     

 :   :
-       
-   ()     
-     :    
-    :   

 :  :
-        
-      
-       

 :   :
-        
-       
-   " " ( 15 )    
-       

 :     :
-   " " " "  
-      
-       

 :
"                        ."`,verdict:"PERMITTED",source:"   +    +    ",tags:["","","","",""]},{id:"ethics_006_2025",category:le.MEDICAL_EXPERIMENTS,title:"    ",question:"      ",medical_context:"      ",ruling:`         (    )  :

 :
1.           .
2.      (   ).
3.        .
4.      .

 :
-      ( :       ):  .
-  :       .
-   ( ):    .

 :
    (   )    (     )         .

 :             .`,verdict:"CONDITIONAL",source:"   +   ",tags:["",""," ",""]},{id:"ethics_007_2025",category:le.MEDICAL_EXPERIMENTS,title:"    ",question:"      ( )",medical_context:"  clinical trials     consent",ruling:`      :

 :   ( ):
- :   
- :
  1. :      
  2. :    (Informed Consent)
  3. :       
  4. :      
- :          

 :   (  ):
- :    
- :
  1.  :      ( )
  2.   :          
  3.    :        
  4.  :       
  5.  :       
  6.  :    

 :
"    " -           (       ).

     :
-  (          )
- 
-    (  )
-  ( )

 :              .`,verdict:"CONDITIONAL",source:"    + .  ",tags:[" ","clinical trials","",""]},{id:"icu_004_2025",category:le.ICU_DEATH,title:"     (Withdrawing Life Support)",question:"        ",medical_context:"       ventilator brain death",ruling:`     :

:   :
-  :    (  )
-   (Brain Death):        

:    :

 :    :
- :     (   )
- :   
- :      ( )
- :    (   )
- :      (     )

 :   (Persistent Vegetative State):
- :        ()
- :       
- :       ()    
- :         

 :   (Terminal Illness):
- :       (    )
- :      (   )
- :    CPR     

:   :

 :  :
-           

 :  :
-     (//)    
-       

 :  :
-        
-       

 :   :
-         (   )
-          

:     :

-    (    )
-     (   )
-      (   )

:    :
-    :   (  )
-         
- :  =   /  =   

:     :
-        
-     

  :
       (  )               .`,verdict:"PERMITTED",source:"    + .   ",tags:[" ","","","",""]},{id:"obgyn_011_2025",category:le.WOMEN_PREGNANCY,title:"  (Female Genital Mutilation)",question:"      ",medical_context:"  FGM     ",ruling:`  :     

:    :

1.   :
   -  "  "    
   -  "  "  
   -       

2.   :
   -  "   "
   -  "    "
   -  "     "

3.   :
   -    ()
   -   
   -   :   

:   :

  :
-     
-    
-   (   )
-    

 :
-       
-    ( )
-   (  PTSD)
-    

 :
-     
-    
-     
-   

:   :

-   :    
-  :     
-   :     

:   :

-  ( ):    
- :   
- :  
-   :   

:    :

: "  "
- :       (    )

: "    "
- :     (   )

: "   "
- :    (       )

:   :

 :
-     
-     
-       

 :
-     
-    
-    

  :
         (   )      .            .`,verdict:"FORBIDDEN",source:"   +    +   ",tags:["","","","","FGM",""]},{id:"pharm_001_2025",category:le.PHARMACY_DRUGS,title:"    (Doping)",question:"       ",medical_context:"     ",ruling:`    :

 :   :
-  : "   "
-   :
  *   (    )
  *   ( )
  *   (  )
  *   
  *   
  *  ( )
  *    (  )

 :  :
- : "   "
-       
-     
-   

 :    :
-     
-       
-   

 :

 :
1.  ( ):  
2.   ( ): 
3.   (): 
4.    : 

  :
-    ( ): 
-    :  ( )
-   : 

 :
- :   
- :      

 :

 :    :
-     : 
- :    
- :    

 :   :
-    
-       
-       

  :
-      
-    (  )
-    ( )
-     ( )

  :
                          .`,verdict:"FORBIDDEN",source:".    +   +   ",tags:["","","","","",""]},{id:"pharm_002_2025",category:le.PHARMACY_DRUGS,title:"    (Deceptive Marketing)",question:"       ",medical_context:"      ",ruling:`      :

 :   :
- : "        "
-  : "   "
-    =  

   :

 :  :
-     
- :       ()
- :   +  

 :  :
-       
- :     30%   " "
-   

 :  :
-     
- :        
-     

 :  :
-    (: "90% "    30%)
-   

  :

 :  :
-     :
  *  
  *  
  *   

 :  :
-          
- :       

 : :
-    
-     

 :  :
-      (    )
-     

 :   :
-      
-  :    

   :

 :    :
-      
- :  

 :    :
-        
-     
-     

 :    :
-       
-     

   :

-    ( + )
-    
-    

 :
       .                   .`,verdict:"CONDITIONAL",source:"   +    ",tags:["","","","","",""," "]},{id:"pharm_003_2025",category:le.PHARMACY_DRUGS,title:"  /    (Burning)",question:'     "" (     )    ',medical_context:"     ",ruling:`  (  )  :

  :
-        ( 40%  )
-     (target)
-     
-     

  :

 :  :
-       
-    
-    

 :  :
-     = 
-     

 :  :
-    (  )
-     
-        

 : :
-       =  
-        =   

 :

 1:   10 :
-  : 15  ( )
- :   5 
- :  15  ()
- :  target  
- :  ( + )

 2:    :
-     ()
- :  
- :  (  )

 3:   ():
-      
-   20%  
-  
- :  
- : 

    :

 :
-     
-    
-    ( )
- :  

 :
-     
-   
-   ( )
- :   

  :

 :
-    
-  
-     

 :
-   
-   
-   

 :

:     :
-     (  )
-    ( )

:     target:
-     
-      
- "     "

 :
  (     )          .     .`,verdict:"FORBIDDEN",source:"   +   ",tags:["","","","","","",""]},{id:"pharm_004_2025",category:le.PHARMACY_DRUGS,title:"       (Insurance Fraud)",question:"            ",medical_context:"      ",ruling:`      :

 :  :
-  : "       "
- /    
-   =   

  :

    :
1.    /
2.    ( )
3.    

  :

 :   :
-  : "    "
-      
-   

 :    :
-     
-   =   
-  : "       "

 : :
-     
-  =  
-  : "   "

 :  :
-     
-   
-    

 :

 1:    :
-   100  ( )
-     150 
-    
- :   

 2:    :
-     
-   
- :  

 3:      :
-    
-   
- :  

 :

 : :
-    

 : :
-    

 :  ( ):
-   

 : :
-   

:

 :
-  ( )
-   
-   
-  

 :
-   ( )
-  : "               "

 :

 :  :
-         
-      
- :        

 :  :
-     
-        

 :    :
- :  (  )
-   

  :

   :
-    
-    (  )
-    

  :
             .              .`,verdict:"FORBIDDEN",source:"   +   ( )",tags:[""," ","",""," ",""]},{id:"pharm_005_2025",category:le.PHARMACY_DRUGS,title:"       ",question:"            ",medical_context:"     ",ruling:`      :

   :

:
-    
-    
-     
-    

:
-     
-    
-      
-      

  :

 :  :
-       
-  : "       "
-      

 :  :
-        = 
-        
-       

 :  :
-   =  
-   =   
- : "   "

 :   :
-  : "     "
-     = 
-  =  

 :

 :     (OTC):
-        ()
- :      
- :      
- :   " " = 

 :     :
- : "  "
-     
- :  (    )
- :     

 :    :
- :   = " " ()
-    
- :  
- :        

 :    :
-     
- :  (  )
-  :  

 :

  :
1.     
2.     (  )
3.     
4.     
5.       

   :
1.  
2.      
3.   
4.    
5.   

    :

 1:     :
-  : "  "
-  
-       
- :   ( )

 2:  :
-  : " "
-  
-       
- :   

 3:   :
-  : " "
-  
-      ( )
- :  

  :

  :
-   ( )
-    
-   
-   (  )

 :
           .            .      ""   .`,verdict:"FORBIDDEN",source:"  ( ) +  ",tags:["","","","","",""]},{id:"misc_001_2025",category:le.MISCELLANEOUS,title:"     ",question:"         ",medical_context:"   confidentiality  ",ruling:`  :   :
-  : "        "
-   : "       "
-     

 :
-    
-       
-   =  

 :
                .

    ( )  :

 :   :
-         
- :        " "
- :      
- :      

 :  :
-      
- :      
- :    

 :    :
-    (  )
- :    
- :   
- :         ()

 :    :
-    (  )
- :    (  )
- :     
- :       

 :     :
-        
- :   (    )
-  :   

 :   :
-   ( )
-   ( )
-    ( )
- :  

 :   :
-      
- :   
- :     

 :  :
-     
- :  
- :     

     :

-   ( )
-       
-    (  )
-     
-    
-    (  )

 :

:
1.     
2.        
3.        
4.    

:
1.    
2.    
3.       

 :
                (            ).`,verdict:"CONDITIONAL",source:"   + .  ",tags:[" ","","","","",""]},{id:"misc_002_2025",category:le.MISCELLANEOUS,title:"    (Medical Malpractice)",question:"        ",medical_context:"     negligence",ruling:`    :

 :  :
  ()     :

1.    :
   -        
   - :     
   - :     
   - :   "     "

2.  :
   -     
   -     
   - :        ( )
   - :    
   - :    

3.    :
   -         
   - :   (  )
   - :     
   - :   

4.  :
   -    (  )
   - :   (   )

5.    (  ):
   -      =  
   -       = 
   - :        

6.   :
   -       
   - :    

 :  :
-      (    )
-    =  

  (   ):
-        
- :         
-     =  

    :

1.   :
   -    
   -   
   -    
   - :  

2.   :
   -    
   -    
   -    
   - :    

3.   :
   -      
   -    
   - :  

4.     (Informed Consent):
   -    
   -   
   -   
   - :    (      )

 :

 :
-  ( 3     )
-  
-  
-       

 :
-    
-    
-    
-    

 :
-    
-   
-     ( )

  :

  :
1.    
2.     
3.     
4.     (Written Consent)
5.    
6.    

  :

 1:      :
-   =  
- :    +  + 

 2:      (X-ray):
-     
-    
-     
- :  ()

 3:        :
-      
- :  (  )

 4:      :
-    
- :   ()

  :
  ()               .                 .`,verdict:"CONDITIONAL",source:"   +    +  ",tags:[" ","","","","",""]},{id:"genetic_006_2025",category:le.GENETICS_REPRODUCTION,title:"   (Cloning & Genetic Engineering)",question:"         ",medical_context:" cloning     ",ruling:`:    
:
-    
-     
-    (  )

  :

    ( 96/10):
-    
-    
-    

  :
1.  :  
2.  :   
3.   : 
4.  :   
5.  : `,verdict:"CONDITIONAL",source:"    ( 96/10) + .   ",tags:[""," ",""," ","DNA"," "]},{id:"fast_003_2025",category:le.FASTING_MEDICINE,title:"  (    )",question:"        ",medical_context:"  gelatin    ",ruling:` :
-     (  )
-       ()
-     
-      

 :  :
-  : "   "
-    
-    

 :

 :   ():
- :       
- :       
- :    ( )

 :   ( ):
- :     
- : "  "

 :  ( ):
- :  
- :      
- :       

  :

 :  :
-        
-     
- :     

 :  :
-      
-      
- :      

 :  :
-      
-    
- :   (   )

 :  :
-     
-    

 :

 :   :
-   :
  *   
  *    
  *  

-   :
  *    (  5%):    
  *   (  20%):    

 :   :
-   
-  :   ( )
- :    

 :   :
-      
-    (  )
- :
  *  ( ):   
  *  ( ): 

  :
- :       
- :    
- :     `,verdict:"FORBIDDEN",source:"   +    +  ",tags:["","","","","","",""]},{id:"genetic_007_2025",category:le.GENETICS_REPRODUCTION,title:"   (Cloning & Genetic Engineering)",question:"         ",medical_context:" cloning     ",ruling:` :

 :   (Reproductive Cloning):
:       (    )

:     

  :

1.  :
   -  : "     "
   -     

2.  :
   - :      
   -    :      
   -       

3.  :
   -     
   -    

4.   :
   -     " " (   )
   -    
   -     (" ")

5.  :
   -     ()   
   -     

:     .

 :   (Therapeutic Cloning):
:         (   )

:
-     
-     
-     

:     (   )

 :

1.  :
   - :    
   -  : "     "

2.  :
   -      
   -     

3.   :
   -    
   -   

4.   :
   -    ( )
   -     

   :

-     
-      
-     ( )
-      

 :   (Genetic Engineering):
:          

:

1.   :
   - :    ( )
   - :   
   - :   

2.   (Enhancement):
   - :     
   - :  :
     *    ( )
     *      ( )
   - : 

3.    (Designer Baby):
   - :     (  )
   - :     
   -      

 :
        .

  :
:  
:
-    
-     
-    (  )

  :

    ( 96/10):
-    
-    
-    

  :
1.  :  
2.  :   
3.   : 
4.  :   
5.  : `,verdict:"CONDITIONAL",source:"    ( 96/10) + .   ",tags:[""," ",""," ","DNA"," "]},{id:"pharm_006_2025",category:le.PHARMACY_DRUGS,title:"  (    )",question:"        ",medical_context:"  gelatin    ",ruling:` :
-     (  )
-       ()
-     
-      

 :  :
-  : "   "
-    
-    

 :

 :   ():
- :       
- :       
- :    ( )

 :   ( ):
- :     
- : "  "

 :  ( ):
- :  
- :      
- :       

  :

 :  :
-        
-     
- :     

 :  :
-      
-      
- :      

 :  :
-      
-    
- :   (   )

 :  :
-     
-    

 :

 :   :
-   :
  *   
  *    
  *  

-   :
  *    (  5%):    
  *   (  20%):    

 :   :
-   
-  :   ( )
- :    

 :   :
-      
-    (  )
- :
  *  ( ):   
  *  ( ): 

 :   ( ):
-     
-   
-    

 :

:  (  )  :
- :      
-   

:    :
- :   
-   :   

:    :
-     :  
-    :  

 :

:
1.     
2.    
3.    
4.   ( )

 :
1.   
2.    
3.    
4.   

 :
- :       
- :       (   )
- :      
- :     `,verdict:"CONDITIONAL",source:".    +    +  ",tags:["","","","","","",""]},{id:"prayer_024_2025",category:le.PRAYER_PURITY,title:"  /",question:"     ()",medical_context:"wudu, socks, wiping, ",ruling:` :
     ()  .

 :
-   : "       " ( )
-          
-     

  :

 :   :
-          
-     ( ):    
-       

 :   :
-    /  
-      :   

 :   :
-      (  )
-    :   

 :    :
-          
-     

 :

:
-   (24 )
-   

:
-   
-  72    

 :
-       
-     
- :   10      10     ()

 :

 :    :
-        
-  

 :     :
-   :   
-    

 :  :
-    :       ()
-    (/):  

 :   :
-     
-      

 :    :
-      :    ( )
-      

 :

 (   ):
-    

:
-    (   )
- : "  " ( )

 :
      (    )       .      .`,verdict:"PERMITTED",source:"  (   )",tags:["","","","",""]},{id:"prayer_025_2025",category:le.PRAYER_PURITY,title:"  ",question:"     (/ )",medical_context:"menstruation, quran, reading,  ",ruling:`  :
-          (  )
-       

 :

 :   ():
- :     
- :
  * "   " (      )
  *  :       
  *         
- :    

 :      ():
- :       (  )
- :
  * "   " (    )
  *      
  *   
- :       ( )

 :     ( ):
- :      (   )
- :
  *   ( )
  *  
  * 
- :        

 :

 :      :
- :  (   )
- :   "      "

 :    :
- :   (   )
- :    

 :     :
- :  (   )
-  :     

 :     :
- :  
- :    
- :   

 :    :
- :    
- :     

 :

 :
1.      ()
2.    ()
3.   ()
4.      

:
1.    ( )
2.     ()
3.    ()

 :
- :       
-  :         
-  :     
- :     (   )
- :    ( )   `,verdict:"CONDITIONAL",source:"  +    +  ",tags:["","","","","",""]},{id:"prayer_026_2025",category:le.PRAYER_PURITY,title:"  ",question:"          ",medical_context:"travel, prayer, shortening, journey,   ",ruling:` :

:     4  2    (  )

:     (   )

 :

:  (Shortening):

  

 :  :
- :  80-90  ( )
- :   
- :
  *    
  *    
  *     ( )   

 :

 ():
- :  4   2 
- :  4   2 
- :  4   2 

 :
- :   (  )
- :  3  (   )

 :

 :    
 :   

 :  :
- :  
- :    

 :  :
- :  
- :     

:  (Combining prayers):

  

 : :
- :   
- :
  *  :    
  *  :    
  *    

 :  :
- :  
- :
  *    
  *    
  *    

 :  :
- :  
-  

 :  :
- :  
-  

 :   :
- :  
- :
  *        
  *    
  *     

:   :

     :

 :
     (        )  :
-        
-      
-    

 :

 :
-   ( ):     
-    :      ( )

 :
-    :   
-    :     (  )
-    :    

 :
-      

 :

 1:     11   4 :
-  (12:30 ):  
-  (3 ):  
- :   (   )
- :     ( 4 )

 2:    5   9 :
-  (5:30 ):   
-  (7 ):   
- :   (   )
- :   

 3:     :
- :  
- :      

    :

-   (  ):   
-   ( ):   
-   (   ):   
-  :   

 :
- :     ( 85  )
- :        (     )
-   :         
- :      
- :    `,verdict:"PERMITTED",source:"  +   +   ",tags:["","","","","",""]},{id:"prayer_027_2025",category:le.PRAYER_PURITY,title:"   ",question:"      ",medical_context:"zakat, salary, wealth, income,  ",ruling:`   :
           .

 :

    :
-   (   )
-  /
-  

   :

  :
-  /
-  :   (   )
-  :    (  )
-  =   

 :

 :  :
- :  85    
-  :    
-  :  3000-4000   ( )

 :   ( ):
-       
-      

 :  :
-      (  )
-        

 :

 :   :
-   
-  
-    
-   /

 :  :
-   ( 10,000   12  = 120,000)
-   (50,000   12 = 600,000)
-    (  )
-   
-  

 :   :
-  
-   
-   
-  
- 

 :  :
-    2.5% = 
- :    = 500,000 
-  = 500,000  2.5% = 12,500 

  :

 :   :
-   = 20,000 
-  = 240,000 
-   = 100,000 
-  = 140,000 
-  = 140,000  2.5% = 3,500 

 :   :
-     = 50,000 
-  = 600,000 
-   = 200,000 
-   = 100,000 
-  = 300,000 
-  = 300,000  2.5% = 7,500 

 :  :
-   = 15,000  
-   = 20,000  
-  = 35,000   = 420,000 
-  = 100,000 
-  = 320,000 
-  = 320,000  2.5% = 8,000 

 :

 :  :
-     = 500,000 
-    = 300,000 
-   
- :   (     )
- :     

 :   ():
-     
-    
-       

 :  :
-    
-    (    )
- :    

 :  :
-      
-          

  :

 :
-   
-     ()
-        

 :

 :   :
-     (: 1    )
-      

 :  :
-  1    1  
-      

 :  :
-       

 :  :
-   

 :  :
-    2.5%

 : :
-    ( )
-    

  :

  :
-  
-    
-    
-    (  )
-     ( )

 :
-      (  )
-      ( -  )
- : 2.5%    
- :   (85  )  
- :   (  )
- :     `,verdict:"CONDITIONAL",source:"  +   +   ",tags:["","","","","",""]},{id:"prayer_028_2025",category:le.PRAYER_PURITY,title:"     ",question:"           ",medical_context:"       ",ruling:`    :
            :  .              ().                    ""  "".                    .

 :
                       :
1.     .
2.                 (   ).
3.                 .

    ( )                                        .`,verdict:"CONDITIONAL",source:"   /    ",tags:["","","","",""]},{id:"prayer_029_2025",category:le.PRAYER_PURITY,title:"    (  )",question:"         ",medical_context:"    sunblock     ",ruling:` " ":
         "  ".          :

  (Absorbed):
              .     "" (      )   .                .

  (Waterproof Films):
         (          )                 .

 :
          (     )               .`,verdict:"CONDITIONAL",source:"   /  ",tags:["",""," ","",""]},{id:"prayer_030_2025",category:le.PRAYER_PURITY,title:"      ",question:"           ",medical_context:"        ",ruling:`   ( ):
          " " " "          .

  :
        (   )                    "" (   ).                 .

  ():
         ""  .

 :
  "  "  " " (  ).              (   )                .

  :
                       "  "            .`,verdict:"CONDITIONAL",source:"   /  ",tags:["","","",""," "]},{id:"prayer_031_2025",category:le.WOMEN_PREGNANCY,title:"    (  )",question:"          ",medical_context:"        ",ruling:`   :
        :

:
  " "    (  )          .      .

:
   ( )                 .               .

   :
   (  )      :

1.  :      ()     .
2.   :        .
3. :      (  )                .
4.   :          " " (     )  "" (   )                 .`,verdict:"CONDITIONAL",source:"   /  ",tags:["",""," ","",""]},{id:"prayer_032_2025",category:le.PRAYER_PURITY,title:"     ",question:"    (     )      ",medical_context:"       ",ruling:` :
           (   )   (   4 )            .

 :
     : "               ".   :    : "   ".

    :

  :
                .

:
                         " "    (      ).

 :
             "  "     (    ""  )            .     ( )  ( ).`,verdict:"CONDITIONAL",source:"   /    ",tags:["","","","",""]},{id:"prayer_033_2025",category:le.WOMEN_PREGNANCY,title:"     ",question:"          ( )",medical_context:"       ",ruling:`    :
:         (      )          (   ).

 :
       (    )         : "        ".                 .

   :
        .       ( )                     .`,verdict:"PERMITTED",source:"   /   ",tags:["",""," ","",""]},{id:"prayer_034_2025",category:le.MISCELLANEOUS,title:"    ( )",question:"    (  )       ",medical_context:"       ",ruling:`  :
    (   )  ""       .

  (  ):
                      ( )            .

   (  ):
     (      )    (         )     ()           " ".                     .

 :
                          .`,verdict:"CONDITIONAL",source:"  ",tags:["","","","",""]},{id:"misc_004_2025",category:le.MISCELLANEOUS,title:"   ",question:"    (  )      ",medical_context:"      ",ruling:`    :
      (       )   ""   (   )   (      ).

 :
 :          (   )      .

 :                                   ()          ()     .        ""            .

 :
       .          .                              .`,verdict:"CONDITIONAL",source:"  ",tags:["","","","",""]},{id:"misc_005_2025",category:le.MISCELLANEOUS,title:"     ",question:"         ",medical_context:"       ",ruling:`:    :
            .        .

   :
          :

1.   :                      .

2.  :                      .

 :
               (   )      .        .`,verdict:"CONDITIONAL",source:"   /  ",tags:["","","","",""]},{id:"misc_006_2025",category:le.WOMEN_PREGNANCY,title:"      ",question:"            ",medical_context:"       Hormonal Pills ",ruling:` :
                                  "   ".

 :
                                  .               .`,verdict:"CONDITIONAL",source:"   /    ",tags:["","","","",""]},{id:"misc_007_2025",category:le.WOMEN_PREGNANCY,title:"     ",question:"   (  )      ",medical_context:"  PV     ",ruling:`  ( ):

 :
         (     )  .        .

  :
   "" "".       "" ()    ( ).    "" (    )          .

  :
           .    ()   (  )                         .

    :
  (Gloves):    .                           .

 :           .         .`,verdict:"CONDITIONAL",source:"   /  ",tags:["","","","",""]},{id:"misc_008_2025",category:le.WOMEN_PREGNANCY,title:"    ",question:"            ",medical_context:"      ",ruling:`  ( ):

  ():
 :      ( )         .

   ( ):
    (   )    "  "           .              " "      .

  :
      .              (   )      .

   () -   :
            .

:                (Pixels)      .      ( ).

:           (     )            .`,verdict:"CONDITIONAL",source:"   /  ",tags:["","","","",""]},{id:"misc_009_2025",category:le.MISCELLANEOUS,title:"   ",question:"               ",medical_context:"               2.5%",ruling:`:
                                                                    -         -                                           (2.5%).

....


  
      
   
          
     

 

  
                                       :        [: 103] : "  ... :           "      "" (2/ 307 .   ).

             :              .

      
                                        :         [: 267].

  :  " "  :        " ".

       :                  .

     "" (: 48 .  ): [            ] .

   
      -  -                                                                                                    .

                  -                                   .

       "" (1/ 96 .    ): [(              -)         :     ] .

       " " (2/ 13 .   ): [               ] .

       " " (1/ 472 .    "  ")   : [     : (   ) ...  : ( ) ...  : ( ) :     ] .

    : [(:      )                     ] .             .

       " " (3/ 102 .  ): [(         )      ...     ] .

       " " (2/ 282 .   ): [          )   (   ) :  ( )      (     )             ] .

                                                               .

      " " (2/ 13)           : [                                                       ] .

          
                                                                -                                                .

      " " (2/ 13): [                       :                                       ] .

     
        -         -           " "      (2/ 16) "  "    (2/ 295 .   ) ""    (6/ 55 .  ) ""     (3/ 85).

       :      ( )                               .

              : "          "         "".

                                                (2.5%).

    " " (2/ 16 .  ): [                           ] . : ""    (3/ 36) " "      (2/ 221 .  ).


     :                                                                      -         -                                           (2.5%).

   .`,verdict:"CONDITIONAL",source:"    -  . /    (  8565  06  2025)",tags:[""," "," "," ","","","",""," "]},{id:"misc_010_2025",category:le.MISCELLANEOUS,title:"       ",question:"        ( )    ",medical_context:"               ",ruling:`:
                                                                      .

....
                      :    -                      .

                                                                                          .

         "     "     -     -                                                                                      :      -                                                                                                                        .

  :                                                                         .

   `,verdict:"PERMITTED",source:"    -      (  6821  25  2008)",tags:["","","","","","","",""]},{id:"prayer_035_2025",category:le.PRAYER_PURITY,title:"      ",question:"         ",medical_context:"                 ",ruling:`:
                                  .            .

   `,verdict:"CONDITIONAL",source:"    -      (  8199  13  2023)",tags:["",""," "," "," ","","","",""]},{id:"prayer_036_2025",category:le.PRAYER_PURITY,title:"       ",question:"           ",medical_context:"                 ",ruling:`

:
                                                           :  "        ".

....


   
     
      

 

   
        :              " " (2/ 437 .   ): [ :            ] .
  :                    " " (1/ 397 .     ): [      ] .
     " " (1/ 264 .   ): [(  ) :    :    (   )..                 ] .
        "  " (1/ 46 .  ): [ :       ] .
     "    " (1/ 221 .  ): [                                       ] .
  "   " (1/ 367 .  ): [    ] .
     "" (8/ 18 .   ): [ :  .     ] .

     
   :            :   -  - :            :   -  -           " " (6/ 217- 218 .  ): [:     :    .. :    :    :             ] .
  :            :            .
                          :    [: 43].
       "  " (1/ 306 .   ): [ : .    :                                                   ] .
    "   " (1/ 119 .  ): [         ] .
     "" (2/ 26 .  ): [       :             :    .. .       :   .   : "             "   :       .   :      .         :
           
 :              ] .
      " " (1/ 56 .   ): [:                        ] .
      "" (1/ 142 .  ): [           :     :     ] .

      
       :
                                        :                                    :                "  " (1/ 296 .   ): [                                                        .  :           :                               ] .
        " " (1/ 22 .   ): [                       ] .
                 .
     "  " (1/ 156 .  ): [                                                       ] .
     " " (1/ 118 .  ): [ :              ..    ..      ] .
     " " (1/ 126 .   ): [                           ..      ..   ] .
  :                                                 .


  :          :  "        ".
   .`,verdict:"CONDITIONAL",source:"    -      (  4733  27  2019)",tags:["","",""," "," ",""," "]},{id:"obgyn_012_2025",category:le.WOMEN_PREGNANCY,title:"       ",question:"           ",medical_context:"                ",ruling:`
:
                    .

                     :       :                :                   .

                         .

                                                      -  -  .

      "    " (2/ 524 .  ): [     :                    "     ""        " "        .

  :                           :                 .   . ] .      .

   .`,verdict:"CONDITIONAL",source:"    -      (  7030  30  2009)",tags:["","","",""," ",""]},{id:"ethics_008_2025",category:le.ETHICS,title:"         ",question:"        ( )           ",medical_context:"                   ",ruling:`
:
                                                                                    .

                          .

....


   
         
        
     

 

   
                                        .

            : " :    ".

      : "        " : "  "     (10/ 57 . ).

     " " (10/ 223 .  ): [           ] .

         
        -    -                                                 "       "   ""   (6/ 24 .  ).

        
                                                     "    "   " "   (: 84 .   ).

     
        :

:                 .

:                             .

:                                     .

:                      .

:                 .

:                                 .  


     :                                                                                                  .

   .`,verdict:"CONDITIONAL",source:"    -      (  8160  04  2023)",tags:["",""," ","","","","",""," "]},{id:"misc_011_2025",category:le.MISCELLANEOUS,title:"         ",question:"                   ",medical_context:"                 ",ruling:`
:
                                              : "         ".

....
                                      "         "     "   "                                                          :     [: 70]          :              :            -                                                                                [: 104].

                     .
                         .

   .`,verdict:"FORBIDDEN",source:"    -      (  582  07  2007)",tags:["","","","","","",""]},{id:"obgyn_008_2025",category:le.WOMEN_PREGNANCY,title:"    ",question:"                   ",medical_context:" postpartum bleeding lochia postpartum bleeding duration        ",ruling:`          .         :

:  :
- :        
- :      
- :        

:   :
-  :        
-  :     40  
-  :          

:     :

1. :
   -  :   (    )
   - :      40  ( )
   - :     ()

2. :
   -  :      
   - :       ( )
   - :       

3.  :
   -  :  
   - :    
   - :     

4.  :
   -  :    ()
   -  :     

:     :

 :
1. :         
2. :          
3. :        
4. :     40     

:  :

 1:   (  40 ):
-   40   
- :    40 

 2:   (  10 ):
-     10 :  
- :  

:  :

  :
-          
-  :  40      
-      

 :
                     .`,verdict:"CONDITIONAL",source:"   +   ",tags:["",""," ","","",""]},{id:"obgyn_009_2025",category:le.WOMEN_PREGNANCY,title:"         ",question:"       :        ",medical_context:" bleeding, vaginal bleeding, abnormal uterine bleeding (AUB), uterine tumor, uterine fibroid, leiomyoma, endometrial polyp, uterus,   fibroid   menstrual bleeding, menstruation, Ramadan fasting,  ",ruling:`
:
                                                                        :                                                          .

....


     
    
           

 

     
         :           :               :          .

    
               -        -          -   -               " " (: 7 .  ).

                                           .

           
          :    :    :        :          :           .

      :        :        :      :         :            "".

       " " (1/ 283-285 .    "  "): [(:  )                 : (: )       ()  ... ()          ... ()] .

     : [(:   ) :                :      : (  ... ).             ] .

       :         :               :       :                : .

              :            ""       "".                            .

         : "          ".  :    : "     "    "". :          :       .

                                                                           .


  :                                                                          :                                                          .

   .`,verdict:"CONDITIONAL",source:"    -  . /    (  8563  02  2025)",tags:["","","","","",""]},{id:"misc_012_2025",category:le.MISCELLANEOUS,title:"       ( )",question:"                 ",medical_context:"  malpractice, medical error,              ",ruling:`      
:
                               :            .

....


       
   

 

       
                            :                   .

          :                                                   .

   
                                  :

                        -   -                      :     ""         :          .

    "    "                       : [                                                                        :        :          ] .

                                                                                           .


:                                              .

   .`,verdict:"CONDITIONAL",source:"      (  621  12  1987)",tags:[" ","","",""]},{id:"misc_013_2025",category:le.MISCELLANEOUS,title:"     ",question:"                   ",medical_context:"      conjoined twins, siamese twins, parasitic twin, incomplete twin, shared organs, heart, brain,  ",ruling:`     
:
       -                           -      -                              -                                   :                                                     .

....


  
       
 :     
 :      ""
 :      

 

  
                 :               [: 22].

                        . : " "   (: 135 . ) " "   :    (1/ 78 .  ).

       
                                                       :

 :     
 :                                                         .

     " " (1/ 194 .  )    : [:  ""              :                          ] .

       " " (4/ 90 .   )       : [()   ( )     ()        ...        (  )   ()                        ] .

                                     .

 :      ""
 :  :                                                         " ".

                   .

  " "    (2/ 407 .   )    : [          ] .

  (4/ 18)            : [: : ()                                         ] .

    " "      (6/ 135 .  ): [ (  ):           ..            ] .

        " "                  -                 .

 :      
 :   :                                              " "    (2/ 130 .   ): [                         ] .

                                       .


  :                                          :                                                     .

   .`,verdict:"CONDITIONAL",source:"    -      (  8427  10  2024)",tags:["",""," ","","",""]},{id:"misc_014_2025",category:le.MISCELLANEOUS,title:"         ",question:"              ",medical_context:"  psychiatric illness, mental health, psychotherapy, psychiatrist, medication, follow-up,           schizophrenia, paranoia, psychosis, bipolar, mania, OCD",ruling:`:
                                            .

                                       .

....


        
           
         
   
    

 

        
                       :             :      [: 228].

           :                       .

    ""       :         :                   :   :       :    .                                   .

           
                                                                     .

                                                              "     "   " "   (3/ 54 .  ).

:                 .

:        .

     "   " (2/ 245 .  ): [ :     ] .

      -     -                  :

 :                        :   ""                                                           .

                                                                                          -  -       .

     " " (2/ 327 .   )        : [ :             :           :     .   :                                ] .

     " " (2/ 467-469 .  ): [()  ().. :      (   )            ( )    .. :   .. ()      ()  (  )   ]  .

       " " (3/ 117 .   ): [                ] .

     "   " (4/ 102 .  ): [    :       ] .

      "   " (3/ 175 .   ): [( :   ).. (:   )..    :   ] .

      " " (5/ 166 .  ): [:               :      ] .

     "  " (5/ 147 .  ): [     : (  )   ()         ( ) :       : ()] .

 :                                  :                 .

      " " (3/ 117): [      ..             : ] . :             .

         
                                 :                                   .

  :                        "      "                            :        " "   (11/ 251 .   ).

                       :                                         :     [: 21].

  :     ""              :    .

    :    " " ""        :             :     : (      ).

    ""   ""      :       : "                  ".

   
     :          -        -                                :                  ""   " "      .

                                 .

    
                                                         9    25  1920  : [                                                                     ] .

   11     : [          ] .


  :                                      .

  :                                 .

   `,verdict:"CONDITIONAL",source:"    -      (  6875  09  2022)",tags:["",""," ",""," "," "]},{id:"misc_015_2025",category:le.MISCELLANEOUS,title:"   (  )  ",question:"     ( )          /",medical_context:"    intellectual disability, mild intellectual disability,        genetic testing, hereditary risk,   ",ruling:`:
                   .
                                        .
                        .

....
    -  -                                       .
       -  -                        - -                                  .
       " ": [                             ...                     -  -  :                        ] .
                                 .
                                   . :                                                              -       -             .
                                                                  -  -                .

   .`,verdict:"CONDITIONAL",source:"    -      (  441  25  2005)",tags:["",""," ","","","",""]},{id:"obgyn_010_2025",category:le.WOMEN_PREGNANCY,title:"      (56 )    ",question:"  56        5     :      ",medical_context:"  menopause, postmenopause, postmenopausal bleeding (PMB), vaginal bleeding, abnormal uterine bleeding (AUB), hormone changes, endometrial hyperplasia, uterine polyp, fibroid,      ",ruling:`:
                    :                                            .

....


    
      
       ( )
        56   

 

    
              :                      :    :  :          .

     "  " (1/ 411 .  ): [                           ] .

      
 :                   .

               ""    (3/ 149 .  ) "  "    (1/ 204 .  ) " "     (1/ 99 .   ) ""     (1/ 362 .    " "   ).

       ( )
       - -                   .

      " " (3/ 516 .  )    : [                       ] .

                                  .

    "   " (1/ 208 .  ): [        :    .          .         ] .

                     .

      " " (1/ 384 .    ): [                   ] .

          .

       " " (1/ 202 .   ): [() :      ( )  : "        "  .  : "      "    ] .

                                                 .

        " " (13 /458-459 .   ): [    :               .                .  :              :                                  :                                  ] .
          :            :     :           :    .

    "  " (4/ 142): [      ] .

     " " (1 /207-208): [(            ...  ...     ):                       ] .

   : [: ( ): :         :    .          .         ] .

              .

      " " (3/ 392): [(  )     (     )          (   )        ()    ()  ()  (  )    ] .

  - -                          .

    "" (1/ 356 .    ): [:            :                  ] .

        56   
                                                                  .

                                        :    .

                      .


     :                      :                                           .

   .`,verdict:"CONDITIONAL",source:"    -  . /    (  8620  22  2025)",tags:["",""," ","","","",""]},{id:"surg_005_2025",category:le.SURGERY,title:"    (Botox)",question:"           ",medical_context:" botox, botulinum toxin, BTX-A, Clostridium botulinum, cosmetic injection, wrinkles, forehead lines, crows feet, fillers, dermal filler, migraine, hyperhidrosis, spasm, cosmetic surgery,    ",ruling:`:
     -    -                                                               .                             .

....


    
    
     

 

    
  Botox     (  Botulinum Toxin) :        (  Clostridium Botulinum)              : (G F E D C B A).

                                                  fillers           .
                                                                             :    .. . : "Ghamriny's Clinical Dermatology    "     (: 1714) "  "       (: 129.   ) " "    (: 88 .    ).

    
      " Botox"      -                 -                        :                     :     :               :   "":              : "       ".
    " " (4/ 217 .   ): [          ] .
        " " (1/ 6 .   ): [                       ] .

                                      "       "  "      ". : " "   (: 86-87 .   ).
                           173 (18/ 11)     : [        () ()               ] .

   :                        :     [: 119]     ""   : "                 :     :                . :        . :     :         [ : 7]".

                :                                          " "      :              .
      "    " (10/ 377-378 .  ): [( :                    ..           ). : (       ..       )] .

    ""  : "         :     . : . :                :            . :            . :   :         : . :                 ".
    " " (6/ 226 229 .  ): [: "  "                 ] .

                                                                        :  :        .

                       ""        : "                         .

                                                             :           .

                             " " (5/ 373 .   )  "  ": [             ] .
  " " (5/ 355-356 .  ): [           :                   .               ] .
     " " (2/ 555 .    ): [()  (  )          ] .
     "    " (10/ 378 .  ): [  :                  .
:            .
  :            :         .
:                                 : "    :     ".
 :          ] .
    "    " (6/ 229-230 .  ): [  :           :    :  :         :              :       :     :    .. "  " :     :                                               ] .

     
                173 (18/ 11)          24  29    1429  9- 14   2007        :
[(1)          :
()            :      [: 4].
()     .
()    :   --                   .
()    --       :                             .
()        . (  26 (4/ 1)).
(2)                                                .
(3)    --      - -               .
(4)               ] .


 :      -    -                                                                   .
                            .

   .`,verdict:"CONDITIONAL",source:"    -      (  4215  27  2017)",tags:["","","","","","",""]},{id:"ethics_009_2025",category:le.ETHICS,title:"       ",question:"                ",medical_context:"skin graft, cadaver skin, grafting, burns, third-degree burn, tissue donation, transplantation, burn wound coverage",ruling:`:
                                                 .

        :

-                     .

-                                 .

-                                            .

....


     
    
            
           
      
        

 

     
       :                                                               :              .

    
  :     ""   :           " " (2/ 429 .  ).

 " "                      " " (1/ 365 .  ).

       :                       30- 50%      " "                               " ". : "       "   (: 7-8   2018).

            
                       :

 :           :     [: 70]     :                 .

         :      :             "".

      "  " (2/ 30 .  ): [: "      "                          ] .

                  : "               "  .

    " " (8/ 7 . ): [( ) :                  . :     () : ] .

                                                                       .

                       .

     " " (5/ 125 .   ): [         ] .

     " " (1/ 26 . ): [  ..      ] .

       " " (1/ 173 .   ): [      ] .

     " " (1/ 64 .   ): [(    )    () :   :     [: 70]    ] .

 :           :      [: 195]                              :              :    :    :     :                : -     "".

         -  -                                                          -   -.

    "      2022"         2023       210       886   .

                                                                                : :       :            .

                " "   (: 87 .   ).

                 :          [: 137]     "  "   ""   (4/ 146 .  )                                                      .

           
                                            .

      "  " (4/ 167 .  ): [                        ] .

     "    " (1/ 531 .  ): [()     ()          ] .               .

     " " (6/ 160 .   ): [      ] .           .

      "   " (2/ 211 .  ): [                          ] .

      "   " (2/ 280 .   ): [(         )         ] .

  :                        .

      
   (2-  )     5  2010      : [                                                       ] .

        
                                .

        :

-                     .

-                       " " (: 84 .   )                .

-                                            .


     :                                     .
   .`,verdict:"CONDITIONAL",source:"      7790  26  2023  ./   ",tags:[" "," "," ","","",""," ",""]}],Pp=[{id:1,text:"         :                .",category:" ",source:"  "},{id:2,text:"                         .",category:" ",source:" "},{id:3,text:"  :            .",category:" "},{id:4,text:"     :           :               .",category:" ",source:" "},{id:5,text:"  :                ( )      .",category:"",source:"  "},{id:6,text:"             :    ()       :        : {   }.",category:" ",source:" "},{id:7,text:"  :                      .",category:"  ",source:"  "},{id:8,text:"  :                .",category:" ",source:" "},{id:9,text:"     :                   .",category:" ",source:" "},{id:10,text:"   :                     .",category:" ",source:"   "},{id:11,text:`   ..   
   ..    
    ..   
   ..     `,category:"",source:"  "},{id:12,text:"       :  :                   .",category:"",source:""},{id:13,text:"                    .",category:"",source:"   "},{id:14,text:"                       !          .",category:"",source:" "},{id:15,text:"                   .",category:"",source:" "},{id:16,text:"                :     .  :     : .",category:" ",source:"  "},{id:17,text:"              .  :   ! :   .",category:"",source:" "},{id:18,text:"            .",category:"",source:""},{id:19,text:"     ..     ",category:"",source:" "},{id:20,text:"             :           .",category:"",source:""},{id:21,text:"   :     :          .",category:" "},{id:22,text:"                            .",category:"",source:" "},{id:23,text:"  :                .",category:"",source:"  "},{id:24,text:"        :               :    :         .",category:"",source:" "},{id:25,text:"                        .",category:"",source:" "},{id:26,text:"               .",category:"",source:" "},{id:27,text:"          .",category:"",source:" "},{id:28,text:"                  .",category:" ",source:" -   "},{id:29,text:"                         .",category:"",source:" "},{id:30,text:"            : {  }.",category:" ",source:" "},{id:31,text:"        ..      .        :  .",category:"",source:" "},{id:32,text:"          .",category:"",source:""},{id:33,text:"            ..                 .",category:"",source:" "},{id:34,text:" :     .",category:"",source:" "},{id:35,text:"         .",category:" ",source:" "},{id:36,text:"                     .",category:"",source:"  "},{id:37,text:"           .",category:"",source:" "},{id:38,text:"    .",category:"",source:"   "},{id:39,text:"            .",category:"",source:"   "},{id:40,text:"   .",category:"",source:""},{id:41,text:"        :   .",category:"",source:"  "},{id:42,text:"            .",category:"",source:" "},{id:43,text:"                   ..       .",category:" ",source:"  "},{id:44,text:"                        . :       !",category:"",source:" "},{id:45,text:"                           .",category:"",source:" "},{id:46,text:"           .",category:"",source:" "},{id:47,text:"        .",category:"",source:"   "},{id:48,text:"                 !",category:" ",source:" "},{id:49,text:"     .",category:"",source:"  "},{id:50,text:" :             .",category:"",source:" "},{id:51,text:"            .",category:"",source:""},{id:52,text:"         ..             .",category:"",source:""},{id:53,text:"   .",category:"",source:"  "},{id:54,text:"     .",category:"",source:"  "},{id:55,text:"             ..    :     .",category:"",source:"  "},{id:56,text:"                               .",category:"",source:" "},{id:57,text:"        .",category:"",source:"  "},{id:58,text:"         .",category:"",source:" "}],LR=({quote:t})=>I.jsxs("div",{className:"relative bg-white border-r-4 border-r-teal-500 border-y border-l border-gray-100 rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-300 w-full mb-1.5 overflow-hidden group mx-auto",children:[I.jsx("div",{className:"absolute -left-2 -top-1 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none group-hover:scale-110 transition-transform duration-500",children:'"'}),I.jsx("div",{className:"absolute -right-2 -bottom-2 text-[4rem] text-teal-50 opacity-40 font-serif select-none pointer-events-none rotate-180",children:""}),I.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[I.jsxs("p",{className:"text-gray-800 text-base font-bold leading-relaxed mb-1.5 font-amiri",children:['"',t.text,'"']}),I.jsx("div",{className:"w-full flex justify-center",children:I.jsxs("p",{className:"text-teal-700 text-[11px] font-bold bg-teal-50 px-2.5 py-0.5 rounded-full border border-teal-100 font-cairo",children:["- ",t.author]})})]})]});function UR(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const OR=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,FR=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qR={};function $v(t,e){return(qR.jsx?FR:OR).test(t)}const BR=/[ \t\n\f\r]/g;function zR(t){return typeof t=="object"?t.type==="text"?Kv(t.value):!1:Kv(t)}function Kv(t){return t.replace(BR,"")===""}class xu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}xu.prototype.normal={};xu.prototype.property={};xu.prototype.space=void 0;function AA(t,e){const n={},i={};for(const o of t)Object.assign(n,o.property),Object.assign(i,o.normal);return new xu(n,i,e)}function lm(t){return t.toLowerCase()}class Hn{constructor(e,n){this.attribute=n,this.property=e}}Hn.prototype.attribute="";Hn.prototype.booleanish=!1;Hn.prototype.boolean=!1;Hn.prototype.commaOrSpaceSeparated=!1;Hn.prototype.commaSeparated=!1;Hn.prototype.defined=!1;Hn.prototype.mustUseProperty=!1;Hn.prototype.number=!1;Hn.prototype.overloadedBoolean=!1;Hn.prototype.property="";Hn.prototype.spaceSeparated=!1;Hn.prototype.space=void 0;let HR=0;const Ye=As(),Wt=As(),am=As(),ye=As(),xt=As(),Al=As(),ei=As();function As(){return 2**++HR}const um=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ye,booleanish:Wt,commaOrSpaceSeparated:ei,commaSeparated:Al,number:ye,overloadedBoolean:am,spaceSeparated:xt},Symbol.toStringTag,{value:"Module"})),kp=Object.keys(um);class ng extends Hn{constructor(e,n,i,o){let l=-1;if(super(e,n),Qv(this,"space",o),typeof i=="number")for(;++l<kp.length;){const u=kp[l];Qv(this,kp[l],(i&um[u])===um[u])}}}ng.prototype.defined=!0;function Qv(t,e,n){n&&(t[e]=n)}function Ul(t){const e={},n={};for(const[i,o]of Object.entries(t.properties)){const l=new ng(i,t.transform(t.attributes||{},i),o,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[lm(i)]=i,n[lm(l.attribute)]=i}return new xu(e,n,t.space)}const xA=Ul({properties:{ariaActiveDescendant:null,ariaAtomic:Wt,ariaAutoComplete:null,ariaBusy:Wt,ariaChecked:Wt,ariaColCount:ye,ariaColIndex:ye,ariaColSpan:ye,ariaControls:xt,ariaCurrent:null,ariaDescribedBy:xt,ariaDetails:null,ariaDisabled:Wt,ariaDropEffect:xt,ariaErrorMessage:null,ariaExpanded:Wt,ariaFlowTo:xt,ariaGrabbed:Wt,ariaHasPopup:null,ariaHidden:Wt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:xt,ariaLevel:ye,ariaLive:null,ariaModal:Wt,ariaMultiLine:Wt,ariaMultiSelectable:Wt,ariaOrientation:null,ariaOwns:xt,ariaPlaceholder:null,ariaPosInSet:ye,ariaPressed:Wt,ariaReadOnly:Wt,ariaRelevant:null,ariaRequired:Wt,ariaRoleDescription:xt,ariaRowCount:ye,ariaRowIndex:ye,ariaRowSpan:ye,ariaSelected:Wt,ariaSetSize:ye,ariaSort:null,ariaValueMax:ye,ariaValueMin:ye,ariaValueNow:ye,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function CA(t,e){return e in t?t[e]:e}function IA(t,e){return CA(t,e.toLowerCase())}const GR=Ul({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Al,acceptCharset:xt,accessKey:xt,action:null,allow:null,allowFullScreen:Ye,allowPaymentRequest:Ye,allowUserMedia:Ye,alt:null,as:null,async:Ye,autoCapitalize:null,autoComplete:xt,autoFocus:Ye,autoPlay:Ye,blocking:xt,capture:null,charSet:null,checked:Ye,cite:null,className:xt,cols:ye,colSpan:null,content:null,contentEditable:Wt,controls:Ye,controlsList:xt,coords:ye|Al,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ye,defer:Ye,dir:null,dirName:null,disabled:Ye,download:am,draggable:Wt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ye,formTarget:null,headers:xt,height:ye,hidden:am,high:ye,href:null,hrefLang:null,htmlFor:xt,httpEquiv:xt,id:null,imageSizes:null,imageSrcSet:null,inert:Ye,inputMode:null,integrity:null,is:null,isMap:Ye,itemId:null,itemProp:xt,itemRef:xt,itemScope:Ye,itemType:xt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ye,low:ye,manifest:null,max:null,maxLength:ye,media:null,method:null,min:null,minLength:ye,multiple:Ye,muted:Ye,name:null,nonce:null,noModule:Ye,noValidate:Ye,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ye,optimum:ye,pattern:null,ping:xt,placeholder:null,playsInline:Ye,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ye,referrerPolicy:null,rel:xt,required:Ye,reversed:Ye,rows:ye,rowSpan:ye,sandbox:xt,scope:null,scoped:Ye,seamless:Ye,selected:Ye,shadowRootClonable:Ye,shadowRootDelegatesFocus:Ye,shadowRootMode:null,shape:null,size:ye,sizes:null,slot:null,span:ye,spellCheck:Wt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ye,step:null,style:null,tabIndex:ye,target:null,title:null,translate:null,type:null,typeMustMatch:Ye,useMap:null,value:Wt,width:ye,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:xt,axis:null,background:null,bgColor:null,border:ye,borderColor:null,bottomMargin:ye,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ye,declare:Ye,event:null,face:null,frame:null,frameBorder:null,hSpace:ye,leftMargin:ye,link:null,longDesc:null,lowSrc:null,marginHeight:ye,marginWidth:ye,noResize:Ye,noHref:Ye,noShade:Ye,noWrap:Ye,object:null,profile:null,prompt:null,rev:null,rightMargin:ye,rules:null,scheme:null,scrolling:Wt,standby:null,summary:null,text:null,topMargin:ye,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ye,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ye,disableRemotePlayback:Ye,prefix:null,property:null,results:ye,security:null,unselectable:null},space:"html",transform:IA}),YR=Ul({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ei,accentHeight:ye,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ye,amplitude:ye,arabicForm:null,ascent:ye,attributeName:null,attributeType:null,azimuth:ye,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ye,by:null,calcMode:null,capHeight:ye,className:xt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ye,diffuseConstant:ye,direction:null,display:null,dur:null,divisor:ye,dominantBaseline:null,download:Ye,dx:null,dy:null,edgeMode:null,editable:null,elevation:ye,enableBackground:null,end:null,event:null,exponent:ye,externalResourcesRequired:null,fill:null,fillOpacity:ye,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Al,g2:Al,glyphName:Al,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ye,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ye,horizOriginX:ye,horizOriginY:ye,id:null,ideographic:ye,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ye,k:ye,k1:ye,k2:ye,k3:ye,k4:ye,kernelMatrix:ei,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ye,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ye,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ye,overlineThickness:ye,paintOrder:null,panose1:null,path:null,pathLength:ye,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:xt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ye,pointsAtY:ye,pointsAtZ:ye,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ei,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ei,rev:ei,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ei,requiredFeatures:ei,requiredFonts:ei,requiredFormats:ei,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ye,specularExponent:ye,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ye,strikethroughThickness:ye,string:null,stroke:null,strokeDashArray:ei,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ye,strokeOpacity:ye,strokeWidth:null,style:null,surfaceScale:ye,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ei,tabIndex:ye,tableValues:null,target:null,targetX:ye,targetY:ye,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ei,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ye,underlineThickness:ye,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ye,values:null,vAlphabetic:ye,vMathematical:ye,vectorEffect:null,vHanging:ye,vIdeographic:ye,version:null,vertAdvY:ye,vertOriginX:ye,vertOriginY:ye,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ye,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:CA}),wA=Ul({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),RA=Ul({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:IA}),bA=Ul({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),JR={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$R=/[A-Z]/g,Xv=/-[a-z]/g,KR=/^data[-\w.:]+$/i;function QR(t,e){const n=lm(e);let i=e,o=Hn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KR.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(Xv,WR);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!Xv.test(l)){let u=l.replace($R,XR);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}o=ng}return new o(i,e)}function XR(t){return"-"+t.toLowerCase()}function WR(t){return t.charAt(1).toUpperCase()}const jR=AA([xA,GR,wA,RA,bA],"html"),ig=AA([xA,YR,wA,RA,bA],"svg");function ZR(t){return t.join(" ").trim()}var pl={},Vp,Wv;function eb(){if(Wv)return Vp;Wv=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,p=`
`,d="/",y="*",E="",T="comment",A="declaration";function D(k,z){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];z=z||{};var j=1,H=1;function re(ge){var me=ge.match(e);me&&(j+=me.length);var B=ge.lastIndexOf(p);H=~B?ge.length-B:H+ge.length}function pe(){var ge={line:j,column:H};return function(me){return me.position=new K(ge),b(),me}}function K(ge){this.start=ge,this.end={line:j,column:H},this.source=z.source}K.prototype.content=k;function N(ge){var me=new Error(z.source+":"+j+":"+H+": "+ge);if(me.reason=ge,me.filename=z.source,me.line=j,me.column=H,me.source=k,!z.silent)throw me}function M(ge){var me=ge.exec(k);if(me){var B=me[0];return re(B),k=k.slice(B.length),me}}function b(){M(n)}function F(ge){var me;for(ge=ge||[];me=L();)me!==!1&&ge.push(me);return ge}function L(){var ge=pe();if(!(d!=k.charAt(0)||y!=k.charAt(1))){for(var me=2;E!=k.charAt(me)&&(y!=k.charAt(me)||d!=k.charAt(me+1));)++me;if(me+=2,E===k.charAt(me-1))return N("End of comment missing");var B=k.slice(2,me-2);return H+=2,re(B),k=k.slice(me),H+=2,ge({type:T,comment:B})}}function q(){var ge=pe(),me=M(i);if(me){if(L(),!M(o))return N("property missing ':'");var B=M(l),te=ge({type:A,property:U(me[0].replace(t,E)),value:B?U(B[0].replace(t,E)):E});return M(u),te}}function V(){var ge=[];F(ge);for(var me;me=q();)me!==!1&&(ge.push(me),F(ge));return ge}return b(),V()}function U(k){return k?k.replace(f,E):E}return Vp=D,Vp}var jv;function tb(){if(jv)return pl;jv=1;var t=pl&&pl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(pl,"__esModule",{value:!0}),pl.default=n;const e=t(eb());function n(i,o){let l=null;if(!i||typeof i!="string")return l;const u=(0,e.default)(i),f=typeof o=="function";return u.forEach(p=>{if(p.type!=="declaration")return;const{property:d,value:y}=p;f?o(d,y,p):y&&(l=l||{},l[d]=y)}),l}return pl}var Qa={},Zv;function nb(){if(Zv)return Qa;Zv=1,Object.defineProperty(Qa,"__esModule",{value:!0}),Qa.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,l=function(d){return!d||n.test(d)||t.test(d)},u=function(d,y){return y.toUpperCase()},f=function(d,y){return"".concat(y,"-")},p=function(d,y){return y===void 0&&(y={}),l(d)?d:(d=d.toLowerCase(),y.reactCompat?d=d.replace(o,f):d=d.replace(i,f),d.replace(e,u))};return Qa.camelCase=p,Qa}var Xa,eE;function ib(){if(eE)return Xa;eE=1;var t=Xa&&Xa.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},e=t(tb()),n=nb();function i(o,l){var u={};return!o||typeof o!="string"||(0,e.default)(o,function(f,p){f&&p&&(u[(0,n.camelCase)(f,l)]=p)}),u}return i.default=i,Xa=i,Xa}var rb=ib();const ob=td(rb),NA=DA("end"),rg=DA("start");function DA(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function sb(t){const e=rg(t),n=NA(t);if(e&&n)return{start:e,end:n}}function lu(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?tE(t.position):"start"in t||"end"in t?tE(t):"line"in t||"column"in t?cm(t):""}function cm(t){return nE(t&&t.line)+":"+nE(t&&t.column)}function tE(t){return cm(t&&t.start)+"-"+cm(t&&t.end)}function nE(t){return t&&typeof t=="number"?t:1}class Cn extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?o=e:!l.cause&&e&&(u=!0,o=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const p=i.indexOf(":");p===-1?l.ruleId=i:(l.source=i.slice(0,p),l.ruleId=i.slice(p+1))}if(!l.place&&l.ancestors&&l.ancestors){const p=l.ancestors[l.ancestors.length-1];p&&(l.place=p.position)}const f=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=f?f.line:void 0,this.name=lu(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Cn.prototype.file="";Cn.prototype.name="";Cn.prototype.reason="";Cn.prototype.message="";Cn.prototype.stack="";Cn.prototype.column=void 0;Cn.prototype.line=void 0;Cn.prototype.ancestors=void 0;Cn.prototype.cause=void 0;Cn.prototype.fatal=void 0;Cn.prototype.place=void 0;Cn.prototype.ruleId=void 0;Cn.prototype.source=void 0;const og={}.hasOwnProperty,lb=new Map,ab=/[A-Z]/g,ub=new Set(["table","tbody","thead","tfoot","tr"]),cb=new Set(["td","th"]),MA="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fb(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=vb(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=_b(n,e.jsx,e.jsxs)}const o={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?ig:jR,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=PA(o,t,void 0);return l&&typeof l!="string"?l:o.create(t,o.Fragment,{children:l||void 0},void 0)}function PA(t,e,n){if(e.type==="element")return db(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hb(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return mb(t,e,n);if(e.type==="mdxjsEsm")return pb(t,e);if(e.type==="root")return gb(t,e,n);if(e.type==="text")return yb(t,e)}function db(t,e,n){const i=t.schema;let o=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(o=ig,t.schema=o),t.ancestors.push(e);const l=VA(t,e.tagName,!1),u=Eb(t,e);let f=lg(t,e);return ub.has(e.tagName)&&(f=f.filter(function(p){return typeof p=="string"?!zR(p):!0})),kA(t,u,l,e),sg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function hb(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}mu(t,e.position)}function pb(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);mu(t,e.position)}function mb(t,e,n){const i=t.schema;let o=i;e.name==="svg"&&i.space==="html"&&(o=ig,t.schema=o),t.ancestors.push(e);const l=e.name===null?t.Fragment:VA(t,e.name,!0),u=Tb(t,e),f=lg(t,e);return kA(t,u,l,e),sg(u,f),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function gb(t,e,n){const i={};return sg(i,lg(t,e)),t.create(e,t.Fragment,i,n)}function yb(t,e){return e.value}function kA(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function sg(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function _b(t,e,n){return i;function i(o,l,u,f){const d=Array.isArray(u.children)?n:e;return f?d(l,u,f):d(l,u)}}function vb(t,e){return n;function n(i,o,l,u){const f=Array.isArray(l.children),p=rg(i);return e(o,l,u,f,{columnNumber:p?p.column-1:void 0,fileName:t,lineNumber:p?p.line:void 0},void 0)}}function Eb(t,e){const n={};let i,o;for(o in e.properties)if(o!=="children"&&og.call(e.properties,o)){const l=Sb(t,o,e.properties[o]);if(l){const[u,f]=l;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&cb.has(e.tagName)?i=f:n[u]=f}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Tb(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else mu(t,e.position);else{const o=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const f=i.value.data.estree.body[0];f.type,l=t.evaluater.evaluateExpression(f.expression)}else mu(t,e.position);else l=i.value===null?!0:i.value;n[o]=l}return n}function lg(t,e){const n=[];let i=-1;const o=t.passKeys?new Map:lb;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const p=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(p){const d=o.get(p)||0;u=p+"-"+d,o.set(p,d+1)}}const f=PA(t,l,u);f!==void 0&&n.push(f)}return n}function Sb(t,e,n){const i=QR(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?UR(n):ZR(n)),i.property==="style"){let o=typeof n=="object"?n:Ab(t,String(n));return t.stylePropertyNameCase==="css"&&(o=xb(o)),["style",o]}return[t.elementAttributeNameCase==="react"&&i.space?JR[i.property]||i.property:i.attribute,n]}}function Ab(t,e){try{return ob(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,o=new Cn("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=MA+"#cannot-parse-style-attribute",o}}function VA(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const o=e.split(".");let l=-1,u;for(;++l<o.length;){const f=$v(o[l])?{type:"Identifier",name:o[l]}:{type:"Literal",value:o[l]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(l&&f.type==="Literal"),optional:!1}:f}i=u}else i=$v(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const o=i.value;return og.call(t.components,o)?t.components[o]:o}if(t.evaluater)return t.evaluater.evaluateExpression(i);mu(t)}function mu(t,e){const n=new Cn("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=MA+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xb(t){const e={};let n;for(n in t)og.call(t,n)&&(e[Cb(n)]=t[n]);return e}function Cb(t){let e=t.replace(ab,Ib);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Ib(t){return"-"+t.toLowerCase()}const Lp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},wb={};function Rb(t,e){const n=wb,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return LA(t,i,o)}function LA(t,e,n){if(bb(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return iE(t.children,e,n)}return Array.isArray(t)?iE(t,e,n):""}function iE(t,e,n){const i=[];let o=-1;for(;++o<t.length;)i[o]=LA(t[o],e,n);return i.join("")}function bb(t){return!!(t&&typeof t=="object")}const rE=document.createElement("i");function ag(t){const e="&"+t+";";rE.innerHTML=e;const n=rE.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function yr(t,e,n,i){const o=t.length;let l=0,u;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function vi(t,e){return t.length>0?(yr(t,t.length,0,e),t):e}const oE={}.hasOwnProperty;function Nb(t){const e={};let n=-1;for(;++n<t.length;)Db(e,t[n]);return e}function Db(t,e){let n;for(n in e){const o=(oE.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){oE.call(o,u)||(o[u]=[]);const f=l[u];Mb(o[u],Array.isArray(f)?f:f?[f]:[])}}}function Mb(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);yr(t,0,0,i)}function UA(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function xl(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dr=Oo(/[A-Za-z]/),ti=Oo(/[\dA-Za-z]/),Pb=Oo(/[#-'*+\--9=?A-Z^-~]/);function fm(t){return t!==null&&(t<32||t===127)}const dm=Oo(/\d/),kb=Oo(/[\dA-Fa-f]/),Vb=Oo(/[!-/:-@[-`{-~]/);function Ve(t){return t!==null&&t<-2}function zn(t){return t!==null&&(t<0||t===32)}function ht(t){return t===-2||t===-1||t===32}const Lb=Oo(new RegExp("\\p{P}|\\p{S}","u")),Ub=Oo(/\s/);function Oo(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ol(t){const e=[];let n=-1,i=0,o=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&ti(t.charCodeAt(n+1))&&ti(t.charCodeAt(n+2)))o=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const f=t.charCodeAt(n+1);l<56320&&f>56319&&f<57344?(u=String.fromCharCode(l,f),o=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+o+1,u=""),o&&(n+=o,o=0)}return e.join("")+t.slice(i)}function It(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(p){return ht(p)?(t.enter(n),f(p)):e(p)}function f(p){return ht(p)&&l++<o?(t.consume(p),f):(t.exit(n),e(p))}}const Ob={tokenize:Fb};function Fb(t){const e=t.attempt(this.parser.constructs.contentInitial,i,o);let n;return e;function i(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),It(t,e,"linePrefix")}function o(f){return t.enter("paragraph"),l(f)}function l(f){const p=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=p),n=p,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return Ve(f)?(t.consume(f),t.exit("chunkText"),l):(t.consume(f),u)}}const qb={tokenize:Bb},sE={tokenize:zb};function Bb(t){const e=this,n=[];let i=0,o,l,u;return f;function f(H){if(i<n.length){const re=n[i];return e.containerState=re[1],t.attempt(re[0].continuation,p,d)(H)}return d(H)}function p(H){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&j();const re=e.events.length;let pe=re,K;for(;pe--;)if(e.events[pe][0]==="exit"&&e.events[pe][1].type==="chunkFlow"){K=e.events[pe][1].end;break}z(i);let N=re;for(;N<e.events.length;)e.events[N][1].end={...K},N++;return yr(e.events,pe+1,0,e.events.slice(re)),e.events.length=N,d(H)}return f(H)}function d(H){if(i===n.length){if(!o)return T(H);if(o.currentConstruct&&o.currentConstruct.concrete)return D(H);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(sE,y,E)(H)}function y(H){return o&&j(),z(i),T(H)}function E(H){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,D(H)}function T(H){return e.containerState={},t.attempt(sE,A,D)(H)}function A(H){return i++,n.push([e.currentConstruct,e.containerState]),T(H)}function D(H){if(H===null){o&&j(),z(0),t.consume(H);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:l}),U(H)}function U(H){if(H===null){k(t.exit("chunkFlow"),!0),z(0),t.consume(H);return}return Ve(H)?(t.consume(H),k(t.exit("chunkFlow")),i=0,e.interrupt=void 0,f):(t.consume(H),U)}function k(H,re){const pe=e.sliceStream(H);if(re&&pe.push(null),H.previous=l,l&&(l.next=H),l=H,o.defineSkip(H.start),o.write(pe),e.parser.lazy[H.start.line]){let K=o.events.length;for(;K--;)if(o.events[K][1].start.offset<u&&(!o.events[K][1].end||o.events[K][1].end.offset>u))return;const N=e.events.length;let M=N,b,F;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){if(b){F=e.events[M][1].end;break}b=!0}for(z(i),K=N;K<e.events.length;)e.events[K][1].end={...F},K++;yr(e.events,M+1,0,e.events.slice(N)),e.events.length=K}}function z(H){let re=n.length;for(;re-- >H;){const pe=n[re];e.containerState=pe[1],pe[0].exit.call(e,t)}n.length=H}function j(){o.write([null]),l=void 0,o=void 0,e.containerState._closeFlow=void 0}}function zb(t,e,n){return It(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function lE(t){if(t===null||zn(t)||Ub(t))return 1;if(Lb(t))return 2}function ug(t,e,n){const i=[];let o=-1;for(;++o<t.length;){const l=t[o].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const hm={name:"attention",resolveAll:Hb,tokenize:Gb};function Hb(t,e){let n=-1,i,o,l,u,f,p,d,y;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;p=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const E={...t[i][1].end},T={...t[n][1].start};aE(E,-p),aE(T,p),u={type:p>1?"strongSequence":"emphasisSequence",start:E,end:{...t[i][1].end}},f={type:p>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:T},l={type:p>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:p>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[i][1].end={...u.start},t[n][1].start={...f.end},d=[],t[i][1].end.offset-t[i][1].start.offset&&(d=vi(d,[["enter",t[i][1],e],["exit",t[i][1],e]])),d=vi(d,[["enter",o,e],["enter",u,e],["exit",u,e],["enter",l,e]]),d=vi(d,ug(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),d=vi(d,[["exit",l,e],["enter",f,e],["exit",f,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(y=2,d=vi(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):y=0,yr(t,i-1,n-i+3,d),n=i+d.length-y-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Gb(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=lE(i);let l;return u;function u(p){return l=p,t.enter("attentionSequence"),f(p)}function f(p){if(p===l)return t.consume(p),f;const d=t.exit("attentionSequence"),y=lE(p),E=!y||y===2&&o||n.includes(p),T=!o||o===2&&y||n.includes(i);return d._open=!!(l===42?E:E&&(o||!T)),d._close=!!(l===42?T:T&&(y||!E)),e(p)}}function aE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Yb={name:"autolink",tokenize:Jb};function Jb(t,e,n){let i=0;return o;function o(A){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(A){return dr(A)?(t.consume(A),u):A===64?n(A):d(A)}function u(A){return A===43||A===45||A===46||ti(A)?(i=1,f(A)):d(A)}function f(A){return A===58?(t.consume(A),i=0,p):(A===43||A===45||A===46||ti(A))&&i++<32?(t.consume(A),f):(i=0,d(A))}function p(A){return A===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):A===null||A===32||A===60||fm(A)?n(A):(t.consume(A),p)}function d(A){return A===64?(t.consume(A),y):Pb(A)?(t.consume(A),d):n(A)}function y(A){return ti(A)?E(A):n(A)}function E(A){return A===46?(t.consume(A),i=0,y):A===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(A),t.exit("autolinkMarker"),t.exit("autolink"),e):T(A)}function T(A){if((A===45||ti(A))&&i++<63){const D=A===45?T:E;return t.consume(A),D}return n(A)}}const nd={partial:!0,tokenize:$b};function $b(t,e,n){return i;function i(l){return ht(l)?It(t,o,"linePrefix")(l):o(l)}function o(l){return l===null||Ve(l)?e(l):n(l)}}const OA={continuation:{tokenize:Qb},exit:Xb,name:"blockQuote",tokenize:Kb};function Kb(t,e,n){const i=this;return o;function o(u){if(u===62){const f=i.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return ht(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Qb(t,e,n){const i=this;return o;function o(u){return ht(u)?It(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(OA,e,n)(u)}}function Xb(t){t.exit("blockQuote")}const FA={name:"characterEscape",tokenize:Wb};function Wb(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),o}function o(l){return Vb(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const qA={name:"characterReference",tokenize:jb};function jb(t,e,n){const i=this;let o=0,l,u;return f;function f(E){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),p}function p(E){return E===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(E),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),l=31,u=ti,y(E))}function d(E){return E===88||E===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(E),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=kb,y):(t.enter("characterReferenceValue"),l=7,u=dm,y(E))}function y(E){if(E===59&&o){const T=t.exit("characterReferenceValue");return u===ti&&!ag(i.sliceSerialize(T))?n(E):(t.enter("characterReferenceMarker"),t.consume(E),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(E)&&o++<l?(t.consume(E),y):n(E)}}const uE={partial:!0,tokenize:eN},cE={concrete:!0,name:"codeFenced",tokenize:Zb};function Zb(t,e,n){const i=this,o={partial:!0,tokenize:pe};let l=0,u=0,f;return p;function p(K){return d(K)}function d(K){const N=i.events[i.events.length-1];return l=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,f=K,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),y(K)}function y(K){return K===f?(u++,t.consume(K),y):u<3?n(K):(t.exit("codeFencedFenceSequence"),ht(K)?It(t,E,"whitespace")(K):E(K))}function E(K){return K===null||Ve(K)?(t.exit("codeFencedFence"),i.interrupt?e(K):t.check(uE,U,re)(K)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),T(K))}function T(K){return K===null||Ve(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),E(K)):ht(K)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),It(t,A,"whitespace")(K)):K===96&&K===f?n(K):(t.consume(K),T)}function A(K){return K===null||Ve(K)?E(K):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),D(K))}function D(K){return K===null||Ve(K)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),E(K)):K===96&&K===f?n(K):(t.consume(K),D)}function U(K){return t.attempt(o,re,k)(K)}function k(K){return t.enter("lineEnding"),t.consume(K),t.exit("lineEnding"),z}function z(K){return l>0&&ht(K)?It(t,j,"linePrefix",l+1)(K):j(K)}function j(K){return K===null||Ve(K)?t.check(uE,U,re)(K):(t.enter("codeFlowValue"),H(K))}function H(K){return K===null||Ve(K)?(t.exit("codeFlowValue"),j(K)):(t.consume(K),H)}function re(K){return t.exit("codeFenced"),e(K)}function pe(K,N,M){let b=0;return F;function F(me){return K.enter("lineEnding"),K.consume(me),K.exit("lineEnding"),L}function L(me){return K.enter("codeFencedFence"),ht(me)?It(K,q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):q(me)}function q(me){return me===f?(K.enter("codeFencedFenceSequence"),V(me)):M(me)}function V(me){return me===f?(b++,K.consume(me),V):b>=u?(K.exit("codeFencedFenceSequence"),ht(me)?It(K,ge,"whitespace")(me):ge(me)):M(me)}function ge(me){return me===null||Ve(me)?(K.exit("codeFencedFence"),N(me)):M(me)}}}function eN(t,e,n){const i=this;return o;function o(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const Up={name:"codeIndented",tokenize:nN},tN={partial:!0,tokenize:iN};function nN(t,e,n){const i=this;return o;function o(d){return t.enter("codeIndented"),It(t,l,"linePrefix",5)(d)}function l(d){const y=i.events[i.events.length-1];return y&&y[1].type==="linePrefix"&&y[2].sliceSerialize(y[1],!0).length>=4?u(d):n(d)}function u(d){return d===null?p(d):Ve(d)?t.attempt(tN,u,p)(d):(t.enter("codeFlowValue"),f(d))}function f(d){return d===null||Ve(d)?(t.exit("codeFlowValue"),u(d)):(t.consume(d),f)}function p(d){return t.exit("codeIndented"),e(d)}}function iN(t,e,n){const i=this;return o;function o(u){return i.parser.lazy[i.now().line]?n(u):Ve(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):It(t,l,"linePrefix",5)(u)}function l(u){const f=i.events[i.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):Ve(u)?o(u):n(u)}}const rN={name:"codeText",previous:sN,resolve:oN,tokenize:lN};function oN(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}function sN(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lN(t,e,n){let i=0,o,l;return u;function u(E){return t.enter("codeText"),t.enter("codeTextSequence"),f(E)}function f(E){return E===96?(t.consume(E),i++,f):(t.exit("codeTextSequence"),p(E))}function p(E){return E===null?n(E):E===32?(t.enter("space"),t.consume(E),t.exit("space"),p):E===96?(l=t.enter("codeTextSequence"),o=0,y(E)):Ve(E)?(t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),p):(t.enter("codeTextData"),d(E))}function d(E){return E===null||E===32||E===96||Ve(E)?(t.exit("codeTextData"),p(E)):(t.consume(E),d)}function y(E){return E===96?(t.consume(E),o++,y):o===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(E)):(l.type="codeTextData",d(E))}}class aN{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const o=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&Wa(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Wa(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Wa(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Wa(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Wa(this.left,n.reverse())}}}function Wa(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function BA(t){const e={};let n=-1,i,o,l,u,f,p,d;const y=new aN(t);for(;++n<y.length;){for(;n in e;)n=e[n];if(i=y.get(n),n&&i[1].type==="chunkFlow"&&y.get(n-1)[1].type==="listItemPrefix"&&(p=i[1]._tokenizer.events,l=0,l<p.length&&p[l][1].type==="lineEndingBlank"&&(l+=2),l<p.length&&p[l][1].type==="content"))for(;++l<p.length&&p[l][1].type!=="content";)p[l][1].type==="chunkText"&&(p[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,uN(y,n)),n=e[n],d=!0);else if(i[1]._container){for(l=n,o=void 0;l--;)if(u=y.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(o&&(y.get(o)[1].type="lineEndingBlank"),u[1].type="lineEnding",o=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;o&&(i[1].end={...y.get(o)[1].start},f=y.slice(o,n),f.unshift(i),y.splice(o,n-o+1,f))}}return yr(t,0,Number.POSITIVE_INFINITY,y.slice(0)),!d}function uN(t,e){const n=t.get(e)[1],i=t.get(e)[2];let o=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,p=[],d={};let y,E,T=-1,A=n,D=0,U=0;const k=[U];for(;A;){for(;t.get(++o)[1]!==A;);l.push(o),A._tokenizer||(y=i.sliceStream(A),A.next||y.push(null),E&&u.defineSkip(A.start),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(y),A._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),E=A,A=A.next}for(A=n;++T<f.length;)f[T][0]==="exit"&&f[T-1][0]==="enter"&&f[T][1].type===f[T-1][1].type&&f[T][1].start.line!==f[T][1].end.line&&(U=T+1,k.push(U),A._tokenizer=void 0,A.previous=void 0,A=A.next);for(u.events=[],A?(A._tokenizer=void 0,A.previous=void 0):k.pop(),T=k.length;T--;){const z=f.slice(k[T],k[T+1]),j=l.pop();p.push([j,j+z.length-1]),t.splice(j,2,z)}for(p.reverse(),T=-1;++T<p.length;)d[D+p[T][0]]=D+p[T][1],D+=p[T][1]-p[T][0]-1;return d}const cN={resolve:dN,tokenize:hN},fN={partial:!0,tokenize:pN};function dN(t){return BA(t),t}function hN(t,e){let n;return i;function i(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(f)}function o(f){return f===null?l(f):Ve(f)?t.check(fN,u,l)(f):(t.consume(f),o)}function l(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}function pN(t,e,n){const i=this;return o;function o(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),It(t,l,"linePrefix")}function l(u){if(u===null||Ve(u))return n(u);const f=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function zA(t,e,n,i,o,l,u,f,p){const d=p||Number.POSITIVE_INFINITY;let y=0;return E;function E(z){return z===60?(t.enter(i),t.enter(o),t.enter(l),t.consume(z),t.exit(l),T):z===null||z===32||z===41||fm(z)?n(z):(t.enter(i),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),U(z))}function T(z){return z===62?(t.enter(l),t.consume(z),t.exit(l),t.exit(o),t.exit(i),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),A(z))}function A(z){return z===62?(t.exit("chunkString"),t.exit(f),T(z)):z===null||z===60||Ve(z)?n(z):(t.consume(z),z===92?D:A)}function D(z){return z===60||z===62||z===92?(t.consume(z),A):A(z)}function U(z){return!y&&(z===null||z===41||zn(z))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(i),e(z)):y<d&&z===40?(t.consume(z),y++,U):z===41?(t.consume(z),y--,U):z===null||z===32||z===40||fm(z)?n(z):(t.consume(z),z===92?k:U)}function k(z){return z===40||z===41||z===92?(t.consume(z),U):U(z)}}function HA(t,e,n,i,o,l){const u=this;let f=0,p;return d;function d(A){return t.enter(i),t.enter(o),t.consume(A),t.exit(o),t.enter(l),y}function y(A){return f>999||A===null||A===91||A===93&&!p||A===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(A):A===93?(t.exit(l),t.enter(o),t.consume(A),t.exit(o),t.exit(i),e):Ve(A)?(t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),y):(t.enter("chunkString",{contentType:"string"}),E(A))}function E(A){return A===null||A===91||A===93||Ve(A)||f++>999?(t.exit("chunkString"),y(A)):(t.consume(A),p||(p=!ht(A)),A===92?T:E)}function T(A){return A===91||A===92||A===93?(t.consume(A),f++,E):E(A)}}function GA(t,e,n,i,o,l){let u;return f;function f(T){return T===34||T===39||T===40?(t.enter(i),t.enter(o),t.consume(T),t.exit(o),u=T===40?41:T,p):n(T)}function p(T){return T===u?(t.enter(o),t.consume(T),t.exit(o),t.exit(i),e):(t.enter(l),d(T))}function d(T){return T===u?(t.exit(l),p(u)):T===null?n(T):Ve(T)?(t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),It(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),y(T))}function y(T){return T===u||T===null||Ve(T)?(t.exit("chunkString"),d(T)):(t.consume(T),T===92?E:y)}function E(T){return T===u||T===92?(t.consume(T),y):y(T)}}function au(t,e){let n;return i;function i(o){return Ve(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):ht(o)?It(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}const mN={name:"definition",tokenize:yN},gN={partial:!0,tokenize:_N};function yN(t,e,n){const i=this;let o;return l;function l(A){return t.enter("definition"),u(A)}function u(A){return HA.call(i,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(A)}function f(A){return o=xl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),A===58?(t.enter("definitionMarker"),t.consume(A),t.exit("definitionMarker"),p):n(A)}function p(A){return zn(A)?au(t,d)(A):d(A)}function d(A){return zA(t,y,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(A)}function y(A){return t.attempt(gN,E,E)(A)}function E(A){return ht(A)?It(t,T,"whitespace")(A):T(A)}function T(A){return A===null||Ve(A)?(t.exit("definition"),i.parser.defined.push(o),e(A)):n(A)}}function _N(t,e,n){return i;function i(f){return zn(f)?au(t,o)(f):n(f)}function o(f){return GA(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function l(f){return ht(f)?It(t,u,"whitespace")(f):u(f)}function u(f){return f===null||Ve(f)?e(f):n(f)}}const vN={name:"hardBreakEscape",tokenize:EN};function EN(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),o}function o(l){return Ve(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const TN={name:"headingAtx",resolve:SN,tokenize:AN};function SN(t,e){let n=t.length-2,i=3,o,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},yr(t,i,n-i+1,[["enter",o,e],["enter",l,e],["exit",l,e],["exit",o,e]])),t}function AN(t,e,n){let i=0;return o;function o(y){return t.enter("atxHeading"),l(y)}function l(y){return t.enter("atxHeadingSequence"),u(y)}function u(y){return y===35&&i++<6?(t.consume(y),u):y===null||zn(y)?(t.exit("atxHeadingSequence"),f(y)):n(y)}function f(y){return y===35?(t.enter("atxHeadingSequence"),p(y)):y===null||Ve(y)?(t.exit("atxHeading"),e(y)):ht(y)?It(t,f,"whitespace")(y):(t.enter("atxHeadingText"),d(y))}function p(y){return y===35?(t.consume(y),p):(t.exit("atxHeadingSequence"),f(y))}function d(y){return y===null||y===35||zn(y)?(t.exit("atxHeadingText"),f(y)):(t.consume(y),d)}}const xN=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],fE=["pre","script","style","textarea"],CN={concrete:!0,name:"htmlFlow",resolveTo:RN,tokenize:bN},IN={partial:!0,tokenize:DN},wN={partial:!0,tokenize:NN};function RN(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function bN(t,e,n){const i=this;let o,l,u,f,p;return d;function d(P){return y(P)}function y(P){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(P),E}function E(P){return P===33?(t.consume(P),T):P===47?(t.consume(P),l=!0,U):P===63?(t.consume(P),o=3,i.interrupt?e:O):dr(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function T(P){return P===45?(t.consume(P),o=2,A):P===91?(t.consume(P),o=5,f=0,D):dr(P)?(t.consume(P),o=4,i.interrupt?e:O):n(P)}function A(P){return P===45?(t.consume(P),i.interrupt?e:O):n(P)}function D(P){const _e="CDATA[";return P===_e.charCodeAt(f++)?(t.consume(P),f===_e.length?i.interrupt?e:q:D):n(P)}function U(P){return dr(P)?(t.consume(P),u=String.fromCharCode(P),k):n(P)}function k(P){if(P===null||P===47||P===62||zn(P)){const _e=P===47,Re=u.toLowerCase();return!_e&&!l&&fE.includes(Re)?(o=1,i.interrupt?e(P):q(P)):xN.includes(u.toLowerCase())?(o=6,_e?(t.consume(P),z):i.interrupt?e(P):q(P)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(P):l?j(P):H(P))}return P===45||ti(P)?(t.consume(P),u+=String.fromCharCode(P),k):n(P)}function z(P){return P===62?(t.consume(P),i.interrupt?e:q):n(P)}function j(P){return ht(P)?(t.consume(P),j):F(P)}function H(P){return P===47?(t.consume(P),F):P===58||P===95||dr(P)?(t.consume(P),re):ht(P)?(t.consume(P),H):F(P)}function re(P){return P===45||P===46||P===58||P===95||ti(P)?(t.consume(P),re):pe(P)}function pe(P){return P===61?(t.consume(P),K):ht(P)?(t.consume(P),pe):H(P)}function K(P){return P===null||P===60||P===61||P===62||P===96?n(P):P===34||P===39?(t.consume(P),p=P,N):ht(P)?(t.consume(P),K):M(P)}function N(P){return P===p?(t.consume(P),p=null,b):P===null||Ve(P)?n(P):(t.consume(P),N)}function M(P){return P===null||P===34||P===39||P===47||P===60||P===61||P===62||P===96||zn(P)?pe(P):(t.consume(P),M)}function b(P){return P===47||P===62||ht(P)?H(P):n(P)}function F(P){return P===62?(t.consume(P),L):n(P)}function L(P){return P===null||Ve(P)?q(P):ht(P)?(t.consume(P),L):n(P)}function q(P){return P===45&&o===2?(t.consume(P),B):P===60&&o===1?(t.consume(P),te):P===62&&o===4?(t.consume(P),Y):P===63&&o===3?(t.consume(P),O):P===93&&o===5?(t.consume(P),Se):Ve(P)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(IN,ie,V)(P)):P===null||Ve(P)?(t.exit("htmlFlowData"),V(P)):(t.consume(P),q)}function V(P){return t.check(wN,ge,ie)(P)}function ge(P){return t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),me}function me(P){return P===null||Ve(P)?V(P):(t.enter("htmlFlowData"),q(P))}function B(P){return P===45?(t.consume(P),O):q(P)}function te(P){return P===47?(t.consume(P),u="",he):q(P)}function he(P){if(P===62){const _e=u.toLowerCase();return fE.includes(_e)?(t.consume(P),Y):q(P)}return dr(P)&&u.length<8?(t.consume(P),u+=String.fromCharCode(P),he):q(P)}function Se(P){return P===93?(t.consume(P),O):q(P)}function O(P){return P===62?(t.consume(P),Y):P===45&&o===2?(t.consume(P),O):q(P)}function Y(P){return P===null||Ve(P)?(t.exit("htmlFlowData"),ie(P)):(t.consume(P),Y)}function ie(P){return t.exit("htmlFlow"),e(P)}}function NN(t,e,n){const i=this;return o;function o(u){return Ve(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function DN(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(nd,e,n)}}const MN={name:"htmlText",tokenize:PN};function PN(t,e,n){const i=this;let o,l,u;return f;function f(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),p}function p(O){return O===33?(t.consume(O),d):O===47?(t.consume(O),pe):O===63?(t.consume(O),H):dr(O)?(t.consume(O),M):n(O)}function d(O){return O===45?(t.consume(O),y):O===91?(t.consume(O),l=0,D):dr(O)?(t.consume(O),j):n(O)}function y(O){return O===45?(t.consume(O),A):n(O)}function E(O){return O===null?n(O):O===45?(t.consume(O),T):Ve(O)?(u=E,te(O)):(t.consume(O),E)}function T(O){return O===45?(t.consume(O),A):E(O)}function A(O){return O===62?B(O):O===45?T(O):E(O)}function D(O){const Y="CDATA[";return O===Y.charCodeAt(l++)?(t.consume(O),l===Y.length?U:D):n(O)}function U(O){return O===null?n(O):O===93?(t.consume(O),k):Ve(O)?(u=U,te(O)):(t.consume(O),U)}function k(O){return O===93?(t.consume(O),z):U(O)}function z(O){return O===62?B(O):O===93?(t.consume(O),z):U(O)}function j(O){return O===null||O===62?B(O):Ve(O)?(u=j,te(O)):(t.consume(O),j)}function H(O){return O===null?n(O):O===63?(t.consume(O),re):Ve(O)?(u=H,te(O)):(t.consume(O),H)}function re(O){return O===62?B(O):H(O)}function pe(O){return dr(O)?(t.consume(O),K):n(O)}function K(O){return O===45||ti(O)?(t.consume(O),K):N(O)}function N(O){return Ve(O)?(u=N,te(O)):ht(O)?(t.consume(O),N):B(O)}function M(O){return O===45||ti(O)?(t.consume(O),M):O===47||O===62||zn(O)?b(O):n(O)}function b(O){return O===47?(t.consume(O),B):O===58||O===95||dr(O)?(t.consume(O),F):Ve(O)?(u=b,te(O)):ht(O)?(t.consume(O),b):B(O)}function F(O){return O===45||O===46||O===58||O===95||ti(O)?(t.consume(O),F):L(O)}function L(O){return O===61?(t.consume(O),q):Ve(O)?(u=L,te(O)):ht(O)?(t.consume(O),L):b(O)}function q(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),o=O,V):Ve(O)?(u=q,te(O)):ht(O)?(t.consume(O),q):(t.consume(O),ge)}function V(O){return O===o?(t.consume(O),o=void 0,me):O===null?n(O):Ve(O)?(u=V,te(O)):(t.consume(O),V)}function ge(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||zn(O)?b(O):(t.consume(O),ge)}function me(O){return O===47||O===62||zn(O)?b(O):n(O)}function B(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function te(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),he}function he(O){return ht(O)?It(t,Se,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):Se(O)}function Se(O){return t.enter("htmlTextData"),u(O)}}const cg={name:"labelEnd",resolveAll:UN,resolveTo:ON,tokenize:FN},kN={tokenize:qN},VN={tokenize:BN},LN={tokenize:zN};function UN(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&yr(t,0,t.length,n),t}function ON(t,e){let n=t.length,i=0,o,l,u,f;for(;n--;)if(o=t[n][1],l){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(l=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(u=n);const p={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},y={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",p,e],["enter",d,e]],f=vi(f,t.slice(l+1,l+i+3)),f=vi(f,[["enter",y,e]]),f=vi(f,ug(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),f=vi(f,[["exit",y,e],t[u-2],t[u-1],["exit",d,e]]),f=vi(f,t.slice(u+1)),f=vi(f,[["exit",p,e]]),yr(t,l,t.length,f),t}function FN(t,e,n){const i=this;let o=i.events.length,l,u;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){l=i.events[o][1];break}return f;function f(T){return l?l._inactive?E(T):(u=i.parser.defined.includes(xl(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(T),t.exit("labelMarker"),t.exit("labelEnd"),p):n(T)}function p(T){return T===40?t.attempt(kN,y,u?y:E)(T):T===91?t.attempt(VN,y,u?d:E)(T):u?y(T):E(T)}function d(T){return t.attempt(LN,y,E)(T)}function y(T){return e(T)}function E(T){return l._balanced=!0,n(T)}}function qN(t,e,n){return i;function i(E){return t.enter("resource"),t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),o}function o(E){return zn(E)?au(t,l)(E):l(E)}function l(E){return E===41?y(E):zA(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(E)}function u(E){return zn(E)?au(t,p)(E):y(E)}function f(E){return n(E)}function p(E){return E===34||E===39||E===40?GA(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(E):y(E)}function d(E){return zn(E)?au(t,y)(E):y(E)}function y(E){return E===41?(t.enter("resourceMarker"),t.consume(E),t.exit("resourceMarker"),t.exit("resource"),e):n(E)}}function BN(t,e,n){const i=this;return o;function o(f){return HA.call(i,t,l,u,"reference","referenceMarker","referenceString")(f)}function l(f){return i.parser.defined.includes(xl(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function zN(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),o}function o(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const HN={name:"labelStartImage",resolveAll:cg.resolveAll,tokenize:GN};function GN(t,e,n){const i=this;return o;function o(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),l}function l(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(f):e(f)}}const YN={name:"labelStartLink",resolveAll:cg.resolveAll,tokenize:JN};function JN(t,e,n){const i=this;return o;function o(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Op={name:"lineEnding",tokenize:$N};function $N(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),It(t,e,"linePrefix")}}const Tf={name:"thematicBreak",tokenize:KN};function KN(t,e,n){let i=0,o;return l;function l(d){return t.enter("thematicBreak"),u(d)}function u(d){return o=d,f(d)}function f(d){return d===o?(t.enter("thematicBreakSequence"),p(d)):i>=3&&(d===null||Ve(d))?(t.exit("thematicBreak"),e(d)):n(d)}function p(d){return d===o?(t.consume(d),i++,p):(t.exit("thematicBreakSequence"),ht(d)?It(t,f,"whitespace")(d):f(d))}}const Fn={continuation:{tokenize:jN},exit:e2,name:"list",tokenize:WN},QN={partial:!0,tokenize:t2},XN={partial:!0,tokenize:ZN};function WN(t,e,n){const i=this,o=i.events[i.events.length-1];let l=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,u=0;return f;function f(A){const D=i.containerState.type||(A===42||A===43||A===45?"listUnordered":"listOrdered");if(D==="listUnordered"?!i.containerState.marker||A===i.containerState.marker:dm(A)){if(i.containerState.type||(i.containerState.type=D,t.enter(D,{_container:!0})),D==="listUnordered")return t.enter("listItemPrefix"),A===42||A===45?t.check(Tf,n,d)(A):d(A);if(!i.interrupt||A===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),p(A)}return n(A)}function p(A){return dm(A)&&++u<10?(t.consume(A),p):(!i.interrupt||u<2)&&(i.containerState.marker?A===i.containerState.marker:A===41||A===46)?(t.exit("listItemValue"),d(A)):n(A)}function d(A){return t.enter("listItemMarker"),t.consume(A),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||A,t.check(nd,i.interrupt?n:y,t.attempt(QN,T,E))}function y(A){return i.containerState.initialBlankLine=!0,l++,T(A)}function E(A){return ht(A)?(t.enter("listItemPrefixWhitespace"),t.consume(A),t.exit("listItemPrefixWhitespace"),T):n(A)}function T(A){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(A)}}function jN(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(nd,o,l);function o(f){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,It(t,e,"listItemIndent",i.containerState.size+1)(f)}function l(f){return i.containerState.furtherBlankLines||!ht(f)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(f)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(XN,e,u)(f))}function u(f){return i.containerState._closeFlow=!0,i.interrupt=void 0,It(t,t.attempt(Fn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function ZN(t,e,n){const i=this;return It(t,o,"listItemIndent",i.containerState.size+1);function o(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function e2(t){t.exit(this.containerState.type)}function t2(t,e,n){const i=this;return It(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(l){const u=i.events[i.events.length-1];return!ht(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const dE={name:"setextUnderline",resolveTo:n2,tokenize:i2};function n2(t,e){let n=t.length,i,o,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",l?(t.splice(o,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function i2(t,e,n){const i=this;let o;return l;function l(d){let y=i.events.length,E;for(;y--;)if(i.events[y][1].type!=="lineEnding"&&i.events[y][1].type!=="linePrefix"&&i.events[y][1].type!=="content"){E=i.events[y][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||E)?(t.enter("setextHeadingLine"),o=d,u(d)):n(d)}function u(d){return t.enter("setextHeadingLineSequence"),f(d)}function f(d){return d===o?(t.consume(d),f):(t.exit("setextHeadingLineSequence"),ht(d)?It(t,p,"lineSuffix")(d):p(d))}function p(d){return d===null||Ve(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}const r2={tokenize:o2};function o2(t){const e=this,n=t.attempt(nd,i,t.attempt(this.parser.constructs.flowInitial,o,It(t,t.attempt(this.parser.constructs.flow,o,t.attempt(cN,o)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const s2={resolveAll:JA()},l2=YA("string"),a2=YA("text");function YA(t){return{resolveAll:JA(t==="text"?u2:void 0),tokenize:e};function e(n){const i=this,o=this.parser.constructs[t],l=n.attempt(o,u,f);return u;function u(y){return d(y)?l(y):f(y)}function f(y){if(y===null){n.consume(y);return}return n.enter("data"),n.consume(y),p}function p(y){return d(y)?(n.exit("data"),l(y)):(n.consume(y),p)}function d(y){if(y===null)return!0;const E=o[y];let T=-1;if(E)for(;++T<E.length;){const A=E[T];if(!A.previous||A.previous.call(i,i.previous))return!0}return!1}}}function JA(t){return e;function e(n,i){let o=-1,l;for(;++o<=n.length;)l===void 0?n[o]&&n[o][1].type==="data"&&(l=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==l+2&&(n[l][1].end=n[o-1][1].end,n.splice(l+2,o-l-2),o=l+2),l=void 0);return t?t(n,i):n}}function u2(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],o=e.sliceStream(i);let l=o.length,u=-1,f=0,p;for(;l--;){const d=o[l];if(typeof d=="string"){for(u=d.length;d.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(d===-2)p=!0,f++;else if(d!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const d={type:n===t.length||p||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-f,offset:i.end.offset-f},end:{...i.end}};i.end={...d.start},i.start.offset===i.end.offset?Object.assign(i,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}const c2={42:Fn,43:Fn,45:Fn,48:Fn,49:Fn,50:Fn,51:Fn,52:Fn,53:Fn,54:Fn,55:Fn,56:Fn,57:Fn,62:OA},f2={91:mN},d2={[-2]:Up,[-1]:Up,32:Up},h2={35:TN,42:Tf,45:[dE,Tf],60:CN,61:dE,95:Tf,96:cE,126:cE},p2={38:qA,92:FA},m2={[-5]:Op,[-4]:Op,[-3]:Op,33:HN,38:qA,42:hm,60:[Yb,MN],91:YN,92:[vN,FA],93:cg,95:hm,96:rN},g2={null:[hm,s2]},y2={null:[42,95]},_2={null:[]},v2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:y2,contentInitial:f2,disable:_2,document:c2,flow:h2,flowInitial:d2,insideSpan:g2,string:p2,text:m2},Symbol.toStringTag,{value:"Module"}));function E2(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const o={},l=[];let u=[],f=[];const p={attempt:N(pe),check:N(K),consume:j,enter:H,exit:re,interrupt:N(K,{interrupt:!0})},d={code:null,containerState:{},defineSkip:U,events:[],now:D,parser:t,previous:null,sliceSerialize:T,sliceStream:A,write:E};let y=e.tokenize.call(d,p);return e.resolveAll&&l.push(e),d;function E(L){return u=vi(u,L),k(),u[u.length-1]!==null?[]:(M(e,0),d.events=ug(l,d.events,d),d.events)}function T(L,q){return S2(A(L),q)}function A(L){return T2(u,L)}function D(){const{_bufferIndex:L,_index:q,line:V,column:ge,offset:me}=i;return{_bufferIndex:L,_index:q,line:V,column:ge,offset:me}}function U(L){o[L.line]=L.column,F()}function k(){let L;for(;i._index<u.length;){const q=u[i._index];if(typeof q=="string")for(L=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===L&&i._bufferIndex<q.length;)z(q.charCodeAt(i._bufferIndex));else z(q)}}function z(L){y=y(L)}function j(L){Ve(L)?(i.line++,i.column=1,i.offset+=L===-3?2:1,F()):L!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),d.previous=L}function H(L,q){const V=q||{};return V.type=L,V.start=D(),d.events.push(["enter",V,d]),f.push(V),V}function re(L){const q=f.pop();return q.end=D(),d.events.push(["exit",q,d]),q}function pe(L,q){M(L,q.from)}function K(L,q){q.restore()}function N(L,q){return V;function V(ge,me,B){let te,he,Se,O;return Array.isArray(ge)?ie(ge):"tokenize"in ge?ie([ge]):Y(ge);function Y(Ie){return Me;function Me(st){const lt=st!==null&&Ie[st],en=st!==null&&Ie.null,Dn=[...Array.isArray(lt)?lt:lt?[lt]:[],...Array.isArray(en)?en:en?[en]:[]];return ie(Dn)(st)}}function ie(Ie){return te=Ie,he=0,Ie.length===0?B:P(Ie[he])}function P(Ie){return Me;function Me(st){return O=b(),Se=Ie,Ie.partial||(d.currentConstruct=Ie),Ie.name&&d.parser.constructs.disable.null.includes(Ie.name)?Re():Ie.tokenize.call(q?Object.assign(Object.create(d),q):d,p,_e,Re)(st)}}function _e(Ie){return L(Se,O),me}function Re(Ie){return O.restore(),++he<te.length?P(te[he]):B}}}function M(L,q){L.resolveAll&&!l.includes(L)&&l.push(L),L.resolve&&yr(d.events,q,d.events.length-q,L.resolve(d.events.slice(q),d)),L.resolveTo&&(d.events=L.resolveTo(d.events,d))}function b(){const L=D(),q=d.previous,V=d.currentConstruct,ge=d.events.length,me=Array.from(f);return{from:ge,restore:B};function B(){i=L,d.previous=q,d.currentConstruct=V,d.events.length=ge,f=me,F()}}function F(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}function T2(t,e){const n=e.start._index,i=e.start._bufferIndex,o=e.end._index,l=e.end._bufferIndex;let u;if(n===o)u=[t[n].slice(i,l)];else{if(u=t.slice(n,o),i>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(i):u.shift()}l>0&&u.push(t[o].slice(0,l))}return u}function S2(t,e){let n=-1;const i=[];let o;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&o)continue;u=" ";break}default:u=String.fromCharCode(l)}o=l===-2,i.push(u)}return i.join("")}function A2(t){const i={constructs:Nb([v2,...(t||{}).extensions||[]]),content:o(Ob),defined:[],document:o(qb),flow:o(r2),lazy:{},string:o(l2),text:o(a2)};return i;function o(l){return u;function u(f){return E2(i,l,f)}}}function x2(t){for(;!BA(t););return t}const hE=/[\0\t\n\r]/g;function C2(){let t=1,e="",n=!0,i;return o;function o(l,u,f){const p=[];let d,y,E,T,A;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),E=0,e="",n&&(l.charCodeAt(0)===65279&&E++,n=void 0);E<l.length;){if(hE.lastIndex=E,d=hE.exec(l),T=d&&d.index!==void 0?d.index:l.length,A=l.charCodeAt(T),!d){e=l.slice(E);break}if(A===10&&E===T&&i)p.push(-3),i=void 0;else switch(i&&(p.push(-5),i=void 0),E<T&&(p.push(l.slice(E,T)),t+=T-E),A){case 0:{p.push(65533),t++;break}case 9:{for(y=Math.ceil(t/4)*4,p.push(-2);t++<y;)p.push(-1);break}case 10:{p.push(-4),t=1;break}default:i=!0,t=1}E=T+1}return f&&(i&&p.push(-5),e&&p.push(e),p.push(null)),p}}const I2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function w2(t){return t.replace(I2,R2)}function R2(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const o=n.charCodeAt(1),l=o===120||o===88;return UA(n.slice(l?2:1),l?16:10)}return ag(n)||t}const $A={}.hasOwnProperty;function b2(t,e,n){return typeof e!="string"&&(n=e,e=void 0),N2(n)(x2(A2(n).document().write(C2()(t,e,!0))))}function N2(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(wt),autolinkProtocol:b,autolinkEmail:b,atxHeading:l(ri),blockQuote:l(en),characterEscape:b,characterReference:b,codeFenced:l(Dn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(Dn,u),codeText:l(ii,u),codeTextData:b,data:b,codeFlowValue:b,definition:l(Bi),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(In),hardBreakEscape:l(oi),hardBreakTrailing:l(oi),htmlFlow:l(zi,u),htmlFlowData:b,htmlText:l(zi,u),htmlTextData:b,image:l(vr),label:u,link:l(wt),listItem:l(si),listItemValue:T,listOrdered:l(Dt,E),listUnordered:l(Dt),paragraph:l(zo),reference:P,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(ri),strong:l(Jr),thematicBreak:l(Gn)},exit:{atxHeading:p(),atxHeadingSequence:pe,autolink:p(),autolinkEmail:lt,autolinkProtocol:st,blockQuote:p(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:Ie,characterReference:Me,codeFenced:p(k),codeFencedFence:U,codeFencedFenceInfo:A,codeFencedFenceMeta:D,codeFlowValue:F,codeIndented:p(z),codeText:p(me),codeTextData:F,data:F,definition:p(),definitionDestinationString:re,definitionLabelString:j,definitionTitleString:H,emphasis:p(),hardBreakEscape:p(q),hardBreakTrailing:p(q),htmlFlow:p(V),htmlFlowData:F,htmlText:p(ge),htmlTextData:F,image:p(te),label:Se,labelText:he,lineEnding:L,link:p(B),listItem:p(),listOrdered:p(),listUnordered:p(),paragraph:p(),referenceString:_e,resourceDestinationString:O,resourceTitleString:Y,resource:ie,setextHeading:p(M),setextHeadingLineSequence:N,setextHeadingText:K,strong:p(),thematicBreak:p()}};KA(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(se){let ve={type:"root",children:[]};const De={stack:[ve],tokenStack:[],config:e,enter:f,exit:d,buffer:u,resume:y,data:n},Be=[];let tt=-1;for(;++tt<se.length;)if(se[tt][1].type==="listOrdered"||se[tt][1].type==="listUnordered")if(se[tt][0]==="enter")Be.push(tt);else{const ue=Be.pop();tt=o(se,ue,tt)}for(tt=-1;++tt<se.length;){const ue=e[se[tt][0]];$A.call(ue,se[tt][1].type)&&ue[se[tt][1].type].call(Object.assign({sliceSerialize:se[tt][2].sliceSerialize},De),se[tt][1])}if(De.tokenStack.length>0){const ue=De.tokenStack[De.tokenStack.length-1];(ue[1]||pE).call(De,void 0,ue[0])}for(ve.position={start:Co(se.length>0?se[0][1].start:{line:1,column:1,offset:0}),end:Co(se.length>0?se[se.length-2][1].end:{line:1,column:1,offset:0})},tt=-1;++tt<e.transforms.length;)ve=e.transforms[tt](ve)||ve;return ve}function o(se,ve,De){let Be=ve-1,tt=-1,ue=!1,Je,Xe,_t,Bt;for(;++Be<=De;){const $e=se[Be];switch($e[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{$e[0]==="enter"?tt++:tt--,Bt=void 0;break}case"lineEndingBlank":{$e[0]==="enter"&&(Je&&!Bt&&!tt&&!_t&&(_t=Be),Bt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Bt=void 0}if(!tt&&$e[0]==="enter"&&$e[1].type==="listItemPrefix"||tt===-1&&$e[0]==="exit"&&($e[1].type==="listUnordered"||$e[1].type==="listOrdered")){if(Je){let xi=Be;for(Xe=void 0;xi--;){const vn=se[xi];if(vn[1].type==="lineEnding"||vn[1].type==="lineEndingBlank"){if(vn[0]==="exit")continue;Xe&&(se[Xe][1].type="lineEndingBlank",ue=!0),vn[1].type="lineEnding",Xe=xi}else if(!(vn[1].type==="linePrefix"||vn[1].type==="blockQuotePrefix"||vn[1].type==="blockQuotePrefixWhitespace"||vn[1].type==="blockQuoteMarker"||vn[1].type==="listItemIndent"))break}_t&&(!Xe||_t<Xe)&&(Je._spread=!0),Je.end=Object.assign({},Xe?se[Xe][1].start:$e[1].end),se.splice(Xe||Be,0,["exit",Je,$e[2]]),Be++,De++}if($e[1].type==="listItemPrefix"){const xi={type:"listItem",_spread:!1,start:Object.assign({},$e[1].start),end:void 0};Je=xi,se.splice(Be,0,["enter",xi,$e[2]]),Be++,De++,_t=void 0,Bt=!0}}}return se[ve][1]._spread=ue,De}function l(se,ve){return De;function De(Be){f.call(this,se(Be),Be),ve&&ve.call(this,Be)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(se,ve,De){this.stack[this.stack.length-1].children.push(se),this.stack.push(se),this.tokenStack.push([ve,De||void 0]),se.position={start:Co(ve.start),end:void 0}}function p(se){return ve;function ve(De){se&&se.call(this,De),d.call(this,De)}}function d(se,ve){const De=this.stack.pop(),Be=this.tokenStack.pop();if(Be)Be[0].type!==se.type&&(ve?ve.call(this,se,Be[0]):(Be[1]||pE).call(this,se,Be[0]));else throw new Error("Cannot close `"+se.type+"` ("+lu({start:se.start,end:se.end})+"): its not open");De.position.end=Co(se.end)}function y(){return Rb(this.stack.pop())}function E(){this.data.expectingFirstListItemValue=!0}function T(se){if(this.data.expectingFirstListItemValue){const ve=this.stack[this.stack.length-2];ve.start=Number.parseInt(this.sliceSerialize(se),10),this.data.expectingFirstListItemValue=void 0}}function A(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.lang=se}function D(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.meta=se}function U(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.value=se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function z(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.value=se.replace(/(\r?\n|\r)$/g,"")}function j(se){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=xl(this.sliceSerialize(se)).toLowerCase()}function H(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.title=se}function re(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.url=se}function pe(se){const ve=this.stack[this.stack.length-1];if(!ve.depth){const De=this.sliceSerialize(se).length;ve.depth=De}}function K(){this.data.setextHeadingSlurpLineEnding=!0}function N(se){const ve=this.stack[this.stack.length-1];ve.depth=this.sliceSerialize(se).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function b(se){const De=this.stack[this.stack.length-1].children;let Be=De[De.length-1];(!Be||Be.type!=="text")&&(Be=tn(),Be.position={start:Co(se.start),end:void 0},De.push(Be)),this.stack.push(Be)}function F(se){const ve=this.stack.pop();ve.value+=this.sliceSerialize(se),ve.position.end=Co(se.end)}function L(se){const ve=this.stack[this.stack.length-1];if(this.data.atHardBreak){const De=ve.children[ve.children.length-1];De.position.end=Co(se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ve.type)&&(b.call(this,se),F.call(this,se))}function q(){this.data.atHardBreak=!0}function V(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.value=se}function ge(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.value=se}function me(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.value=se}function B(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ve,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function te(){const se=this.stack[this.stack.length-1];if(this.data.inReference){const ve=this.data.referenceType||"shortcut";se.type+="Reference",se.referenceType=ve,delete se.url,delete se.title}else delete se.identifier,delete se.label;this.data.referenceType=void 0}function he(se){const ve=this.sliceSerialize(se),De=this.stack[this.stack.length-2];De.label=w2(ve),De.identifier=xl(ve).toLowerCase()}function Se(){const se=this.stack[this.stack.length-1],ve=this.resume(),De=this.stack[this.stack.length-1];if(this.data.inReference=!0,De.type==="link"){const Be=se.children;De.children=Be}else De.alt=ve}function O(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.url=se}function Y(){const se=this.resume(),ve=this.stack[this.stack.length-1];ve.title=se}function ie(){this.data.inReference=void 0}function P(){this.data.referenceType="collapsed"}function _e(se){const ve=this.resume(),De=this.stack[this.stack.length-1];De.label=ve,De.identifier=xl(this.sliceSerialize(se)).toLowerCase(),this.data.referenceType="full"}function Re(se){this.data.characterReferenceType=se.type}function Ie(se){const ve=this.sliceSerialize(se),De=this.data.characterReferenceType;let Be;De?(Be=UA(ve,De==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Be=ag(ve);const tt=this.stack[this.stack.length-1];tt.value+=Be}function Me(se){const ve=this.stack.pop();ve.position.end=Co(se.end)}function st(se){F.call(this,se);const ve=this.stack[this.stack.length-1];ve.url=this.sliceSerialize(se)}function lt(se){F.call(this,se);const ve=this.stack[this.stack.length-1];ve.url="mailto:"+this.sliceSerialize(se)}function en(){return{type:"blockquote",children:[]}}function Dn(){return{type:"code",lang:null,meta:null,value:""}}function ii(){return{type:"inlineCode",value:""}}function Bi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function In(){return{type:"emphasis",children:[]}}function ri(){return{type:"heading",depth:0,children:[]}}function oi(){return{type:"break"}}function zi(){return{type:"html",value:""}}function vr(){return{type:"image",title:null,url:"",alt:null}}function wt(){return{type:"link",title:null,url:"",children:[]}}function Dt(se){return{type:"list",ordered:se.type==="listOrdered",start:null,spread:se._spread,children:[]}}function si(se){return{type:"listItem",spread:se._spread,checked:null,children:[]}}function zo(){return{type:"paragraph",children:[]}}function Jr(){return{type:"strong",children:[]}}function tn(){return{type:"text",value:""}}function Gn(){return{type:"thematicBreak"}}}function Co(t){return{line:t.line,column:t.column,offset:t.offset}}function KA(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?KA(t,i):D2(t,i)}}function D2(t,e){let n;for(n in e)if($A.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function pE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+lu({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+lu({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+lu({start:e.start,end:e.end})+") is still open")}function M2(t){const e=this;e.parser=n;function n(i){return b2(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function P2(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function k2(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function V2(t,e){const n=e.value?e.value+`
`:"",i={},o=e.lang?e.lang.split(/\s+/):[];o.length>0&&(i.className=["language-"+o[0]]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function L2(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function U2(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function O2(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),o=Ol(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,f=t.footnoteCounts.get(i);f===void 0?(f=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,f+=1,t.footnoteCounts.set(i,f);const p={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+o,id:n+"fnref-"+o+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,p);const d={type:"element",tagName:"sup",properties:{},children:[p]};return t.patch(e,d),t.applyData(e,d)}function F2(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q2(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function QA(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const o=t.all(e),l=o[0];l&&l.type==="text"?l.value="["+l.value:o.unshift({type:"text",value:"["});const u=o[o.length-1];return u&&u.type==="text"?u.value+=i:o.push({type:"text",value:i}),o}function B2(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return QA(t,e);const o={src:Ol(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"img",properties:o,children:[]};return t.patch(e,l),t.applyData(e,l)}function z2(t,e){const n={src:Ol(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function H2(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function G2(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return QA(t,e);const o={href:Ol(i.url||"")};i.title!==null&&i.title!==void 0&&(o.title=i.title);const l={type:"element",tagName:"a",properties:o,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function Y2(t,e){const n={href:Ol(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function J2(t,e,n){const i=t.all(e),o=n?$2(n):XA(e),l={},u=[];if(typeof e.checked=="boolean"){const y=i[0];let E;y&&y.type==="element"&&y.tagName==="p"?E=y:(E={type:"element",tagName:"p",properties:{},children:[]},i.unshift(E)),E.children.length>0&&E.children.unshift({type:"text",value:" "}),E.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let f=-1;for(;++f<i.length;){const y=i[f];(o||f!==0||y.type!=="element"||y.tagName!=="p")&&u.push({type:"text",value:`
`}),y.type==="element"&&y.tagName==="p"&&!o?u.push(...y.children):u.push(y)}const p=i[i.length-1];p&&(o||p.type!=="element"||p.tagName!=="p")&&u.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,d),t.applyData(e,d)}function $2(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=XA(n[i])}return e}function XA(t){const e=t.spread;return e??t.children.length>1}function K2(t,e){const n={},i=t.all(e);let o=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++o<i.length;){const u=i[o];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function Q2(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function X2(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function W2(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j2(t,e){const n=t.all(e),i=n.shift(),o=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),o.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=rg(e.children[1]),p=NA(e.children[e.children.length-1]);f&&p&&(u.position={start:f,end:p}),o.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(o,!0)};return t.patch(e,l),t.applyData(e,l)}function Z2(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let p=-1;const d=[];for(;++p<f;){const E=e.children[p],T={},A=u?u[p]:void 0;A&&(T.align=A);let D={type:"element",tagName:l,properties:T,children:[]};E&&(D.children=t.all(E),t.patch(E,D),D=t.applyData(E,D)),d.push(D)}const y={type:"element",tagName:"tr",properties:{},children:t.wrap(d,!0)};return t.patch(e,y),t.applyData(e,y)}function eD(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const mE=9,gE=32;function tD(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),o=0;const l=[];for(;i;)l.push(yE(e.slice(o,i.index),o>0,!0),i[0]),o=i.index+i[0].length,i=n.exec(e);return l.push(yE(e.slice(o),o>0,!1)),l.join("")}function yE(t,e,n){let i=0,o=t.length;if(e){let l=t.codePointAt(i);for(;l===mE||l===gE;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(o-1);for(;l===mE||l===gE;)o--,l=t.codePointAt(o-1)}return o>i?t.slice(i,o):""}function nD(t,e){const n={type:"text",value:tD(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function iD(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const rD={blockquote:P2,break:k2,code:V2,delete:L2,emphasis:U2,footnoteReference:O2,heading:F2,html:q2,imageReference:B2,image:z2,inlineCode:H2,linkReference:G2,link:Y2,listItem:J2,list:K2,paragraph:Q2,root:X2,strong:W2,table:j2,tableCell:eD,tableRow:Z2,text:nD,thematicBreak:iD,toml:sf,yaml:sf,definition:sf,footnoteDefinition:sf};function sf(){}const WA=-1,id=0,uu=1,Df=2,fg=3,dg=4,hg=5,pg=6,jA=7,ZA=8,_E=typeof self=="object"?self:globalThis,oD=(t,e)=>{const n=(o,l)=>(t.set(l,o),o),i=o=>{if(t.has(o))return t.get(o);const[l,u]=e[o];switch(l){case id:case WA:return n(u,o);case uu:{const f=n([],o);for(const p of u)f.push(i(p));return f}case Df:{const f=n({},o);for(const[p,d]of u)f[i(p)]=i(d);return f}case fg:return n(new Date(u),o);case dg:{const{source:f,flags:p}=u;return n(new RegExp(f,p),o)}case hg:{const f=n(new Map,o);for(const[p,d]of u)f.set(i(p),i(d));return f}case pg:{const f=n(new Set,o);for(const p of u)f.add(i(p));return f}case jA:{const{name:f,message:p}=u;return n(new _E[f](p),o)}case ZA:return n(BigInt(u),o);case"BigInt":return n(Object(BigInt(u)),o);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new _E[l](u),o)};return i},vE=t=>oD(new Map,t)(0),ml="",{toString:sD}={},{keys:lD}=Object,ja=t=>{const e=typeof t;if(e!=="object"||!t)return[id,e];const n=sD.call(t).slice(8,-1);switch(n){case"Array":return[uu,ml];case"Object":return[Df,ml];case"Date":return[fg,ml];case"RegExp":return[dg,ml];case"Map":return[hg,ml];case"Set":return[pg,ml];case"DataView":return[uu,n]}return n.includes("Array")?[uu,n]:n.includes("Error")?[jA,n]:[Df,n]},lf=([t,e])=>t===id&&(e==="function"||e==="symbol"),aD=(t,e,n,i)=>{const o=(u,f)=>{const p=i.push(u)-1;return n.set(f,p),p},l=u=>{if(n.has(u))return n.get(u);let[f,p]=ja(u);switch(f){case id:{let y=u;switch(p){case"bigint":f=ZA,y=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+p);y=null;break;case"undefined":return o([WA],u)}return o([f,y],u)}case uu:{if(p){let T=u;return p==="DataView"?T=new Uint8Array(u.buffer):p==="ArrayBuffer"&&(T=new Uint8Array(u)),o([p,[...T]],u)}const y=[],E=o([f,y],u);for(const T of u)y.push(l(T));return E}case Df:{if(p)switch(p){case"BigInt":return o([p,u.toString()],u);case"Boolean":case"Number":case"String":return o([p,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const y=[],E=o([f,y],u);for(const T of lD(u))(t||!lf(ja(u[T])))&&y.push([l(T),l(u[T])]);return E}case fg:return o([f,u.toISOString()],u);case dg:{const{source:y,flags:E}=u;return o([f,{source:y,flags:E}],u)}case hg:{const y=[],E=o([f,y],u);for(const[T,A]of u)(t||!(lf(ja(T))||lf(ja(A))))&&y.push([l(T),l(A)]);return E}case pg:{const y=[],E=o([f,y],u);for(const T of u)(t||!lf(ja(T)))&&y.push(l(T));return E}}const{message:d}=u;return o([f,{name:p,message:d}],u)};return l},EE=(t,{json:e,lossy:n}={})=>{const i=[];return aD(!(e||n),!!e,new Map,i)(t),i},Mf=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?vE(EE(t,e)):structuredClone(t):(t,e)=>vE(EE(t,e));function uD(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function cD(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function fD(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||uD,i=t.options.footnoteBackLabel||cD,o=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let p=-1;for(;++p<t.footnoteOrder.length;){const d=t.footnoteById.get(t.footnoteOrder[p]);if(!d)continue;const y=t.all(d),E=String(d.identifier).toUpperCase(),T=Ol(E.toLowerCase());let A=0;const D=[],U=t.footnoteCounts.get(E);for(;U!==void 0&&++A<=U;){D.length>0&&D.push({type:"text",value:" "});let j=typeof n=="string"?n:n(p,A);typeof j=="string"&&(j={type:"text",value:j}),D.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+T+(A>1?"-"+A:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(p,A),className:["data-footnote-backref"]},children:Array.isArray(j)?j:[j]})}const k=y[y.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const j=k.children[k.children.length-1];j&&j.type==="text"?j.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...D)}else y.push(...D);const z={type:"element",tagName:"li",properties:{id:e+"fn-"+T},children:t.wrap(y,!0)};t.patch(d,z),f.push(z)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Mf(u),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const e1=(function(t){if(t==null)return mD;if(typeof t=="function")return rd(t);if(typeof t=="object")return Array.isArray(t)?dD(t):hD(t);if(typeof t=="string")return pD(t);throw new Error("Expected function, string, or object as test")});function dD(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=e1(t[n]);return rd(i);function i(...o){let l=-1;for(;++l<e.length;)if(e[l].apply(this,o))return!0;return!1}}function hD(t){const e=t;return rd(n);function n(i){const o=i;let l;for(l in t)if(o[l]!==e[l])return!1;return!0}}function pD(t){return rd(e);function e(n){return n&&n.type===t}}function rd(t){return e;function e(n,i,o){return!!(gD(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}function mD(){return!0}function gD(t){return t!==null&&typeof t=="object"&&"type"in t}const t1=[],yD=!0,TE=!1,_D="skip";function vD(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;const l=e1(o),u=i?-1:1;f(t,void 0,[])();function f(p,d,y){const E=p&&typeof p=="object"?p:{};if(typeof E.type=="string"){const A=typeof E.tagName=="string"?E.tagName:typeof E.name=="string"?E.name:void 0;Object.defineProperty(T,"name",{value:"node ("+(p.type+(A?"<"+A+">":""))+")"})}return T;function T(){let A=t1,D,U,k;if((!e||l(p,d,y[y.length-1]||void 0))&&(A=ED(n(p,y)),A[0]===TE))return A;if("children"in p&&p.children){const z=p;if(z.children&&A[0]!==_D)for(U=(i?z.children.length:-1)+u,k=y.concat(z);U>-1&&U<z.children.length;){const j=z.children[U];if(D=f(j,U,k)(),D[0]===TE)return D;U=typeof D[1]=="number"?D[1]:U+u}}return A}}}function ED(t){return Array.isArray(t)?t:typeof t=="number"?[yD,t]:t==null?t1:[t]}function n1(t,e,n,i){let o,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,o=n):(l=e,u=n,o=i),vD(t,l,f,o);function f(p,d){const y=d[d.length-1],E=y?y.children.indexOf(p):void 0;return u(p,E,y)}}const pm={}.hasOwnProperty,TD={};function SD(t,e){const n=e||TD,i=new Map,o=new Map,l=new Map,u={...rD,...n.handlers},f={all:d,applyData:xD,definitionById:i,footnoteById:o,footnoteCounts:l,footnoteOrder:[],handlers:u,one:p,options:n,patch:AD,wrap:ID};return n1(t,function(y){if(y.type==="definition"||y.type==="footnoteDefinition"){const E=y.type==="definition"?i:o,T=String(y.identifier).toUpperCase();E.has(T)||E.set(T,y)}}),f;function p(y,E){const T=y.type,A=f.handlers[T];if(pm.call(f.handlers,T)&&A)return A(f,y,E);if(f.options.passThrough&&f.options.passThrough.includes(T)){if("children"in y){const{children:U,...k}=y,z=Mf(k);return z.children=f.all(y),z}return Mf(y)}return(f.options.unknownHandler||CD)(f,y,E)}function d(y){const E=[];if("children"in y){const T=y.children;let A=-1;for(;++A<T.length;){const D=f.one(T[A],y);if(D){if(A&&T[A-1].type==="break"&&(!Array.isArray(D)&&D.type==="text"&&(D.value=SE(D.value)),!Array.isArray(D)&&D.type==="element")){const U=D.children[0];U&&U.type==="text"&&(U.value=SE(U.value))}Array.isArray(D)?E.push(...D):E.push(D)}}}return E}}function AD(t,e){t.position&&(e.position=sb(t))}function xD(t,e){let n=e;if(t&&t.data){const i=t.data.hName,o=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Mf(l)),"children"in n&&n.children&&o!==null&&o!==void 0&&(n.children=o)}return n}function CD(t,e){const n=e.data||{},i="value"in e&&!(pm.call(n,"hProperties")||pm.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function ID(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function SE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function AE(t,e){const n=SD(t,e),i=n.one(t,void 0),o=fD(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return o&&l.children.push({type:"text",value:`
`},o),l}function wD(t,e){return t&&"run"in t?async function(n,i){const o=AE(n,{file:i,...e});await t.run(o,i)}:function(n,i){return AE(n,{file:i,...t||e})}}function xE(t){if(t)throw t}var Fp,CE;function RD(){if(CE)return Fp;CE=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(d){return typeof Array.isArray=="function"?Array.isArray(d):e.call(d)==="[object Array]"},l=function(d){if(!d||e.call(d)!=="[object Object]")return!1;var y=t.call(d,"constructor"),E=d.constructor&&d.constructor.prototype&&t.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!y&&!E)return!1;var T;for(T in d);return typeof T>"u"||t.call(d,T)},u=function(d,y){n&&y.name==="__proto__"?n(d,y.name,{enumerable:!0,configurable:!0,value:y.newValue,writable:!0}):d[y.name]=y.newValue},f=function(d,y){if(y==="__proto__")if(t.call(d,y)){if(i)return i(d,y).value}else return;return d[y]};return Fp=function p(){var d,y,E,T,A,D,U=arguments[0],k=1,z=arguments.length,j=!1;for(typeof U=="boolean"&&(j=U,U=arguments[1]||{},k=2),(U==null||typeof U!="object"&&typeof U!="function")&&(U={});k<z;++k)if(d=arguments[k],d!=null)for(y in d)E=f(U,y),T=f(d,y),U!==T&&(j&&T&&(l(T)||(A=o(T)))?(A?(A=!1,D=E&&o(E)?E:[]):D=E&&l(E)?E:{},u(U,{name:y,newValue:p(j,D,T)})):typeof T<"u"&&u(U,{name:y,newValue:T}));return U},Fp}var bD=RD();const qp=td(bD);function mm(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ND(){const t=[],e={run:n,use:i};return e;function n(...o){let l=-1;const u=o.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...o);function f(p,...d){const y=t[++l];let E=-1;if(p){u(p);return}for(;++E<o.length;)(d[E]===null||d[E]===void 0)&&(d[E]=o[E]);o=d,y?DD(y,f)(...d):u(null,...d)}}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}function DD(t,e){let n;return i;function i(...u){const f=t.length>u.length;let p;f&&u.push(o);try{p=t.apply(this,u)}catch(d){const y=d;if(f&&n)throw y;return o(y)}f||(p&&p.then&&typeof p.then=="function"?p.then(l,o):p instanceof Error?o(p):l(p))}function o(u,...f){n||(n=!0,e(u,...f))}function l(u){o(null,u)}}const cr={basename:MD,dirname:PD,extname:kD,join:VD,sep:"/"};function MD(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Cu(t);let n=0,i=-1,o=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else i<0&&(l=!0,i=o+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,f=e.length-1;for(;o--;)if(t.codePointAt(o)===47){if(l){n=o+1;break}}else u<0&&(l=!0,u=o+1),f>-1&&(t.codePointAt(o)===e.codePointAt(f--)?f<0&&(i=o):(f=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function PD(t){if(Cu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function kD(t){Cu(t);let e=t.length,n=-1,i=0,o=-1,l=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?o<0?o=e:l!==1&&(l=1):o>-1&&(l=-1)}return o<0||n<0||l===0||l===1&&o===n-1&&o===i+1?"":t.slice(o,n)}function VD(...t){let e=-1,n;for(;++e<t.length;)Cu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":LD(n)}function LD(t){Cu(t);const e=t.codePointAt(0)===47;let n=UD(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function UD(t,e){let n="",i=0,o=-1,l=0,u=-1,f,p;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(o===u-1||l===1))if(o!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(p=n.lastIndexOf("/"),p!==n.length-1){p<0?(n="",i=0):(n=n.slice(0,p),i=n.length-1-n.lastIndexOf("/")),o=u,l=0;continue}}else if(n.length>0){n="",i=0,o=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(o+1,u):n=t.slice(o+1,u),i=u-o-1;o=u,l=0}else f===46&&l>-1?l++:l=-1}return n}function Cu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const OD={cwd:FD};function FD(){return"/"}function gm(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function qD(t){if(typeof t=="string")t=new URL(t);else if(!gm(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return BD(t)}function BD(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(e)}const Bp=["history","path","basename","stem","extname","dirname"];class i1{constructor(e){let n;e?gm(e)?n={path:e}:typeof e=="string"||zD(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":OD.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Bp.length;){const l=Bp[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let o;for(o in n)Bp.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?cr.basename(this.path):void 0}set basename(e){Hp(e,"basename"),zp(e,"basename"),this.path=cr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?cr.dirname(this.path):void 0}set dirname(e){IE(this.basename,"dirname"),this.path=cr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?cr.extname(this.path):void 0}set extname(e){if(zp(e,"extname"),IE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){gm(e)&&(e=qD(e)),Hp(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?cr.basename(this.path,this.extname):void 0}set stem(e){Hp(e,"stem"),zp(e,"stem"),this.path=cr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){const o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){const o=new Cn(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function zp(t,e){if(t&&t.includes(cr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+cr.sep+"`")}function Hp(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function IE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function zD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const HD=(function(t){const i=this.constructor.prototype,o=i[t],l=function(){return o.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),GD={}.hasOwnProperty;class mg extends HD{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ND()}copy(){const e=new mg;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(qp(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Jp("data",this.frozen),this.namespace[e]=n,this):GD.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Jp("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=af(e),i=this.parser||this.Parser;return Gp("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Gp("process",this.parser||this.Parser),Yp("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(l,u){const f=af(e),p=i.parse(f);i.run(p,f,function(y,E,T){if(y||!E||!T)return d(y);const A=E,D=i.stringify(A,T);$D(D)?T.value=D:T.result=D,d(y,T)});function d(y,E){y||!E?u(y):l?l(E):n(void 0,E)}}}processSync(e){let n=!1,i;return this.freeze(),Gp("processSync",this.parser||this.Parser),Yp("processSync",this.compiler||this.Compiler),this.process(e,o),RE("processSync","process",n),i;function o(l,u){n=!0,xE(l),i=u}}run(e,n,i){wE(e),this.freeze();const o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,f){const p=af(n);o.run(e,p,d);function d(y,E,T){const A=E||e;y?f(y):u?u(A):i(void 0,A,T)}}}runSync(e,n){let i=!1,o;return this.run(e,n,l),RE("runSync","run",i),o;function l(u,f){xE(u),o=f,i=!0}}stringify(e,n){this.freeze();const i=af(n),o=this.compiler||this.Compiler;return Yp("stringify",o),wE(e),o(e,i)}use(e,...n){const i=this.attachers,o=this.namespace;if(Jp("use",this.frozen),e!=null)if(typeof e=="function")p(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(d){if(typeof d=="function")p(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[y,...E]=d;p(y,E)}else u(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function u(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(d.plugins),d.settings&&(o.settings=qp(!0,o.settings,d.settings))}function f(d){let y=-1;if(d!=null)if(Array.isArray(d))for(;++y<d.length;){const E=d[y];l(E)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function p(d,y){let E=-1,T=-1;for(;++E<i.length;)if(i[E][0]===d){T=E;break}if(T===-1)i.push([d,...y]);else if(y.length>0){let[A,...D]=y;const U=i[T][1];mm(U)&&mm(A)&&(A=qp(!0,U,A)),i[T]=[d,A,...D]}}}}const YD=new mg().freeze();function Gp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Yp(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Jp(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wE(t){if(!mm(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function RE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function af(t){return JD(t)?t:new i1(t)}function JD(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function $D(t){return typeof t=="string"||KD(t)}function KD(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const QD="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",bE=[],NE={allowDangerousHtml:!0},XD=/^(https?|ircs?|mailto|xmpp)$/i,WD=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function r1(t){const e=jD(t),n=ZD(t);return eM(e.runSync(e.parse(n),n),t)}function jD(t){const e=t.rehypePlugins||bE,n=t.remarkPlugins||bE,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...NE}:NE;return YD().use(M2).use(n).use(wD,i).use(e)}function ZD(t){const e=t.children||"",n=new i1;return typeof e=="string"&&(n.value=e),n}function eM(t,e){const n=e.allowedElements,i=e.allowElement,o=e.components,l=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,p=e.urlTransform||tM;for(const y of WD)Object.hasOwn(e,y.from)&&(""+y.from+(y.to?"use `"+y.to+"` instead":"remove it")+QD+y.id,void 0);return n1(t,d),fb(t,{Fragment:I.Fragment,components:o,ignoreInvalidStyle:!0,jsx:I.jsx,jsxs:I.jsxs,passKeys:!0,passNode:!0});function d(y,E,T){if(y.type==="raw"&&T&&typeof E=="number")return u?T.children.splice(E,1):T.children[E]={type:"text",value:y.value},E;if(y.type==="element"){let A;for(A in Lp)if(Object.hasOwn(Lp,A)&&Object.hasOwn(y.properties,A)){const D=y.properties[A],U=Lp[A];(U===null||U.includes(y.tagName))&&(y.properties[A]=p(String(D||""),A,y))}}if(y.type==="element"){let A=n?!n.includes(y.tagName):l?l.includes(y.tagName):!1;if(!A&&i&&typeof E=="number"&&(A=!i(y,E,T)),A&&T&&typeof E=="number")return f&&y.children?T.children.splice(E,1,...y.children):T.children.splice(E,1),E}}}function tM(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),o=t.indexOf("/");return e===-1||o!==-1&&e>o||n!==-1&&e>n||i!==-1&&e>i||XD.test(t.slice(0,e))?t:""}const Sf=({fatwa:t})=>{var D;const[e,n]=Le.useState(!1),[i,o]=Le.useState(!1),l=U=>{switch(U){case"PERMITTED":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"CONDITIONAL":return"bg-amber-50 text-amber-700 border-amber-200";case"FORBIDDEN":return"bg-rose-50 text-rose-700 border-rose-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},u=U=>{switch(U){case"PERMITTED":return" / ";case"CONDITIONAL":return"  /  ";case"FORBIDDEN":return" / ";default:return" "}},f=U=>{switch(U){case"PERMITTED":return I.jsx(Qw,{className:"w-4 h-4"});case"CONDITIONAL":return I.jsx($w,{className:"w-4 h-4"});case"FORBIDDEN":return I.jsx(Zw,{className:"w-4 h-4"});default:return I.jsx(Hv,{className:"w-4 h-4"})}},p=()=>`*${t.title}*

*:* ${t.question}

*:* ${t.ruling.substring(0,300)}${t.ruling.length>300?"...":""}

*:* ${t.source}

    " "`,d=()=>{navigator.clipboard.writeText(p()),n(!0),setTimeout(()=>n(!1),2e3)},y={whatsapp:`https://wa.me/?text=${encodeURIComponent(p())}`,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(t.title)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(window.location.href)}&text=${encodeURIComponent(p())}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(t.title)}&url=${encodeURIComponent(window.location.href)}`},E=((D=su.find(U=>U.id===t.category))==null?void 0:D.name)||t.category,A=(U=>U?U.replace(//g,"****").split(/\n\n+/).map(z=>z.replace(/\n/g,`  
`)).join(`

`):"")(t.ruling);return I.jsxs("div",{className:"w-full bg-white rounded-2xl shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] border border-gray-100 overflow-hidden font-cairo text-right dir-rtl animate-in fade-in slide-in-from-bottom-4 duration-500 flex flex-col h-full max-h-[85vh]",children:[I.jsx("div",{className:"bg-gradient-to-b from-gray-50 to-white p-5 border-b border-gray-100 flex-shrink-0",children:I.jsxs("div",{className:"flex flex-col gap-3",children:[I.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[I.jsxs("span",{className:`text-xs font-bold px-3 py-1 rounded-full border flex items-center gap-1.5 w-fit shadow-sm ${l(t.verdict)}`,children:[f(t.verdict),u(t.verdict)]}),I.jsx("span",{className:"text-[10px] font-semibold text-gray-500 bg-gray-100 px-2 py-1 rounded-full border border-gray-200 flex items-center gap-1",children:E})]}),I.jsx("h3",{className:"text-xl font-bold text-gray-800 leading-snug tracking-tight",children:t.title})]})}),I.jsxs("div",{className:"p-5 space-y-6 flex-1 overflow-y-auto custom-scrollbar",children:[I.jsxs("div",{className:"relative",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-2 text-teal-700",children:[I.jsx("div",{className:"bg-teal-50 p-1.5 rounded-lg",children:I.jsx(Hv,{className:"w-4 h-4"})}),I.jsx("span",{className:"text-sm font-bold",children:":"})]}),I.jsx("p",{className:"text-gray-700 font-medium text-base leading-relaxed bg-gray-50/50 p-4 rounded-xl border border-gray-100",children:t.question})]}),t.medical_context&&I.jsxs("div",{className:"flex items-start gap-3 bg-blue-50/50 p-3 rounded-xl border border-blue-100/50",children:[I.jsx("div",{className:"bg-blue-100 p-1.5 rounded-lg mt-0.5 shrink-0",children:I.jsx(sm,{className:"w-3.5 h-3.5 text-blue-600"})}),I.jsxs("div",{children:[I.jsx("span",{className:"text-xs font-bold text-blue-700 block mb-1",children:"   :"}),I.jsx("p",{className:"text-xs text-blue-800/80 font-mono leading-relaxed dir-ltr text-right",children:t.medical_context})]})]}),I.jsxs("div",{children:[I.jsxs("div",{className:"flex items-center gap-2 mb-4 text-gray-800 border-b border-gray-100 pb-2 font-cairo",children:[I.jsx("div",{className:"bg-teal-100 p-1.5 rounded-lg",children:I.jsx(lR,{className:"w-4 h-4 text-teal-700"})}),I.jsx("span",{className:"font-bold text-base",children:"  :"})]}),I.jsx("div",{className:"prose prose-lg max-w-none text-gray-800 leading-loose",style:{fontFamily:"'Amiri', serif"},children:I.jsx(r1,{components:{p:({node:U,...k})=>I.jsx("p",{className:"mb-6",...k}),li:({node:U,...k})=>I.jsx("li",{className:"mb-2",...k}),h1:({node:U,...k})=>I.jsx("h1",{className:"text-2xl font-bold mb-4 mt-6 text-teal-900",...k}),h2:({node:U,...k})=>I.jsx("h2",{className:"text-xl font-bold mb-3 mt-5 text-teal-800",...k}),h3:({node:U,...k})=>I.jsx("h3",{className:"text-lg font-bold mb-2 mt-4 text-teal-700",...k}),strong:({node:U,...k})=>I.jsx("strong",{className:"font-bold text-teal-900",...k})},children:A})})]}),I.jsxs("div",{className:"pt-4 border-t border-dashed border-gray-200 flex flex-col gap-3 font-cairo",children:[I.jsxs("div",{className:"flex items-start gap-2",children:[I.jsx(Hw,{className:"w-3.5 h-3.5 text-gray-400 mt-1 shrink-0"}),I.jsxs("div",{className:"text-xs text-gray-500",children:[I.jsx("span",{className:"font-bold text-gray-600",children:": "}),I.jsx("span",{className:"italic",children:t.source})]})]}),t.tags&&t.tags.length>0&&I.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:[I.jsx(PR,{className:"w-3.5 h-3.5 text-gray-300 shrink-0"}),I.jsx("div",{className:"flex gap-1.5",children:t.tags.map((U,k)=>I.jsxs("span",{className:"text-[10px] text-gray-500 bg-gray-50 px-2 py-0.5 rounded border border-gray-100 whitespace-nowrap",children:["#",U]},k))})]})]})]}),I.jsx("div",{className:"bg-gray-50 p-3 border-t border-gray-100 flex-shrink-0 font-cairo",children:i?I.jsxs("div",{className:"flex flex-col gap-2 animate-in slide-in-from-bottom-2 fade-in duration-300",children:[I.jsxs("div",{className:"flex items-center justify-between mb-1",children:[I.jsx("span",{className:"text-xs font-bold text-gray-500",children:"  :"}),I.jsx("button",{onClick:()=>o(!1),className:"text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full p-1",children:I.jsx(ou,{className:"w-4 h-4"})})]}),I.jsxs("div",{className:"flex gap-3 justify-center",children:[I.jsxs("a",{href:y.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:I.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})})}),I.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),I.jsxs("a",{href:y.facebook,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:I.jsx("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),I.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),I.jsxs("a",{href:y.telegram,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-[#229ED9] text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:I.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),I.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]})}),I.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]}),I.jsxs("a",{href:y.twitter,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex flex-col items-center gap-1 group",children:[I.jsx("div",{className:"w-10 h-10 rounded-full bg-black text-white flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform",children:I.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",stroke:"currentColor",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"M4 4l11.733 16h4.267l-11.733 -16z"}),I.jsx("path",{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"})]})}),I.jsx("span",{className:"text-[10px] font-bold text-gray-600",children:""})]})]})]}):I.jsxs("div",{className:"flex justify-between items-center gap-3",children:[I.jsxs("button",{onClick:d,className:"flex-1 flex items-center justify-center gap-2 text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 hover:text-teal-600 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[e?I.jsx(Ef,{className:"w-4 h-4"}):I.jsx(SA,{className:"w-4 h-4"}),e?" ":" "]}),I.jsxs("button",{onClick:()=>o(!0),className:"flex-1 flex items-center justify-center gap-2 text-white bg-teal-600 hover:bg-teal-700 py-2.5 rounded-xl text-sm font-bold transition-colors shadow-sm",children:[I.jsx(bR,{className:"w-4 h-4"})," "]})]})})]})};var nM={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let iM,rM;function oM(){return{geminiUrl:iM,vertexUrl:rM}}function sM(t,e,n,i){var o,l;if(!(t!=null&&t.baseUrl)){const u=oM();return e?(o=u.vertexUrl)!==null&&o!==void 0?o:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gr{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function m(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const p=t[f];if(Array.isArray(n))for(let d=0;d<p.length;d++){const y=p[d];m(y,e.slice(l+1),n[d])}else for(const d of p)m(d,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const p=t[f];m(p[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],o=t[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(f=>h(f,e.slice(i+1),n)):n}else return n}else t=t[o]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function lM(t,e){for(const[n,i]of Object.entries(e)){const o=n.split("."),l=i.split("."),u=new Set;let f=-1;for(let p=0;p<o.length;p++)if(o[p]==="*"){f=p;break}if(f!==-1&&l.length>f)for(let p=f;p<l.length;p++){const d=l[p];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&u.add(d)}ym(t,o,l,0,u)}}function ym(t,e,n,i,o){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2),f=t;if(u in f&&Array.isArray(f[u]))for(const p of f[u])ym(p,e,n,i+1,o)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,f=Object.keys(u).filter(d=>!d.startsWith("_")&&!o.has(d)),p={};for(const d of f)p[d]=u[d];for(const[d,y]of Object.entries(p)){const E=[];for(const T of n.slice(i))T==="*"?E.push(d):E.push(T);m(u,E,y)}for(const d of f)delete u[d]}}else{const u=t;l in u&&ym(u[l],e,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gg(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aM(t){const e={},n=h(t,["operationName"]);n!=null&&m(e,["operationName"],n);const i=h(t,["resourceName"]);return i!=null&&m(e,["_url","resourceName"],i),e}function uM(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],fM(u)),e}function cM(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],dM(u)),e}function fM(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>hM(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function dM(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>pM(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function hM(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],EM(n)),e}function pM(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],TM(n)),e}function mM(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function gM(t){const e={},n=h(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function yM(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],_M(u)),e}function _M(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function o1(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],vM(u)),e}function vM(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function EM(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],gg(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function TM(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],gg(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DE;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(DE||(DE={}));var ME;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ME||(ME={}));var PE;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(PE||(PE={}));var Ti;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ti||(Ti={}));var kE;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(kE||(kE={}));var VE;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(VE||(VE={}));var LE;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(LE||(LE={}));var UE;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(UE||(UE={}));var OE;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(OE||(OE={}));var FE;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(FE||(FE={}));var qE;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qE||(qE={}));var BE;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(BE||(BE={}));var zE;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(zE||(zE={}));var HE;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(HE||(HE={}));var GE;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(GE||(GE={}));var YE;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(YE||(YE={}));var JE;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(JE||(JE={}));var $E;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})($E||($E={}));var KE;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(KE||(KE={}));var Pf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Pf||(Pf={}));var QE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(QE||(QE={}));var XE;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(XE||(XE={}));var WE;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(WE||(WE={}));var _m;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_m||(_m={}));var jE;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(jE||(jE={}));var ZE;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(ZE||(ZE={}));var eT;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(eT||(eT={}));var tT;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tT||(tT={}));var nT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nT||(nT={}));var iT;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(iT||(iT={}));var rT;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(rT||(rT={}));var oT;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(oT||(oT={}));var sT;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(sT||(sT={}));var lT;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(lT||(lT={}));var aT;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(aT||(aT={}));var uT;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uT||(uT={}));var cT;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(cT||(cT={}));var fT;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fT||(fT={}));var dT;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(dT||(dT={}));var hT;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hT||(hT={}));var pT;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(pT||(pT={}));var mT;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(mT||(mT={}));var gT;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(gT||(gT={}));var yT;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(yT||(yT={}));var _T;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(_T||(_T={}));var vT;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(vT||(vT={}));var ET;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ET||(ET={}));var TT;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(TT||(TT={}));var ST;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(ST||(ST={}));var AT;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(AT||(AT={}));var xT;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xT||(xT={}));var CT;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(CT||(CT={}));var IT;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(IT||(IT={}));var wT;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(wT||(wT={}));var RT;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(RT||(RT={}));var Tl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Tl||(Tl={}));class vm{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Za{get text(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",y=!1;const E=[];for(const T of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[A,D]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(D!==null||D!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;y=!0,d+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?d:void 0}get data(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const y=[];for(const E of(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&p!==void 0?p:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&y.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(d+=atob(E.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,o,l,u,f,p;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,o,l,u,f,p,d;if(((o=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(p=(f=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||p===void 0?void 0:p.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(d=y==null?void 0:y[0])===null||d===void 0?void 0:d.output}}class bT{}class NT{}class SM{}class AM{}class xM{}class CM{}class DT{}class MT{}class PT{}class IM{}class kf{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new kf;let o;const l=e;return n?o=cM(l):o=uM(l),Object.assign(i,o),i}}class kT{}class VT{}class LT{}class UT{}class wM{}class RM{}class bM{}class yg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new yg,l=yM(e);return Object.assign(i,l),i}}class NM{}class DM{}class MM{}class OT{}class PM{get text(){var e,n,i;let o="",l=!1;const u=[];for(const f of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[p,d]of Object.entries(f))p!=="text"&&p!=="thought"&&d!==null&&u.push(p);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;l=!0,o+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var e,n,i;let o="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[f,p]of Object.entries(u))f!=="inlineData"&&p!==null&&l.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(o+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class kM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class _g{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new _g,l=o1(e);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function s1(t,e){const n=ct(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function l1(t){return Array.isArray(t)?t.map(e=>Vf(e)):[Vf(t)]}function Vf(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function a1(t){const e=Vf(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function u1(t){const e=Vf(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function FT(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function c1(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>FT(e)):[FT(t)]}function Em(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function qT(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function BT(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function xn(t){if(t==null)throw new Error("ContentUnion is required");return Em(t)?t:{role:"user",parts:c1(t)}}function vg(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=xn(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=xn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>xn(n)):[xn(e)]}function Si(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(qT(t)||BT(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xn(t)]}const e=[],n=[],i=Em(t[0]);for(const o of t){const l=Em(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(o);else{if(qT(o)||BT(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||e.push({role:"user",parts:c1(n)}),e}function VM(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Ti).includes(n[0].toUpperCase())?n[0].toUpperCase():Ti.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Ti).includes(i.toUpperCase())?i.toUpperCase():Ti.TYPE_UNSPECIFIED})}}function Cl(t){const e={},n=["items"],i=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&VM(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Ti).includes(f.toUpperCase())?f.toUpperCase():Ti.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Cl(f);else if(i.includes(u)){const p=[];for(const d of f){if(d.type=="null"){e.nullable=!0;continue}p.push(Cl(d))}e[u]=p}else if(o.includes(u)){const p={};for(const[d,y]of Object.entries(f))p[d]=Cl(y);e[u]=p}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Eg(t){return Cl(t)}function Tg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Sg(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Fl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Cl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Cl(e.response));return t}function ql(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function LM(t,e,n,i=1){const o=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:o?`${n}/${e}`:e}function Yr(t,e){if(typeof e!="string")throw new Error("name must be a string");return LM(t,e,"cachedContents")}function f1(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Fo(t){return gg(t)}function UM(t){return t!=null&&typeof t=="object"&&"name"in t}function OM(t){return t!=null&&typeof t=="object"&&"video"in t}function FM(t){return t!=null&&typeof t=="object"&&"uri"in t}function d1(t){var e;let n;if(UM(t)&&(n=t.name),!(FM(t)&&(n=t.uri,n===void 0))&&!(OM(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function h1(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function p1(t){for(const e of["models","tunedModels","publisherModels"])if(qM(t,e))return t[e];return[]}function qM(t,e){return t!==null&&typeof t=="object"&&e in t}function BM(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function zM(t,e={}){const n=[],i=new Set;for(const o of t){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=BM(o,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function m1(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function HM(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function g1(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return t;let l=!1;for(const u of o){if(typeof u!="object"||u===null)continue;const p=u.response;if(typeof p!="object"||p===null)continue;if(p.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Bl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function y1(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GM(t){const e={},n=h(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const i=h(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>xP(u))),m(e,["inlinedResponses"],l)}const o=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["inlinedEmbedContentResponses"],l)}return e}function YM(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsDestination","outputUriPrefix"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigqueryDestination","outputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function JM(t){const e={},n=h(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsDestination","outputUriPrefix"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigqueryDestination","outputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Af(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata","displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["metadata","state"]);o!=null&&m(e,["state"],y1(o));const l=h(t,["metadata","createTime"]);l!=null&&m(e,["createTime"],l);const u=h(t,["metadata","endTime"]);u!=null&&m(e,["endTime"],u);const f=h(t,["metadata","updateTime"]);f!=null&&m(e,["updateTime"],f);const p=h(t,["metadata","model"]);p!=null&&m(e,["model"],p);const d=h(t,["metadata","output"]);return d!=null&&m(e,["dest"],GM(g1(d))),e}function Tm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["state"]);o!=null&&m(e,["state"],y1(o));const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["createTime"]);u!=null&&m(e,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(e,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(e,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(e,["updateTime"],d);const y=h(t,["model"]);y!=null&&m(e,["model"],y);const E=h(t,["inputConfig"]);E!=null&&m(e,["src"],$M(E));const T=h(t,["outputConfig"]);T!=null&&m(e,["dest"],YM(g1(T)));const A=h(t,["completionStats"]);return A!=null&&m(e,["completionStats"],A),e}function $M(t){const e={},n=h(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const i=h(t,["gcsSource","uris"]);i!=null&&m(e,["gcsUri"],i);const o=h(t,["bigquerySource","inputUri"]);return o!=null&&m(e,["bigqueryUri"],o),e}function KM(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=h(e,["fileName"]);i!=null&&m(n,["fileName"],i);const o=h(e,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>AP(t,u))),m(n,["requests","requests"],l)}return n}function QM(t){const e={},n=h(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const i=h(t,["gcsUri"]);i!=null&&m(e,["gcsSource","uris"],i);const o=h(t,["bigqueryUri"]);if(o!=null&&m(e,["bigquerySource","inputUri"],o),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function XM(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function WM(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function jM(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function ZM(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],eP(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function eP(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function _1(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>DP(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function tP(t,e){const n={},i=h(t,["displayName"]);if(e!==void 0&&i!=null&&m(e,["batch","displayName"],i),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function nP(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["dest"]);return e!==void 0&&o!=null&&m(e,["outputConfig"],JM(HM(o))),n}function zT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],KM(t,m1(t,o)));const l=h(e,["config"]);return l!=null&&tP(l,n),n}function iP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],ct(t,i));const o=h(e,["src"]);o!=null&&m(n,["inputConfig"],QM(m1(t,o)));const l=h(e,["config"]);return l!=null&&nP(l,n),n}function rP(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["batch","displayName"],i),n}function oP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["src"]);o!=null&&m(n,["batch","inputConfig"],dP(t,o));const l=h(e,["config"]);return l!=null&&rP(l,n),n}function sP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function lP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function aP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function uP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);return l!=null&&m(e,["error"],l),e}function cP(t,e){const n={},i=h(e,["contents"]);if(i!=null){let l=vg(t,i);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["requests[]","request","content"],l)}const o=h(e,["config"]);return o!=null&&(m(n,["_self"],fP(o,n)),lM(n,{"requests[].*":"requests[].request.*"})),n}function fP(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dP(t,e){const n={},i=h(e,["fileName"]);i!=null&&m(n,["file_name"],i);const o=h(e,["inlinedRequests"]);return o!=null&&m(n,["requests"],cP(t,o)),n}function hP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function pP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mP(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gP(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],_1(xn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const k=h(e,["responseMimeType"]);k!=null&&m(i,["responseMimeType"],k);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Eg(z));const j=h(e,["responseJsonSchema"]);if(j!=null&&m(i,["responseJsonSchema"],j),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=h(e,["safetySettings"]);if(n!==void 0&&H!=null){let V=H;Array.isArray(V)&&(V=V.map(ge=>MP(ge))),m(n,["safetySettings"],V)}const re=h(e,["tools"]);if(n!==void 0&&re!=null){let V=ql(re);Array.isArray(V)&&(V=V.map(ge=>kP(Fl(ge)))),m(n,["tools"],V)}const pe=h(e,["toolConfig"]);if(n!==void 0&&pe!=null&&m(n,["toolConfig"],PP(pe)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=h(e,["cachedContent"]);n!==void 0&&K!=null&&m(n,["cachedContent"],Yr(t,K));const N=h(e,["responseModalities"]);N!=null&&m(i,["responseModalities"],N);const M=h(e,["mediaResolution"]);M!=null&&m(i,["mediaResolution"],M);const b=h(e,["speechConfig"]);if(b!=null&&m(i,["speechConfig"],Tg(b)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=h(e,["thinkingConfig"]);F!=null&&m(i,["thinkingConfig"],F);const L=h(e,["imageConfig"]);L!=null&&m(i,["imageConfig"],SP(L));const q=h(e,["enableEnhancedCivicAnswers"]);return q!=null&&m(i,["enableEnhancedCivicAnswers"],q),i}function yP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>ZM(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function _P(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function vP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Bl(t,i)),n}function EP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function TP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function SP(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function AP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["request","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let f=Si(o);Array.isArray(f)&&(f=f.map(p=>_1(p))),m(n,["request","contents"],f)}const l=h(e,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(e,["config"]);return u!=null&&m(n,["request","generationConfig"],gP(t,u,h(n,["request"],{}))),n}function xP(t){const e={},n=h(t,["response"]);n!=null&&m(e,["response"],yP(n));const i=h(t,["error"]);return i!=null&&m(e,["error"],i),e}function CP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);if(e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function IP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const l=h(t,["filter"]);return e!==void 0&&l!=null&&m(e,["_query","filter"],l),n}function wP(t){const e={},n=h(t,["config"]);return n!=null&&CP(n,e),e}function RP(t){const e={},n=h(t,["config"]);return n!=null&&IP(n,e),e}function bP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Af(u))),m(e,["batchJobs"],l)}return e}function NP(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Tm(u))),m(e,["batchJobs"],l)}return e}function DP(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],hP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],pP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],XM(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function MP(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function PP(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],mP(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function kP(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],EP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],TP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fr;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Fr||(Fr={}));class xs{constructor(e,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,o)}init(e,n,i){var o,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(o=u.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VP extends Gr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xs(Fr.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=zT(this.apiClient,e),i=n._url,o=Te("{model}:batchGenerateContent",i),f=n.batch.inputConfig.requests,p=f.requests,d=[];for(const y of p){const E=Object.assign({},y);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}d.push(E)}return f.requests=d,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(u)i.dest=`${u}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=iP(this.apiClient,e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Tm(y))}else{const d=zT(this.apiClient,e);return f=Te("{model}:batchGenerateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Af(y))}}async createEmbeddingsInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=oP(this.apiClient,e);return l=Te("{model}:asyncBatchEmbedContent",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Af(p))}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=vP(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Tm(y))}else{const d=_P(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Af(y))}}async cancel(e){var n,i,o,l;let u="",f={};if(this.apiClient.isVertexAI()){const p=jM(this.apiClient,e);u=Te("batchPredictionJobs/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const p=WM(this.apiClient,e);u=Te("batches/{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=RP(e);return f=Te("batchPredictionJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=NP(y),T=new OT;return Object.assign(T,E),T})}else{const d=wP(e);return f=Te("batches",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=bP(y),T=new OT;return Object.assign(T,E),T})}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=lP(this.apiClient,e);return f=Te("batchPredictionJobs/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>uP(y))}else{const d=sP(this.apiClient,e);return f=Te("batches/{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>aP(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LP(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function HT(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>ok(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function UP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let y=Si(u);Array.isArray(y)&&(y=y.map(E=>HT(E))),m(e,["contents"],y)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],HT(xn(f)));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let y=p;Array.isArray(y)&&(y=y.map(E=>lk(E))),m(e,["tools"],y)}const d=h(t,["toolConfig"]);if(e!==void 0&&d!=null&&m(e,["toolConfig"],sk(d)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function OP(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);e!==void 0&&o!=null&&m(e,["expireTime"],o);const l=h(t,["displayName"]);e!==void 0&&l!=null&&m(e,["displayName"],l);const u=h(t,["contents"]);if(e!==void 0&&u!=null){let E=Si(u);Array.isArray(E)&&(E=E.map(T=>T)),m(e,["contents"],E)}const f=h(t,["systemInstruction"]);e!==void 0&&f!=null&&m(e,["systemInstruction"],xn(f));const p=h(t,["tools"]);if(e!==void 0&&p!=null){let E=p;Array.isArray(E)&&(E=E.map(T=>ak(T))),m(e,["tools"],E)}const d=h(t,["toolConfig"]);e!==void 0&&d!=null&&m(e,["toolConfig"],d);const y=h(t,["kmsKeyName"]);return e!==void 0&&y!=null&&m(e,["encryption_spec","kmsKeyName"],y),n}function FP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],s1(t,i));const o=h(e,["config"]);return o!=null&&UP(o,n),n}function qP(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["model"],s1(t,i));const o=h(e,["config"]);return o!=null&&OP(o,n),n}function BP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Yr(t,i)),n}function zP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Yr(t,i)),n}function HP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function GP(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function YP(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function JP(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $P(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function KP(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function QP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Yr(t,i)),n}function XP(t,e){const n={},i=h(e,["name"]);return i!=null&&m(n,["_url","name"],Yr(t,i)),n}function WP(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function jP(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function ZP(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function ek(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function tk(t){const e={},n=h(t,["config"]);return n!=null&&ZP(n,e),e}function nk(t){const e={},n=h(t,["config"]);return n!=null&&ek(n,e),e}function ik(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function rk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["cachedContents"],l)}return e}function ok(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],YP(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],JP(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],LP(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function sk(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],$P(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function lk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],WP(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],jP(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function ak(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>KP(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function uk(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function ck(t,e){const n={},i=h(t,["ttl"]);e!==void 0&&i!=null&&m(e,["ttl"],i);const o=h(t,["expireTime"]);return e!==void 0&&o!=null&&m(e,["expireTime"],o),n}function fk(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],Yr(t,i));const o=h(e,["config"]);return o!=null&&uk(o,n),n}function dk(t,e){const n={},i=h(e,["name"]);i!=null&&m(n,["_url","name"],Yr(t,i));const o=h(e,["config"]);return o!=null&&ck(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hk extends Gr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xs(Fr.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=qP(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=FP(this.apiClient,e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=XP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=QP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=zP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=GP(y),T=new LT;return Object.assign(T,E),T})}else{const d=BP(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=HP(y),T=new LT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=dk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>y)}else{const d=fk(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=nk(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=rk(y),T=new UT;return Object.assign(T,E),T})}else{const d=tk(e);return f=Te("cachedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=ik(y),T=new UT;return Object.assign(T,E),T})}}}function Lf(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function GT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ue(t){return this instanceof Ue?(this.v=t,this):new Ue(t)}function Li(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),o[Symbol.asyncIterator]=function(){return this},o;function u(A){return function(D){return Promise.resolve(D).then(A,E)}}function f(A,D){i[A]&&(o[A]=function(U){return new Promise(function(k,z){l.push([A,U,k,z])>1||p(A,U)})},D&&(o[A]=D(o[A])))}function p(A,D){try{d(i[A](D))}catch(U){T(l[0][3],U)}}function d(A){A.value instanceof Ue?Promise.resolve(A.value.v).then(y,E):T(l[0][2],A)}function y(A){p("next",A)}function E(A){p("throw",A)}function T(A,D){A(D),l.shift(),l.length&&p(l[0][0],l[0][1])}}function Ui(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof GT=="function"?GT(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(f,p){u=t[l](u),o(f,p,u.done,u.value)})}}function o(l,u,f,p){Promise.resolve(p).then(function(d){l({value:d,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pk(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:v1(n)}function v1(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function mk(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function YT(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const o=[];let l=!0;for(;i<n&&t[i].role==="model";)o.push(t[i]),l&&!v1(t[i])&&(l=!1),i++;l?e.push(...o):e.pop()}return e}class gk{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new yk(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yk{constructor(e,n,i,o={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),mk(l)}async sendMessage(e){var n;await this.sendPromise;const i=xn(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,f;const p=await o,d=(u=(l=p.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,y=p.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];y!=null&&(T=(f=y.slice(E))!==null&&f!==void 0?f:[]);const A=d?[d]:[];this.recordHistory(i,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var n;await this.sendPromise;const i=xn(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?YT(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Li(this,arguments,function*(){var o,l,u,f,p,d;const y=[];try{for(var E=!0,T=Ui(e),A;A=yield Ue(T.next()),o=A.done,!o;E=!0){f=A.value,E=!1;const D=f;if(pk(D)){const U=(d=(p=D.candidates)===null||p===void 0?void 0:p[0])===null||d===void 0?void 0:d.content;U!==void 0&&y.push(U)}yield yield Ue(D)}}catch(D){l={error:D}}finally{try{!E&&!o&&(u=T.return)&&(yield Ue(u.call(T)))}finally{if(l)throw l.error}}this.recordHistory(n,y)})}recordHistory(e,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...YT(i)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class od extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,od.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _k(t){const e={},n=h(t,["file"]);return n!=null&&m(e,["file"],n),e}function vk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Ek(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],d1(n)),e}function Tk(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Sk(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","file"],d1(n)),e}function Ak(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function xk(t){const e={},n=h(t,["config"]);return n!=null&&Ak(n,e),e}function Ck(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ik extends Gr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xs(Fr.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=xk(e);return l=Te("files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=Ck(p),y=new NM;return Object.assign(y,d),y})}}async createInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=_k(e);return l=Te("upload/v1beta/files",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=vk(p),y=new DM;return Object.assign(y,d),y})}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Sk(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=Ek(e);return l=Te("files/{file}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=Tk(p),y=new MM;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xf(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function wk(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>Hk(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function Rk(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function bk(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nk(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function Dk(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const D=h(t,["responseModalities"]);D!=null&&m(e,["responseModalities"],D);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const k=h(t,["routingConfig"]);k!=null&&m(e,["routingConfig"],k);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const j=h(t,["speechConfig"]);j!=null&&m(e,["speechConfig"],j);const H=h(t,["stopSequences"]);H!=null&&m(e,["stopSequences"],H);const re=h(t,["temperature"]);re!=null&&m(e,["temperature"],re);const pe=h(t,["thinkingConfig"]);pe!=null&&m(e,["thinkingConfig"],pe);const K=h(t,["topK"]);K!=null&&m(e,["topK"],K);const N=h(t,["topP"]);if(N!=null&&m(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Mk(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Pk(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function kk(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Sg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],wk(xn(D)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let K=ql(U);Array.isArray(K)&&(K=K.map(N=>Yk(Fl(N)))),m(e,["setup","tools"],K)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],Gk(k));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const j=h(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&m(e,["setup","outputAudioTranscription"],j);const H=h(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&m(e,["setup","realtimeInputConfig"],H);const re=h(t,["contextWindowCompression"]);e!==void 0&&re!=null&&m(e,["setup","contextWindowCompression"],re);const pe=h(t,["proactivity"]);if(e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Vk(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],Dk(i));const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Sg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],xn(D));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let N=ql(U);Array.isArray(N)&&(N=N.map(M=>Jk(Fl(M)))),m(e,["setup","tools"],N)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],k);const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const j=h(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&m(e,["setup","outputAudioTranscription"],j);const H=h(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&m(e,["setup","realtimeInputConfig"],H);const re=h(t,["contextWindowCompression"]);e!==void 0&&re!=null&&m(e,["setup","contextWindowCompression"],re);const pe=h(t,["proactivity"]);e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe);const K=h(t,["explicitVadSignal"]);return e!==void 0&&K!=null&&m(e,["setup","explicitVadSignal"],K),n}function Lk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],ct(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],kk(o,n)),n}function Uk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],ct(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],Vk(o,n)),n}function Ok(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function Fk(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["weightedPrompts"],i)}return e}function qk(t){const e={},n=h(t,["media"]);if(n!=null){let d=l1(n);Array.isArray(d)&&(d=d.map(y=>xf(y))),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],xf(u1(i)));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],xf(a1(l)));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function Bk(t){const e={},n=h(t,["media"]);if(n!=null){let d=l1(n);Array.isArray(d)&&(d=d.map(y=>y)),m(e,["mediaChunks"],d)}const i=h(t,["audio"]);i!=null&&m(e,["audio"],u1(i));const o=h(t,["audioStreamEnd"]);o!=null&&m(e,["audioStreamEnd"],o);const l=h(t,["video"]);l!=null&&m(e,["video"],a1(l));const u=h(t,["text"]);u!=null&&m(e,["text"],u);const f=h(t,["activityStart"]);f!=null&&m(e,["activityStart"],f);const p=h(t,["activityEnd"]);return p!=null&&m(e,["activityEnd"],p),e}function zk(t){const e={},n=h(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const i=h(t,["serverContent"]);i!=null&&m(e,["serverContent"],i);const o=h(t,["toolCall"]);o!=null&&m(e,["toolCall"],o);const l=h(t,["toolCallCancellation"]);l!=null&&m(e,["toolCallCancellation"],l);const u=h(t,["usageMetadata"]);u!=null&&m(e,["usageMetadata"],$k(u));const f=h(t,["goAway"]);f!=null&&m(e,["goAway"],f);const p=h(t,["sessionResumptionUpdate"]);p!=null&&m(e,["sessionResumptionUpdate"],p);const d=h(t,["voiceActivityDetectionSignal"]);return d!=null&&m(e,["voiceActivityDetectionSignal"],d),e}function Hk(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],Rk(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],bk(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],xf(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function Gk(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],Mk(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],Pk(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function Jk(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>Nk(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function $k(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const i=h(t,["cachedContentTokenCount"]);i!=null&&m(e,["cachedContentTokenCount"],i);const o=h(t,["candidatesTokenCount"]);o!=null&&m(e,["responseTokenCount"],o);const l=h(t,["toolUsePromptTokenCount"]);l!=null&&m(e,["toolUsePromptTokenCount"],l);const u=h(t,["thoughtsTokenCount"]);u!=null&&m(e,["thoughtsTokenCount"],u);const f=h(t,["totalTokenCount"]);f!=null&&m(e,["totalTokenCount"],f);const p=h(t,["promptTokensDetails"]);if(p!=null){let A=p;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["promptTokensDetails"],A)}const d=h(t,["cacheTokensDetails"]);if(d!=null){let A=d;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["cacheTokensDetails"],A)}const y=h(t,["candidatesTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["responseTokensDetails"],A)}const E=h(t,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(D=>D)),m(e,["toolUsePromptTokensDetails"],A)}const T=h(t,["trafficType"]);return T!=null&&m(e,["trafficType"],T),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kk(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Qk(t){const e={},n=h(t,["content"]);n!=null&&m(e,["content"],n);const i=h(t,["citationMetadata"]);i!=null&&m(e,["citationMetadata"],Xk(i));const o=h(t,["tokenCount"]);o!=null&&m(e,["tokenCount"],o);const l=h(t,["finishReason"]);l!=null&&m(e,["finishReason"],l);const u=h(t,["avgLogprobs"]);u!=null&&m(e,["avgLogprobs"],u);const f=h(t,["groundingMetadata"]);f!=null&&m(e,["groundingMetadata"],f);const p=h(t,["index"]);p!=null&&m(e,["index"],p);const d=h(t,["logprobsResult"]);d!=null&&m(e,["logprobsResult"],d);const y=h(t,["safetyRatings"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(A=>A)),m(e,["safetyRatings"],T)}const E=h(t,["urlContextMetadata"]);return E!=null&&m(e,["urlContextMetadata"],E),e}function Xk(t){const e={},n=h(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["citations"],i)}return e}function Wk(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let l=Si(o);Array.isArray(l)&&(l=l.map(u=>u)),m(n,["contents"],l)}return n}function jk(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["tokensInfo"],o)}return e}function Zk(t){const e={},n=h(t,["values"]);n!=null&&m(e,["values"],n);const i=h(t,["statistics"]);return i!=null&&m(e,["statistics"],e4(i)),e}function e4(t){const e={},n=h(t,["truncated"]);n!=null&&m(e,["truncated"],n);const i=h(t,["token_count"]);return i!=null&&m(e,["tokenCount"],i),e}function sd(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>uV(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function t4(t){const e={},n=h(t,["controlType"]);n!=null&&m(e,["controlType"],n);const i=h(t,["enableControlImageComputation"]);return i!=null&&m(e,["computeControl"],i),e}function n4(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function i4(t,e){const n={},i=h(t,["systemInstruction"]);e!==void 0&&i!=null&&m(e,["systemInstruction"],xn(i));const o=h(t,["tools"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>A1(f))),m(e,["tools"],u)}const l=h(t,["generationConfig"]);return e!==void 0&&l!=null&&m(e,["generationConfig"],K4(l)),n}function r4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(f=>sd(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&n4(l),n}function o4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&i4(l,n),n}function s4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);i!=null&&m(e,["totalTokens"],i);const o=h(t,["cachedContentTokenCount"]);return o!=null&&m(e,["cachedContentTokenCount"],o),e}function l4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["totalTokens"]);return i!=null&&m(e,["totalTokens"],i),e}function a4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],ct(t,i)),n}function u4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],ct(t,i)),n}function c4(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function f4(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function d4(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const D=h(t,["outputMimeType"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","mimeType"],D);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const k=h(t,["addWatermark"]);e!==void 0&&k!=null&&m(e,["parameters","addWatermark"],k);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const j=h(t,["editMode"]);e!==void 0&&j!=null&&m(e,["parameters","editMode"],j);const H=h(t,["baseSteps"]);return e!==void 0&&H!=null&&m(e,["parameters","editConfig","baseSteps"],H),n}function h4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>mV(p))),m(n,["instances[0]","referenceImages"],f)}const u=h(e,["config"]);return u!=null&&d4(u,n),n}function p4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ld(l))),m(e,["generatedImages"],o)}return e}function m4(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["requests[]","taskType"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["requests[]","title"],o);const l=h(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&m(e,["requests[]","outputDimensionality"],l),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function g4(t,e){const n={},i=h(t,["taskType"]);e!==void 0&&i!=null&&m(e,["instances[]","task_type"],i);const o=h(t,["title"]);e!==void 0&&o!=null&&m(e,["instances[]","title"],o);const l=h(t,["outputDimensionality"]);e!==void 0&&l!=null&&m(e,["parameters","outputDimensionality"],l);const u=h(t,["mimeType"]);e!==void 0&&u!=null&&m(e,["instances[]","mimeType"],u);const f=h(t,["autoTruncate"]);return e!==void 0&&f!=null&&m(e,["parameters","autoTruncate"],f),n}function y4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let f=vg(t,o);Array.isArray(f)&&(f=f.map(p=>p)),m(n,["requests[]","content"],f)}const l=h(e,["config"]);l!=null&&m4(l,n);const u=h(e,["model"]);return u!==void 0&&m(n,["requests[]","model"],ct(t,u)),n}function _4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let u=vg(t,o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["instances[]","content"],u)}const l=h(e,["config"]);return l!=null&&g4(l,n),n}function v4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function E4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Zk(u))),m(e,["embeddings"],l)}const o=h(t,["metadata"]);return o!=null&&m(e,["metadata"],o),e}function T4(t){const e={},n=h(t,["endpoint"]);n!=null&&m(e,["name"],n);const i=h(t,["deployedModelId"]);return i!=null&&m(e,["deployedModelId"],i),e}function S4(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function A4(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x4(t){const e={},n=h(t,["mode"]);n!=null&&m(e,["mode"],n);const i=h(t,["allowedFunctionNames"]);if(i!=null&&m(e,["allowedFunctionNames"],i),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function C4(t){const e={};if(h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=h(t,["description"]);n!=null&&m(e,["description"],n);const i=h(t,["name"]);i!=null&&m(e,["name"],i);const o=h(t,["parameters"]);o!=null&&m(e,["parameters"],o);const l=h(t,["parametersJsonSchema"]);l!=null&&m(e,["parametersJsonSchema"],l);const u=h(t,["response"]);u!=null&&m(e,["response"],u);const f=h(t,["responseJsonSchema"]);return f!=null&&m(e,["responseJsonSchema"],f),e}function I4(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],sd(xn(o)));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const k=h(e,["responseMimeType"]);k!=null&&m(i,["responseMimeType"],k);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Eg(z));const j=h(e,["responseJsonSchema"]);if(j!=null&&m(i,["responseJsonSchema"],j),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=h(e,["safetySettings"]);if(n!==void 0&&H!=null){let V=H;Array.isArray(V)&&(V=V.map(ge=>gV(ge))),m(n,["safetySettings"],V)}const re=h(e,["tools"]);if(n!==void 0&&re!=null){let V=ql(re);Array.isArray(V)&&(V=V.map(ge=>AV(Fl(ge)))),m(n,["tools"],V)}const pe=h(e,["toolConfig"]);if(n!==void 0&&pe!=null&&m(n,["toolConfig"],SV(pe)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=h(e,["cachedContent"]);n!==void 0&&K!=null&&m(n,["cachedContent"],Yr(t,K));const N=h(e,["responseModalities"]);N!=null&&m(i,["responseModalities"],N);const M=h(e,["mediaResolution"]);M!=null&&m(i,["mediaResolution"],M);const b=h(e,["speechConfig"]);if(b!=null&&m(i,["speechConfig"],Tg(b)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=h(e,["thinkingConfig"]);F!=null&&m(i,["thinkingConfig"],F);const L=h(e,["imageConfig"]);L!=null&&m(i,["imageConfig"],Z4(L));const q=h(e,["enableEnhancedCivicAnswers"]);return q!=null&&m(i,["enableEnhancedCivicAnswers"],q),i}function w4(t,e,n){const i={},o=h(e,["systemInstruction"]);n!==void 0&&o!=null&&m(n,["systemInstruction"],xn(o));const l=h(e,["temperature"]);l!=null&&m(i,["temperature"],l);const u=h(e,["topP"]);u!=null&&m(i,["topP"],u);const f=h(e,["topK"]);f!=null&&m(i,["topK"],f);const p=h(e,["candidateCount"]);p!=null&&m(i,["candidateCount"],p);const d=h(e,["maxOutputTokens"]);d!=null&&m(i,["maxOutputTokens"],d);const y=h(e,["stopSequences"]);y!=null&&m(i,["stopSequences"],y);const E=h(e,["responseLogprobs"]);E!=null&&m(i,["responseLogprobs"],E);const T=h(e,["logprobs"]);T!=null&&m(i,["logprobs"],T);const A=h(e,["presencePenalty"]);A!=null&&m(i,["presencePenalty"],A);const D=h(e,["frequencyPenalty"]);D!=null&&m(i,["frequencyPenalty"],D);const U=h(e,["seed"]);U!=null&&m(i,["seed"],U);const k=h(e,["responseMimeType"]);k!=null&&m(i,["responseMimeType"],k);const z=h(e,["responseSchema"]);z!=null&&m(i,["responseSchema"],Eg(z));const j=h(e,["responseJsonSchema"]);j!=null&&m(i,["responseJsonSchema"],j);const H=h(e,["routingConfig"]);H!=null&&m(i,["routingConfig"],H);const re=h(e,["modelSelectionConfig"]);re!=null&&m(i,["modelConfig"],re);const pe=h(e,["safetySettings"]);if(n!==void 0&&pe!=null){let B=pe;Array.isArray(B)&&(B=B.map(te=>te)),m(n,["safetySettings"],B)}const K=h(e,["tools"]);if(n!==void 0&&K!=null){let B=ql(K);Array.isArray(B)&&(B=B.map(te=>A1(Fl(te)))),m(n,["tools"],B)}const N=h(e,["toolConfig"]);n!==void 0&&N!=null&&m(n,["toolConfig"],N);const M=h(e,["labels"]);n!==void 0&&M!=null&&m(n,["labels"],M);const b=h(e,["cachedContent"]);n!==void 0&&b!=null&&m(n,["cachedContent"],Yr(t,b));const F=h(e,["responseModalities"]);F!=null&&m(i,["responseModalities"],F);const L=h(e,["mediaResolution"]);L!=null&&m(i,["mediaResolution"],L);const q=h(e,["speechConfig"]);q!=null&&m(i,["speechConfig"],Tg(q));const V=h(e,["audioTimestamp"]);V!=null&&m(i,["audioTimestamp"],V);const ge=h(e,["thinkingConfig"]);ge!=null&&m(i,["thinkingConfig"],ge);const me=h(e,["imageConfig"]);if(me!=null&&m(i,["imageConfig"],eV(me)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function JT(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(f=>sd(f))),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],I4(t,l,n)),n}function $T(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["contents"]);if(o!=null){let u=Si(o);Array.isArray(u)&&(u=u.map(f=>f)),m(n,["contents"],u)}const l=h(e,["config"]);return l!=null&&m(n,["generationConfig"],w4(t,l,n)),n}function KT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(d=>Qk(d))),m(e,["candidates"],p)}const o=h(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const l=h(t,["promptFeedback"]);l!=null&&m(e,["promptFeedback"],l);const u=h(t,["responseId"]);u!=null&&m(e,["responseId"],u);const f=h(t,["usageMetadata"]);return f!=null&&m(e,["usageMetadata"],f),e}function QT(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(y=>y)),m(e,["candidates"],d)}const o=h(t,["createTime"]);o!=null&&m(e,["createTime"],o);const l=h(t,["modelVersion"]);l!=null&&m(e,["modelVersion"],l);const u=h(t,["promptFeedback"]);u!=null&&m(e,["promptFeedback"],u);const f=h(t,["responseId"]);f!=null&&m(e,["responseId"],f);const p=h(t,["usageMetadata"]);return p!=null&&m(e,["usageMetadata"],p),e}function R4(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const l=h(t,["guidanceScale"]);if(e!==void 0&&l!=null&&m(e,["parameters","guidanceScale"],l),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const f=h(t,["personGeneration"]);e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f);const p=h(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&m(e,["parameters","includeSafetyAttributes"],p);const d=h(t,["includeRaiReason"]);e!==void 0&&d!=null&&m(e,["parameters","includeRaiReason"],d);const y=h(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const E=h(t,["outputMimeType"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","mimeType"],E);const T=h(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&m(e,["parameters","outputOptions","compressionQuality"],T),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=h(t,["imageSize"]);if(e!==void 0&&A!=null&&m(e,["parameters","sampleImageSize"],A),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function b4(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["negativePrompt"]);e!==void 0&&o!=null&&m(e,["parameters","negativePrompt"],o);const l=h(t,["numberOfImages"]);e!==void 0&&l!=null&&m(e,["parameters","sampleCount"],l);const u=h(t,["aspectRatio"]);e!==void 0&&u!=null&&m(e,["parameters","aspectRatio"],u);const f=h(t,["guidanceScale"]);e!==void 0&&f!=null&&m(e,["parameters","guidanceScale"],f);const p=h(t,["seed"]);e!==void 0&&p!=null&&m(e,["parameters","seed"],p);const d=h(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&m(e,["parameters","safetySetting"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&m(e,["parameters","includeSafetyAttributes"],E);const T=h(t,["includeRaiReason"]);e!==void 0&&T!=null&&m(e,["parameters","includeRaiReason"],T);const A=h(t,["language"]);e!==void 0&&A!=null&&m(e,["parameters","language"],A);const D=h(t,["outputMimeType"]);e!==void 0&&D!=null&&m(e,["parameters","outputOptions","mimeType"],D);const U=h(t,["outputCompressionQuality"]);e!==void 0&&U!=null&&m(e,["parameters","outputOptions","compressionQuality"],U);const k=h(t,["addWatermark"]);e!==void 0&&k!=null&&m(e,["parameters","addWatermark"],k);const z=h(t,["labels"]);e!==void 0&&z!=null&&m(e,["labels"],z);const j=h(t,["imageSize"]);e!==void 0&&j!=null&&m(e,["parameters","sampleImageSize"],j);const H=h(t,["enhancePrompt"]);return e!==void 0&&H!=null&&m(e,["parameters","enhancePrompt"],H),n}function N4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&R4(l,n),n}function D4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["config"]);return l!=null&&b4(l,n),n}function M4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>G4(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],T1(o)),e}function P4(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>ld(u))),m(e,["generatedImages"],l)}const o=h(t,["positivePromptSafetyAttributes"]);return o!=null&&m(e,["positivePromptSafetyAttributes"],S1(o)),e}function k4(t,e){const n={},i=h(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=h(t,["durationSeconds"]);if(e!==void 0&&o!=null&&m(e,["parameters","durationSeconds"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const f=h(t,["personGeneration"]);if(e!==void 0&&f!=null&&m(e,["parameters","personGeneration"],f),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=h(t,["negativePrompt"]);e!==void 0&&p!=null&&m(e,["parameters","negativePrompt"],p);const d=h(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&m(e,["parameters","enhancePrompt"],d),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=h(t,["lastFrame"]);e!==void 0&&y!=null&&m(e,["instances[0]","lastFrame"],ad(y));const E=h(t,["referenceImages"]);if(e!==void 0&&E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>LV(A))),m(e,["instances[0]","referenceImages"],T)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function V4(t,e){const n={},i=h(t,["numberOfVideos"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const l=h(t,["fps"]);e!==void 0&&l!=null&&m(e,["parameters","fps"],l);const u=h(t,["durationSeconds"]);e!==void 0&&u!=null&&m(e,["parameters","durationSeconds"],u);const f=h(t,["seed"]);e!==void 0&&f!=null&&m(e,["parameters","seed"],f);const p=h(t,["aspectRatio"]);e!==void 0&&p!=null&&m(e,["parameters","aspectRatio"],p);const d=h(t,["resolution"]);e!==void 0&&d!=null&&m(e,["parameters","resolution"],d);const y=h(t,["personGeneration"]);e!==void 0&&y!=null&&m(e,["parameters","personGeneration"],y);const E=h(t,["pubsubTopic"]);e!==void 0&&E!=null&&m(e,["parameters","pubsubTopic"],E);const T=h(t,["negativePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","negativePrompt"],T);const A=h(t,["enhancePrompt"]);e!==void 0&&A!=null&&m(e,["parameters","enhancePrompt"],A);const D=h(t,["generateAudio"]);e!==void 0&&D!=null&&m(e,["parameters","generateAudio"],D);const U=h(t,["lastFrame"]);e!==void 0&&U!=null&&m(e,["instances[0]","lastFrame"],qi(U));const k=h(t,["referenceImages"]);if(e!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(re=>UV(re))),m(e,["instances[0]","referenceImages"],H)}const z=h(t,["mask"]);e!==void 0&&z!=null&&m(e,["instances[0]","mask"],VV(z));const j=h(t,["compressionQuality"]);return e!==void 0&&j!=null&&m(e,["parameters","compressionQuality"],j),n}function L4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response","generateVideoResponse"]);return u!=null&&m(e,["response"],q4(u)),e}function U4(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],B4(u)),e}function O4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],ad(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],x1(u));const f=h(e,["source"]);f!=null&&z4(f,n);const p=h(e,["config"]);return p!=null&&k4(p,n),n}function F4(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["prompt"]);o!=null&&m(n,["instances[0]","prompt"],o);const l=h(e,["image"]);l!=null&&m(n,["instances[0]","image"],qi(l));const u=h(e,["video"]);u!=null&&m(n,["instances[0]","video"],C1(u));const f=h(e,["source"]);f!=null&&H4(f,n);const p=h(e,["config"]);return p!=null&&V4(p,n),n}function q4(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>J4(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function B4(t){const e={},n=h(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>$4(u))),m(e,["generatedVideos"],l)}const i=h(t,["raiMediaFilteredCount"]);i!=null&&m(e,["raiMediaFilteredCount"],i);const o=h(t,["raiMediaFilteredReasons"]);return o!=null&&m(e,["raiMediaFilteredReasons"],o),e}function z4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],ad(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],x1(l)),n}function H4(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],qi(o));const l=h(t,["video"]);return e!==void 0&&l!=null&&m(e,["instances[0]","video"],C1(l)),n}function G4(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],tV(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);return o!=null&&m(e,["safetyAttributes"],T1(o)),e}function ld(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["image"],E1(n));const i=h(t,["raiFilteredReason"]);i!=null&&m(e,["raiFilteredReason"],i);const o=h(t,["_self"]);o!=null&&m(e,["safetyAttributes"],S1(o));const l=h(t,["prompt"]);return l!=null&&m(e,["enhancedPrompt"],l),e}function Y4(t){const e={},n=h(t,["_self"]);n!=null&&m(e,["mask"],E1(n));const i=h(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(e,["labels"],o)}return e}function J4(t){const e={},n=h(t,["video"]);return n!=null&&m(e,["video"],PV(n)),e}function $4(t){const e={},n=h(t,["_self"]);return n!=null&&m(e,["video"],kV(n)),e}function K4(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const i=h(t,["responseJsonSchema"]);i!=null&&m(e,["responseJsonSchema"],i);const o=h(t,["audioTimestamp"]);o!=null&&m(e,["audioTimestamp"],o);const l=h(t,["candidateCount"]);l!=null&&m(e,["candidateCount"],l);const u=h(t,["enableAffectiveDialog"]);u!=null&&m(e,["enableAffectiveDialog"],u);const f=h(t,["frequencyPenalty"]);f!=null&&m(e,["frequencyPenalty"],f);const p=h(t,["logprobs"]);p!=null&&m(e,["logprobs"],p);const d=h(t,["maxOutputTokens"]);d!=null&&m(e,["maxOutputTokens"],d);const y=h(t,["mediaResolution"]);y!=null&&m(e,["mediaResolution"],y);const E=h(t,["presencePenalty"]);E!=null&&m(e,["presencePenalty"],E);const T=h(t,["responseLogprobs"]);T!=null&&m(e,["responseLogprobs"],T);const A=h(t,["responseMimeType"]);A!=null&&m(e,["responseMimeType"],A);const D=h(t,["responseModalities"]);D!=null&&m(e,["responseModalities"],D);const U=h(t,["responseSchema"]);U!=null&&m(e,["responseSchema"],U);const k=h(t,["routingConfig"]);k!=null&&m(e,["routingConfig"],k);const z=h(t,["seed"]);z!=null&&m(e,["seed"],z);const j=h(t,["speechConfig"]);j!=null&&m(e,["speechConfig"],j);const H=h(t,["stopSequences"]);H!=null&&m(e,["stopSequences"],H);const re=h(t,["temperature"]);re!=null&&m(e,["temperature"],re);const pe=h(t,["thinkingConfig"]);pe!=null&&m(e,["thinkingConfig"],pe);const K=h(t,["topK"]);K!=null&&m(e,["topK"],K);const N=h(t,["topP"]);if(N!=null&&m(e,["topP"],N),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Q4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],ct(t,i)),n}function X4(t,e){const n={},i=h(e,["model"]);return i!=null&&m(n,["_url","name"],ct(t,i)),n}function W4(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function j4(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Z4(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);if(i!=null&&m(e,["imageSize"],i),h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function eV(t){const e={},n=h(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const i=h(t,["imageSize"]);i!=null&&m(e,["imageSize"],i);const o=h(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const l=h(t,["outputCompressionQuality"]);return l!=null&&m(e,["imageOutputOptions","compressionQuality"],l),e}function tV(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Fo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function E1(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["imageBytes"],Fo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function ad(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Fo(n));const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function qi(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["imageBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Fo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function nV(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],h1(t,f)),i}function iV(t,e,n){const i={},o=h(e,["pageSize"]);n!==void 0&&o!=null&&m(n,["_query","pageSize"],o);const l=h(e,["pageToken"]);n!==void 0&&l!=null&&m(n,["_query","pageToken"],l);const u=h(e,["filter"]);n!==void 0&&u!=null&&m(n,["_query","filter"],u);const f=h(e,["queryBase"]);return n!==void 0&&f!=null&&m(n,["_url","models_url"],h1(t,f)),i}function rV(t,e){const n={},i=h(e,["config"]);return i!=null&&nV(t,i,n),n}function oV(t,e){const n={},i=h(e,["config"]);return i!=null&&iV(t,i,n),n}function sV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=p1(o);Array.isArray(l)&&(l=l.map(u=>Sm(u))),m(e,["models"],l)}return e}function lV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["_self"]);if(o!=null){let l=p1(o);Array.isArray(l)&&(l=l.map(u=>Am(u))),m(e,["models"],l)}return e}function aV(t){const e={},n=h(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const i=h(t,["segmentationClasses"]);i!=null&&m(e,["maskClasses"],i);const o=h(t,["maskDilation"]);return o!=null&&m(e,["dilation"],o),e}function Sm(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["version"]);l!=null&&m(e,["version"],l);const u=h(t,["_self"]);u!=null&&m(e,["tunedModelInfo"],xV(u));const f=h(t,["inputTokenLimit"]);f!=null&&m(e,["inputTokenLimit"],f);const p=h(t,["outputTokenLimit"]);p!=null&&m(e,["outputTokenLimit"],p);const d=h(t,["supportedGenerationMethods"]);d!=null&&m(e,["supportedActions"],d);const y=h(t,["temperature"]);y!=null&&m(e,["temperature"],y);const E=h(t,["maxTemperature"]);E!=null&&m(e,["maxTemperature"],E);const T=h(t,["topP"]);T!=null&&m(e,["topP"],T);const A=h(t,["topK"]);A!=null&&m(e,["topK"],A);const D=h(t,["thinking"]);return D!=null&&m(e,["thinking"],D),e}function Am(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["displayName"]);i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);o!=null&&m(e,["description"],o);const l=h(t,["versionId"]);l!=null&&m(e,["version"],l);const u=h(t,["deployedModels"]);if(u!=null){let E=u;Array.isArray(E)&&(E=E.map(T=>T4(T))),m(e,["endpoints"],E)}const f=h(t,["labels"]);f!=null&&m(e,["labels"],f);const p=h(t,["_self"]);p!=null&&m(e,["tunedModelInfo"],CV(p));const d=h(t,["defaultCheckpointId"]);d!=null&&m(e,["defaultCheckpointId"],d);const y=h(t,["checkpoints"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>T)),m(e,["checkpoints"],E)}return e}function uV(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],S4(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],A4(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],Kk(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function cV(t){const e={},n=h(t,["productImage"]);return n!=null&&m(e,["image"],qi(n)),e}function fV(t,e){const n={},i=h(t,["numberOfImages"]);e!==void 0&&i!=null&&m(e,["parameters","sampleCount"],i);const o=h(t,["baseSteps"]);e!==void 0&&o!=null&&m(e,["parameters","baseSteps"],o);const l=h(t,["outputGcsUri"]);e!==void 0&&l!=null&&m(e,["parameters","storageUri"],l);const u=h(t,["seed"]);e!==void 0&&u!=null&&m(e,["parameters","seed"],u);const f=h(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&m(e,["parameters","safetySetting"],f);const p=h(t,["personGeneration"]);e!==void 0&&p!=null&&m(e,["parameters","personGeneration"],p);const d=h(t,["addWatermark"]);e!==void 0&&d!=null&&m(e,["parameters","addWatermark"],d);const y=h(t,["outputMimeType"]);e!==void 0&&y!=null&&m(e,["parameters","outputOptions","mimeType"],y);const E=h(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&m(e,["parameters","outputOptions","compressionQuality"],E);const T=h(t,["enhancePrompt"]);e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T);const A=h(t,["labels"]);return e!==void 0&&A!=null&&m(e,["labels"],A),n}function dV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["source"]);o!=null&&pV(o,n);const l=h(e,["config"]);return l!=null&&fV(l,n),n}function hV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ld(o))),m(e,["generatedImages"],i)}return e}function pV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["personImage"]);e!==void 0&&o!=null&&m(e,["instances[0]","personImage","image"],qi(o));const l=h(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>cV(f))),m(e,["instances[0]","productImages"],u)}return n}function mV(t){const e={},n=h(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],qi(n));const i=h(t,["referenceId"]);i!=null&&m(e,["referenceId"],i);const o=h(t,["referenceType"]);o!=null&&m(e,["referenceType"],o);const l=h(t,["maskImageConfig"]);l!=null&&m(e,["maskImageConfig"],aV(l));const u=h(t,["controlImageConfig"]);u!=null&&m(e,["controlImageConfig"],t4(u));const f=h(t,["styleImageConfig"]);f!=null&&m(e,["styleImageConfig"],f);const p=h(t,["subjectImageConfig"]);return p!=null&&m(e,["subjectImageConfig"],p),e}function T1(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function S1(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const i=h(t,["safetyAttributes","scores"]);i!=null&&m(e,["scores"],i);const o=h(t,["contentType"]);return o!=null&&m(e,["contentType"],o),e}function gV(t){const e={},n=h(t,["category"]);if(n!=null&&m(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=h(t,["threshold"]);return i!=null&&m(e,["threshold"],i),e}function yV(t){const e={},n=h(t,["image"]);return n!=null&&m(e,["image"],qi(n)),e}function _V(t,e){const n={},i=h(t,["mode"]);e!==void 0&&i!=null&&m(e,["parameters","mode"],i);const o=h(t,["maxPredictions"]);e!==void 0&&o!=null&&m(e,["parameters","maxPredictions"],o);const l=h(t,["confidenceThreshold"]);e!==void 0&&l!=null&&m(e,["parameters","confidenceThreshold"],l);const u=h(t,["maskDilation"]);e!==void 0&&u!=null&&m(e,["parameters","maskDilation"],u);const f=h(t,["binaryColorThreshold"]);e!==void 0&&f!=null&&m(e,["parameters","binaryColorThreshold"],f);const p=h(t,["labels"]);return e!==void 0&&p!=null&&m(e,["labels"],p),n}function vV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["source"]);o!=null&&TV(o,n);const l=h(e,["config"]);return l!=null&&_V(l,n),n}function EV(t){const e={},n=h(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Y4(o))),m(e,["generatedMasks"],i)}return e}function TV(t,e){const n={},i=h(t,["prompt"]);e!==void 0&&i!=null&&m(e,["instances[0]","prompt"],i);const o=h(t,["image"]);e!==void 0&&o!=null&&m(e,["instances[0]","image"],qi(o));const l=h(t,["scribbleImage"]);return e!==void 0&&l!=null&&m(e,["instances[0]","scribble"],yV(l)),n}function SV(t){const e={},n=h(t,["functionCallingConfig"]);n!=null&&m(e,["functionCallingConfig"],x4(n));const i=h(t,["retrievalConfig"]);return i!=null&&m(e,["retrievalConfig"],i),e}function AV(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],W4(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],j4(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}function A1(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let E=n;Array.isArray(E)&&(E=E.map(T=>C4(T))),m(e,["functionDeclarations"],E)}const i=h(t,["retrieval"]);i!=null&&m(e,["retrieval"],i);const o=h(t,["googleSearchRetrieval"]);o!=null&&m(e,["googleSearchRetrieval"],o);const l=h(t,["computerUse"]);if(l!=null&&m(e,["computerUse"],l),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=h(t,["codeExecution"]);u!=null&&m(e,["codeExecution"],u);const f=h(t,["enterpriseWebSearch"]);f!=null&&m(e,["enterpriseWebSearch"],f);const p=h(t,["googleMaps"]);p!=null&&m(e,["googleMaps"],p);const d=h(t,["googleSearch"]);d!=null&&m(e,["googleSearch"],d);const y=h(t,["urlContext"]);return y!=null&&m(e,["urlContext"],y),e}function xV(t){const e={},n=h(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function CV(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const i=h(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=h(t,["updateTime"]);return o!=null&&m(e,["updateTime"],o),e}function IV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function wV(t,e){const n={},i=h(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=h(t,["description"]);e!==void 0&&o!=null&&m(e,["description"],o);const l=h(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&m(e,["defaultCheckpointId"],l),n}function RV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","name"],ct(t,i));const o=h(e,["config"]);return o!=null&&IV(o,n),n}function bV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["config"]);return o!=null&&wV(o,n),n}function NV(t,e){const n={},i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=h(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&m(e,["parameters","safetySetting"],o);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const f=h(t,["outputMimeType"]);e!==void 0&&f!=null&&m(e,["parameters","outputOptions","mimeType"],f);const p=h(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&m(e,["parameters","outputOptions","compressionQuality"],p);const d=h(t,["enhanceInputImage"]);e!==void 0&&d!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],d);const y=h(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["numberOfImages"]);e!==void 0&&T!=null&&m(e,["parameters","sampleCount"],T);const A=h(t,["mode"]);return e!==void 0&&A!=null&&m(e,["parameters","mode"],A),n}function DV(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["_url","model"],ct(t,i));const o=h(e,["image"]);o!=null&&m(n,["instances[0]","image"],qi(o));const l=h(e,["upscaleFactor"]);l!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=h(e,["config"]);return u!=null&&NV(u,n),n}function MV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>ld(l))),m(e,["generatedImages"],o)}return e}function PV(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["encodedVideo"]);i!=null&&m(e,["videoBytes"],Fo(i));const o=h(t,["encoding"]);return o!=null&&m(e,["mimeType"],o),e}function kV(t){const e={},n=h(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const i=h(t,["bytesBase64Encoded"]);i!=null&&m(e,["videoBytes"],Fo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}function VV(t){const e={},n=h(t,["image"]);n!=null&&m(e,["_self"],qi(n));const i=h(t,["maskMode"]);return i!=null&&m(e,["maskMode"],i),e}function LV(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],ad(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function UV(t){const e={},n=h(t,["image"]);n!=null&&m(e,["image"],qi(n));const i=h(t,["referenceType"]);return i!=null&&m(e,["referenceType"],i),e}function x1(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["uri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["encodedVideo"],Fo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["encoding"],o),e}function C1(t){const e={},n=h(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const i=h(t,["videoBytes"]);i!=null&&m(e,["bytesBase64Encoded"],Fo(i));const o=h(t,["mimeType"]);return o!=null&&m(e,["mimeType"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OV(t,e){const n={},i=h(t,["displayName"]);return e!==void 0&&i!=null&&m(e,["displayName"],i),n}function FV(t){const e={},n=h(t,["config"]);return n!=null&&OV(n,e),e}function qV(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function BV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&qV(i,e),e}function zV(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function HV(t,e){const n={},i=h(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["customMetadata"],l)}const o=h(t,["chunkingConfig"]);return e!==void 0&&o!=null&&m(e,["chunkingConfig"],o),n}function GV(t){const e={},n=h(t,["name"]);n!=null&&m(e,["name"],n);const i=h(t,["metadata"]);i!=null&&m(e,["metadata"],i);const o=h(t,["done"]);o!=null&&m(e,["done"],o);const l=h(t,["error"]);l!=null&&m(e,["error"],l);const u=h(t,["response"]);return u!=null&&m(e,["response"],JV(u)),e}function YV(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["fileName"]);i!=null&&m(e,["fileName"],i);const o=h(t,["config"]);return o!=null&&HV(o,e),e}function JV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["parent"]);i!=null&&m(e,["parent"],i);const o=h(t,["documentName"]);return o!=null&&m(e,["documentName"],o),e}function $V(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function KV(t){const e={},n=h(t,["config"]);return n!=null&&$V(n,e),e}function QV(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["fileSearchStores"],l)}return e}function I1(t,e){const n={},i=h(t,["mimeType"]);e!==void 0&&i!=null&&m(e,["mimeType"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const l=h(t,["customMetadata"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>p)),m(e,["customMetadata"],f)}const u=h(t,["chunkingConfig"]);return e!==void 0&&u!=null&&m(e,["chunkingConfig"],u),n}function XV(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const i=h(t,["config"]);return i!=null&&I1(i,e),e}function WV(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jV="Content-Type",ZV="X-Server-Timeout",eL="User-Agent",xm="x-goog-api-client",tL="1.34.0",nL=`google-genai-sdk/${tL}`,iL="v1beta1",rL="v1beta";class oL{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:iL,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:rL,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))o.searchParams.append(u,String(f));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.unaryApiCall(o,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),e.abortSignal),this.streamApiCall(o,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,o){if(n&&n.timeout||o){const l=new AbortController,u=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const f=setTimeout(()=>l.abort(),n.timeout);f&&typeof f.unref=="function"&&f.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&sL(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await XT(o),new vm(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await XT(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){return Li(this,arguments,function*(){var i;const o=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let u="";const f="data:",p=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:y}=yield Ue(o.read());if(d){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=l.decode(y,{stream:!0});try{const D=JSON.parse(E);if("error"in D){const U=JSON.parse(JSON.stringify(D.error)),k=U.status,z=U.code,j=`got status: ${k}. ${JSON.stringify(D)}`;if(z>=400&&z<600)throw new od({message:j,status:z})}}catch(D){if(D.name==="ApiError")throw D}u+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const k of p){const z=u.indexOf(k);z!==-1&&(T===-1||z<T)&&(T=z,A=k.length)}if(T===-1)break;const D=u.substring(0,T);u=u.substring(T+A);const U=D.trim();if(U.startsWith(f)){const k=U.substring(f.length).trim();try{const z=new Response(k,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ue(new vm(z))}catch(z){throw new Error(`exception parsing stream chunk ${k}. ${z}`)}}}}}finally{o.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=nL+" "+this.clientOptions.userAgentExtra;return e[eL]=n,e[xm]=n,e[jV]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[o,l]of Object.entries(e.headers))i.append(o,l);e.timeout&&e.timeout>0&&i.append(ZV,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);o.sizeBytes=String(u.size);const f=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=f;const p={file:o},d=this.getFileName(e),y=Te("upload/v1beta/files",p._url),E=await this.fetchUploadUrl(y,o.sizeBytes,o.mimeType,d,p,n==null?void 0:n.httpOptions);return l.upload(e,E,this)}async uploadFileToFileSearchStore(e,n,i){var o;const l=this.clientOptions.uploader,u=await l.stat(n),f=String(u.size),p=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:u.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(n),E={};i!=null&&I1(i,E);const T=await this.fetchUploadUrl(d,f,p,y,E,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,o,l,u){var f;let p={};u?p=u:p={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const d=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:p});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(f=d==null?void 0:d.headers)===null||f===void 0?void 0:f["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function XT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new od({message:o,status:n}):new Error(o)}}function sL(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const f=Object.assign({},l);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p)){const d=u[p],y=f[p];d&&typeof d=="object"&&!Array.isArray(d)&&y&&typeof y=="object"&&!Array.isArray(y)?f[p]=i(y,d):(y&&d&&typeof y!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${p}". Original type: ${typeof y}, New type: ${typeof d}. Overwriting.`),f[p]=d)}return f}const o=i(n,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lL="mcp_used/unknown";let aL=!1;function w1(t){for(const e of t)if(uL(e)||typeof e=="object"&&"inputSchema"in e)return!0;return aL}function R1(t){var e;const n=(e=t[xm])!==null&&e!==void 0?e:"";t[xm]=(n+` ${lL}`).trimStart()}function uL(t){return t!==null&&typeof t=="object"&&t instanceof Ag}function cL(t){return Li(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const u=yield Ue(n.listTools({cursor:o}));for(const f of u.tools)yield yield Ue(f),l++;if(!u.nextCursor)break;o=u.nextCursor}})}class Ag{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Ag(e,n)}async initialize(){var e,n,i,o;if(this.mcpTools.length>0)return;const l={},u=[];for(const y of this.mcpClients)try{for(var f=!0,p=(n=void 0,Ui(cL(y))),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const E=o;u.push(E);const T=E.name;if(l[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);l[T]=y}}catch(E){n={error:E}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),zM(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function fL(t,e,n){const i=new kM;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),e(i)}class dL{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=mL(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),p=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${f}`;let d=()=>{};const y=new Promise(H=>{d=H}),E=e.callbacks,T=function(){d({})},A=this.apiClient,D={onopen:T,onmessage:H=>{fL(A,E.onmessage,H)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(H){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(H){}},U=this.webSocketFactory.create(p,pL(u),D);U.connect(),await y;const j={setup:{model:ct(this.apiClient,e.model)}};return U.send(JSON.stringify(j)),new hL(U,this.apiClient)}}class hL{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Fk(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=Ok(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Tl.PLAY)}pause(){this.sendPlaybackControl(Tl.PAUSE)}stop(){this.sendPlaybackControl(Tl.STOP)}resetContext(){this.sendPlaybackControl(Tl.RESET_CONTEXT)}close(){this.conn.close()}}function pL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function mL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gL="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yL(t,e,n){const i=new PM;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(t.isVertexAI()){const u=zk(l);Object.assign(i,u)}else Object.assign(i,l);e(i)}class _L{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new dL(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,o,l,u,f;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const p=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let y;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&w1(e.config.tools)&&R1(E);const T=SL(E);if(this.apiClient.isVertexAI())y=`${p}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,y);else{const b=this.apiClient.getApiKey();let F="BidiGenerateContent",L="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",L="access_token"),y=`${p}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${L}=${b}`}let A=()=>{};const D=new Promise(b=>{A=b}),U=e.callbacks,k=function(){var b;(b=U==null?void 0:U.onopen)===null||b===void 0||b.call(U),A({})},z=this.apiClient,j={onopen:k,onmessage:b=>{yL(z,U.onmessage,b)},onerror:(n=U==null?void 0:U.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=U==null?void 0:U.onclose)!==null&&i!==void 0?i:function(b){}},H=this.webSocketFactory.create(y,TL(T),j);H.connect(),await D;let re=ct(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&re.startsWith("publishers/")){const b=this.apiClient.getProject(),F=this.apiClient.getLocation();re=`projects/${b}/locations/${F}/`+re}let pe={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Pf.AUDIO]}:e.config.responseModalities=[Pf.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const K=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],N=[];for(const b of K)if(this.isCallableTool(b)){const F=b;N.push(await F.tool())}else N.push(b);N.length>0&&(e.config.tools=N);const M={model:re,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?pe=Uk(this.apiClient,M):pe=Lk(this.apiClient,M),delete pe.config,H.send(JSON.stringify(pe)),new EL(H,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const vL={turnComplete:!0};class EL{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Si(n.turns),e.isVertexAI()||(i=i.map(o=>sd(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(gL)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},vL),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Bk(e)}:n={realtimeInput:qk(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TL(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function SL(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT=10;function jT(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Il(u)){o=!0;break}if(!o)return!0;const l=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Il(t){return"callTool"in t&&typeof t.callTool=="function"}function AL(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(o=>Il(o)))!==null&&i!==void 0?i:!1}function ZT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,o)=>{if(Il(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function eS(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xL extends Gr{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,o,l,u,f;const p=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!AL(n)||jT(n.config))return await this.generateContentInternal(p);const d=ZT(n);if(d.length>0){const U=d.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let y,E;const T=Si(p.contents),A=(l=(o=(i=p.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:WT;let D=0;for(;D<A&&(y=await this.generateContentInternal(p),!(!y.functionCalls||y.functionCalls.length===0));){const U=y.candidates[0].content,k=[];for(const z of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(Il(z)){const H=await z.callTool(y.functionCalls);k.push(...H)}D++,E={role:"user",parts:k},p.contents=Si(p.contents),p.contents.push(U),p.contents.push(E),eS(p.config)&&(T.push(U),T.push(E))}return eS(p.config)&&(y.automaticFunctionCallingHistory=T),y},this.generateContentStream=async n=>{var i,o,l,u,f;if(this.maybeMoveToResponseJsonSchem(n),jT(n.config)){const E=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(E)}const p=ZT(n);if(p.length>0){const E=p.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,y=(f=(u=n==null?void 0:n.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||f===void 0?void 0:f.disable;if(d&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const u=[];if(i!=null&&i.generatedImages)for(const p of i.generatedImages)p&&(p!=null&&p.safetyAttributes)&&((o=p==null?void 0:p.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=p==null?void 0:p.safetyAttributes:u.push(p);let f;return l?f={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:f={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},f}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new xs(Fr.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,u,f,p;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((p=(f=n.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,o;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async p=>Il(p)?await p.tool():p)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&w1(e.config.tools)){const p=(o=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let d=Object.assign({},p);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),R1(d),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return f}async initAfcToolsMap(e){var n,i,o;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Il(u)){const f=u,p=await f.tool();for(const d of(o=p.functionDeclarations)!==null&&o!==void 0?o:[]){if(!d.name)throw new Error("Function declaration name is required.");if(l.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);l.set(d.name,f)}}return l}async processAfcStream(e){var n,i,o;const l=(o=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:WT;let u=!1,f=0;const p=await this.initAfcToolsMap(e);return(function(d,y,E){return Li(this,arguments,function*(){for(var T,A,D,U,k,z;f<l;){u&&(f++,u=!1);const pe=yield Ue(d.processParamsMaybeAddMcpUsage(E)),K=yield Ue(d.generateContentStreamInternal(pe)),N=[],M=[];try{for(var j=!0,H=(A=void 0,Ui(K)),re;re=yield Ue(H.next()),T=re.done,!T;j=!0){U=re.value,j=!1;const b=U;if(yield yield Ue(b),b.candidates&&(!((k=b.candidates[0])===null||k===void 0)&&k.content)){M.push(b.candidates[0].content);for(const F of(z=b.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(f<l&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(F.functionCall.name)){const L=yield Ue(y.get(F.functionCall.name).callTool([F.functionCall]));N.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(b){A={error:b}}finally{try{!j&&!T&&(D=H.return)&&(yield Ue(D.call(H)))}finally{if(A)throw A.error}}if(N.length>0){u=!0;const b=new Za;b.candidates=[{content:{role:"user",parts:N}}],yield yield Ue(b);const F=[];F.push(...M),F.push({role:"user",parts:N});const L=Si(E.contents).concat(F);E.contents=L}else break}})})(this,p,e)}async generateContentInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=$T(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=QT(y),T=new Za;return Object.assign(T,E),T})}else{const d=JT(this.apiClient,e);return f=Te("{model}:generateContent",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=KT(y),T=new Za;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=$T(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(E){return Li(this,arguments,function*(){var T,A,D,U;try{for(var k=!0,z=Ui(E),j;j=yield Ue(z.next()),T=j.done,!T;k=!0){U=j.value,k=!1;const H=U,re=QT(yield Ue(H.json()));re.sdkHttpResponse={headers:H.headers};const pe=new Za;Object.assign(pe,re),yield yield Ue(pe)}}catch(H){A={error:H}}finally{try{!k&&!T&&(D=z.return)&&(yield Ue(D.call(z)))}finally{if(A)throw A.error}}})})}else{const d=JT(this.apiClient,e);return f=Te("{model}:streamGenerateContent?alt=sse",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.requestStream({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(E){return Li(this,arguments,function*(){var T,A,D,U;try{for(var k=!0,z=Ui(E),j;j=yield Ue(z.next()),T=j.done,!T;k=!0){U=j.value,k=!1;const H=U,re=KT(yield Ue(H.json()));re.sdkHttpResponse={headers:H.headers};const pe=new Za;Object.assign(pe,re),yield yield Ue(pe)}}catch(H){A={error:H}}finally{try{!k&&!T&&(D=z.return)&&(yield Ue(D.call(z)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=_4(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=E4(y),T=new bT;return Object.assign(T,E),T})}else{const d=y4(this.apiClient,e);return f=Te("{model}:batchEmbedContents",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=v4(y),T=new bT;return Object.assign(T,E),T})}}async generateImagesInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=D4(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=P4(y),T=new NT;return Object.assign(T,E),T})}else{const d=N4(this.apiClient,e);return f=Te("{model}:predict",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=M4(y),T=new NT;return Object.assign(T,E),T})}}async editImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=h4(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=p4(p),y=new SM;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=DV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=MV(p),y=new AM;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=dV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=hV(p),y=new xM;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=vV(this.apiClient,e);return l=Te("{model}:predict",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=EV(p),y=new CM;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=X4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Am(y))}else{const d=Q4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Sm(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=oV(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=lV(y),T=new DT;return Object.assign(T,E),T})}else{const d=rV(this.apiClient,e);return f=Te("{models_url}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=sV(y),T=new DT;return Object.assign(T,E),T})}}async update(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=bV(this.apiClient,e);return f=Te("{model}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>Am(y))}else{const d=RV(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Sm(y))}}async delete(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=u4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=f4(y),T=new MT;return Object.assign(T,E),T})}else{const d=a4(this.apiClient,e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=c4(y),T=new MT;return Object.assign(T,E),T})}}async countTokens(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=o4(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=l4(y),T=new PT;return Object.assign(T,E),T})}else{const d=r4(this.apiClient,e);return f=Te("{model}:countTokens",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=s4(y),T=new PT;return Object.assign(T,E),T})}}async computeTokens(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=Wk(this.apiClient,e);return l=Te("{model}:computeTokens",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const d=jk(p),y=new IM;return Object.assign(y,d),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=F4(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u.then(y=>{const E=U4(y),T=new kf;return Object.assign(T,E),T})}else{const d=O4(this.apiClient,e);return f=Te("{model}:predictLongRunning",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const E=L4(y),T=new kf;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CL extends Gr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=gM(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),u}else{const d=mM(e);return f=Te("{operationName}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=aM(e);return l=Te("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IL(t){const e={},n=h(t,["data"]);if(n!=null&&m(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function wL(t){const e={},n=h(t,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>LL(l))),m(e,["parts"],o)}const i=h(t,["role"]);return i!=null&&m(e,["role"],i),e}function RL(t,e,n){const i={},o=h(e,["expireTime"]);n!==void 0&&o!=null&&m(n,["expireTime"],o);const l=h(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&m(n,["newSessionExpireTime"],l);const u=h(e,["uses"]);n!==void 0&&u!=null&&m(n,["uses"],u);const f=h(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&m(n,["bidiGenerateContentSetup"],VL(t,f));const p=h(e,["lockAdditionalFields"]);return n!==void 0&&p!=null&&m(n,["fieldMask"],p),i}function bL(t,e){const n={},i=h(e,["config"]);return i!=null&&m(n,["config"],RL(t,i,n)),n}function NL(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const i=h(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function DL(t){const e={},n=h(t,["id"]);n!=null&&m(e,["id"],n);const i=h(t,["args"]);i!=null&&m(e,["args"],i);const o=h(t,["name"]);if(o!=null&&m(e,["name"],o),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ML(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function PL(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function kL(t,e){const n={},i=h(t,["generationConfig"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig"],i);const o=h(t,["responseModalities"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","responseModalities"],o);const l=h(t,["temperature"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","temperature"],l);const u=h(t,["topP"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","topP"],u);const f=h(t,["topK"]);e!==void 0&&f!=null&&m(e,["setup","generationConfig","topK"],f);const p=h(t,["maxOutputTokens"]);e!==void 0&&p!=null&&m(e,["setup","generationConfig","maxOutputTokens"],p);const d=h(t,["mediaResolution"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","mediaResolution"],d);const y=h(t,["seed"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","seed"],y);const E=h(t,["speechConfig"]);e!==void 0&&E!=null&&m(e,["setup","generationConfig","speechConfig"],Sg(E));const T=h(t,["thinkingConfig"]);e!==void 0&&T!=null&&m(e,["setup","generationConfig","thinkingConfig"],T);const A=h(t,["enableAffectiveDialog"]);e!==void 0&&A!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],A);const D=h(t,["systemInstruction"]);e!==void 0&&D!=null&&m(e,["setup","systemInstruction"],wL(xn(D)));const U=h(t,["tools"]);if(e!==void 0&&U!=null){let K=ql(U);Array.isArray(K)&&(K=K.map(N=>OL(Fl(N)))),m(e,["setup","tools"],K)}const k=h(t,["sessionResumption"]);e!==void 0&&k!=null&&m(e,["setup","sessionResumption"],UL(k));const z=h(t,["inputAudioTranscription"]);e!==void 0&&z!=null&&m(e,["setup","inputAudioTranscription"],z);const j=h(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&m(e,["setup","outputAudioTranscription"],j);const H=h(t,["realtimeInputConfig"]);e!==void 0&&H!=null&&m(e,["setup","realtimeInputConfig"],H);const re=h(t,["contextWindowCompression"]);e!==void 0&&re!=null&&m(e,["setup","contextWindowCompression"],re);const pe=h(t,["proactivity"]);if(e!==void 0&&pe!=null&&m(e,["setup","proactivity"],pe),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function VL(t,e){const n={},i=h(e,["model"]);i!=null&&m(n,["setup","model"],ct(t,i));const o=h(e,["config"]);return o!=null&&m(n,["config"],kL(o,n)),n}function LL(t){const e={},n=h(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const i=h(t,["codeExecutionResult"]);i!=null&&m(e,["codeExecutionResult"],i);const o=h(t,["executableCode"]);o!=null&&m(e,["executableCode"],o);const l=h(t,["fileData"]);l!=null&&m(e,["fileData"],NL(l));const u=h(t,["functionCall"]);u!=null&&m(e,["functionCall"],DL(u));const f=h(t,["functionResponse"]);f!=null&&m(e,["functionResponse"],f);const p=h(t,["inlineData"]);p!=null&&m(e,["inlineData"],IL(p));const d=h(t,["text"]);d!=null&&m(e,["text"],d);const y=h(t,["thought"]);y!=null&&m(e,["thought"],y);const E=h(t,["thoughtSignature"]);E!=null&&m(e,["thoughtSignature"],E);const T=h(t,["videoMetadata"]);return T!=null&&m(e,["videoMetadata"],T),e}function UL(t){const e={},n=h(t,["handle"]);if(n!=null&&m(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OL(t){const e={},n=h(t,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(E=>E)),m(e,["functionDeclarations"],y)}if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=h(t,["googleSearchRetrieval"]);i!=null&&m(e,["googleSearchRetrieval"],i);const o=h(t,["computerUse"]);o!=null&&m(e,["computerUse"],o);const l=h(t,["fileSearch"]);l!=null&&m(e,["fileSearch"],l);const u=h(t,["codeExecution"]);if(u!=null&&m(e,["codeExecution"],u),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=h(t,["googleMaps"]);f!=null&&m(e,["googleMaps"],ML(f));const p=h(t,["googleSearch"]);p!=null&&m(e,["googleSearch"],PL(p));const d=h(t,["urlContext"]);return d!=null&&m(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FL(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);e.push(...o)}else e.push(n)}return e.join(",")}function qL(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(n){const l=FL(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];o.length>0&&(f=o.map(d=>u.includes(d)?`generationConfig.${d}`:d));const p=[];l&&p.push(l),f.length>0&&p.push(...f),p.length>0?t.fieldMask=p.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class BL extends Gr{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=bL(this.apiClient,e);l=Te("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const p=qL(f,e.config);return o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zL(t,e){const n={},i=h(t,["force"]);return e!==void 0&&i!=null&&m(e,["_query","force"],i),n}function HL(t){const e={},n=h(t,["name"]);n!=null&&m(e,["_url","name"],n);const i=h(t,["config"]);return i!=null&&zL(i,e),e}function GL(t){const e={},n=h(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function YL(t,e){const n={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);return e!==void 0&&o!=null&&m(e,["_query","pageToken"],o),n}function JL(t){const e={},n=h(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const i=h(t,["config"]);return i!=null&&YL(i,e),e}function $L(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const i=h(t,["nextPageToken"]);i!=null&&m(e,["nextPageToken"],i);const o=h(t,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>u)),m(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KL extends Gr{constructor(e){super(),this.apiClient=e,this.list=async n=>new xs(Fr.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GL(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HL(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JL(e);return l=Te("{parent}/documents",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=$L(p),y=new wM;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QL extends Gr{constructor(e,n=new KL(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new xs(Fr.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=FV(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=zV(e);return l=Te("{name}",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BV(e);o=Te("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KV(e);return l=Te("fileSearchStores",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=QV(p),y=new RM;return Object.assign(y,d),y})}}async uploadToFileSearchStoreInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XV(e);return l=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=WV(p),y=new bM;return Object.assign(y,d),y})}}async importFile(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=YV(e);return l=Te("{file_search_store_name}:importFile",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const d=GV(p),y=new yg;return Object.assign(y,d),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let b1=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return b1=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const XL=()=>b1();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cm(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Im=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ai extends Error{}class Nn extends Ai{constructor(e,n,i,o){super(`${Nn.makeMessage(e,n,i)}`),this.status=e,this.headers=o,this.error=n}static makeMessage(e,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&o?`${e} ${o}`:e?`${e} status code (no body)`:o||"(no status code or body)"}static generate(e,n,i,o){if(!e||!o)return new ud({message:i,cause:Im(n)});const l=n;return e===400?new D1(e,l,i,o):e===401?new M1(e,l,i,o):e===403?new P1(e,l,i,o):e===404?new k1(e,l,i,o):e===409?new V1(e,l,i,o):e===422?new L1(e,l,i,o):e===429?new U1(e,l,i,o):e>=500?new O1(e,l,i,o):new Nn(e,l,i,o)}}class wm extends Nn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ud extends Nn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class N1 extends ud{constructor({message:e}={}){super({message:e??"Request timed out."})}}class D1 extends Nn{}class M1 extends Nn{}class P1 extends Nn{}class k1 extends Nn{}class V1 extends Nn{}class L1 extends Nn{}class U1 extends Nn{}class O1 extends Nn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WL=/^[a-z][a-z0-9+.-]*:/i,jL=t=>WL.test(t);let Rm=t=>(Rm=Array.isArray,Rm(t));const ZL=Rm;let e3=ZL;const tS=e3;function t3(t){if(!t)return!0;for(const e in t)return!1;return!0}function n3(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const i3=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ai(`${t} must be an integer`);if(e<0)throw new Ai(`${t} must be a positive integer`);return e},r3=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o3=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gl="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s3(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const l3=()=>{var t,e,n,i,o;const l=s3();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gl,"X-Stainless-OS":iS(Deno.build.os),"X-Stainless-Arch":nS(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gl,"X-Stainless-OS":iS((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":nS((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const u=a3();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":gl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a3(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${o}.${l}.${u}`}}}return null}const nS=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",iS=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let uf;const u3=()=>uf??(uf=l3());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c3(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function F1(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function f3(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return F1({start(){},async pull(n){const{done:i,value:o}=await e.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function q1(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function d3(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h3=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const B1=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function $p(t,e,n){return B1(),new File(t,e??"unknown_file",n)}function p3(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const m3=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const z1=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",g3=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&z1(t),y3=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function _3(t,e,n){if(B1(),t=await t,g3(t))return t instanceof File?t:$p([await t.arrayBuffer()],t.name);if(y3(t)){const o=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),$p(await bm(o),e,n)}const i=await bm(t);if(e||(e=p3(t)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return $p(i,e,n)}async function bm(t){var e,n,i,o,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(z1(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(m3(t))try{for(var f=!0,p=Ui(t),d;d=await p.next(),e=d.done,!e;f=!0){o=d.value,f=!1;const y=o;u.push(...await bm(y))}}catch(y){n={error:y}}finally{try{!f&&!e&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}else{const y=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${v3(t)}`)}return u}function v3(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H1{constructor(e){this._client=e}}H1._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function G1(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const rS=Object.freeze(Object.create(null)),E3=(t=G1)=>(function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],u=n.reduce((y,E,T)=>{var A,D,U;/[?#]/.test(E)&&(o=!0);const k=i[T];let z=(o?encodeURIComponent:t)(""+k);return T!==i.length&&(k==null||typeof k=="object"&&k.toString===((U=Object.getPrototypeOf((D=Object.getPrototypeOf((A=k.hasOwnProperty)!==null&&A!==void 0?A:rS))!==null&&D!==void 0?D:rS))===null||U===void 0?void 0:U.toString))&&(z=k+"",l.push({start:y.length+E.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(k).slice(8,-1)} is not a valid path parameter`})),y+E+(T===i.length?"":z)},""),f=u.split(/[?#]/,1)[0],p=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=p.exec(f))!==null;)l.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(l.sort((y,E)=>y.start-E.start),l.length>0){let y=0;const E=l.reduce((T,A)=>{const D=" ".repeat(A.start-y),U="^".repeat(A.length);return y=A.start+A.length,T+D+U},"");throw new Ai(`Path parameters result in path with invalid segments:
${l.map(T=>T.error).join(`
`)}
${u}
${E}`)}return u}),cf=E3(G1);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Y1 extends H1{create(e,n){var i;const{api_version:o=this._client.apiVersion}=e,l=Lf(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Ai("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Ai("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(cf`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(cf`/${o}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(cf`/${o}/interactions/${e}/cancel`,i)}get(e,n={},i){var o;const l=n??{},{api_version:u=this._client.apiVersion}=l,f=Lf(l,["api_version"]);return this._client.get(cf`/${u}/interactions/${e}`,Object.assign(Object.assign({query:f},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Y1._key=Object.freeze(["interactions"]);class J1 extends Y1{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T3(t){let e=0;for(const o of t)e+=o.length;const n=new Uint8Array(e);let i=0;for(const o of t)n.set(o,i),i+=o.length;return n}let ff;function xg(t){let e;return(ff??(e=new globalThis.TextEncoder,ff=e.encode.bind(e)))(t)}let df;function oS(t){let e;return(df??(e=new globalThis.TextDecoder,df=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cd{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?xg(e):e;this.buffer=T3([this.buffer,n]);const i=[];let o;for(;(o=S3(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(oS(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,u=oS(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}cd.NEWLINE_CHARS=new Set([`
`,"\r"]);cd.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function S3(t,e){for(let o=e??0;o<t.length;o++){if(t[o]===10)return{preceding:o,index:o+1,carriage:!1};if(t[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function A3(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uf={off:0,error:200,warn:300,info:400,debug:500},sS=(t,e,n)=>{if(t){if(n3(Uf,t))return t;bn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Uf))}`)}};function tu(){}function hf(t,e,n){return!e||Uf[t]>Uf[n]?tu:e[t].bind(e)}const x3={error:tu,warn:tu,info:tu,debug:tu};let lS=new WeakMap;function bn(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return x3;const o=lS.get(n);if(o&&o[0]===i)return o[1];const l={error:hf("error",n,i),warn:hf("warn",n,i),info:hf("info",n,i),debug:hf("debug",n,i)};return lS.set(n,[i,l]),l}const ys=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sl{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let o=!1;const l=i?bn(i):console;function u(){return Li(this,arguments,function*(){var p,d,y,E;if(o)throw new Ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,D=Ui(C3(e,n)),U;U=yield Ue(D.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const k=E;if(!T)if(k.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield Ue(JSON.parse(k.data))}catch(z){throw l.error("Could not parse message into JSON:",k.data),l.error("From chunk:",k.raw),z}}}catch(k){d={error:k}}finally{try{!A&&!p&&(y=D.return)&&(yield Ue(y.call(D)))}finally{if(d)throw d.error}}T=!0}catch(k){if(Cm(k))return yield Ue(void 0);throw k}finally{T||n.abort()}})}return new Sl(u,n,i)}static fromReadableStream(e,n,i){let o=!1;function l(){return Li(this,arguments,function*(){var p,d,y,E;const T=new cd,A=q1(e);try{for(var D=!0,U=Ui(A),k;k=yield Ue(U.next()),p=k.done,!p;D=!0){E=k.value,D=!1;const z=E;for(const j of T.decode(z))yield yield Ue(j)}}catch(z){d={error:z}}finally{try{!D&&!p&&(y=U.return)&&(yield Ue(y.call(U)))}finally{if(d)throw d.error}}for(const z of T.flush())yield yield Ue(z)})}function u(){return Li(this,arguments,function*(){var p,d,y,E;if(o)throw new Ai("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let T=!1;try{try{for(var A=!0,D=Ui(l()),U;U=yield Ue(D.next()),p=U.done,!p;A=!0){E=U.value,A=!1;const k=E;T||k&&(yield yield Ue(JSON.parse(k)))}}catch(k){d={error:k}}finally{try{!A&&!p&&(y=D.return)&&(yield Ue(y.call(D)))}finally{if(d)throw d.error}}T=!0}catch(k){if(Cm(k))return yield Ue(void 0);throw k}finally{T||n.abort()}})}return new Sl(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new Sl(()=>o(e),this.controller,this.client),new Sl(()=>o(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return F1({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const u=xg(JSON.stringify(o)+`
`);i.enqueue(u)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function C3(t,e){return Li(this,arguments,function*(){var i,o,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ai("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ai("Attempted to iterate over a response with no body");const f=new w3,p=new cd,d=q1(t.body);try{for(var y=!0,E=Ui(I3(d)),T;T=yield Ue(E.next()),i=T.done,!i;y=!0){u=T.value,y=!1;const A=u;for(const D of p.decode(A)){const U=f.decode(D);U&&(yield yield Ue(U))}}}catch(A){o={error:A}}finally{try{!y&&!i&&(l=E.return)&&(yield Ue(l.call(E)))}finally{if(o)throw o.error}}for(const A of p.flush()){const D=f.decode(A);D&&(yield yield Ue(D))}})}function I3(t){return Li(this,arguments,function*(){var n,i,o,l;let u=new Uint8Array;try{for(var f=!0,p=Ui(t),d;d=yield Ue(p.next()),n=d.done,!n;f=!0){l=d.value,f=!1;const y=l;if(y==null)continue;const E=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?xg(y):y;let T=new Uint8Array(u.length+E.length);T.set(u),T.set(E,u.length),u=T;let A;for(;(A=A3(u))!==-1;)yield yield Ue(u.slice(0,A)),u=u.slice(A)}}catch(y){i={error:y}}finally{try{!f&&!n&&(o=p.return)&&(yield Ue(o.call(p)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Ue(u))})}class w3{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,o]=R3(e,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function R3(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function b3(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=e,u=await(async()=>{var f;if(e.options.stream)return bn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Sl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const p=n.headers.get("content-type"),d=(f=p==null?void 0:p.split(";")[0])===null||f===void 0?void 0:f.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await n.json():await n.text()})();return bn(t).debug(`[${i}] response parsed`,ys({retryOfRequestLogID:o,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cg extends Promise{constructor(e,n,i=b3){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Cg(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $1=Symbol("brand.privateNullableHeaders");function*N3(t){if(!t)return;if($1 in t){const{values:i,nulls:o}=t;yield*i.entries();for(const l of o)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():tS(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=tS(i[1])?i[1]:[i[1]];let u=!1;for(const f of l)f!==void 0&&(e&&!u&&(u=!0,yield[o,null]),yield[o,f])}}const eu=t=>{const e=new Headers,n=new Set;for(const i of t){const o=new Set;for(const[l,u]of N3(i)){const f=l.toLowerCase();o.has(f)||(e.delete(l),o.add(f)),u===null?(e.delete(l),n.add(f)):(e.append(l,u),n.delete(f))}}return{[$1]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kp=t=>{var e,n,i,o,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=nM)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,t))===null||u===void 0?void 0:u.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var K1;class fd{constructor(e){var n,i,o,l,u,f,p,{baseURL:d=Kp("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(n=Kp("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:E="v1beta"}=e,T=Lf(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:y,apiVersion:E},T),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(i=A.timeout)!==null&&i!==void 0?i:fd.DEFAULT_TIMEOUT,this.logger=(o=A.logger)!==null&&o!==void 0?o:console;const D="warn";this.logLevel=D,this.logLevel=(u=(l=sS(A.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:sS(Kp("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:D,this.fetchOptions=A.fetchOptions,this.maxRetries=(f=A.maxRetries)!==null&&f!==void 0?f:2,this.fetch=(p=A.fetch)!==null&&p!==void 0?p:c3(),this.encoder=h3,this._options=A,this.apiKey=y,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=eu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return eu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return eu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Ai(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${gl}`}defaultIdempotencyKey(){return`stainless-node-retry-${XL()}`}makeStatusError(e,n,i,o){return Nn.generate(e,n,i,o)}buildURL(e,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=jL(e)?new URL(e):new URL(o+(o.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return t3(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:e,path:n},o)))}request(e,n=null){return new Cg(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var o,l,u;const f=await e,p=(o=f.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=p),await this.prepareOptions(f);const{req:d,url:y,timeout:E}=await this.buildRequest(f,{retryCount:p-n});await this.prepareRequest(d,{url:y,options:f});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=i===void 0?"":`, retryOf: ${i}`,D=Date.now();if(bn(this).debug(`[${T}] sending request`,ys({retryOfRequestLogID:i,method:f.method,url:y,options:f,headers:d.headers})),!((l=f.signal)===null||l===void 0)&&l.aborted)throw new wm;const U=new AbortController,k=await this.fetchWithTimeout(y,d,E,U).catch(Im),z=Date.now();if(k instanceof globalThis.Error){const H=`retrying, ${n} attempts remaining`;if(!((u=f.signal)===null||u===void 0)&&u.aborted)throw new wm;const re=Cm(k)||/timed? ?out/i.test(String(k)+("cause"in k?String(k.cause):""));if(n)return bn(this).info(`[${T}] connection ${re?"timed out":"failed"} - ${H}`),bn(this).debug(`[${T}] connection ${re?"timed out":"failed"} (${H})`,ys({retryOfRequestLogID:i,url:y,durationMs:z-D,message:k.message})),this.retryRequest(f,n,i??T);throw bn(this).info(`[${T}] connection ${re?"timed out":"failed"} - error; no more retries left`),bn(this).debug(`[${T}] connection ${re?"timed out":"failed"} (error; no more retries left)`,ys({retryOfRequestLogID:i,url:y,durationMs:z-D,message:k.message})),re?new N1:new ud({cause:k})}const j=`[${T}${A}] ${d.method} ${y} ${k.ok?"succeeded":"failed"} with status ${k.status} in ${z-D}ms`;if(!k.ok){const H=await this.shouldRetry(k);if(n&&H){const b=`retrying, ${n} attempts remaining`;return await d3(k.body),bn(this).info(`${j} - ${b}`),bn(this).debug(`[${T}] response error (${b})`,ys({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:z-D})),this.retryRequest(f,n,i??T,k.headers)}const re=H?"error; no more retries left":"error; not retryable";bn(this).info(`${j} - ${re}`);const pe=await k.text().catch(b=>Im(b).message),K=r3(pe),N=K?void 0:pe;throw bn(this).debug(`[${T}] response error (${re})`,ys({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,message:N,durationMs:Date.now()-D})),this.makeStatusError(k.status,K,N,k.headers)}return bn(this).info(j),bn(this).debug(`[${T}] response start`,ys({retryOfRequestLogID:i,url:k.url,status:k.status,headers:k.headers,durationMs:z-D})),{response:k,options:f,controller:U,requestLogID:T,retryOfRequestLogID:i,startTime:D}}async fetchWithTimeout(e,n,i,o){const l=n||{},{signal:u,method:f}=l,p=Lf(l,["signal","method"]);u&&u.addEventListener("abort",()=>o.abort());const d=setTimeout(()=>o.abort(),i),y=globalThis.ReadableStream&&p.body instanceof globalThis.ReadableStream||typeof p.body=="object"&&p.body!==null&&Symbol.asyncIterator in p.body,E=Object.assign(Object.assign(Object.assign({signal:o.signal},y?{duplex:"half"}:{}),{method:"GET"}),p);f&&(E.method=f.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(d)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,o){var l;let u;const f=o==null?void 0:o.get("retry-after-ms");if(f){const d=parseFloat(f);Number.isNaN(d)||(u=d)}const p=o==null?void 0:o.get("retry-after");if(p&&!u){const d=parseFloat(p);Number.isNaN(d)?u=Date.parse(p)-Date.now():u=d*1e3}if(!(u&&0<=u&&u<60*1e3)){const d=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,d)}return await o3(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),f=1-Math.random()*.25;return u*f*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,o,l;const u=Object.assign({},e),{method:f,path:p,query:d,defaultBaseURL:y}=u,E=this.buildURL(p,d,y);"timeout"in u&&i3("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:u}),D=await this.buildHeaders({options:e,method:f,bodyHeaders:T,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:f,headers:D},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:E,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let f=eu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),u3()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(f),f.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=eu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:f3(e)}:this.encoder({body:e,headers:i})}}fd.DEFAULT_TIMEOUT=6e4;class cn extends fd{constructor(){super(...arguments),this.interactions=new J1(this)}}K1=cn;cn.GeminiNextGenAPIClient=K1;cn.GeminiNextGenAPIClientError=Ai;cn.APIError=Nn;cn.APIConnectionError=ud;cn.APIConnectionTimeoutError=N1;cn.APIUserAbortError=wm;cn.NotFoundError=k1;cn.ConflictError=V1;cn.RateLimitError=U1;cn.BadRequestError=D1;cn.AuthenticationError=M1;cn.InternalServerError=O1;cn.PermissionDeniedError=P1;cn.UnprocessableEntityError=L1;cn.toFile=_3;cn.Interactions=J1;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D3(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function M3(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function P3(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function k3(t,e){const n={},i=h(t,["sdkHttpResponse"]);return i!=null&&m(n,["sdkHttpResponse"],i),n}function V3(t,e,n){const i={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=h(t,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&m(e,["displayName"],o),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=h(t,["epochCount"]);e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","epochCount"],l);const u=h(t,["learningRateMultiplier"]);if(u!=null&&m(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const f=h(t,["batchSize"]);e!==void 0&&f!=null&&m(e,["tuningTask","hyperparameters","batchSize"],f);const p=h(t,["learningRate"]);if(e!==void 0&&p!=null&&m(e,["tuningTask","hyperparameters","learningRate"],p),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function L3(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec"],aS(A))}else if(o==="PREFERENCE_TUNING"){const A=h(t,["validationDataset"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec"],aS(A))}const l=h(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&m(e,["tunedModelDisplayName"],l);const u=h(t,["description"]);e!==void 0&&u!=null&&m(e,["description"],u);let f=h(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],A)}else if(f==="PREFERENCE_TUNING"){const A=h(t,["epochCount"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],A)}let p=h(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],A)}else if(p==="PREFERENCE_TUNING"){const A=h(t,["learningRateMultiplier"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],A)}let d=h(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],A)}else if(d==="PREFERENCE_TUNING"){const A=h(t,["exportLastCheckpointOnly"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],A)}let y=h(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],A)}else if(y==="PREFERENCE_TUNING"){const A=h(t,["adapterSize"]);e!==void 0&&A!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],A)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=h(t,["labels"]);e!==void 0&&E!=null&&m(e,["labels"],E);const T=h(t,["beta"]);return e!==void 0&&T!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],T),i}function U3(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&K3(l);const u=h(t,["config"]);return u!=null&&V3(u,n),n}function O3(t,e){const n={},i=h(t,["baseModel"]);i!=null&&m(n,["baseModel"],i);const o=h(t,["preTunedModel"]);o!=null&&m(n,["preTunedModel"],o);const l=h(t,["trainingDataset"]);l!=null&&Q3(l,n,e);const u=h(t,["config"]);return u!=null&&L3(u,n,e),n}function F3(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function q3(t,e){const n={},i=h(t,["name"]);return i!=null&&m(n,["_url","name"],i),n}function B3(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function z3(t,e,n){const i={},o=h(t,["pageSize"]);e!==void 0&&o!=null&&m(e,["_query","pageSize"],o);const l=h(t,["pageToken"]);e!==void 0&&l!=null&&m(e,["_query","pageToken"],l);const u=h(t,["filter"]);return e!==void 0&&u!=null&&m(e,["_query","filter"],u),i}function H3(t,e){const n={},i=h(t,["config"]);return i!=null&&B3(i,n),n}function G3(t,e){const n={},i=h(t,["config"]);return i!=null&&z3(i,n),n}function Y3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Q1(f))),m(n,["tuningJobs"],u)}return n}function J3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["nextPageToken"]);o!=null&&m(n,["nextPageToken"],o);const l=h(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Nm(f))),m(n,["tuningJobs"],u)}return n}function $3(t,e){const n={},i=h(t,["name"]);i!=null&&m(n,["model"],i);const o=h(t,["name"]);return o!=null&&m(n,["endpoint"],o),n}function K3(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=h(t,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),m(n,["examples","examples"],o)}return n}function Q3(t,e,n){const i={};let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(o==="PREFERENCE_TUNING"){const u=h(t,["gcsUri"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=h(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Q1(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],f1(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["tuningTask","startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["tuningTask","completeTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["description"]);y!=null&&m(n,["description"],y);const E=h(t,["baseModel"]);E!=null&&m(n,["baseModel"],E);const T=h(t,["_self"]);return T!=null&&m(n,["tunedModel"],$3(T)),n}function Nm(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["state"]);l!=null&&m(n,["state"],f1(l));const u=h(t,["createTime"]);u!=null&&m(n,["createTime"],u);const f=h(t,["startTime"]);f!=null&&m(n,["startTime"],f);const p=h(t,["endTime"]);p!=null&&m(n,["endTime"],p);const d=h(t,["updateTime"]);d!=null&&m(n,["updateTime"],d);const y=h(t,["error"]);y!=null&&m(n,["error"],y);const E=h(t,["description"]);E!=null&&m(n,["description"],E);const T=h(t,["baseModel"]);T!=null&&m(n,["baseModel"],T);const A=h(t,["tunedModel"]);A!=null&&m(n,["tunedModel"],A);const D=h(t,["preTunedModel"]);D!=null&&m(n,["preTunedModel"],D);const U=h(t,["supervisedTuningSpec"]);U!=null&&m(n,["supervisedTuningSpec"],U);const k=h(t,["preferenceOptimizationSpec"]);k!=null&&m(n,["preferenceOptimizationSpec"],k);const z=h(t,["tuningDataStats"]);z!=null&&m(n,["tuningDataStats"],z);const j=h(t,["encryptionSpec"]);j!=null&&m(n,["encryptionSpec"],j);const H=h(t,["partnerModelTuningSpec"]);H!=null&&m(n,["partnerModelTuningSpec"],H);const re=h(t,["customBaseModel"]);re!=null&&m(n,["customBaseModel"],re);const pe=h(t,["experiment"]);pe!=null&&m(n,["experiment"],pe);const K=h(t,["labels"]);K!=null&&m(n,["labels"],K);const N=h(t,["outputUri"]);N!=null&&m(n,["outputUri"],N);const M=h(t,["pipelineJob"]);M!=null&&m(n,["pipelineJob"],M);const b=h(t,["serviceAccount"]);b!=null&&m(n,["serviceAccount"],b);const F=h(t,["tunedModelDisplayName"]);F!=null&&m(n,["tunedModelDisplayName"],F);const L=h(t,["veoTuningSpec"]);return L!=null&&m(n,["veoTuningSpec"],L),n}function X3(t,e){const n={},i=h(t,["sdkHttpResponse"]);i!=null&&m(n,["sdkHttpResponse"],i);const o=h(t,["name"]);o!=null&&m(n,["name"],o);const l=h(t,["metadata"]);l!=null&&m(n,["metadata"],l);const u=h(t,["done"]);u!=null&&m(n,["done"],u);const f=h(t,["error"]);return f!=null&&m(n,["error"],f),n}function aS(t,e){const n={},i=h(t,["gcsUri"]);i!=null&&m(n,["validationDatasetUri"],i);const o=h(t,["vertexDatasetResource"]);return o!=null&&m(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W3 extends Gr{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new xs(Fr.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:_m.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=q3(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Nm(y))}else{const d=F3(e);return f=Te("{name}",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>Q1(y))}}async listInternal(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=G3(e);return f=Te("tuningJobs",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=J3(y),T=new kT;return Object.assign(T,E),T})}else{const d=H3(e);return f=Te("tunedModels",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=Y3(y),T=new kT;return Object.assign(T,E),T})}}async cancel(e){var n,i,o,l;let u,f="",p={};if(this.apiClient.isVertexAI()){const d=M3(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=k3(y),T=new VT;return Object.assign(T,E),T})}else{const d=D3(e);return f=Te("{name}:cancel",d._url),p=d._query,delete d._url,delete d._query,u=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:y.headers},T})),u.then(y=>{const E=P3(y),T=new VT;return Object.assign(T,E),T})}}async tuneInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI()){const f=O3(e,e);return l=Te("tuningJobs",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>Nm(p))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let o,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=U3(e);return l=Te("tunedModels",f._url),u=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(d=>{const y=d;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>X3(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j3{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Z3=1024*1024*8,eU=3,tU=1e3,nU=2,Of="x-goog-upload-status";async function iU(t,e,n){var i;const o=await X1(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function rU(t,e,n){var i;const o=await X1(t,e,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Of])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=o1(l),f=new _g;return Object.assign(f,u),f}async function X1(t,e,n){var i,o;let l=0,u=0,f=new vm(new Response),p="upload";for(l=t.size;u<l;){const d=Math.min(Z3,l-u),y=t.slice(u,u+d);u+d>=l&&(p+=", finalize");let E=0,T=tU;for(;E<eU&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(u),"Content-Length":String(d)}}}),!(!((i=f==null?void 0:f.headers)===null||i===void 0)&&i[Of]));)E++,await sU(T),T=T*nU;if(u+=d,((o=f==null?void 0:f.headers)===null||o===void 0?void 0:o[Of])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return f}async function oU(t){return{size:t.size,type:t.type}}function sU(t){return new Promise(e=>setTimeout(e,t))}class lU{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await iU(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rU(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await oU(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aU{create(e,n,i){return new uU(e,n,i)}}class uU{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uS="x-goog-api-key";class cU{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(uS)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(uS,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fU="gl-node/";class dU{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new cn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=sM(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const o=new cU(this.apiKey);this.apiClient=new oL({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:fU+"web",uploader:new lU,downloader:new j3}),this.models=new xL(this.apiClient),this.live=new _L(this.apiClient,o,new aU),this.batches=new VP(this.apiClient),this.chats=new gk(this.models,this.apiClient),this.caches=new hk(this.apiClient),this.files=new Ik(this.apiClient),this.operations=new CL(this.apiClient),this.authTokens=new BL(this.apiClient),this.tunings=new W3(this.apiClient),this.fileSearchStores=new QL(this.apiClient)}}const hU=async t=>{try{const n=await new dU({apiKey:"AIzaSyDi-aNH2xR674uo_FFcgzi0Rgydp7TeZqM"}).models.generateContent({model:"gemini-3-flash-preview",contents:`Based on the Fatwa title: "${t}", suggest:
      1. "medical_context": A string of relevant English medical terms (comma separated).
      2. "tags": An array of relevant Arabic search tags (short keywords).
      
      Return ONLY JSON.`,config:{responseMimeType:"application/json",responseSchema:{type:Ti.OBJECT,properties:{medical_context:{type:Ti.STRING},tags:{type:Ti.ARRAY,items:{type:Ti.STRING}}}}}});return n.text?JSON.parse(n.text):{medical_context:"",tags:[]}}catch(e){return console.error("Gemini Suggestion Error:",e),{medical_context:"",tags:[]}}},pU={[le.SURGERY]:"surg",[le.WOMEN_PREGNANCY]:"obgyn",[le.ICU_DEATH]:"icu",[le.FASTING_MEDICINE]:"fast",[le.ETHICS]:"ethics",[le.GENETICS_REPRODUCTION]:"genetic",[le.TATTOO_CORTISONE]:"tattoo",[le.PRAYER_PURITY]:"prayer",[le.MEDICAL_EXPERIMENTS]:"exp",[le.PHARMACY_DRUGS]:"pharm",[le.MISCELLANEOUS]:"misc"},mU=({onClose:t,onAddFatwa:e,onDeleteFatwa:n,onUpdateFatwa:i,currentFatwas:o,currentLataif:l,onAddLatifa:u,onUpdateLatifa:f,onDeleteLatifa:p})=>{var tt;const[d,y]=Le.useState(!1),[E,T]=Le.useState(""),[A,D]=Le.useState(!1),[U,k]=Le.useState("fatwas"),[z,j]=Le.useState("add"),[H,re]=Le.useState({verdict:"CONDITIONAL",tags:[]}),[pe,K]=Le.useState(""),[N,M]=Le.useState(""),[b,F]=Le.useState(!1),[L,q]=Le.useState(!1),[V,ge]=Le.useState(!1),[me,B]=Le.useState(""),[te,he]=Le.useState(""),[Se,O]=Le.useState(null),[Y,ie]=Le.useState("add"),[P,_e]=Le.useState({text:"",category:"",source:""}),[Re,Ie]=Le.useState(""),[Me,st]=Le.useState(null),[lt,en]=Le.useState(void 0),[Dn,ii]=Le.useState(0);Le.useEffect(()=>{if(l.length>0){const ue=Math.max(...l.map(Je=>Je.id));ii(ue+1)}else ii(1)},[l,Y]);const Bi=ue=>{ue.preventDefault(),E==="Faioumy9954"?(y(!0),D(!1)):D(!0)};Le.useEffect(()=>{H.category&&!H.id&&In(H.category)},[H.category]);const In=ue=>{const Je=pU[ue],Xe=o.filter($e=>$e.category===ue).length+1,_t=new Date().getFullYear(),Bt=`${Je}_${String(Xe).padStart(3,"0")}_${_t}`;re($e=>({...$e,id:Bt}))},ri=()=>H.title&&H.category&&H.question&&H.ruling&&H.id,oi=()=>{if(!ri()){alert("    (   )");return}ge(!0)},zi=()=>{H&&ri()&&(Se?(i(H),alert("   "),O(null)):(e(H),alert("   ")),re({verdict:"CONDITIONAL",tags:[]}),ge(!1),M(""))},vr=ue=>{re(ue),O(ue.id),j("add")},wt=()=>{re({verdict:"CONDITIONAL",tags:[]}),O(null)},Dt=()=>{if(!ri()){alert("    (   )");return}const ue=`  {
    id: '${H.id}',
    category: CategoryId.${H.category},
    title: '${H.title}',
    question: '${H.question}',
    medical_context: '${H.medical_context||""}',
    ruling: \`${H.ruling}\`,
    verdict: '${H.verdict}',
    source: '${H.source||""}',
    tags: [${(H.tags||[]).map(Je=>`'${Je}'`).join(", ")}]
  },`;M(ue)},si=ue=>{navigator.clipboard.writeText(ue),F(!0),setTimeout(()=>F(!1),2e3)},zo=ue=>{ue.key==="Enter"&&pe.trim()&&(ue.preventDefault(),re(Je=>({...Je,tags:[...Je.tags||[],pe.trim()]})),K(""))},Jr=ue=>{re(Je=>({...Je,tags:(Je.tags||[]).filter(Xe=>Xe!==ue)}))},tn=async()=>{if(!H.title){alert("    ");return}q(!0);try{const ue=await hU(H.title);re(Je=>({...Je,medical_context:ue.medical_context,tags:[...Je.tags||[],...ue.tags]}))}catch(ue){console.error(ue),alert("    ")}finally{q(!1)}},Gn=o.filter(ue=>{const Je=ue.title.includes(me)||ue.id.includes(me)||ue.question.includes(me),Xe=te?ue.category===te:!0;return Je&&Xe}),se=()=>{if(!P.text){alert("   ");return}if(Me!==null){const ue={id:Me,text:P.text,category:P.category||void 0,source:P.source||void 0,_firestoreId:lt};f(ue),alert("   "),st(null),en(void 0)}else{const ue={id:Dn,text:P.text,category:P.category||void 0,source:P.source||void 0};u(ue),alert("   "),ii(Je=>Je+1)}_e({text:"",category:"",source:""})},ve=ue=>{_e({text:ue.text,category:ue.category||"",source:ue.source||""}),st(ue.id),en(ue._firestoreId),ie("add")},De=()=>{st(null),en(void 0),_e({text:"",category:"",source:""})},Be=l.filter(ue=>{var Xe,_t;const Je=Re.toLowerCase();return ue.text.toLowerCase().includes(Je)||((Xe=ue.category)==null?void 0:Xe.toLowerCase().includes(Je))||((_t=ue.source)==null?void 0:_t.toLowerCase().includes(Je))});return d?V&&H?I.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4 font-cairo dir-rtl backdrop-blur-sm overflow-hidden",children:I.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl animate-in zoom-in-95 duration-300",children:[I.jsxs("div",{className:"p-4 border-b border-gray-100 flex justify-between items-center bg-purple-50 rounded-t-3xl",children:[I.jsxs("h3",{className:"font-bold text-purple-800 flex items-center gap-2",children:[I.jsx(Gv,{className:"w-5 h-5"}),"  "]}),I.jsx("button",{onClick:()=>ge(!1),className:"p-2 hover:bg-purple-100 rounded-full text-purple-600",children:I.jsx(ou,{className:"w-5 h-5"})})]}),I.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/50",children:I.jsx("div",{className:"max-w-xl mx-auto",children:I.jsx(Sf,{fatwa:H})})}),I.jsxs("div",{className:"p-4 border-t border-gray-100 bg-white rounded-b-3xl flex gap-3",children:[I.jsxs("button",{onClick:()=>ge(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[I.jsx(Uw,{className:"w-4 h-4"})," "]}),I.jsxs("button",{onClick:zi,className:"flex-1 py-3 bg-green-600 hover:bg-green-700 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition-all hover:scale-[1.02]",children:[I.jsx(Ef,{className:"w-5 h-5"}),"  "]})]})]})}):I.jsxs("div",{className:"fixed inset-0 bg-gray-100 z-50 overflow-y-auto font-cairo dir-rtl text-right",children:[I.jsxs("div",{className:"bg-[#7c3aed] text-white p-6 shadow-lg relative overflow-hidden",children:[I.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-20 -mt-20"}),I.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-white opacity-5 rounded-full -ml-10 -mb-10"}),I.jsxs("div",{className:"max-w-5xl mx-auto flex justify-between items-center relative z-10",children:[I.jsxs("div",{className:"flex items-center gap-3",children:[I.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:I.jsx(fR,{className:"w-6 h-6 text-white"})}),I.jsxs("div",{children:[I.jsx("h1",{className:"text-2xl font-bold",children:"  "}),I.jsx("p",{className:"text-purple-100 text-xs opacity-90",children:"   "})]})]}),I.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:I.jsx(ou,{className:"w-6 h-6"})})]})]}),I.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-40 shadow-sm",children:I.jsx("div",{className:"max-w-5xl mx-auto flex justify-center",children:I.jsxs("div",{className:"flex w-full max-w-md p-1 bg-gray-100 rounded-xl my-2",children:[I.jsxs("button",{onClick:()=>k("fatwas"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${U==="fatwas"?"bg-white text-purple-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[I.jsx(oR,{className:"w-4 h-4"})," "]}),I.jsxs("button",{onClick:()=>k("lataif"),className:`flex-1 py-2 text-sm font-bold rounded-lg flex items-center justify-center gap-2 transition-all ${U==="lataif"?"bg-white text-amber-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[I.jsx(rm,{className:"w-4 h-4"})," "]})]})})}),I.jsxs("div",{className:"max-w-5xl mx-auto p-6",children:[U==="fatwas"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[I.jsxs("button",{onClick:()=>j("add"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${z==="add"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[I.jsx(Np,{className:"w-4 h-4"})," "]}),I.jsxs("button",{onClick:()=>j("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${z==="list"?"border-[#7c3aed] text-[#7c3aed]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[I.jsx(Dp,{className:"w-4 h-4"}),"  (",o.length,")"]})]}),z==="add"?I.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[I.jsx("div",{className:"lg:col-span-2 space-y-6",children:I.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-6 text-gray-800",children:[I.jsx(Np,{className:"w-6 h-6 text-[#7c3aed]"}),I.jsx("h2",{className:"text-xl font-bold",children:Se?" ":"  "}),Se&&I.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full font-bold",children:" "})]}),I.jsxs("div",{className:"space-y-5",children:[I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),I.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] focus:border-transparent outline-none transition-all",value:H.category||"",onChange:ue=>re({...H,category:ue.target.value}),children:[I.jsx("option",{value:"",children:" "}),su.map(ue=>I.jsx("option",{value:ue.id,children:ue.name},ue.id))]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  (ID) - "}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm dir-ltr text-right",value:H.id||""}),I.jsx("button",{onClick:()=>H.category&&In(H.category),className:"p-3 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:" ",children:I.jsx(ER,{className:"w-5 h-5"})})]})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),I.jsxs("div",{className:"flex gap-2",children:[I.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:":   ",value:H.title||"",onChange:ue=>re({...H,title:ue.target.value})}),I.jsxs("button",{onClick:tn,disabled:L,className:"min-w-[140px] flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-xl px-4 font-bold text-xs shadow-md hover:shadow-lg transition-all active:scale-95 disabled:opacity-50",children:[L?I.jsx(mR,{className:"w-4 h-4 animate-spin"}):I.jsx(tg,{className:"w-4 h-4"}),L?" ...":" "]})]}),I.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:'    " "       .'})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),I.jsx("textarea",{rows:3,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   ...",value:H.question||"",onChange:ue=>re({...H,question:ue.target.value})})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),I.jsxs("select",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",value:H.verdict,onChange:ue=>re({...H,verdict:ue.target.value}),children:[I.jsx("option",{value:"CONDITIONAL",children:" ( )"}),I.jsx("option",{value:"PERMITTED",children:" / "}),I.jsx("option",{value:"FORBIDDEN",children:" / "})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" *"}),I.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none",placeholder:"   -   ...",value:H.source||"",onChange:ue=>re({...H,source:ue.target.value})})]})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"   *"}),I.jsx("div",{className:"bg-orange-50 border border-orange-100 p-2 rounded-lg mb-2 text-xs text-orange-700",children:":      ."}),I.jsx("textarea",{rows:8,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none font-mono text-sm leading-relaxed",placeholder:"   ...",value:H.ruling||"",onChange:ue=>re({...H,ruling:ue.target.value})})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ()"}),I.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#7c3aed] outline-none text-left dir-ltr placeholder:text-right",placeholder:"surgery, transplant, ...   ",value:H.medical_context||"",onChange:ue=>re({...H,medical_context:ue.target.value})})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  ( Enter )"}),I.jsxs("div",{className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus-within:ring-2 focus-within:ring-[#7c3aed] focus-within:bg-white transition-all flex flex-wrap gap-2",children:[(tt=H.tags)==null?void 0:tt.map((ue,Je)=>I.jsxs("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded-lg text-sm flex items-center gap-1",children:["#",ue,I.jsx("button",{onClick:()=>Jr(ue),className:"hover:text-purple-900",children:I.jsx(ou,{className:"w-3 h-3"})})]},Je)),I.jsx("input",{type:"text",className:"bg-transparent outline-none flex-1 min-w-[120px]",placeholder:"   Enter",value:pe,onChange:ue=>K(ue.target.value),onKeyDown:zo})]})]}),I.jsxs("div",{className:"flex flex-col gap-3 pt-4 border-t border-gray-100 mt-4",children:[I.jsxs("div",{className:"flex gap-3",children:[I.jsxs("button",{onClick:oi,className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-md active:scale-95",children:[I.jsx(Gv,{className:"w-5 h-5"}),Se?" ":"  "]}),I.jsx("button",{onClick:()=>re({verdict:"CONDITIONAL",tags:[]}),className:"px-6 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-xl font-bold transition-colors",children:" "}),Se&&I.jsx("button",{onClick:wt,className:"px-6 bg-red-100 hover:bg-red-200 text-red-700 rounded-xl font-bold transition-colors",children:" "})]}),I.jsxs("button",{onClick:Dt,className:"w-full bg-green-50 text-green-700 hover:bg-green-100 border border-green-200 py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-sm",children:[I.jsx(tR,{className:"w-4 h-4"}),"   ()"]})]})]})]})}),I.jsxs("div",{className:"space-y-6",children:[I.jsxs("div",{className:`bg-[#1e1e1e] rounded-2xl shadow-lg border border-gray-800 overflow-hidden transition-all duration-500 ${N?"opacity-100 translate-y-0":"opacity-50 translate-y-4 grayscale"}`,children:[I.jsxs("div",{className:"bg-[#2d2d2d] p-3 flex justify-between items-center border-b border-gray-700",children:[I.jsx("span",{className:"text-gray-400 text-xs font-mono",children:"constants.ts snippet"}),I.jsxs("button",{onClick:()=>si(N),disabled:!N,className:"flex items-center gap-1 text-xs bg-white/10 hover:bg-white/20 text-white px-2 py-1 rounded transition-colors disabled:opacity-50",children:[b?I.jsx(Ef,{className:"w-3 h-3"}):I.jsx(SA,{className:"w-3 h-3"}),b?" ":""]})]}),I.jsx("div",{className:"p-4 relative",children:I.jsx("textarea",{readOnly:!0,value:N||'//  " "     ...',className:"w-full h-[400px] bg-transparent text-green-400 font-mono text-xs outline-none resize-none dir-ltr text-left"})})]}),I.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-2xl p-5",children:[I.jsxs("h3",{className:"font-bold text-blue-800 mb-3 flex items-center gap-2",children:[I.jsx(Dp,{className:"w-4 h-4"})," "]}),I.jsxs("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:[" ",I.jsx("strong",{children:'"  "'}),"         (   ).         ",I.jsx("strong",{children:'" "'}),"  ."]})]})]})]}):I.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[I.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"font-bold text-gray-700",children:" "}),I.jsx("span",{className:"text-xs bg-purple-100 text-purple-700 px-2 py-1 rounded-full font-bold",children:Gn.length})]}),I.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[I.jsxs("select",{value:te,onChange:ue=>he(ue.target.value),className:"p-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm min-w-[150px]",children:[I.jsx("option",{value:"",children:" "}),su.map(ue=>I.jsx("option",{value:ue.id,children:ue.name},ue.id))]}),I.jsxs("div",{className:"relative w-full sm:w-64",children:[I.jsx("input",{type:"text",placeholder:"  ...",value:me,onChange:ue=>B(ue.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-purple-500 outline-none text-sm"}),I.jsx(om,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]})]}),I.jsx("div",{className:"overflow-x-auto flex-1",children:I.jsxs("table",{className:"w-full text-sm",children:[I.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:I.jsxs("tr",{children:[I.jsx("th",{className:"px-4 py-3 text-right",children:"ID"}),I.jsx("th",{className:"px-4 py-3 text-right",children:""}),I.jsx("th",{className:"px-4 py-3 text-right",children:""}),I.jsx("th",{className:"px-4 py-3 text-right",children:""}),I.jsx("th",{className:"px-4 py-3 text-center",children:""})]})}),I.jsx("tbody",{className:"divide-y divide-gray-100",children:Gn.length>0?Gn.map(ue=>{var Je;return I.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[I.jsx("td",{className:"px-4 py-3 font-mono text-gray-500 dir-ltr text-right text-xs",children:ue.id}),I.jsx("td",{className:"px-4 py-3",children:I.jsx("span",{className:"px-2 py-1 rounded-full bg-gray-100 text-xs whitespace-nowrap",children:(Je=su.find(Xe=>Xe.id===ue.category))==null?void 0:Je.name})}),I.jsx("td",{className:"px-4 py-3 font-bold text-gray-800 max-w-xs truncate",children:ue.title}),I.jsx("td",{className:"px-4 py-3 text-gray-500 truncate max-w-[150px] text-xs",children:ue.source}),I.jsxs("td",{className:"px-4 py-3 text-center",children:[I.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),vr(ue)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors cursor-pointer",title:"",children:I.jsx(Mp,{className:"w-4 h-4"})}),I.jsx("button",{onClick:Xe=>{Xe.stopPropagation(),window.confirm("      ")&&n(ue.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors cursor-pointer",title:"",children:I.jsx(Yv,{className:"w-4 h-4"})})]})]},ue.id)}):I.jsx("tr",{children:I.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"    "})})})]})})]})]}),U==="lataif"&&I.jsxs(I.Fragment,{children:[I.jsxs("div",{className:"flex items-center gap-2 mb-6 border-b border-gray-200 pb-1",children:[I.jsxs("button",{onClick:()=>{ie("add"),st(null),en(void 0),_e({text:"",category:"",source:""})},className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Y==="add"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[I.jsx(Np,{className:"w-4 h-4"}),Me!==null?" ":" "]}),I.jsxs("button",{onClick:()=>ie("list"),className:`px-4 py-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${Y==="list"?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[I.jsx(Dp,{className:"w-4 h-4"}),"  (",l.length,")"]})]}),Y==="add"?I.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[I.jsxs("div",{className:"flex items-center justify-between mb-6",children:[I.jsxs("div",{className:"flex items-center gap-2 text-gray-800",children:[Me!==null?I.jsx(Mp,{className:"w-6 h-6 text-amber-500"}):I.jsx(rm,{className:"w-6 h-6 text-amber-500"}),I.jsx("h2",{className:"text-xl font-bold",children:Me!==null?" ":"  "})]}),Me!==null&&I.jsx("button",{onClick:De,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:" "})]}),I.jsxs("div",{className:"space-y-5",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" ()"}),I.jsx("input",{type:"text",readOnly:!0,className:"w-full p-3 bg-gray-100 border border-gray-200 rounded-xl text-gray-500 font-mono text-sm",value:Me!==null?Me:Dn})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"  *"}),I.jsx("textarea",{rows:4,className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"  ...",value:P.text,onChange:ue=>_e({...P,text:ue.target.value})})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),I.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":  ",value:P.category||"",onChange:ue=>_e({...P,category:ue.target.value})})]}),I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),I.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 outline-none",placeholder:":   ",value:P.source||"",onChange:ue=>_e({...P,source:ue.target.value})})]})]}),I.jsxs("button",{onClick:se,className:"w-full py-3 bg-amber-500 hover:bg-amber-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 shadow-md transition-all hover:scale-[1.02] mt-4",children:[Me!==null?I.jsx(SR,{className:"w-5 h-5"}):I.jsx(Ef,{className:"w-5 h-5"}),Me!==null?" ":" "]})]})]}):I.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden min-h-[500px] flex flex-col",children:[I.jsxs("div",{className:"p-4 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row justify-between items-center gap-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx("span",{className:"font-bold text-gray-700",children:" "}),I.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full font-bold",children:Be.length})]}),I.jsxs("div",{className:"relative w-full sm:w-64",children:[I.jsx("input",{type:"text",placeholder:"  ...",value:Re,onChange:ue=>Ie(ue.target.value),className:"w-full pl-3 pr-10 py-2 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none text-sm"}),I.jsx(om,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"})]})]}),I.jsx("div",{className:"overflow-x-auto flex-1",children:I.jsxs("table",{className:"w-full text-sm",children:[I.jsx("thead",{className:"bg-gray-50 text-gray-600 sticky top-0",children:I.jsxs("tr",{children:[I.jsx("th",{className:"px-4 py-3 text-right w-16",children:"#"}),I.jsx("th",{className:"px-4 py-3 text-right",children:""}),I.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),I.jsx("th",{className:"px-4 py-3 text-right w-32",children:""}),I.jsx("th",{className:"px-4 py-3 text-center w-28",children:""})]})}),I.jsx("tbody",{className:"divide-y divide-gray-100",children:Be.length>0?Be.map(ue=>I.jsxs("tr",{className:"hover:bg-amber-50/30 transition-colors",children:[I.jsx("td",{className:"px-4 py-3 font-mono text-gray-500",children:ue.id}),I.jsx("td",{className:"px-4 py-3 font-medium text-gray-800 line-clamp-2",children:ue.text}),I.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ue.category||"-"}),I.jsx("td",{className:"px-4 py-3 text-xs text-gray-500",children:ue.source||"-"}),I.jsx("td",{className:"px-4 py-3 text-center",children:I.jsxs("div",{className:"flex items-center justify-center gap-2",children:[I.jsx("button",{type:"button",onClick:()=>ve(ue),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:I.jsx(Mp,{className:"w-4 h-4"})}),I.jsx("button",{type:"button",onClick:()=>{window.confirm("      ")&&p(ue.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:I.jsx(Yv,{className:"w-4 h-4"})})]})})]},ue.id)):I.jsx("tr",{children:I.jsx("td",{colSpan:5,className:"py-10 text-center text-gray-400",children:"  "})})})]})})]})]})]})]}):I.jsx("div",{className:"fixed inset-0 bg-gray-100 z-50 flex items-center justify-center font-cairo dir-rtl",children:I.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl w-full max-w-md border border-gray-100",children:[I.jsxs("div",{className:"flex flex-col items-center mb-6",children:[I.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mb-4",children:I.jsx(yR,{className:"w-8 h-8 text-purple-600"})}),I.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:" "}),I.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"   "})]}),I.jsxs("form",{onSubmit:Bi,className:"space-y-4",children:[I.jsxs("div",{children:[I.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:" "}),I.jsx("input",{type:"password",value:E,onChange:ue=>T(ue.target.value),className:"w-full p-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none text-center text-lg",placeholder:"  ",autoFocus:!0})]}),A&&I.jsx("div",{className:"text-red-500 text-sm text-center font-bold bg-red-50 p-2 rounded-lg",children:"   "}),I.jsxs("div",{className:"flex gap-3 mt-6",children:[I.jsx("button",{type:"button",onClick:t,className:"flex-1 py-3 text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-xl font-bold transition-colors",children:""}),I.jsx("button",{type:"submit",className:"flex-1 py-3 text-white bg-purple-600 hover:bg-purple-700 rounded-xl font-bold transition-colors shadow-md",children:""})]})]})]})})},gU=({data:t})=>{const[e,n]=Le.useState(null),[i,o]=Le.useState(!1);return Le.useEffect(()=>{if(!sessionStorage.getItem("latifa_shown_session")&&t&&t.length>0){const u=Math.floor(Math.random()*t.length);n(t[u]),o(!0),sessionStorage.setItem("latifa_shown_session","true")}},[t]),!e||!i?null:I.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/10 backdrop-blur-[2px] animate-in fade-in duration-500 cursor-pointer",onClick:()=>o(!1),children:I.jsxs("div",{className:"w-full max-w-lg bg-white/95 backdrop-blur-xl rounded-3xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-amber-100 p-6 relative transform transition-all hover:scale-[1.02] duration-300",onClick:l=>{o(!1)},children:[I.jsx("button",{className:"absolute top-4 left-4 p-2 bg-gray-100/50 hover:bg-red-50 text-gray-400 hover:text-red-500 rounded-full transition-colors",onClick:l=>{l.stopPropagation(),o(!1)},children:I.jsx(ou,{className:"w-4 h-4"})}),I.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[I.jsx("div",{className:"bg-amber-100 p-2 rounded-full shadow-inner",children:I.jsx(tg,{className:"w-5 h-5 text-amber-600 fill-amber-600"})}),I.jsxs("div",{children:[I.jsx("h3",{className:"font-bold text-gray-800 text-lg font-cairo",children:" "}),e.category&&I.jsx("span",{className:"text-[10px] bg-amber-50 text-amber-700 px-2 py-0.5 rounded-full border border-amber-100 font-bold",children:e.category})]})]}),I.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 opacity-[0.03] pointer-events-none",children:I.jsx(rm,{className:"w-48 h-48"})}),I.jsxs("div",{className:"text-center py-2 px-2 relative z-10",children:[I.jsxs("p",{className:"text-xl font-bold text-gray-800 font-amiri leading-10 text-right dir-rtl whitespace-pre-wrap",children:['"',e.text,'"']}),e.source&&I.jsxs("div",{className:"mt-4 flex items-center justify-end gap-1 text-sm text-gray-500 font-medium dir-rtl",children:[I.jsx("span",{className:"text-amber-500",children:"~"}),I.jsx("span",{children:e.source})]})]}),I.jsx("div",{className:"mt-6 flex justify-center",children:I.jsx("p",{className:"text-[10px] text-gray-400 font-cairo animate-pulse",children:"(    )"})})]})})},yU=()=>{};var cS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_U=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=t[n++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=t[n++],u=t[n++],f=t[n++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},j1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const l=t[o],u=o+1<t.length,f=u?t[o+1]:0,p=o+2<t.length,d=p?t[o+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|d>>6,A=d&63;p||(A=64,u||(T=64)),i.push(n[y],n[E],n[T],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(W1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_U(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const l=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const d=o<t.length?n[t.charAt(o)]:64;++o;const E=o<t.length?n[t.charAt(o)]:64;if(++o,l==null||f==null||d==null||E==null)throw new vU;const T=l<<2|f>>4;if(i.push(T),d!==64){const A=f<<4&240|d>>2;if(i.push(A),E!==64){const D=d<<6&192|E;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EU=function(t){const e=W1(t);return j1.encodeByteArray(e,!0)},Ff=function(t){return EU(t).replace(/\./g,"")},TU=function(t){try{return j1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=()=>SU().__FIREBASE_DEFAULTS__,xU=()=>{if(typeof process>"u"||typeof cS>"u")return;const t=cS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TU(t[1]);return e&&JSON.parse(e)},Ig=()=>{try{return yU()||AU()||xU()||CU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},IU=t=>{var e,n;return(n=(e=Ig())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},wU=t=>{const e=IU(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Z1=()=>{var t;return(t=Ig())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bU(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Ff(JSON.stringify(n)),Ff(JSON.stringify(u)),""].join(".")}const cu={};function DU(){const t={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?t.emulator.push(e):t.prod.push(e);return t}function MU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fS=!1;function PU(t,e){if(typeof window>"u"||typeof document>"u"||!wg(window.location.host)||cu[t]===e||cu[t]||fS)return;cu[t]=e;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=DU().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function d(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{fS=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=MU(i),A=n("text"),D=document.getElementById(A)||document.createElement("span"),U=n("learnmore"),k=document.getElementById(U)||document.createElement("a"),z=n("preprendIcon"),j=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;f(H),y(k,U);const re=d();p(j,z),H.append(j,D,k,re),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kU(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VU(){var e;const t=(e=Ig())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LU(){return!VU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UU(){try{return typeof indexedDB=="object"}catch{return!1}}function OU(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU="FirebaseError";class zl extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=FU,Object.setPrototypeOf(this,zl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ex.prototype.create)}}class ex{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?qU(l,i):"Error",f=`${this.serviceName}: ${u} (${o}).`;return new zl(o,f,i)}}function qU(t,e){return t.replace(BU,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const BU=/\{\$([^}]+)}/g;function qf(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const l=t[o],u=e[o];if(dS(l)&&dS(u)){if(!qf(l,u))return!1}else if(l!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function dS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){return t&&t._delegate?t._delegate:t}class gu{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new RU;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GU(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(o)}return o}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HU(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HU(t){return t===_s?void 0:t}function GU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const JU={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},$U=rt.INFO,KU={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},QU=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=KU[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tx{constructor(e){this.name=e,this._logLevel=$U,this._logHandler=QU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const XU=(t,e)=>e.some(n=>t instanceof n);let hS,pS;function WU(){return hS||(hS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jU(){return pS||(pS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,Dm=new WeakMap,ix=new WeakMap,Qp=new WeakMap,Rg=new WeakMap;function ZU(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(wo(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&nx.set(n,t)}).catch(()=>{}),Rg.set(e,t),e}function e5(t){if(Dm.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Dm.set(t,e)}let Mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ix.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function t5(t){Mm=t(Mm)}function n5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Xp(this),e,...n);return ix.set(i,e.sort?e.sort():[e]),wo(i)}:jU().includes(t)?function(...e){return t.apply(Xp(this),e),wo(nx.get(this))}:function(...e){return wo(t.apply(Xp(this),e))}}function i5(t){return typeof t=="function"?n5(t):(t instanceof IDBTransaction&&e5(t),XU(t,WU())?new Proxy(t,Mm):t)}function wo(t){if(t instanceof IDBRequest)return ZU(t);if(Qp.has(t))return Qp.get(t);const e=i5(t);return e!==t&&(Qp.set(t,e),Rg.set(e,t)),e}const Xp=t=>Rg.get(t);function r5(t,e,{blocked:n,upgrade:i,blocking:o,terminated:l}={}){const u=indexedDB.open(t,e),f=wo(u);return i&&u.addEventListener("upgradeneeded",p=>{i(wo(u.result),p.oldVersion,p.newVersion,wo(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",d=>o(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const o5=["get","getKey","getAll","getAllKeys","count"],s5=["put","add","delete","clear"],Wp=new Map;function mS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=s5.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||o5.includes(n)))return;const l=async function(u,...f){const p=this.transaction(u,o?"readwrite":"readonly");let d=p.store;return i&&(d=d.index(f.shift())),(await Promise.all([d[n](...f),o&&p.done]))[0]};return Wp.set(e,l),l}t5(t=>({...t,get:(e,n,i)=>mS(e,n)||t.get(e,n,i),has:(e,n)=>!!mS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a5(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function a5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",gS="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new tx("@firebase/app"),u5="@firebase/app-compat",c5="@firebase/analytics-compat",f5="@firebase/analytics",d5="@firebase/app-check-compat",h5="@firebase/app-check",p5="@firebase/auth",m5="@firebase/auth-compat",g5="@firebase/database",y5="@firebase/data-connect",_5="@firebase/database-compat",v5="@firebase/functions",E5="@firebase/functions-compat",T5="@firebase/installations",S5="@firebase/installations-compat",A5="@firebase/messaging",x5="@firebase/messaging-compat",C5="@firebase/performance",I5="@firebase/performance-compat",w5="@firebase/remote-config",R5="@firebase/remote-config-compat",b5="@firebase/storage",N5="@firebase/storage-compat",D5="@firebase/firestore",M5="@firebase/ai",P5="@firebase/firestore-compat",k5="firebase",V5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",L5={[Pm]:"fire-core",[u5]:"fire-core-compat",[f5]:"fire-analytics",[c5]:"fire-analytics-compat",[h5]:"fire-app-check",[d5]:"fire-app-check-compat",[p5]:"fire-auth",[m5]:"fire-auth-compat",[g5]:"fire-rtdb",[y5]:"fire-data-connect",[_5]:"fire-rtdb-compat",[v5]:"fire-fn",[E5]:"fire-fn-compat",[T5]:"fire-iid",[S5]:"fire-iid-compat",[A5]:"fire-fcm",[x5]:"fire-fcm-compat",[C5]:"fire-perf",[I5]:"fire-perf-compat",[w5]:"fire-rc",[R5]:"fire-rc-compat",[b5]:"fire-gcs",[N5]:"fire-gcs-compat",[D5]:"fire-fst",[P5]:"fire-fst-compat",[M5]:"fire-vertex","fire-js":"fire-js",[k5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf=new Map,U5=new Map,Vm=new Map;function yS(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zf(t){const e=t.name;if(Vm.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,t);for(const n of Bf.values())yS(n,t);for(const n of U5.values())yS(n,t);return!0}function O5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function F5(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new ex("app","Firebase",q5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5=V5;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:km,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw Ro.create("bad-app-name",{appName:String(o)});if(n||(n=Z1()),!n)throw Ro.create("no-options");const l=Bf.get(o);if(l){if(qf(n,l.options)&&qf(i,l.config))return l;throw Ro.create("duplicate-app",{appName:o})}const u=new YU(o);for(const p of Vm.values())u.addComponent(p);const f=new B5(n,i,u);return Bf.set(o,f),f}function H5(t=km){const e=Bf.get(t);if(!e&&t===km&&Z1())return rx();if(!e)throw Ro.create("no-app",{appName:t});return e}function wl(t,e,n){let i=L5[t]??t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(u.join(" "));return}zf(new gu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="firebase-heartbeat-database",Y5=1,yu="firebase-heartbeat-store";let jp=null;function ox(){return jp||(jp=r5(G5,Y5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),jp}async function J5(t){try{const n=(await ox()).transaction(yu),i=await n.objectStore(yu).get(sx(t));return await n.done,i}catch(e){if(e instanceof zl)Br.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function _S(t,e){try{const i=(await ox()).transaction(yu,"readwrite");await i.objectStore(yu).put(e,sx(t)),await i.done}catch(n){if(n instanceof zl)Br.warn(n.message);else{const i=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(i.message)}}}function sx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=1024,K5=30;class Q5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W5(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>K5){const u=j5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Br.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vS(),{heartbeatsToSend:i,unsentEntries:o}=X5(this._heartbeatsCache.heartbeats),l=Ff(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Br.warn(n),""}}}function vS(){return new Date().toISOString().substring(0,10)}function X5(t,e=$5){const n=[];let i=t.slice();for(const o of t){const l=n.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),ES(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ES(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class W5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UU()?OU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return _S(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ES(t){return Ff(JSON.stringify({version:2,heartbeats:t})).length}function j5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){zf(new gu("platform-logger",e=>new l5(e),"PRIVATE")),zf(new gu("heartbeat",e=>new Q5(e),"PRIVATE")),wl(Pm,gS,t),wl(Pm,gS,"esm2020"),wl("fire-js","")}Z5("");var eO="firebase",tO="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wl(eO,tO,"app");var TS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bo,lx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,M){function b(){}b.prototype=M.prototype,N.F=M.prototype,N.prototype=new b,N.prototype.constructor=N,N.D=function(F,L,q){for(var V=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)V[ge-2]=arguments[ge];return M.prototype[L].apply(F,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,M,b){b||(b=0);const F=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)F[L]=M.charCodeAt(b++)|M.charCodeAt(b++)<<8|M.charCodeAt(b++)<<16|M.charCodeAt(b++)<<24;else for(L=0;L<16;++L)F[L]=M[b++]|M[b++]<<8|M[b++]<<16|M[b++]<<24;M=N.g[0],b=N.g[1],L=N.g[2];let q=N.g[3],V;V=M+(q^b&(L^q))+F[0]+3614090360&4294967295,M=b+(V<<7&4294967295|V>>>25),V=q+(L^M&(b^L))+F[1]+3905402710&4294967295,q=M+(V<<12&4294967295|V>>>20),V=L+(b^q&(M^b))+F[2]+606105819&4294967295,L=q+(V<<17&4294967295|V>>>15),V=b+(M^L&(q^M))+F[3]+3250441966&4294967295,b=L+(V<<22&4294967295|V>>>10),V=M+(q^b&(L^q))+F[4]+4118548399&4294967295,M=b+(V<<7&4294967295|V>>>25),V=q+(L^M&(b^L))+F[5]+1200080426&4294967295,q=M+(V<<12&4294967295|V>>>20),V=L+(b^q&(M^b))+F[6]+2821735955&4294967295,L=q+(V<<17&4294967295|V>>>15),V=b+(M^L&(q^M))+F[7]+4249261313&4294967295,b=L+(V<<22&4294967295|V>>>10),V=M+(q^b&(L^q))+F[8]+1770035416&4294967295,M=b+(V<<7&4294967295|V>>>25),V=q+(L^M&(b^L))+F[9]+2336552879&4294967295,q=M+(V<<12&4294967295|V>>>20),V=L+(b^q&(M^b))+F[10]+4294925233&4294967295,L=q+(V<<17&4294967295|V>>>15),V=b+(M^L&(q^M))+F[11]+2304563134&4294967295,b=L+(V<<22&4294967295|V>>>10),V=M+(q^b&(L^q))+F[12]+1804603682&4294967295,M=b+(V<<7&4294967295|V>>>25),V=q+(L^M&(b^L))+F[13]+4254626195&4294967295,q=M+(V<<12&4294967295|V>>>20),V=L+(b^q&(M^b))+F[14]+2792965006&4294967295,L=q+(V<<17&4294967295|V>>>15),V=b+(M^L&(q^M))+F[15]+1236535329&4294967295,b=L+(V<<22&4294967295|V>>>10),V=M+(L^q&(b^L))+F[1]+4129170786&4294967295,M=b+(V<<5&4294967295|V>>>27),V=q+(b^L&(M^b))+F[6]+3225465664&4294967295,q=M+(V<<9&4294967295|V>>>23),V=L+(M^b&(q^M))+F[11]+643717713&4294967295,L=q+(V<<14&4294967295|V>>>18),V=b+(q^M&(L^q))+F[0]+3921069994&4294967295,b=L+(V<<20&4294967295|V>>>12),V=M+(L^q&(b^L))+F[5]+3593408605&4294967295,M=b+(V<<5&4294967295|V>>>27),V=q+(b^L&(M^b))+F[10]+38016083&4294967295,q=M+(V<<9&4294967295|V>>>23),V=L+(M^b&(q^M))+F[15]+3634488961&4294967295,L=q+(V<<14&4294967295|V>>>18),V=b+(q^M&(L^q))+F[4]+3889429448&4294967295,b=L+(V<<20&4294967295|V>>>12),V=M+(L^q&(b^L))+F[9]+568446438&4294967295,M=b+(V<<5&4294967295|V>>>27),V=q+(b^L&(M^b))+F[14]+3275163606&4294967295,q=M+(V<<9&4294967295|V>>>23),V=L+(M^b&(q^M))+F[3]+4107603335&4294967295,L=q+(V<<14&4294967295|V>>>18),V=b+(q^M&(L^q))+F[8]+1163531501&4294967295,b=L+(V<<20&4294967295|V>>>12),V=M+(L^q&(b^L))+F[13]+2850285829&4294967295,M=b+(V<<5&4294967295|V>>>27),V=q+(b^L&(M^b))+F[2]+4243563512&4294967295,q=M+(V<<9&4294967295|V>>>23),V=L+(M^b&(q^M))+F[7]+1735328473&4294967295,L=q+(V<<14&4294967295|V>>>18),V=b+(q^M&(L^q))+F[12]+2368359562&4294967295,b=L+(V<<20&4294967295|V>>>12),V=M+(b^L^q)+F[5]+4294588738&4294967295,M=b+(V<<4&4294967295|V>>>28),V=q+(M^b^L)+F[8]+2272392833&4294967295,q=M+(V<<11&4294967295|V>>>21),V=L+(q^M^b)+F[11]+1839030562&4294967295,L=q+(V<<16&4294967295|V>>>16),V=b+(L^q^M)+F[14]+4259657740&4294967295,b=L+(V<<23&4294967295|V>>>9),V=M+(b^L^q)+F[1]+2763975236&4294967295,M=b+(V<<4&4294967295|V>>>28),V=q+(M^b^L)+F[4]+1272893353&4294967295,q=M+(V<<11&4294967295|V>>>21),V=L+(q^M^b)+F[7]+4139469664&4294967295,L=q+(V<<16&4294967295|V>>>16),V=b+(L^q^M)+F[10]+3200236656&4294967295,b=L+(V<<23&4294967295|V>>>9),V=M+(b^L^q)+F[13]+681279174&4294967295,M=b+(V<<4&4294967295|V>>>28),V=q+(M^b^L)+F[0]+3936430074&4294967295,q=M+(V<<11&4294967295|V>>>21),V=L+(q^M^b)+F[3]+3572445317&4294967295,L=q+(V<<16&4294967295|V>>>16),V=b+(L^q^M)+F[6]+76029189&4294967295,b=L+(V<<23&4294967295|V>>>9),V=M+(b^L^q)+F[9]+3654602809&4294967295,M=b+(V<<4&4294967295|V>>>28),V=q+(M^b^L)+F[12]+3873151461&4294967295,q=M+(V<<11&4294967295|V>>>21),V=L+(q^M^b)+F[15]+530742520&4294967295,L=q+(V<<16&4294967295|V>>>16),V=b+(L^q^M)+F[2]+3299628645&4294967295,b=L+(V<<23&4294967295|V>>>9),V=M+(L^(b|~q))+F[0]+4096336452&4294967295,M=b+(V<<6&4294967295|V>>>26),V=q+(b^(M|~L))+F[7]+1126891415&4294967295,q=M+(V<<10&4294967295|V>>>22),V=L+(M^(q|~b))+F[14]+2878612391&4294967295,L=q+(V<<15&4294967295|V>>>17),V=b+(q^(L|~M))+F[5]+4237533241&4294967295,b=L+(V<<21&4294967295|V>>>11),V=M+(L^(b|~q))+F[12]+1700485571&4294967295,M=b+(V<<6&4294967295|V>>>26),V=q+(b^(M|~L))+F[3]+2399980690&4294967295,q=M+(V<<10&4294967295|V>>>22),V=L+(M^(q|~b))+F[10]+4293915773&4294967295,L=q+(V<<15&4294967295|V>>>17),V=b+(q^(L|~M))+F[1]+2240044497&4294967295,b=L+(V<<21&4294967295|V>>>11),V=M+(L^(b|~q))+F[8]+1873313359&4294967295,M=b+(V<<6&4294967295|V>>>26),V=q+(b^(M|~L))+F[15]+4264355552&4294967295,q=M+(V<<10&4294967295|V>>>22),V=L+(M^(q|~b))+F[6]+2734768916&4294967295,L=q+(V<<15&4294967295|V>>>17),V=b+(q^(L|~M))+F[13]+1309151649&4294967295,b=L+(V<<21&4294967295|V>>>11),V=M+(L^(b|~q))+F[4]+4149444226&4294967295,M=b+(V<<6&4294967295|V>>>26),V=q+(b^(M|~L))+F[11]+3174756917&4294967295,q=M+(V<<10&4294967295|V>>>22),V=L+(M^(q|~b))+F[2]+718787259&4294967295,L=q+(V<<15&4294967295|V>>>17),V=b+(q^(L|~M))+F[9]+3951481745&4294967295,N.g[0]=N.g[0]+M&4294967295,N.g[1]=N.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+q&4294967295}i.prototype.v=function(N,M){M===void 0&&(M=N.length);const b=M-this.blockSize,F=this.C;let L=this.h,q=0;for(;q<M;){if(L==0)for(;q<=b;)o(this,N,q),q+=this.blockSize;if(typeof N=="string"){for(;q<M;)if(F[L++]=N.charCodeAt(q++),L==this.blockSize){o(this,F),L=0;break}}else for(;q<M;)if(F[L++]=N[q++],L==this.blockSize){o(this,F),L=0;break}}this.h=L,this.o+=M},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var M=1;M<N.length-8;++M)N[M]=0;M=this.o*8;for(var b=N.length-8;b<N.length;++b)N[b]=M&255,M/=256;for(this.v(N),N=Array(16),M=0,b=0;b<4;++b)for(let F=0;F<32;F+=8)N[M++]=this.g[b]>>>F&255;return N};function l(N,M){var b=f;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=M(N)}function u(N,M){this.h=M;const b=[];let F=!0;for(let L=N.length-1;L>=0;L--){const q=N[L]|0;F&&q==M||(b[L]=q,F=!1)}this.g=b}var f={};function p(N){return-128<=N&&N<128?l(N,function(M){return new u([M|0],M<0?-1:0)}):new u([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return E;if(N<0)return k(d(-N));const M=[];let b=1;for(let F=0;N>=b;F++)M[F]=N/b|0,b*=4294967296;return new u(M,0)}function y(N,M){if(N.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(N.charAt(0)=="-")return k(y(N.substring(1),M));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(M,8));let F=E;for(let q=0;q<N.length;q+=8){var L=Math.min(8,N.length-q);const V=parseInt(N.substring(q,q+L),M);L<8?(L=d(Math.pow(M,L)),F=F.j(L).add(d(V))):(F=F.j(b),F=F.add(d(V)))}return F}var E=p(0),T=p(1),A=p(16777216);t=u.prototype,t.m=function(){if(U(this))return-k(this).m();let N=0,M=1;for(let b=0;b<this.g.length;b++){const F=this.i(b);N+=(F>=0?F:4294967296+F)*M,M*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(D(this))return"0";if(U(this))return"-"+k(this).toString(N);const M=d(Math.pow(N,6));var b=this;let F="";for(;;){const L=re(b,M).g;b=z(b,L.j(M));let q=((b.g.length>0?b.g[0]:b.h)>>>0).toString(N);if(b=L,D(b))return q+F;for(;q.length<6;)q="0"+q;F=q+F}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function D(N){if(N.h!=0)return!1;for(let M=0;M<N.g.length;M++)if(N.g[M]!=0)return!1;return!0}function U(N){return N.h==-1}t.l=function(N){return N=z(this,N),U(N)?-1:D(N)?0:1};function k(N){const M=N.g.length,b=[];for(let F=0;F<M;F++)b[F]=~N.g[F];return new u(b,~N.h).add(T)}t.abs=function(){return U(this)?k(this):this},t.add=function(N){const M=Math.max(this.g.length,N.g.length),b=[];let F=0;for(let L=0;L<=M;L++){let q=F+(this.i(L)&65535)+(N.i(L)&65535),V=(q>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);F=V>>>16,q&=65535,V&=65535,b[L]=V<<16|q}return new u(b,b[b.length-1]&-2147483648?-1:0)};function z(N,M){return N.add(k(M))}t.j=function(N){if(D(this)||D(N))return E;if(U(this))return U(N)?k(this).j(k(N)):k(k(this).j(N));if(U(N))return k(this.j(k(N)));if(this.l(A)<0&&N.l(A)<0)return d(this.m()*N.m());const M=this.g.length+N.g.length,b=[];for(var F=0;F<2*M;F++)b[F]=0;for(F=0;F<this.g.length;F++)for(let L=0;L<N.g.length;L++){const q=this.i(F)>>>16,V=this.i(F)&65535,ge=N.i(L)>>>16,me=N.i(L)&65535;b[2*F+2*L]+=V*me,j(b,2*F+2*L),b[2*F+2*L+1]+=q*me,j(b,2*F+2*L+1),b[2*F+2*L+1]+=V*ge,j(b,2*F+2*L+1),b[2*F+2*L+2]+=q*ge,j(b,2*F+2*L+2)}for(N=0;N<M;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=M;N<2*M;N++)b[N]=0;return new u(b,0)};function j(N,M){for(;(N[M]&65535)!=N[M];)N[M+1]+=N[M]>>>16,N[M]&=65535,M++}function H(N,M){this.g=N,this.h=M}function re(N,M){if(D(M))throw Error("division by zero");if(D(N))return new H(E,E);if(U(N))return M=re(k(N),M),new H(k(M.g),k(M.h));if(U(M))return M=re(N,k(M)),new H(k(M.g),M.h);if(N.g.length>30){if(U(N)||U(M))throw Error("slowDivide_ only works with positive integers.");for(var b=T,F=M;F.l(N)<=0;)b=pe(b),F=pe(F);var L=K(b,1),q=K(F,1);for(F=K(F,2),b=K(b,2);!D(F);){var V=q.add(F);V.l(N)<=0&&(L=L.add(b),q=V),F=K(F,1),b=K(b,1)}return M=z(N,L.j(M)),new H(L,M)}for(L=E;N.l(M)>=0;){for(b=Math.max(1,Math.floor(N.m()/M.m())),F=Math.ceil(Math.log(b)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),q=d(b),V=q.j(M);U(V)||V.l(N)>0;)b-=F,q=d(b),V=q.j(M);D(q)&&(q=T),L=L.add(q),N=z(N,V)}return new H(L,N)}t.B=function(N){return re(this,N).h},t.and=function(N){const M=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<M;F++)b[F]=this.i(F)&N.i(F);return new u(b,this.h&N.h)},t.or=function(N){const M=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<M;F++)b[F]=this.i(F)|N.i(F);return new u(b,this.h|N.h)},t.xor=function(N){const M=Math.max(this.g.length,N.g.length),b=[];for(let F=0;F<M;F++)b[F]=this.i(F)^N.i(F);return new u(b,this.h^N.h)};function pe(N){const M=N.g.length+1,b=[];for(let F=0;F<M;F++)b[F]=N.i(F)<<1|N.i(F-1)>>>31;return new u(b,N.h)}function K(N,M){const b=M>>5;M%=32;const F=N.g.length-b,L=[];for(let q=0;q<F;q++)L[q]=M>0?N.i(q+b)>>>M|N.i(q+b+1)<<32-M:N.i(q+b);return new u(L,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,lx=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=y,bo=u}).apply(typeof TS<"u"?TS:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ax,nu,ux,Cf,Lm,cx,fx,dx;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var S=0;S<g.length;++S){var C=g[S];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var i=n(this);function o(g,S){if(S)e:{var C=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var Q=g[R];if(!(Q in C))break e;C=C[Q]}g=g[g.length-1],R=C[g],S=S(R),S!=R&&S!=null&&e(C,g,{configurable:!0,writable:!0,value:S})}}o("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(g){return g||function(S){var C=[],R;for(R in S)Object.prototype.hasOwnProperty.call(S,R)&&C.push([R,S[R]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var S=typeof g;return S=="object"&&g!=null||S=="function"}function p(g,S,C){return g.call.apply(g.bind,arguments)}function d(g,S,C){return d=p,d.apply(null,arguments)}function y(g,S){var C=Array.prototype.slice.call(arguments,1);return function(){var R=C.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function E(g,S){function C(){}C.prototype=S.prototype,g.Z=S.prototype,g.prototype=new C,g.prototype.constructor=g,g.Ob=function(R,Q,ee){for(var Ee=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)Ee[ze-2]=arguments[ze];return S.prototype[Q].apply(R,Ee)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function A(g){const S=g.length;if(S>0){const C=Array(S);for(let R=0;R<S;R++)C[R]=g[R];return C}return[]}function D(g,S){for(let R=1;R<arguments.length;R++){const Q=arguments[R];var C=typeof Q;if(C=C!="object"?C:Q?Array.isArray(Q)?"array":C:"null",C=="array"||C=="object"&&typeof Q.length=="number"){C=g.length||0;const ee=Q.length||0;g.length=C+ee;for(let Ee=0;Ee<ee;Ee++)g[C+Ee]=Q[Ee]}else g.push(Q)}}class U{constructor(S,C){this.i=S,this.j=C,this.h=0,this.g=null}get(){let S;return this.h>0?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function k(g){u.setTimeout(()=>{throw g},0)}function z(){var g=N;let S=null;return g.g&&(S=g.g,g.g=g.g.next,g.g||(g.h=null),S.next=null),S}class j{constructor(){this.h=this.g=null}add(S,C){const R=H.get();R.set(S,C),this.h?this.h.next=R:this.g=R,this.h=R}}var H=new U(()=>new re,g=>g.reset());class re{constructor(){this.next=this.g=this.h=null}set(S,C){this.h=S,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,K=!1,N=new j,M=()=>{const g=Promise.resolve(void 0);pe=()=>{g.then(b)}};function b(){for(var g;g=z();){try{g.h.call(g.g)}catch(C){k(C)}var S=H;S.j(g),S.h<100&&(S.h++,g.next=S.g,S.g=g)}K=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,S){this.type=g,this.g=this.target=S,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,S=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const C=()=>{};u.addEventListener("test",C,S),u.removeEventListener("test",C,S)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function ge(g,S){L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,S)}E(ge,L),ge.prototype.init=function(g,S){const C=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=S,S=g.relatedTarget,S||(C=="mouseover"?S=g.fromElement:C=="mouseout"&&(S=g.toElement)),this.relatedTarget=S,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),B=0;function te(g,S,C,R,Q){this.listener=g,this.proxy=null,this.src=S,this.type=C,this.capture=!!R,this.ha=Q,this.key=++B,this.da=this.fa=!1}function he(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Se(g,S,C){for(const R in g)S.call(C,g[R],R,g)}function O(g,S){for(const C in g)S.call(void 0,g[C],C,g)}function Y(g){const S={};for(const C in g)S[C]=g[C];return S}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(g,S){let C,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(C in R)g[C]=R[C];for(let ee=0;ee<ie.length;ee++)C=ie[ee],Object.prototype.hasOwnProperty.call(R,C)&&(g[C]=R[C])}}function _e(g){this.src=g,this.g={},this.h=0}_e.prototype.add=function(g,S,C,R,Q){const ee=g.toString();g=this.g[ee],g||(g=this.g[ee]=[],this.h++);const Ee=Ie(g,S,R,Q);return Ee>-1?(S=g[Ee],C||(S.fa=!1)):(S=new te(S,this.src,ee,!!R,Q),S.fa=C,g.push(S)),S};function Re(g,S){const C=S.type;if(C in g.g){var R=g.g[C],Q=Array.prototype.indexOf.call(R,S,void 0),ee;(ee=Q>=0)&&Array.prototype.splice.call(R,Q,1),ee&&(he(S),g.g[C].length==0&&(delete g.g[C],g.h--))}}function Ie(g,S,C,R){for(let Q=0;Q<g.length;++Q){const ee=g[Q];if(!ee.da&&ee.listener==S&&ee.capture==!!C&&ee.ha==R)return Q}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),st={};function lt(g,S,C,R,Q){if(Array.isArray(S)){for(let ee=0;ee<S.length;ee++)lt(g,S[ee],C,R,Q);return null}return C=vr(C),g&&g[me]?g.J(S,C,f(R)?!!R.capture:!1,Q):en(g,S,C,!1,R,Q)}function en(g,S,C,R,Q,ee){if(!S)throw Error("Invalid event type");const Ee=f(Q)?!!Q.capture:!!Q;let ze=oi(g);if(ze||(g[Me]=ze=new _e(g)),C=ze.add(S,C,R,Ee,ee),C.proxy)return C;if(R=Dn(),C.proxy=R,R.src=g,R.listener=C,g.addEventListener)q||(Q=Ee),Q===void 0&&(Q=!1),g.addEventListener(S.toString(),R,Q);else if(g.attachEvent)g.attachEvent(In(S.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Dn(){function g(C){return S.call(g.src,g.listener,C)}const S=ri;return g}function ii(g,S,C,R,Q){if(Array.isArray(S))for(var ee=0;ee<S.length;ee++)ii(g,S[ee],C,R,Q);else R=f(R)?!!R.capture:!!R,C=vr(C),g&&g[me]?(g=g.i,ee=String(S).toString(),ee in g.g&&(S=g.g[ee],C=Ie(S,C,R,Q),C>-1&&(he(S[C]),Array.prototype.splice.call(S,C,1),S.length==0&&(delete g.g[ee],g.h--)))):g&&(g=oi(g))&&(S=g.g[S.toString()],g=-1,S&&(g=Ie(S,C,R,Q)),(C=g>-1?S[g]:null)&&Bi(C))}function Bi(g){if(typeof g!="number"&&g&&!g.da){var S=g.src;if(S&&S[me])Re(S.i,g);else{var C=g.type,R=g.proxy;S.removeEventListener?S.removeEventListener(C,R,g.capture):S.detachEvent?S.detachEvent(In(C),R):S.addListener&&S.removeListener&&S.removeListener(R),(C=oi(S))?(Re(C,g),C.h==0&&(C.src=null,S[Me]=null)):he(g)}}}function In(g){return g in st?st[g]:st[g]="on"+g}function ri(g,S){if(g.da)g=!0;else{S=new ge(S,this);const C=g.listener,R=g.ha||g.src;g.fa&&Bi(g),g=C.call(R,S)}return g}function oi(g){return g=g[Me],g instanceof _e?g:null}var zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function vr(g){return typeof g=="function"?g:(g[zi]||(g[zi]=function(S){return g.handleEvent(S)}),g[zi])}function wt(){F.call(this),this.i=new _e(this),this.M=this,this.G=null}E(wt,F),wt.prototype[me]=!0,wt.prototype.removeEventListener=function(g,S,C,R){ii(this,g,S,C,R)};function Dt(g,S){var C,R=g.G;if(R)for(C=[];R;R=R.G)C.push(R);if(g=g.M,R=S.type||S,typeof S=="string")S=new L(S,g);else if(S instanceof L)S.target=S.target||g;else{var Q=S;S=new L(R,g),P(S,Q)}Q=!0;let ee,Ee;if(C)for(Ee=C.length-1;Ee>=0;Ee--)ee=S.g=C[Ee],Q=si(ee,R,!0,S)&&Q;if(ee=S.g=g,Q=si(ee,R,!0,S)&&Q,Q=si(ee,R,!1,S)&&Q,C)for(Ee=0;Ee<C.length;Ee++)ee=S.g=C[Ee],Q=si(ee,R,!1,S)&&Q}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var g=this.i;for(const S in g.g){const C=g.g[S];for(let R=0;R<C.length;R++)he(C[R]);delete g.g[S],g.h--}}this.G=null},wt.prototype.J=function(g,S,C,R){return this.i.add(String(g),S,!1,C,R)},wt.prototype.K=function(g,S,C,R){return this.i.add(String(g),S,!0,C,R)};function si(g,S,C,R){if(S=g.i.g[String(S)],!S)return!0;S=S.concat();let Q=!0;for(let ee=0;ee<S.length;++ee){const Ee=S[ee];if(Ee&&!Ee.da&&Ee.capture==C){const ze=Ee.listener,Ut=Ee.ha||Ee.src;Ee.fa&&Re(g.i,Ee),Q=ze.call(Ut,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function zo(g,S){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(S)>2147483647?-1:u.setTimeout(g,S||0)}function Jr(g){g.g=zo(()=>{g.g=null,g.i&&(g.i=!1,Jr(g))},g.l);const S=g.h;g.h=null,g.m.apply(null,S)}class tn extends F{constructor(S,C){super(),this.m=S,this.l=C,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gn(g){F.call(this),this.h=g,this.g={}}E(Gn,F);var se=[];function ve(g){Se(g.g,function(S,C){this.g.hasOwnProperty(C)&&Bi(S)},g),g.g={}}Gn.prototype.N=function(){Gn.Z.N.call(this),ve(this)},Gn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var De=u.JSON.stringify,Be=u.JSON.parse,tt=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function ue(){}function Je(){}var Xe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _t(){L.call(this,"d")}E(_t,L);function Bt(){L.call(this,"c")}E(Bt,L);var $e={},xi=null;function vn(){return xi=xi||new wt}$e.Ia="serverreachability";function Vu(g){L.call(this,$e.Ia,g)}E(Vu,L);function Hi(g){const S=vn();Dt(S,new Vu(S))}$e.STAT_EVENT="statevent";function Ho(g,S){L.call(this,$e.STAT_EVENT,g),this.stat=S}E(Ho,L);function zt(g){const S=vn();Dt(S,new Ho(S,g))}$e.Ja="timingevent";function Gi(g,S){L.call(this,$e.Ja,g),this.size=S}E(Gi,L);function Yi(g,S){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},S)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function Rd(g,S,C,R,Q,ee){g.info(function(){if(g.g)if(ee){var Ee="",ze=ee.split("&");for(let ft=0;ft<ze.length;ft++){var Ut=ze[ft].split("=");if(Ut.length>1){const Mt=Ut[0];Ut=Ut[1];const ci=Mt.split("_");Ee=ci.length>=2&&ci[1]=="type"?Ee+(Mt+"="+Ut+"&"):Ee+(Mt+"=redacted&")}}}else Ee=null;else Ee=ee;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+S+`
`+C+`
`+Ee})}function Lu(g,S,C,R,Q,ee,Ee){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+S+`
`+C+`
`+ee+" "+Ee})}function Ji(g,S,C,R){g.info(function(){return"XMLHTTP TEXT ("+S+"): "+bd(g,C)+(R?" "+R:"")})}function Go(g,S){g.info(function(){return"TIMEOUT: "+S})}Ci.prototype.info=function(){};function bd(g,S){if(!g.g)return S;if(!S)return null;try{const ee=JSON.parse(S);if(ee){for(g=0;g<ee.length;g++)if(Array.isArray(ee[g])){var C=ee[g];if(!(C.length<2)){var R=C[1];if(Array.isArray(R)&&!(R.length<1)){var Q=R[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let Ee=1;Ee<R.length;Ee++)R[Ee]=""}}}}return De(ee)}catch{return S}}var Yo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Kl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ql;function Jo(){}E(Jo,ue),Jo.prototype.g=function(){return new XMLHttpRequest},Ql=new Jo;function Er(g){return encodeURIComponent(String(g))}function Uu(g){var S=1;g=g.split(":");const C=[];for(;S>0&&g.length;)C.push(g.shift()),S--;return g.length&&C.push(g.join(":")),C}function Ii(g,S,C,R){this.j=g,this.i=S,this.l=C,this.S=R||1,this.V=new Gn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Ht={},sn={};function $i(g,S,C){g.M=1,g.A=$o(Yt(S)),g.u=C,g.R=!0,Rs(g,null)}function Rs(g,S){g.F=Date.now(),Ki(g),g.B=Yt(g.A);var C=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),Ms(C.i,"t",R),g.C=0,C=g.j.L,g.h=new wi,g.g=ju(g.j,C?S:null,!g.u),g.P>0&&(g.O=new tn(d(g.Y,g,g.g),g.P)),S=g.V,C=g.g,R=g.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(se[0]=Q.toString()),Q=se);for(let ee=0;ee<Q.length;ee++){const Ee=lt(C,Q[ee],R||S.handleEvent,!1,S.h||S);if(!Ee)break;S.g[Ee.key]=Ee}S=g.J?Y(g.J):{},g.u?(g.v||(g.v="POST"),S["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,S)):(g.v="GET",g.g.ea(g.B,g.v,null,S)),Hi(),Rd(g.i,g.v,g.B,g.l,g.S,g.u)}Ii.prototype.ba=function(g){g=g.target;const S=this.O;S&&Ni(g)==3?S.j():this.Y(g)},Ii.prototype.Y=function(g){try{if(g==this.g)e:{const ze=Ni(this.g),Ut=this.g.ya(),ft=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||ze!=4||Ut==7||(Ut==8||ft<=0?Hi(3):Hi(2)),Qi(this);var S=this.g.ca();this.X=S;var C=Nd(this);if(this.o=S==200,Lu(this.i,this.v,this.B,this.l,this.S,ze,S),this.o){if(this.U&&!this.L){t:{if(this.g){var R,Q=this.g;if((R=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(R)){var ee=R;break t}}ee=null}if(g=ee)Ji(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xi(this,g);else{this.o=!1,this.m=3,zt(12),Yn(this),li(this);break e}}if(this.R){g=!0;let Mt;for(;!this.K&&this.C<C.length;)if(Mt=Fu(this,C),Mt==sn){ze==4&&(this.m=4,zt(14),g=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Ht){this.m=4,zt(15),Ji(this.i,this.l,C,"[Invalid Chunk]"),g=!1;break}else Ji(this.i,this.l,Mt,null),Xi(this,Mt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||C.length!=0||this.h.h||(this.m=1,zt(16),g=!1),this.o=this.o&&g,!g)Ji(this.i,this.l,C,"[Invalid Chunked Response]"),Yn(this),li(this);else if(C.length>0&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.aa&&!Ee.P&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),ca(Ee),Ee.P=!0,zt(11))}}else Ji(this.i,this.l,C,null),Xi(this,C);ze==4&&Yn(this),this.o&&!this.K&&(ze==4?Ku(this.j,this):(this.o=!1,Ki(this)))}else Sr(this.g),S==400&&C.indexOf("Unknown SID")>0?(this.m=3,zt(12)):(this.m=0,zt(13)),Yn(this),li(this)}}}catch{}finally{}};function Nd(g){if(!Ou(g))return g.g.la();const S=fn(g.g);if(S==="")return"";let C="";const R=S.length,Q=Ni(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Yn(g),li(g),"";g.h.i=new u.TextDecoder}for(let ee=0;ee<R;ee++)g.h.h=!0,C+=g.h.i.decode(S[ee],{stream:!(Q&&ee==R-1)});return S.length=0,g.h.g+=C,g.C=0,g.h.g}function Ou(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Fu(g,S){var C=g.C,R=S.indexOf(`
`,C);return R==-1?sn:(C=Number(S.substring(C,R)),isNaN(C)?Ht:(R+=1,R+C>S.length?sn:(S=S.slice(R,R+C),g.C=R+C,S)))}Ii.prototype.cancel=function(){this.K=!0,Yn(this)};function Ki(g){g.T=Date.now()+g.H,bs(g,g.H)}function bs(g,S){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Yi(d(g.aa,g),S)}function Qi(g){g.D&&(u.clearTimeout(g.D),g.D=null)}Ii.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Go(this.i,this.B),this.M!=2&&(Hi(),zt(17)),Yn(this),this.m=2,li(this)):bs(this,this.T-g)};function li(g){g.j.I==0||g.K||Ku(g.j,g)}function Yn(g){Qi(g);var S=g.O;S&&typeof S.dispose=="function"&&S.dispose(),g.O=null,ve(g.V),g.g&&(S=g.g,g.g=null,S.abort(),S.dispose())}function Xi(g,S){try{var C=g.j;if(C.I!=0&&(C.g==g||ji(C.h,g))){if(!g.L&&ji(C.h,g)&&C.I==3){try{var R=C.Ba.g.parse(S)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<g.F)Us(C),eo(C);else break e;es(C),zt(18)}}else C.xa=Q[1],0<C.xa-C.K&&Q[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Yi(d(C.Va,C),6e3));Wi(C.h)<=1&&C.ta&&(C.ta=void 0)}else rr(C,11)}else if((g.L||C.g==g)&&Us(C),!V(S))for(Q=C.Ba.g.parse(S),S=0;S<Q.length;S++){let ft=Q[S];const Mt=ft[0];if(!(Mt<=C.K))if(C.K=Mt,ft=ft[1],C.I==2)if(ft[0]=="c"){C.M=ft[1],C.ba=ft[2];const ci=ft[3];ci!=null&&(C.ka=ci,C.j.info("VER="+C.ka));const or=ft[4];or!=null&&(C.za=or,C.j.info("SVER="+C.za));const Di=ft[5];Di!=null&&typeof Di=="number"&&Di>0&&(R=1.5*Di,C.O=R,C.j.info("backChannelRequestTimeoutMs_="+R)),R=C;const Mi=g.g;if(Mi){const ts=Mi.g?Mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ts){var ee=R.h;ee.g||ts.indexOf("spdy")==-1&&ts.indexOf("quic")==-1&&ts.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(jl(ee,ee.h),ee.h=null))}if(R.G){const Os=Mi.g?Mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Os&&(R.wa=Os,mt(R.J,R.G,Os))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-g.F,C.j.info("Handshake RTT: "+C.T+"ms")),R=C;var Ee=g;if(R.na=Wu(R,R.L?R.ba:null,R.W),Ee.L){Zl(R.h,Ee);var ze=Ee,Ut=R.O;Ut&&(ze.H=Ut),ze.D&&(Qi(ze),Ki(ze)),R.g=Ee}else Ju(R);C.i.length>0&&ir(C)}else ft[0]!="stop"&&ft[0]!="close"||rr(C,7);else C.I==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?rr(C,7):aa(C):ft[0]!="noop"&&C.l&&C.l.qa(ft),C.A=0)}}Hi(4)}catch{}}var Gt=class{constructor(g,S){this.g=g,this.map=S}};function Xl(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wl(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Wi(g){return g.h?1:g.g?g.g.size:0}function ji(g,S){return g.h?g.h==S:g.g?g.g.has(S):!1}function jl(g,S){g.g?g.g.add(S):g.h=S}function Zl(g,S){g.h&&g.h==S?g.h=null:g.g&&g.g.has(S)&&g.g.delete(S)}Xl.prototype.cancel=function(){if(this.i=ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ea(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let S=g.i;for(const C of g.g.values())S=S.concat(C.G);return S}return A(g.i)}var qu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ns(g,S){if(g){g=g.split("&");for(let C=0;C<g.length;C++){const R=g[C].indexOf("=");let Q,ee=null;R>=0?(Q=g[C].substring(0,R),ee=g[C].substring(R+1)):Q=g[C],S(Q,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function Jn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let S;g instanceof Jn?(this.l=g.l,ln(this,g.j),this.o=g.o,this.g=g.g,$r(this,g.u),this.h=g.h,ta(this,Gu(g.i)),this.m=g.m):g&&(S=String(g).match(qu))?(this.l=!1,ln(this,S[1]||"",!0),this.o=Zi(S[2]||""),this.g=Zi(S[3]||"",!0),$r(this,S[4]),this.h=Zi(S[5]||"",!0),ta(this,S[6]||"",!0),this.m=Zi(S[7]||"")):(this.l=!1,this.i=new Qr(null,this.l))}Jn.prototype.toString=function(){const g=[];var S=this.j;S&&g.push(Ko(S,Ds,!0),":");var C=this.g;return(C||S=="file")&&(g.push("//"),(S=this.o)&&g.push(Ko(S,Ds,!0),"@"),g.push(Er(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&g.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&g.push("/"),g.push(Ko(C,C.charAt(0)=="/"?na:Bu,!0))),(C=this.i.toString())&&g.push("?",C),(C=this.m)&&g.push("#",Ko(C,zu)),g.join("")},Jn.prototype.resolve=function(g){const S=Yt(this);let C=!!g.j;C?ln(S,g.j):C=!!g.o,C?S.o=g.o:C=!!g.g,C?S.g=g.g:C=g.u!=null;var R=g.h;if(C)$r(S,g.u);else if(C=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var Q=S.h.lastIndexOf("/");Q!=-1&&(R=S.h.slice(0,Q+1)+R)}if(Q=R,Q==".."||Q==".")R="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){R=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ee=[];for(let Ee=0;Ee<Q.length;){const ze=Q[Ee++];ze=="."?R&&Ee==Q.length&&ee.push(""):ze==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),R&&Ee==Q.length&&ee.push("")):(ee.push(ze),R=!0)}R=ee.join("/")}else R=Q}return C?S.h=R:C=g.i.toString()!=="",C?ta(S,Gu(g.i)):C=!!g.m,C&&(S.m=g.m),S};function Yt(g){return new Jn(g)}function ln(g,S,C){g.j=C?Zi(S,!0):S,g.j&&(g.j=g.j.replace(/:$/,""))}function $r(g,S){if(S){if(S=Number(S),isNaN(S)||S<0)throw Error("Bad port number "+S);g.u=S}else g.u=null}function ta(g,S,C){S instanceof Qr?(g.i=S,Ps(g.i,g.l)):(C||(S=Ko(S,Kr)),g.i=new Qr(S,g.l))}function mt(g,S,C){g.i.set(S,C)}function $o(g){return mt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Zi(g,S){return g?S?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ko(g,S,C){return typeof g=="string"?(g=encodeURI(g).replace(S,Mn),C&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Mn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ds=/[#\/\?@]/g,Bu=/[#\?:]/g,na=/[#\?]/g,Kr=/[#\?@]/g,zu=/#/g;function Qr(g,S){this.h=this.g=null,this.i=g||null,this.j=!!S}function Pn(g){g.g||(g.g=new Map,g.h=0,g.i&&Ns(g.i,function(S,C){g.add(decodeURIComponent(S.replace(/\+/g," ")),C)}))}t=Qr.prototype,t.add=function(g,S){Pn(this),this.i=null,g=Xr(this,g);let C=this.g.get(g);return C||this.g.set(g,C=[]),C.push(S),this.h+=1,this};function Hu(g,S){Pn(g),S=Xr(g,S),g.g.has(S)&&(g.i=null,g.h-=g.g.get(S).length,g.g.delete(S))}function ia(g,S){return Pn(g),S=Xr(g,S),g.g.has(S)}t.forEach=function(g,S){Pn(this),this.g.forEach(function(C,R){C.forEach(function(Q){g.call(S,Q,R,this)},this)},this)};function ra(g,S){Pn(g);let C=[];if(typeof S=="string")ia(g,S)&&(C=C.concat(g.g.get(Xr(g,S))));else for(g=Array.from(g.g.values()),S=0;S<g.length;S++)C=C.concat(g[S]);return C}t.set=function(g,S){return Pn(this),this.i=null,g=Xr(this,g),ia(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[S]),this.h+=1,this},t.get=function(g,S){return g?(g=ra(this,g),g.length>0?String(g[0]):S):S};function Ms(g,S,C){Hu(g,S),C.length>0&&(g.i=null,g.g.set(Xr(g,S),A(C)),g.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],S=Array.from(this.g.keys());for(let R=0;R<S.length;R++){var C=S[R];const Q=Er(C);C=ra(this,C);for(let ee=0;ee<C.length;ee++){let Ee=Q;C[ee]!==""&&(Ee+="="+Er(C[ee])),g.push(Ee)}}return this.i=g.join("&")};function Gu(g){const S=new Qr;return S.i=g.i,g.g&&(S.g=new Map(g.g),S.h=g.h),S}function Xr(g,S){return S=String(S),g.j&&(S=S.toLowerCase()),S}function Ps(g,S){S&&!g.j&&(Pn(g),g.i=null,g.g.forEach(function(C,R){const Q=R.toLowerCase();R!=Q&&(Hu(this,R),Ms(this,Q,C))},g)),g.j=S}function Ri(g,S){const C=new Ci;if(u.Image){const R=new Image;R.onload=y(ai,C,"TestLoadImage: loaded",!0,S,R),R.onerror=y(ai,C,"TestLoadImage: error",!1,S,R),R.onabort=y(ai,C,"TestLoadImage: abort",!1,S,R),R.ontimeout=y(ai,C,"TestLoadImage: timeout",!1,S,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else S(!1)}function oa(g,S){const C=new Ci,R=new AbortController,Q=setTimeout(()=>{R.abort(),ai(C,"TestPingServer: timeout",!1,S)},1e4);fetch(g,{signal:R.signal}).then(ee=>{clearTimeout(Q),ee.ok?ai(C,"TestPingServer: ok",!0,S):ai(C,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(Q),ai(C,"TestPingServer: error",!1,S)})}function ai(g,S,C,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(C)}catch{}}function Wr(){this.g=new tt}function er(g){this.i=g.Sb||null,this.h=g.ab||!1}E(er,ue),er.prototype.g=function(){return new Qo(this.i,this.h)};function Qo(g,S){wt.call(this),this.H=g,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Qo,wt),t=Qo.prototype,t.open=function(g,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=S,this.readyState=1,bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const S={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(S.body=g),(this.H||u).fetch(new Request(this.D,S)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ks(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ks(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var S=g.value?g.value:new Uint8Array(0);(S=this.B.decode(S,{stream:!g.done}))&&(this.response=this.responseText+=S)}g.done?jr(this):bi(this),this.readyState==3&&ks(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,jr(this))},t.Na=function(g){this.g&&(this.response=g,jr(this))},t.ga=function(){this.g&&jr(this)};function jr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,bi(g)}t.setRequestHeader=function(g,S){this.A.append(g,S)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],S=this.h.entries();for(var C=S.next();!C.done;)C=C.value,g.push(C[0]+": "+C[1]),C=S.next();return g.join(`\r
`)};function bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ui(g){let S="";return Se(g,function(C,R){S+=R,S+=":",S+=C,S+=`\r
`}),S}function Xo(g,S,C){e:{for(R in C){var R=!1;break e}R=!0}R||(C=ui(C),typeof g=="string"?C!=null&&Er(C):mt(g,S,C))}function vt(g){wt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(vt,wt);var tr=/^https?$/i,sa=["POST","PUT"];t=vt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,S,C,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);S=S?S.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ql.g(),this.g.onreadystatechange=T(d(this.Ca,this));try{this.B=!0,this.g.open(S,String(g),!0),this.B=!1}catch(ee){Wo(this,ee);return}if(g=C||"",C=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)C.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())C.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(C.keys()).find(ee=>ee.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(Array.prototype.indexOf.call(sa,S,void 0)>=0)||R||Q||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,Ee]of C)this.g.setRequestHeader(ee,Ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(ee){Wo(this,ee)}};function Wo(g,S){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=S,g.o=5,la(g),Tr(g)}function la(g){g.A||(g.A=!0,Dt(g,"complete"),Dt(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Dt(this,"complete"),Dt(this,"abort"),Tr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?jo(this):this.Xa())},t.Xa=function(){jo(this)};function jo(g){if(g.h&&typeof l<"u"){if(g.v&&Ni(g)==4)setTimeout(g.Ca.bind(g),0);else if(Dt(g,"readystatechange"),Ni(g)==4){g.h=!1;try{const ee=g.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var C;if(!(C=S)){var R;if(R=ee===0){let Ee=String(g.D).match(qu)[1]||null;!Ee&&u.self&&u.self.location&&(Ee=u.self.location.protocol.slice(0,-1)),R=!tr.test(Ee?Ee.toLowerCase():"")}C=R}if(C)Dt(g,"complete"),Dt(g,"success");else{g.o=6;try{var Q=Ni(g)>2?g.g.statusText:""}catch{Q=""}g.l=Q+" ["+g.ca()+"]",la(g)}}finally{Tr(g)}}}}function Tr(g,S){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const C=g.g;g.g=null,S||Dt(g,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var S=this.g.responseText;return g&&S.indexOf(g)==0&&(S=S.substring(g.length)),Be(S)}};function fn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Sr(g){const S={};g=(g.g&&Ni(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(V(g[R]))continue;var C=Uu(g[R]);const Q=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ee=S[Q]||[];S[Q]=ee,ee.push(C)}O(S,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function nr(g,S,C){return C&&C.internalChannelParams&&C.internalChannelParams[g]||S}function Zr(g){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=nr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=nr("baseRetryDelayMs",5e3,g),this.Za=nr("retryDelaySeedMs",1e4,g),this.Ta=nr("forwardChannelMaxRetries",2,g),this.va=nr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Xl(g&&g.concurrentRequestLimit),this.Ba=new Wr,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Zr.prototype,t.ka=8,t.I=1,t.connect=function(g,S,C,R){zt(0),this.W=g,this.H=S||{},C&&R!==void 0&&(this.H.OSID=C,this.H.OAID=R),this.F=this.X,this.J=Wu(this,null,this.W),ir(this)};function aa(g){if(Vs(g),g.I==3){var S=g.V++,C=Yt(g.J);if(mt(C,"SID",g.M),mt(C,"RID",S),mt(C,"TYPE","terminate"),Zo(g,C),S=new Ii(g,g.j,S),S.M=2,S.A=$o(Yt(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(S.A.toString(),"")}catch{}!C&&u.Image&&(new Image().src=S.A,C=!0),C||(S.g=ju(S.j,null),S.g.ea(S.A)),S.F=Date.now(),Ki(S)}Xu(g)}function eo(g){g.g&&(ca(g),g.g.cancel(),g.g=null)}function Vs(g){eo(g),g.v&&(u.clearTimeout(g.v),g.v=null),Us(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&u.clearTimeout(g.m),g.m=null)}function ir(g){if(!Wl(g.h)&&!g.m){g.m=!0;var S=g.Ea;pe||M(),K||(pe(),K=!0),N.add(S,g),g.D=0}}function Ls(g,S){return Wi(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=S.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Yi(d(g.Ea,g,S),Qu(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Q=new Ii(this,this.j,g);let ee=this.o;if(this.U&&(ee?(ee=Y(ee),P(ee,this.U)):ee=this.U),this.u!==null||this.R||(Q.J=ee,ee=null),this.S)e:{for(var S=0,C=0;C<this.i.length;C++){t:{var R=this.i[C];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(S+=R,S>4096){S=C;break e}if(S===4096||C===this.i.length-1){S=C+1;break e}}S=1e3}else S=1e3;S=Yu(this,Q,S),C=Yt(this.J),mt(C,"RID",g),mt(C,"CVER",22),this.G&&mt(C,"X-HTTP-Session-Id",this.G),Zo(this,C),ee&&(this.R?S="headers="+Er(ui(ee))+"&"+S:this.u&&Xo(C,this.u,ee)),jl(this.h,Q),this.Ra&&mt(C,"TYPE","init"),this.S?(mt(C,"$req",S),mt(C,"SID","null"),Q.U=!0,$i(Q,C,null)):$i(Q,C,S),this.I=2}}else this.I==3&&(g?ua(this,g):this.i.length==0||Wl(this.h)||ua(this))};function ua(g,S){var C;S?C=S.l:C=g.V++;const R=Yt(g.J);mt(R,"SID",g.M),mt(R,"RID",C),mt(R,"AID",g.K),Zo(g,R),g.u&&g.o&&Xo(R,g.u,g.o),C=new Ii(g,g.j,C,g.D+1),g.u===null&&(C.J=g.o),S&&(g.i=S.G.concat(g.i)),S=Yu(g,C,1e3),C.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),jl(g.h,C),$i(C,R,S)}function Zo(g,S){g.H&&Se(g.H,function(C,R){mt(S,R,C)}),g.l&&Se({},function(C,R){mt(S,R,C)})}function Yu(g,S,C){C=Math.min(g.i.length,C);const R=g.l?d(g.l.Ka,g.l,g):null;e:{var Q=g.i;let ze=-1;for(;;){const Ut=["count="+C];ze==-1?C>0?(ze=Q[0].g,Ut.push("ofs="+ze)):ze=0:Ut.push("ofs="+ze);let ft=!0;for(let Mt=0;Mt<C;Mt++){var ee=Q[Mt].g;const ci=Q[Mt].map;if(ee-=ze,ee<0)ze=Math.max(0,Q[Mt].g-100),ft=!1;else try{ee="req"+ee+"_"||"";try{var Ee=ci instanceof Map?ci:Object.entries(ci);for(const[or,Di]of Ee){let Mi=Di;f(Di)&&(Mi=De(Di)),Ut.push(ee+or+"="+encodeURIComponent(Mi))}}catch(or){throw Ut.push(ee+"type="+encodeURIComponent("_badmap")),or}}catch{R&&R(ci)}}if(ft){Ee=Ut.join("&");break e}}Ee=void 0}return g=g.i.splice(0,C),S.G=g,Ee}function Ju(g){if(!g.g&&!g.v){g.Y=1;var S=g.Da;pe||M(),K||(pe(),K=!0),N.add(S,g),g.A=0}}function es(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Yi(d(g.Da,g),Qu(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,$u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Yi(d(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,zt(10),eo(this),$u(this))};function ca(g){g.B!=null&&(u.clearTimeout(g.B),g.B=null)}function $u(g){g.g=new Ii(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var S=Yt(g.na);mt(S,"RID","rpc"),mt(S,"SID",g.M),mt(S,"AID",g.K),mt(S,"CI",g.F?"0":"1"),!g.F&&g.ia&&mt(S,"TO",g.ia),mt(S,"TYPE","xmlhttp"),Zo(g,S),g.u&&g.o&&Xo(S,g.u,g.o),g.O&&(g.g.H=g.O);var C=g.g;g=g.ba,C.M=1,C.A=$o(Yt(S)),C.u=null,C.R=!0,Rs(C,g)}t.Va=function(){this.C!=null&&(this.C=null,eo(this),es(this),zt(19))};function Us(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Ku(g,S){var C=null;if(g.g==S){Us(g),ca(g),g.g=null;var R=2}else if(ji(g.h,S))C=S.G,Zl(g.h,S),R=1;else return;if(g.I!=0){if(S.o)if(R==1){C=S.u?S.u.length:0,S=Date.now()-S.F;var Q=g.D;R=vn(),Dt(R,new Gi(R,C)),ir(g)}else Ju(g);else if(Q=S.m,Q==3||Q==0&&S.X>0||!(R==1&&Ls(g,S)||R==2&&es(g)))switch(C&&C.length>0&&(S=g.h,S.i=S.i.concat(C)),Q){case 1:rr(g,5);break;case 4:rr(g,10);break;case 3:rr(g,6);break;default:rr(g,2)}}}function Qu(g,S){let C=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(C*=2),C*S}function rr(g,S){if(g.j.info("Error code "+S),S==2){var C=d(g.bb,g),R=g.Ua;const Q=!R;R=new Jn(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ln(R,"https"),$o(R),Q?Ri(R.toString(),C):oa(R.toString(),C)}else zt(2);g.I=0,g.l&&g.l.pa(S),Xu(g),Vs(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),zt(2)):(this.j.info("Failed to ping google.com"),zt(1))};function Xu(g){if(g.I=0,g.ja=[],g.l){const S=ea(g.h);(S.length!=0||g.i.length!=0)&&(D(g.ja,S),D(g.ja,g.i),g.h.i.length=0,A(g.i),g.i.length=0),g.l.oa()}}function Wu(g,S,C){var R=C instanceof Jn?Yt(C):new Jn(C);if(R.g!="")S&&(R.g=S+"."+R.g),$r(R,R.u);else{var Q=u.location;R=Q.protocol,S=S?S+"."+Q.hostname:Q.hostname,Q=+Q.port;const ee=new Jn(null);R&&ln(ee,R),S&&(ee.g=S),Q&&$r(ee,Q),C&&(ee.h=C),R=ee}return C=g.G,S=g.wa,C&&S&&mt(R,C,S),mt(R,"VER",g.ka),Zo(g,R),R}function ju(g,S,C){if(S&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return S=g.Aa&&!g.ma?new vt(new er({ab:C})):new vt(g.ma),S.Fa(g.L),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}t=Zu.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function to(){}to.prototype.g=function(g,S){return new wn(g,S)};function wn(g,S){wt.call(this),this.g=new Zr(S),this.l=g,this.h=S&&S.messageUrlParams||null,g=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(g?g["X-WebChannel-Content-Type"]=S.messageContentType:g={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.sa&&(g?g["X-WebChannel-Client-Profile"]=S.sa:g={"X-WebChannel-Client-Profile":S.sa}),this.g.U=g,(g=S&&S.Qb)&&!V(g)&&(this.g.u=g),this.A=S&&S.supportsCrossDomainXhr||!1,this.v=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!V(S)&&(this.g.G=S,g=this.h,g!==null&&S in g&&(g=this.h,S in g&&delete g[S])),this.j=new Ar(this)}E(wn,wt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){aa(this.g)},wn.prototype.o=function(g){var S=this.g;if(typeof g=="string"){var C={};C.__data__=g,g=C}else this.v&&(C={},C.__data__=De(g),g=C);S.i.push(new Gt(S.Ya++,g)),S.I==3&&ir(S)},wn.prototype.N=function(){this.g.l=null,delete this.j,aa(this.g),delete this.g,wn.Z.N.call(this)};function ec(g){_t.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var S=g.__sm__;if(S){e:{for(const C in S){g=C;break e}g=void 0}(this.i=g)&&(g=this.i,S=S!==null&&g in S?S[g]:void 0),this.data=S}else this.data=g}E(ec,_t);function tc(){Bt.call(this),this.status=1}E(tc,Bt);function Ar(g){this.g=g}E(Ar,Zu),Ar.prototype.ra=function(){Dt(this.g,"a")},Ar.prototype.qa=function(g){Dt(this.g,new ec(g))},Ar.prototype.pa=function(g){Dt(this.g,new tc)},Ar.prototype.oa=function(){Dt(this.g,"b")},to.prototype.createWebChannel=to.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,dx=function(){return new to},fx=function(){return vn()},cx=$e,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Yo.NO_ERROR=0,Yo.TIMEOUT=8,Yo.HTTP_ERROR=6,Cf=Yo,Kl.COMPLETE="complete",ux=Kl,Je.EventType=Xe,Xe.OPEN="a",Xe.CLOSE="b",Xe.ERROR="c",Xe.MESSAGE="d",wt.prototype.listen=wt.prototype.J,nu=Je,vt.prototype.listenOnce=vt.prototype.K,vt.prototype.getLastError=vt.prototype.Ha,vt.prototype.getLastErrorCode=vt.prototype.ya,vt.prototype.getStatus=vt.prototype.ca,vt.prototype.getResponseJson=vt.prototype.La,vt.prototype.getResponseText=vt.prototype.la,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Fa,ax=vt}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});const SS="@firebase/firestore",AS="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new tx("@firebase/firestore");function yl(){return Es.logLevel}function xe(t,...e){if(Es.logLevel<=rt.DEBUG){const n=e.map(bg);Es.debug(`Firestore (${Hl}): ${t}`,...n)}}function zr(t,...e){if(Es.logLevel<=rt.ERROR){const n=e.map(bg);Es.error(`Firestore (${Hl}): ${t}`,...n)}}function Dl(t,...e){if(Es.logLevel<=rt.WARN){const n=e.map(bg);Es.warn(`Firestore (${Hl}): ${t}`,...n)}}function bg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,hx(t,i,n)}function hx(t,e,n){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw zr(i),new Error(i)}function pt(t,e,n,i){let o="Unexpected state";typeof n=="string"?o=n:i=n,t||hx(e,o,i)}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends zl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Sn.UNAUTHENTICATED)))}shutdown(){}}class iO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class rO{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){pt(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let l=new No;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new No,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new No)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string",31837,{l:i}),new px(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class oO{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sO{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new oO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,F5(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){pt(this.o===void 0,3512);const i=l=>{l.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,xe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(pt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new xS(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=aO(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<n&&(i+=e.charAt(o[l]%62))}return i}}function Ze(t,e){return t<e?-1:t>e?1:0}function Um(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const o=t.charAt(i),l=e.charAt(i);if(o!==l)return Zp(o)===Zp(l)?Ze(o,l):Zp(o)?1:-1}return Ze(t.length,e.length)}const uO=55296,cO=57343;function Zp(t){const e=t.charCodeAt(0);return e>=uO&&e<=cO}function Ml(t,e,n){return t.length===e.length&&t.every(((i,o)=>n(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="__name__";class fr{constructor(e,n,i){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ke(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((i=>{n.push(i)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const l=fr.compareSegments(e.get(o),n.get(o));if(l!==0)return l}return Ze(e.length,n.length)}static compareSegments(e,n){const i=fr.isNumericId(e),o=fr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?fr.extractNumericId(e).compare(fr.extractNumericId(n)):Um(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bo.fromString(e.substring(4,e.length-2))}}class Ct extends fr{construct(e,n,i){return new Ct(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((o=>o.length>0)))}return new Ct(n)}static emptyPath(){return new Ct([])}}const fO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends fr{construct(e,n,i){return new yn(e,n,i)}static isValidIdentifier(e){return fO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CS}static keyField(){return new yn([CS])}static fromServerFormat(e){const n=[];let i="",o=0;const l=()=>{if(i.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ae(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ae(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(u=!u,o++):f!=="."||u?(i+=f,o++):(l(),o++)}if(l(),u)throw new Ae(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Ct.fromString(e))}static fromName(e){return new Ne(Ct.fromString(e).popFirst(5))}static empty(){return new Ne(Ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e,n){if(!n)throw new Ae(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dO(t,e,n,i){if(e===!0&&i===!0)throw new Ae(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IS(t){if(!Ne.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wS(t){if(Ne.isDocumentKey(t))throw new Ae(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function dd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function Ts(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ae(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dd(t);throw new Ae(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!gx(t))throw new Ae(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const u=t[i];if(o&&typeof u!==o){n=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new Ae(fe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=-62135596800,bS=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*bS);return new Nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RS)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bS}_compareTo(e){return this.seconds===e.seconds?Ze(this.nanoseconds,e.nanoseconds):Ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:Zt("string",Nt._jsonSchemaVersion),seconds:Zt("number"),nanoseconds:Zt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Nt(0,0))}static max(){return new Oe(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function hO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(i===1e9?new Nt(n+1,0):new Nt(n,i));return new Mo(o,Ne.empty(),e)}function pO(t){return new Mo(t.readTime,t.key,_u)}class Mo{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mo(Oe.min(),Ne.empty(),_u)}static max(){return new Mo(Oe.max(),Ne.empty(),_u)}}function mO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ze(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==gO)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):de.reject(n)}static resolve(e){return new de(((n,i)=>{n(e)}))}static reject(e){return new de(((n,i)=>{i(e)}))}static waitFor(e){return new de(((n,i)=>{let o=0,l=0,u=!1;e.forEach((f=>{++o,f.next((()=>{++l,u&&l===o&&n()}),(p=>i(p)))})),u=!0,l===o&&n()}))}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next((o=>o?de.resolve(o):i()));return n}static forEach(e,n){const i=[];return e.forEach(((o,l)=>{i.push(n.call(this,o,l))})),this.waitFor(i)}static mapArray(e,n){return new de(((i,o)=>{const l=e.length,u=new Array(l);let f=0;for(let p=0;p<l;p++){const d=p;n(e[d]).next((y=>{u[d]=y,++f,f===l&&i(u)}),(y=>o(y)))}}))}static doWhile(e,n){return new de(((i,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):i()};l()}))}}function _O(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=-1;function pd(t){return t==null}function Hf(t){return t===0&&1/t==-1/0}function vO(t){return typeof t=="number"&&Number.isInteger(t)&&!Hf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="";function EO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NS(e)),e=TO(t.get(n),e);return NS(e)}function TO(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const l=t.charAt(o);switch(l){case"\0":n+="";break;case yx:n+="";break;default:n+=l}}return n}function NS(t){return t+yx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _x(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,i)=>(e(n,i),!1)))}toString(){const e=[];return this.inorderTraversal(((n,i)=>(e.push(`${n}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,i,o,l){this.key=e,this.value=n,this.color=i??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,l){return new gn(e??this.key,n??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,i),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,i,o,l){return this}insert(e,n,i){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,i)=>(e(n),!1)))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new MS(this.data.getIterator())}getIteratorFrom(e){return new MS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((i=>{n=n.add(i)})),n}isEqual(e){if(!(e instanceof on)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new on(this.comparator);return n.data=e,n}}class MS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new ni([])}unionWith(e){let n=new on(yn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new vx("Invalid base64 string: "+l):l}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const SO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Po(t){if(pt(!!t,39018),typeof t=="string"){let e=0;const n=SO.exec(t);if(pt(!!n,46558,{timestamp:t}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:qt(t.seconds),nanos:qt(t.nanos)}}function qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="server_timestamp",Tx="__type__",Sx="__previous_value__",Ax="__local_write_time__";function Mg(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Tx])==null?void 0:i.stringValue)===Ex}function md(t){const e=t.mapValue.fields[Sx];return Mg(e)?md(e):e}function vu(t){const e=Po(t.mapValue.fields[Ax].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,i,o,l,u,f,p,d,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=d,this.isUsingEmulator=y}}const Gf="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Gf}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Gf}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx="__type__",xO="__max__",gf={mapValue:{}},Cx="__vector__",Yf="value";function Vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mg(t)?4:IO(t)?9007199254740991:CO(t)?10:11:ke(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=Vo(t);if(n!==Vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Po(o.timestampValue),f=Po(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(o,l){return ko(o.bytesValue).isEqual(ko(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(o,l){return qt(o.geoPointValue.latitude)===qt(l.geoPointValue.latitude)&&qt(o.geoPointValue.longitude)===qt(l.geoPointValue.longitude)})(t,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return qt(o.integerValue)===qt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=qt(o.doubleValue),f=qt(l.doubleValue);return u===f?Hf(u)===Hf(f):isNaN(u)&&isNaN(f)}return!1})(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},f=l.mapValue.fields||{};if(DS(u)!==DS(f))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(f[p]===void 0||!_r(u[p],f[p])))return!1;return!0})(t,e);default:return ke(52216,{left:t})}}function Tu(t,e){return(t.values||[]).find((n=>_r(n,e)))!==void 0}function Pl(t,e){if(t===e)return 0;const n=Vo(t),i=Vo(e);if(n!==i)return Ze(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ze(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const f=qt(l.integerValue||l.doubleValue),p=qt(u.integerValue||u.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(t,e);case 3:return PS(t.timestampValue,e.timestampValue);case 4:return PS(vu(t),vu(e));case 5:return Um(t.stringValue,e.stringValue);case 6:return(function(l,u){const f=ko(l),p=ko(u);return f.compareTo(p)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const f=l.split("/"),p=u.split("/");for(let d=0;d<f.length&&d<p.length;d++){const y=Ze(f[d],p[d]);if(y!==0)return y}return Ze(f.length,p.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const f=Ze(qt(l.latitude),qt(u.latitude));return f!==0?f:Ze(qt(l.longitude),qt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return kS(t.arrayValue,e.arrayValue);case 10:return(function(l,u){var T,A,D,U;const f=l.fields||{},p=u.fields||{},d=(T=f[Yf])==null?void 0:T.arrayValue,y=(A=p[Yf])==null?void 0:A.arrayValue,E=Ze(((D=d==null?void 0:d.values)==null?void 0:D.length)||0,((U=y==null?void 0:y.values)==null?void 0:U.length)||0);return E!==0?E:kS(d,y)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===gf.mapValue&&u===gf.mapValue)return 0;if(l===gf.mapValue)return 1;if(u===gf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),d=u.fields||{},y=Object.keys(d);p.sort(),y.sort();for(let E=0;E<p.length&&E<y.length;++E){const T=Um(p[E],y[E]);if(T!==0)return T;const A=Pl(f[p[E]],d[y[E]]);if(A!==0)return A}return Ze(p.length,y.length)})(t.mapValue,e.mapValue);default:throw ke(23264,{he:n})}}function PS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ze(t,e);const n=Po(t),i=Po(e),o=Ze(n.seconds,i.seconds);return o!==0?o:Ze(n.nanos,i.nanos)}function kS(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const l=Pl(n[o],i[o]);if(l)return l}return Ze(n.length,i.length)}function kl(t){return Om(t)}function Om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const i=Po(n);return`time(${i.seconds},${i.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ko(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ne.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let i="[",o=!0;for(const l of n.values||[])o?o=!1:i+=",",i+=Om(l);return i+"]"})(t.arrayValue):"mapValue"in t?(function(n){const i=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const u of i)l?l=!1:o+=",",o+=`${u}:${Om(n.fields[u])}`;return o+"}"})(t.mapValue):ke(61005,{value:t})}function If(t){switch(Vo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(t);return e?16+If(e):16;case 5:return 2*t.stringValue.length;case 6:return ko(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+If(l)),0)})(t.arrayValue);case 10:case 11:return(function(i){let o=0;return qo(i.fields,((l,u)=>{o+=l.length+If(u)})),o})(t.mapValue);default:throw ke(13486,{value:t})}}function VS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fm(t){return!!t&&"integerValue"in t}function Pg(t){return!!t&&"arrayValue"in t}function LS(t){return!!t&&"nullValue"in t}function US(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wf(t){return!!t&&"mapValue"in t}function CO(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xx])==null?void 0:i.stringValue)===Cx}function fu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return qo(t.mapValue.fields,((n,i)=>e.mapValue.fields[n]=fu(i))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(t.arrayValue.values[n]);return e}return{...t}}function IO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=yn.emptyPath(),i={},o=[];e.forEach(((u,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,i,o),i={},o=[],n=f.popLast()}u?i[f.lastSegment()]=fu(u):o.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,o)}delete(e){const n=this.field(e.popLast());wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];wf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){qo(n,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new Bn(fu(this.value))}}function Ix(t){const e=[];return qo(t.fields,((n,i)=>{const o=new yn([n]);if(wf(i)){const l=Ix(i.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n,i,o,l,u,f){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new An(e,0,Oe.min(),Oe.min(),Oe.min(),Bn.empty(),0)}static newFoundDocument(e,n,i,o){return new An(e,1,n,Oe.min(),i,o,0)}static newNoDocument(e,n){return new An(e,2,n,Oe.min(),Oe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new An(e,3,n,Oe.min(),Oe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.position=e,this.inclusive=n}}function OS(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const l=e[o],u=t.position[o];if(l.field.isKeyField()?i=Ne.comparator(Ne.fromName(u.referenceValue),n.key):i=Pl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function FS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n="asc"){this.field=e,this.dir=n}}function wO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{}class jt extends wx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new bO(e,n,i):n==="array-contains"?new MO(e,i):n==="in"?new PO(e,i):n==="not-in"?new kO(e,i):n==="array-contains-any"?new VO(e,i):new jt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new NO(e,i):new DO(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pl(n,this.value)):n!==null&&Vo(this.value)===Vo(n)&&this.matchesComparison(Pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends wx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fi(e,n)}matches(e){return Rx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Rx(t){return t.op==="and"}function bx(t){return RO(t)&&Rx(t)}function RO(t){for(const e of t.filters)if(e instanceof Fi)return!1;return!0}function qm(t){if(t instanceof jt)return t.field.canonicalString()+t.op.toString()+kl(t.value);if(bx(t))return t.filters.map((e=>qm(e))).join(",");{const e=t.filters.map((n=>qm(n))).join(",");return`${t.op}(${e})`}}function Nx(t,e){return t instanceof jt?(function(i,o){return o instanceof jt&&i.op===o.op&&i.field.isEqual(o.field)&&_r(i.value,o.value)})(t,e):t instanceof Fi?(function(i,o){return o instanceof Fi&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,u,f)=>l&&Nx(u,o.filters[f])),!0):!1})(t,e):void ke(19439)}function Dx(t){return t instanceof jt?(function(n){return`${n.field.canonicalString()} ${n.op} ${kl(n.value)}`})(t):t instanceof Fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(Dx).join(" ,")+"}"})(t):"Filter"}class bO extends jt{constructor(e,n,i){super(e,n,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class NO extends jt{constructor(e,n){super(e,"in",n),this.keys=Mx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class DO extends jt{constructor(e,n){super(e,"not-in",n),this.keys=Mx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Mx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((i=>Ne.fromName(i.referenceValue)))}class MO extends jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pg(n)&&Tu(n.arrayValue,this.value)}}class PO extends jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class kO extends jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class VO extends jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>Tu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n=null,i=[],o=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function qS(t,e=null,n=[],i=[],o=null,l=null,u=null){return new LO(t,e,n,i,o,l,u)}function kg(t){const e=qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((i=>qm(i))).join(","),n+="|ob:",n+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),pd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((i=>kl(i))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((i=>kl(i))).join(",")),e.Te=n}return e.Te}function Vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!FS(t.startAt,e.startAt)&&FS(t.endAt,e.endAt)}function Bm(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,i=[],o=[],l=null,u="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UO(t,e,n,i,o,l,u,f){return new wu(t,e,n,i,o,l,u,f)}function Px(t){return new wu(t)}function BS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kx(t){return t.collectionGroup!==null}function du(t){const e=qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new on(yn.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new $f(l,i))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new $f(yn.keyField(),i))}return e.Ie}function hr(t){const e=qe(t);return e.Ee||(e.Ee=OO(e,du(t))),e.Ee}function OO(t,e){if(t.limitType==="F")return qS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new $f(o.field,l)}));const n=t.endAt?new Jf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Jf(t.startAt.position,t.startAt.inclusive):null;return qS(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function zm(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hm(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gd(t,e){return Vg(hr(t),hr(e))&&t.limitType===e.limitType}function Vx(t){return`${kg(hr(t))}|lt:${t.limitType}`}function _l(t){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((o=>Dx(o))).join(", ")}]`),pd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((o=>kl(o))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((o=>kl(o))).join(",")),`Target(${i})`})(hr(t))}; limitType=${t.limitType})`}function yd(t,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ne.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(t,e)&&(function(i,o){for(const l of du(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(t,e)&&(function(i,o){return!(i.startAt&&!(function(u,f,p){const d=OS(u,f,p);return u.inclusive?d<=0:d<0})(i.startAt,du(i),o)||i.endAt&&!(function(u,f,p){const d=OS(u,f,p);return u.inclusive?d>=0:d>0})(i.endAt,du(i),o))})(t,e)}function FO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Lx(t){return(e,n)=>{let i=!1;for(const o of du(t)){const l=qO(o,e,n);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qO(t,e,n){const i=t.field.isKeyField()?Ne.comparator(e.key,n.key):(function(l,u,f){const p=u.data.field(l),d=f.data.field(l);return p!==null&&d!==null?Pl(p,d):ke(42886)})(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,((n,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return _x(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new kt(Ne.comparator);function Hr(){return BO}const Ux=new kt(Ne.comparator);function iu(...t){let e=Ux;for(const n of t)e=e.insert(n.key,n);return e}function Ox(t){let e=Ux;return t.forEach(((n,i)=>e=e.insert(n,i.overlayedDocument))),e}function vs(){return hu()}function Fx(){return hu()}function hu(){return new Cs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zO=new kt(Ne.comparator),HO=new on(Ne.comparator);function et(...t){let e=HO;for(const n of t)e=e.add(n);return e}const GO=new on(Ze);function YO(){return GO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(e)?"-0":e}}function qx(t){return{integerValue:""+t}}function JO(t,e){return vO(e)?qx(e):Lg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function $O(t,e,n){return t instanceof Kf?(function(o,l){const u={fields:{[Tx]:{stringValue:Ex},[Ax]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Mg(l)&&(l=md(l)),l&&(u.fields[Sx]=l),{mapValue:u}})(n,e):t instanceof Su?zx(t,e):t instanceof Au?Hx(t,e):(function(o,l){const u=Bx(o,l),f=zS(u)+zS(o.Ae);return Fm(u)&&Fm(o.Ae)?qx(f):Lg(o.serializer,f)})(t,e)}function KO(t,e,n){return t instanceof Su?zx(t,e):t instanceof Au?Hx(t,e):n}function Bx(t,e){return t instanceof Qf?(function(i){return Fm(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Kf extends _d{}class Su extends _d{constructor(e){super(),this.elements=e}}function zx(t,e){const n=Gx(e);for(const i of t.elements)n.some((o=>_r(o,i)))||n.push(i);return{arrayValue:{values:n}}}class Au extends _d{constructor(e){super(),this.elements=e}}function Hx(t,e){let n=Gx(e);for(const i of t.elements)n=n.filter((o=>!_r(o,i)));return{arrayValue:{values:n}}}class Qf extends _d{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zS(t){return qt(t.integerValue||t.doubleValue)}function Gx(t){return Pg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QO(t,e){return t.field.isEqual(e.field)&&(function(i,o){return i instanceof Su&&o instanceof Su||i instanceof Au&&o instanceof Au?Ml(i.elements,o.elements,_r):i instanceof Qf&&o instanceof Qf?_r(i.Ae,o.Ae):i instanceof Kf&&o instanceof Kf})(t.transform,e.transform)}class XO{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vd{}function Yx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ug(t.key,Oi.none()):new Ru(t.key,t.data,Oi.none());{const n=t.data,i=Bn.empty();let o=new on(yn.comparator);for(let l of e.fields)if(!o.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),o=o.add(l)}return new Bo(t.key,i,new ni(o.toArray()),Oi.none())}}function WO(t,e,n){t instanceof Ru?(function(o,l,u){const f=o.value.clone(),p=GS(o.fieldTransforms,l,u.transformResults);f.setAll(p),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):t instanceof Bo?(function(o,l,u){if(!Rf(o.precondition,l))return void l.convertToUnknownDocument(u.version);const f=GS(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(Jx(o)),p.setAll(f),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(t,e,n):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function pu(t,e,n,i){return t instanceof Ru?(function(l,u,f,p){if(!Rf(l.precondition,u))return f;const d=l.value.clone(),y=YS(l.fieldTransforms,p,u);return d.setAll(y),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(t,e,n,i):t instanceof Bo?(function(l,u,f,p){if(!Rf(l.precondition,u))return f;const d=YS(l.fieldTransforms,p,u),y=u.data;return y.setAll(Jx(l)),y.setAll(d),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((E=>E.field)))})(t,e,n,i):(function(l,u,f){return Rf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(t,e,n)}function jO(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),l=Bx(i.transform,o||null);l!=null&&(n===null&&(n=Bn.empty()),n.set(i.field,l))}return n||null}function HS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Ml(i,o,((l,u)=>QO(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ru extends vd{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bo extends vd{constructor(e,n,i,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jx(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function GS(t,e,n){const i=new Map;pt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let o=0;o<n.length;o++){const l=t[o],u=l.transform,f=e.data.field(l.field);i.set(l.field,KO(u,f,n[o]))}return i}function YS(t,e,n){const i=new Map;for(const o of t){const l=o.transform,u=n.data.field(o.field);i.set(o.field,$O(l,u,e))}return i}class Ug extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZO extends vd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&WO(l,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pu(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Fx();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(o.key)?null:f;const p=Yx(u,f);p!==null&&i.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),i}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),et())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,((n,i)=>HS(n,i)))&&Ml(this.baseMutations,e.baseMutations,((n,i)=>HS(n,i)))}}class Og{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){pt(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=(function(){return zO})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,i[u].version);return new Og(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,it;function i6(t){switch(t){case fe.OK:return ke(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function $x(t){if(t===void 0)return zr("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Xt.OK:return fe.OK;case Xt.CANCELLED:return fe.CANCELLED;case Xt.UNKNOWN:return fe.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return fe.INTERNAL;case Xt.UNAVAILABLE:return fe.UNAVAILABLE;case Xt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Xt.NOT_FOUND:return fe.NOT_FOUND;case Xt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Xt.ABORTED:return fe.ABORTED;case Xt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Xt.DATA_LOSS:return fe.DATA_LOSS;default:return ke(39323,{code:t})}}(it=Xt||(Xt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new bo([4294967295,4294967295],0);function JS(t){const e=r6().encode(t),n=new lx;return n.update(e),new Uint8Array(n.digest())}function $S(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new bo([n,i],0),new bo([o,l],0)]}class Fg{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(i<0)throw new ru(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bo.fromNumber(this.ge)}ye(e,n,i){let o=e.add(n.multiply(bo.fromNumber(i)));return o.compare(o6)===1&&(o=new bo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JS(e),[i,o]=$S(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);if(!this.we(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Fg(l,o,n);return i.forEach((f=>u.insert(f))),u}insert(e){if(this.ge===0)return;const n=JS(e),[i,o]=$S(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,o,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,i,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ed(Oe.min(),o,new kt(Ze),Hr(),et())}}class bu{constructor(e,n,i,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new bu(i,n,et(),et(),et())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n,i,o){this.be=e,this.removedTargetIds=n,this.key=i,this.De=o}}class Kx{constructor(e,n){this.targetId=e,this.Ce=n}}class Qx{constructor(e,n,i=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class KS{constructor(){this.ve=0,this.Fe=QS(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=et(),n=et(),i=et();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ke(38017,{changeType:l})}})),new bu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=QS()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,pt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hr(),this.Je=yf(),this.He=yf(),this.Ye=new kt(Ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ke(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((i,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,i=e.Ce.count,o=this.ot(n);if(o){const l=o.target;if(Bm(l))if(i===0){const u=new Ne(l.path);this.et(n,u,An.newNoDocument(u,Oe.min()))}else pt(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const f=this.ut(e),p=f?this.ct(f,e,u):1;if(p!==0){this.it(n);const d=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=n;let u,f;try{u=ko(i).toUint8Array()}catch(p){if(p instanceof vx)return Dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Fg(u,o,l)}catch(p){return Dl(p instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let o=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(n,l,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Bm(f.target)){const p=new Ne(f.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,An.newNoDocument(p,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=et();this.He.forEach(((l,u)=>{let f=!0;u.forEachWhile((p=>{const d=this.ot(p);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Ed(e,n,this.Ye,this.je,i);return this.je=Hr(),this.Je=yf(),this.He=yf(),this.Ye=new kt(Ze),o}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KS,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new on(Ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new on(Ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KS),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yf(){return new kt(Ne.comparator)}function QS(){return new kt(Ne.comparator)}const l6={asc:"ASCENDING",desc:"DESCENDING"},a6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class c6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gm(t,e){return t.useProto3Json||pd(e)?e:{value:e}}function Xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f6(t,e){return Xf(t,e.toTimestamp())}function pr(t){return pt(!!t,49232),Oe.fromTimestamp((function(n){const i=Po(n);return new Nt(i.seconds,i.nanos)})(t))}function qg(t,e){return Ym(t,e).canonicalString()}function Ym(t,e){const n=(function(o){return new Ct(["projects",o.projectId,"databases",o.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Wx(t){const e=Ct.fromString(t);return pt(nC(e),10190,{key:e.toString()}),e}function Jm(t,e){return qg(t.databaseId,e.path)}function em(t,e){const n=Wx(e);if(n.get(1)!==t.databaseId.projectId)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ae(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ne(Zx(n))}function jx(t,e){return qg(t.databaseId,e)}function d6(t){const e=Wx(t);return e.length===4?Ct.emptyPath():Zx(e)}function $m(t){return new Ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Zx(t){return pt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function XS(t,e,n){return{name:Jm(t,e),fields:n.value.mapValue.fields}}function h6(t,e){let n;if("targetChange"in e){e.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ke(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(d,y){return d.useProto3Json?(pt(y===void 0||typeof y=="string",58123),_n.fromBase64String(y||"")):(pt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),_n.fromUint8Array(y||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&(function(d){const y=d.code===void 0?fe.UNKNOWN:$x(d.code);return new Ae(y,d.message||"")})(u);n=new Qx(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=em(t,i.document.name),l=pr(i.document.updateTime),u=i.document.createTime?pr(i.document.createTime):Oe.min(),f=new Bn({mapValue:{fields:i.document.fields}}),p=An.newFoundDocument(o,l,u,f),d=i.targetIds||[],y=i.removedTargetIds||[];n=new bf(d,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=em(t,i.document),l=i.readTime?pr(i.readTime):Oe.min(),u=An.newNoDocument(o,l),f=i.removedTargetIds||[];n=new bf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=em(t,i.document),l=i.removedTargetIds||[];n=new bf([],l,o,null)}else{if(!("filter"in e))return ke(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,u=new n6(o,l),f=i.targetId;n=new Kx(f,u)}}return n}function p6(t,e){let n;if(e instanceof Ru)n={update:XS(t,e.key,e.value)};else if(e instanceof Ug)n={delete:Jm(t,e.key)};else if(e instanceof Bo)n={update:XS(t,e.key,e.data),updateMask:A6(e.fieldMask)};else{if(!(e instanceof ZO))return ke(16599,{Vt:e.type});n={verify:Jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Kf)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Au)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qf)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw ke(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:f6(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke(27497)})(t,e.precondition)),n}function m6(t,e){return t&&t.length>0?(pt(e!==void 0,14353),t.map((n=>(function(o,l){let u=o.updateTime?pr(o.updateTime):pr(l);return u.isEqual(Oe.min())&&(u=pr(l)),new XO(u,o.transformResults||[])})(n,e)))):[]}function g6(t,e){return{documents:[jx(t,e.path)]}}function y6(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=jx(t,o);const l=(function(d){if(d.length!==0)return tC(Fi.create(d,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(d){if(d.length!==0)return d.map((y=>(function(T){return{field:vl(T.field),direction:E6(T.dir)}})(y)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=Gm(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:o}}function _6(t){let e=d6(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){pt(i===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(E){const T=eC(E);return T instanceof Fi&&bx(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(E){return E.map((T=>(function(D){return new $f(El(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let f=null;n.limit&&(f=(function(E){let T;return T=typeof E=="object"?E.value:E,pd(T)?null:T})(n.limit));let p=null;n.startAt&&(p=(function(E){const T=!!E.before,A=E.values||[];return new Jf(A,T)})(n.startAt));let d=null;return n.endAt&&(d=(function(E){const T=!E.before,A=E.values||[];return new Jf(A,T)})(n.endAt)),UO(e,o,u,l,f,"F",p,d)}function v6(t,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=El(n.unaryFilter.field);return jt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=El(n.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=El(n.unaryFilter.field);return jt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=El(n.unaryFilter.field);return jt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}})(t):t.fieldFilter!==void 0?(function(n){return jt.create(El(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Fi.create(n.compositeFilter.filters.map((i=>eC(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ke(1026)}})(n.compositeFilter.op))})(t):ke(30097,{filter:t})}function E6(t){return l6[t]}function T6(t){return a6[t]}function S6(t){return u6[t]}function vl(t){return{fieldPath:t.canonicalString()}}function El(t){return yn.fromServerFormat(t.fieldPath)}function tC(t){return t instanceof jt?(function(n){if(n.op==="=="){if(US(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NAN"}};if(LS(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(US(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NAN"}};if(LS(n.value))return{unaryFilter:{field:vl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vl(n.field),op:T6(n.op),value:n.value}}})(t):t instanceof Fi?(function(n){const i=n.getFilters().map((o=>tC(o)));return i.length===1?i[0]:{compositeFilter:{op:S6(n.op),filters:i}}})(t):ke(54877,{filter:t})}function A6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function nC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,i,o,l=Oe.min(),u=Oe.min(),f=_n.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.yt=e}}function C6(t){const e=_6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.Cn=new w6}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Mo.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class w6{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new on(Ct.comparator),l=!o.has(i);return this.index[n]=o.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new on(Ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iC=41943040;class qn{static withCacheSize(e){return new qn(e,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn.DEFAULT_COLLECTION_PERCENTILE=10,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qn.DEFAULT=new qn(iC,qn.DEFAULT_COLLECTION_PERCENTILE,qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qn.DISABLED=new qn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vl(0)}static cr(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="LruGarbageCollector",R6=1048576;function ZS([t,e],[n,i]){const o=Ze(t,n);return o===0?Ze(e,i):o}class b6{constructor(e){this.Ir=e,this.buffer=new on(ZS),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();ZS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N6{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){xe(jS,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yl(n)?xe(jS,"Ignoring IndexedDB error during garbage collection: ",n):await Gl(n)}await this.Vr(3e5)}))}}class D6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(e,n){if(n===0)return de.resolve(hd.ce);const i=new b6(n);return this.mr.forEachTarget(e,(o=>i.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>i.Ar(o))))).next((()=>i.maxValue))}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(WS)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),WS):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,o,l,u,f,p,d;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o)))).next((E=>(i=E,f=Date.now(),this.removeTargets(e,i,n)))).next((E=>(l=E,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((E=>(d=Date.now(),yl()<=rt.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(f-u)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${E} documents in `+(d-p)+`ms
Total Duration: ${d-y}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:E}))))}}function M6(t,e){return new D6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.changes=new Cs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(i!==null&&pu(i.mutation,o,ni.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.getLocalViewOfDocuments(e,i,et()).next((()=>i))))}getLocalViewOfDocuments(e,n,i=et()){const o=vs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,i).next((l=>{let u=iu();return l.forEach(((f,p)=>{u=u.insert(f,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const i=vs();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,et())))}populateOverlays(e,n,i){const o=[];return i.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,f)=>{n.set(u,f)}))}))}computeViews(e,n,i,o){let l=Hr();const u=hu(),f=(function(){return hu()})();return n.forEach(((p,d)=>{const y=i.get(d.key);o.has(d.key)&&(y===void 0||y.mutation instanceof Bo)?l=l.insert(d.key,d):y!==void 0?(u.set(d.key,y.mutation.getFieldMask()),pu(y.mutation,d,y.mutation.getFieldMask(),Nt.now())):u.set(d.key,ni.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((d,y)=>u.set(d,y))),n.forEach(((d,y)=>f.set(d,new k6(y,u.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,n){const i=hu();let o=new kt(((u,f)=>u-f)),l=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const f of u)f.keys().forEach((p=>{const d=n.get(p);if(d===null)return;let y=i.get(p)||ni.empty();y=f.applyToLocalView(d,y),i.set(p,y);const E=(o.get(f.batchId)||et()).add(p);o=o.insert(f.batchId,E)}))})).next((()=>{const u=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),d=p.key,y=p.value,E=Fx();y.forEach((T=>{if(!l.has(T)){const A=Yx(n.get(T),i.get(T));A!==null&&E.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,E))}return de.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,n,i,o){return(function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-l.size):de.resolve(vs());let f=_u,p=l;return u.next((d=>de.forEach(d,((y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?de.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{p=p.insert(y,T)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,p,d,et()))).next((y=>({batchId:f,changes:Ox(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next((i=>{let o=iu();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const l=n.collectionGroup;let u=iu();return this.indexManager.getCollectionParents(e,l).next((f=>de.forEach(f,(p=>{const d=(function(E,T){return new wu(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,i,o).next((y=>{y.forEach(((E,T)=>{u=u.insert(E,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,o)))).next((u=>{l.forEach(((p,d)=>{const y=d.getKey();u.get(y)===null&&(u=u.insert(y,An.newInvalidDocument(y)))}));let f=iu();return u.forEach(((p,d)=>{const y=l.get(p);y!==void 0&&pu(y.mutation,d,ni.empty(),Nt.now()),yd(n,d)&&(f=f.insert(p,d))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return de.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}})(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:C6(o.bundledQuery),readTime:pr(o.readTime)}})(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(){this.overlays=new kt(Ne.comparator),this.qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=vs();return de.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,n,i){return i.forEach(((o,l)=>{this.St(e,n,l)})),de.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const o=vs(),l=n.length+1,u=new Ne(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const p=f.getNext().value,d=p.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return de.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let l=new kt(((d,y)=>d-y));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let y=l.get(d.largestBatchId);y===null&&(y=vs(),l=l.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const f=vs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((d,y)=>f.set(d,y))),!(f.size()>=o)););return de.resolve(f)}St(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new t6(n,i));let l=this.qr.get(n);l===void 0&&(l=et(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.Qr=new on(un.$r),this.Ur=new on(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new un(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach((i=>this.addReference(i,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((i=>this.removeReference(i,n)))}jr(e){const n=new Ne(new Ct([])),i=new un(n,e),o=new un(n,e+1),l=[];return this.Ur.forEachInRange([i,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ne(new Ct([])),i=new un(n,e),o=new un(n,e+1);let l=et();return this.Ur.forEachInRange([i,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new un(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ne.comparator(e.key,n.key)||Ze(e.Yr,n.Yr)}static Kr(e,n){return Ze(e.Yr,n.Yr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new on(un.$r)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new e6(l,n,i,o);this.mutationQueue.push(u);for(const f of o)this.Zr=this.Zr.add(new un(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.ei(i),l=o<0?0:o;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Dg:this.tr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new un(n,0),o=new un(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],(u=>{const f=this.Xr(u.Yr);l.push(f)})),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new on(Ze);return n.forEach((o=>{const l=new un(o,0),u=new un(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(f=>{i=i.add(f.Yr)}))})),de.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let l=i;Ne.isDocumentKey(l)||(l=l.child(""));const u=new un(new Ne(l),0);let f=new on(Ze);return this.Zr.forEachWhile((p=>{const d=p.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(f=f.add(p.Yr)),!0)}),u),de.resolve(this.ti(f))}ti(e){const n=[];return e.forEach((i=>{const o=this.Xr(i);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){pt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return de.forEach(n.mutations,(o=>{const l=new un(o.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,n){const i=new un(n,0),o=this.Zr.firstAfterOrEqual(i);return de.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.ri=e,this.docs=(function(){return new kt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),l=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():An.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))})),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let l=Hr();const u=n.path,f=new Ne(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:d,value:{document:y}}=p.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||mO(pO(y),i)<=0||(o.has(y.key)||yd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,i,o){ke(9500)}ii(e,n){return de.forEach(this.docs,(i=>n(i)))}newChangeBuffer(e){return new B6(this)}getSize(e){return de.resolve(this.size)}}class B6 extends P6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)})),de.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.persistence=e,this.si=new Cs((n=>kg(n)),Vg),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Bg,this.targetCount=0,this.ai=Vl.ur()}forEachTarget(e,n){return this.si.forEach(((i,o)=>n(o))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),de.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Pr(n),de.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let o=0;const l=[];return this.si.forEach(((u,f)=>{f.sequenceNumber<=n&&i.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),de.waitFor(l).next((()=>o))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new O6,this.referenceDelegate=e(this),this.Pi=new z6(this),this.indexManager=new I6,this.remoteDocumentCache=(function(o){return new q6(o)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new x6(n),this.Ii=new L6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new F6(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){xe("MemoryPersistence","Starting transaction:",e);const o=new H6(this.ci.next());return this.referenceDelegate.Ei(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,n){return de.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,n))))}}class H6 extends yO{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Vi=null}static mi(e){return new zg(e)}get fi(){if(this.Vi)return this.Vi;throw ke(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.fi,(i=>{const o=Ne.fromPath(i);return this.gi(e,o).next((l=>{l||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return de.or([()=>de.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Wf{constructor(e,n){this.persistence=e,this.pi=new Cs((i=>EO(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=M6(this,n)}static mi(e,n){return new Wf(e,n)}Ei(){}di(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>n.next((o=>i+o))))}wr(e){let n=0;return this.pr(e,(i=>{n++})).next((()=>n))}pr(e,n){return de.forEach(this.pi,((i,o)=>this.br(e,i,o).next((l=>l?de.resolve():n(o)))))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((f=>{f||(i++,l.removeEntry(u,Oe.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),de.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,i){return de.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return de.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=o}static As(e,n){let i=et(),o=et();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Hg(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LU()?8:_O(kU())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,o){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,o,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new G6;return this.Ss(e,n,u).next((f=>{if(l.result=f,this.Vs)return this.bs(e,n,u,f.size)}))})).next((()=>l.result))}bs(e,n,i,o){return i.documentReadCount<this.fs?(yl()<=rt.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",_l(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),de.resolve()):(yl()<=rt.DEBUG&&xe("QueryEngine","Query:",_l(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(yl()<=rt.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",_l(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):de.resolve())}ys(e,n){if(BS(n))return de.resolve(null);let i=hr(n);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const u=et(...l);return this.ps.getDocuments(e,u).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const d=this.Ds(n,f);return this.Cs(n,d,u,p.readTime)?this.ys(e,Hm(n,null,"F")):this.vs(e,d,n,p)}))))})))))}ws(e,n,i,o){return BS(n)||o.isEqual(Oe.min())?de.resolve(null):this.ps.getDocuments(e,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,o)?de.resolve(null):(yl()<=rt.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_l(n)),this.vs(e,u,n,hO(o,_u)).next((f=>f)))}))}Ds(e,n){let i=new on(Lx(e));return n.forEach(((o,l)=>{yd(e,l)&&(i=i.add(l))})),i}Cs(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,n,i){return yl()<=rt.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",_l(n)),this.ps.getDocumentsMatchingQuery(e,n,Mo.min(),i)}vs(e,n,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",J6=3e8;class $6{constructor(e,n,i,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new kt(Ze),this.xs=new Cs((l=>kg(l)),Vg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function K6(t,e,n,i){return new $6(t,e,n,i)}async function oC(t,e){const n=qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let p=et();for(const d of o){u.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}for(const d of l){f.push(d.batchId);for(const y of d.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(i,p).next((d=>({Ls:d,removedBatchIds:u,addedBatchIds:f})))}))}))}function Q6(t,e){const n=qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,p,d,y){const E=d.batch,T=E.keys();let A=de.resolve();return T.forEach((D=>{A=A.next((()=>y.getEntry(p,D))).next((U=>{const k=d.docVersions.get(D);pt(k!==null,48541),U.version.compareTo(k)<0&&(E.applyToRemoteDocument(U,d),U.isValidDocument()&&(U.setReadTime(d.commitVersion),y.addEntry(U)))}))})),A.next((()=>f.mutationQueue.removeMutationBatch(p,E)))})(n,i,e,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=et();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(p=p.add(f.batch.mutations[d].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(i,o)))}))}function sC(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function X6(t,e){const n=qe(t),i=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const f=[];e.targetChanges.forEach(((y,E)=>{const T=o.get(E);if(!T)return;f.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,E))));let A=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?A=A.withResumeToken(_n.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),o=o.insert(E,A),(function(U,k,z){return U.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=J6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(T,A,y)&&f.push(n.Pi.updateTargetData(l,A))}));let p=Hr(),d=et();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(W6(l,u,e.documentUpdates).next((y=>{p=y.ks,d=y.qs}))),!i.isEqual(Oe.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((E=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return de.waitFor(f).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,d))).next((()=>p))})).then((l=>(n.Ms=o,l)))}function W6(t,e,n){let i=et(),o=et();return n.forEach((l=>i=i.add(l))),e.getEntries(t,i).next((l=>{let u=Hr();return n.forEach(((f,p)=>{const d=l.get(f);p.isFoundDocument()!==d.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(f,p.readTime),u=u.insert(f,p)):!d.isValidDocument()||p.version.compareTo(d.version)>0||p.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(p),u=u.insert(f,p)):xe(Gg,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function j6(t,e){const n=qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Dg),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Z6(t,e){const n=qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return n.Pi.getTargetData(i,e).next((l=>l?(o=l,de.resolve(o)):n.Pi.allocateTargetId(i).next((u=>(o=new Io(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=n.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i}))}async function Km(t,e,n){const i=qe(t),o=i.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Yl(u))throw u;xe(Gg,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function eA(t,e,n){const i=qe(t);let o=Oe.min(),l=et();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,d,y){const E=qe(p),T=E.xs.get(y);return T!==void 0?de.resolve(E.Ms.get(T)):E.Pi.getTargetData(d,y)})(i,u,hr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,f.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,n?o:Oe.min(),n?l:et()))).next((f=>(e9(i,FO(e),f),{documents:f,Qs:l})))))}function e9(t,e,n){let i=t.Os.get(e)||Oe.min();n.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),t.Os.set(e,i)}class tA{constructor(){this.activeTargetIds=YO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t9{constructor(){this.Mo=new tA,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tA,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="ConnectivityMonitor";class iA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){xe(nA,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){xe(nA,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _f=null;function Qm(){return _f===null?_f=(function(){return 268435456+Math.round(2147483648*Math.random())})():_f++,"0x"+_f.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",i9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Gf?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,n,i,o,l){const u=Qm(),f=this.zo(e,n.toUriEncodedString());xe(tm,`Sending RPC '${e}' ${u}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:d}=new URL(f),y=wg(d);return this.Jo(e,f,p,i,y).then((E=>(xe(tm,`Received RPC '${e}' ${u}: `,E),E)),(E=>{throw Dl(tm,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",i),E}))}Ho(e,n,i,o,l,u){return this.Go(e,n,i,o,l)}jo(e,n,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}zo(e,n){const i=i9[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn="WebChannelConnection";class s9 extends r9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,o,l){const u=Qm();return new Promise(((f,p)=>{const d=new ax;d.setWithCredentials(!0),d.listenOnce(ux.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Cf.NO_ERROR:const E=d.getResponseJson();xe(Tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Cf.TIMEOUT:xe(Tn,`RPC '${e}' ${u} timed out`),p(new Ae(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const T=d.getStatus();if(xe(Tn,`RPC '${e}' ${u} failed with status:`,T,"response text:",d.getResponseText()),T>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A==null?void 0:A.error;if(D&&D.status&&D.message){const U=(function(z){const j=z.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(j)>=0?j:fe.UNKNOWN})(D.status);p(new Ae(U,D.message))}else p(new Ae(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else p(new Ae(fe.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{xe(Tn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);xe(Tn,`RPC '${e}' ${u} sending request:`,o),d.send(n,"POST",y,i,15)}))}T_(e,n,i){const o=Qm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=dx(),f=fx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(p.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const y=l.join("");xe(Tn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const E=u.createWebChannel(y,p);this.I_(E);let T=!1,A=!1;const D=new o9({Yo:k=>{A?xe(Tn,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(T||(xe(Tn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),xe(Tn,`RPC '${e}' stream ${o} sending:`,k),E.send(k))},Zo:()=>E.close()}),U=(k,z,j)=>{k.listen(z,(H=>{try{j(H)}catch(re){setTimeout((()=>{throw re}),0)}}))};return U(E,nu.EventType.OPEN,(()=>{A||(xe(Tn,`RPC '${e}' stream ${o} transport opened.`),D.o_())})),U(E,nu.EventType.CLOSE,(()=>{A||(A=!0,xe(Tn,`RPC '${e}' stream ${o} transport closed`),D.a_(),this.E_(E))})),U(E,nu.EventType.ERROR,(k=>{A||(A=!0,Dl(Tn,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new Ae(fe.UNAVAILABLE,"The operation could not be completed")))})),U(E,nu.EventType.MESSAGE,(k=>{var z;if(!A){const j=k.data[0];pt(!!j,16349);const H=j,re=(H==null?void 0:H.error)||((z=H[0])==null?void 0:z.error);if(re){xe(Tn,`RPC '${e}' stream ${o} received error:`,re);const pe=re.status;let K=(function(b){const F=Xt[b];if(F!==void 0)return $x(F)})(pe),N=re.message;K===void 0&&(K=fe.INTERNAL,N="Unknown error status: "+pe+" with message "+re.message),A=!0,D.a_(new Ae(K,N)),E.close()}else xe(Tn,`RPC '${e}' stream ${o} received:`,j),D.u_(j)}})),U(f,cx.STAT_EVENT,(k=>{k.stat===Lm.PROXY?xe(Tn,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===Lm.NOPROXY&&xe(Tn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return new c6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-i);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="PersistentStream";class aC{constructor(e,n,i,o,l,u,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.D_===n&&this.G_(i,o)}),(i=>{e((()=>{const o=new Ae(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)}))}))}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{i((()=>this.z_(o)))})),this.stream.onMessage((o=>{i((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return xe(rA,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(xe(rA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class l9 extends aC{constructor(e,n,i,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=h6(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?pr(u.readTime):Oe.min()})(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=(function(l,u){let f;const p=u.target;if(f=Bm(p)?{documents:g6(l,p)}:{query:y6(l,p).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Xx(l,u.resumeToken);const d=Gm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}else if(u.snapshotVersion.compareTo(Oe.min())>0){f.readTime=Xf(l,u.snapshotVersion.toTimestamp());const d=Gm(l,u.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const i=v6(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class a9 extends aC{constructor(e,n,i,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=m6(e.writeResults,e.commitTime),i=pr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((i=>p6(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{}class c9 extends u9{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Ym(n,i),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ae(fe.UNKNOWN,l.toString())}))}Ho(e,n,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Ho(e,Ym(n,i),o,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(fe.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class f9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(n),this.aa=!1):xe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class d9{constructor(e,n,i,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{Is(this)&&(xe(Ss,"Restarting streams for network reachability change."),await(async function(p){const d=qe(p);d.Ea.add(4),await Nu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Sd(d)})(this))}))})),this.Ra=new f9(i,o)}}async function Sd(t){if(Is(t))for(const e of t.da)await e(!0)}async function Nu(t){for(const e of t.da)await e(!1)}function uC(t,e){const n=qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kg(n)?$g(n):Jl(n).O_()&&Jg(n,e))}function Yg(t,e){const n=qe(t),i=Jl(n);n.Ia.delete(e),i.O_()&&cC(n,e),n.Ia.size===0&&(i.O_()?i.L_():Is(n)&&n.Ra.set("Unknown"))}function Jg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jl(t).Y_(e)}function cC(t,e){t.Va.Ue(e),Jl(t).Z_(e)}function $g(t){t.Va=new s6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Jl(t).start(),t.Ra.ua()}function Kg(t){return Is(t)&&!Jl(t).x_()&&t.Ia.size>0}function Is(t){return qe(t).Ea.size===0}function fC(t){t.Va=void 0}async function h9(t){t.Ra.set("Online")}async function p9(t){t.Ia.forEach(((e,n)=>{Jg(t,e)}))}async function m9(t,e){fC(t),Kg(t)?(t.Ra.ha(e),$g(t)):t.Ra.set("Unknown")}async function g9(t,e,n){if(t.Ra.set("Online"),e instanceof Qx&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,u),o.Ia.delete(f),o.Va.removeTarget(f))})(t,e)}catch(i){xe(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await jf(t,i)}else if(e instanceof bf?t.Va.Ze(e):e instanceof Kx?t.Va.st(e):t.Va.tt(e),!n.isEqual(Oe.min()))try{const i=await sC(t.localStore);n.compareTo(i)>=0&&await(function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach(((p,d)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(d);y&&l.Ia.set(d,y.withResumeToken(p.resumeToken,u))}})),f.targetMismatches.forEach(((p,d)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(_n.EMPTY_BYTE_STRING,y.snapshotVersion)),cC(l,p);const E=new Io(y.target,p,d,y.sequenceNumber);Jg(l,E)})),l.remoteSyncer.applyRemoteEvent(f)})(t,n)}catch(i){xe(Ss,"Failed to raise snapshot:",i),await jf(t,i)}}async function jf(t,e,n){if(!Yl(e))throw e;t.Ea.add(1),await Nu(t),t.Ra.set("Offline"),n||(n=()=>sC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{xe(Ss,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Sd(t)}))}function dC(t,e){return e().catch((n=>jf(t,n,e)))}async function Ad(t){const e=qe(t),n=Lo(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Dg;for(;y9(e);)try{const o=await j6(e.localStore,i);if(o===null){e.Ta.length===0&&n.L_();break}i=o.batchId,_9(e,o)}catch(o){await jf(e,o)}hC(e)&&pC(e)}function y9(t){return Is(t)&&t.Ta.length<10}function _9(t,e){t.Ta.push(e);const n=Lo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hC(t){return Is(t)&&!Lo(t).x_()&&t.Ta.length>0}function pC(t){Lo(t).start()}async function v9(t){Lo(t).ra()}async function E9(t){const e=Lo(t);for(const n of t.Ta)e.ea(n.mutations)}async function T9(t,e,n){const i=t.Ta.shift(),o=Og.from(i,e,n);await dC(t,(()=>t.remoteSyncer.applySuccessfulWrite(o))),await Ad(t)}async function S9(t,e){e&&Lo(t).X_&&await(async function(i,o){if((function(u){return i6(u)&&u!==fe.ABORTED})(o.code)){const l=i.Ta.shift();Lo(i).B_(),await dC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Ad(i)}})(t,e),hC(t)&&pC(t)}async function oA(t,e){const n=qe(t);n.asyncQueue.verifyOperationInProgress(),xe(Ss,"RemoteStore received new credentials");const i=Is(n);n.Ea.add(3),await Nu(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sd(n)}async function A9(t,e){const n=qe(t);e?(n.Ea.delete(2),await Sd(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function Jl(t){return t.ma||(t.ma=(function(n,i,o){const l=qe(n);return l.sa(),new l9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:h9.bind(null,t),t_:p9.bind(null,t),r_:m9.bind(null,t),H_:g9.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),Kg(t)?$g(t):t.Ra.set("Unknown")):(await t.ma.stop(),fC(t))}))),t.ma}function Lo(t){return t.fa||(t.fa=(function(n,i,o){const l=qe(n);return l.sa(),new a9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:v9.bind(null,t),r_:S9.bind(null,t),ta:E9.bind(null,t),na:T9.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ad(t)):(await t.fa.stop(),t.Ta.length>0&&(xe(Ss,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,i,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new No,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,l){const u=Date.now()+i,f=new Qg(e,n,u,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Yl(t))return new Ae(fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ne.comparator(n.key,i.key):(n,i)=>Ne.comparator(n.key,i.key),this.keyedMap=iu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,i)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.ga=new kt(Ne.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ke(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,i)=>{e.push(i)})),e}}class Ll{constructor(e,n,i,o,l,u,f,p,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,o,l){const u=[];return n.forEach((f=>{u.push({type:0,doc:f})})),new Ll(e,n,Rl.emptySet(n),u,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class C9{constructor(){this.queries=lA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const o=qe(n),l=o.queries;o.queries=lA(),l.forEach(((u,f)=>{for(const p of f.Sa)p.onError(i)}))})(this,new Ae(fe.ABORTED,"Firestore shutting down"))}}function lA(){return new Cs((t=>Vx(t)),gd)}async function I9(t,e){const n=qe(t);let i=3;const o=e.query;let l=n.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new x9,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(o,!0);break;case 1:l.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const f=Xg(u,`Initialization of query '${_l(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Wg(n)}async function w9(t,e){const n=qe(t),i=e.query;let o=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R9(t,e){const n=qe(t);let i=!1;for(const o of e){const l=o.query,u=n.queries.get(l);if(u){for(const f of u.Sa)f.Fa(o)&&(i=!0);u.wa=o}}i&&Wg(n)}function b9(t,e,n){const i=qe(t),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(n);i.queries.delete(e)}function Wg(t){t.Ca.forEach((e=>{e.next()}))}var Xm,aA;(aA=Xm||(Xm={})).Ma="default",aA.Cache="cache";class N9{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ll(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.key=e}}class gC{constructor(e){this.key=e}}class D9{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=et(),this.mutatedKeys=et(),this.eu=Lx(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new sA,o=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,d=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,E)=>{const T=o.get(y),A=yd(this.query,E)?E:null,D=!!T&&this.mutatedKeys.has(T.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;T&&A?T.data.isEqual(A.data)?D!==U&&(i.track({type:3,doc:A}),k=!0):this.su(T,A)||(i.track({type:2,doc:A}),k=!0,(p&&this.eu(A,p)>0||d&&this.eu(A,d)<0)&&(f=!0)):!T&&A?(i.track({type:0,doc:A}),k=!0):T&&!A&&(i.track({type:1,doc:T}),k=!0,(p||d)&&(f=!0)),k&&(A?(u=u.add(A),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:f,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,E)=>(function(A,D){const U=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Rt:k})}};return U(A)-U(D)})(y.type,E.type)||this.eu(y.doc,E.doc))),this.ou(i),o=o??!1;const f=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,d=p!==this.Za;return this.Za=p,u.length!==0||d?{snapshot:new Ll(this.query,e.tu,l,u,e.mutatedKeys,p===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=et(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return e.forEach((i=>{this.Xa.has(i)||n.push(new gC(i))})),this.Xa.forEach((i=>{e.has(i)||n.push(new mC(i))})),n}cu(e){this.Ya=e.Qs,this.Xa=et();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jg="SyncEngine";class M9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class P9{constructor(e){this.key=e,this.hu=!1}}class k9{constructor(e,n,i,o,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Cs((f=>Vx(f)),gd),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Ne.comparator),this.Au=new Map,this.Ru=new Bg,this.Vu={},this.mu=new Map,this.fu=Vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function V9(t,e,n=!0){const i=SC(t);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await yC(i,e,n,!0),o}async function L9(t,e){const n=SC(t);await yC(n,e,!0,!1)}async function yC(t,e,n,i){const o=await Z6(t.localStore,hr(e)),l=o.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return i&&(f=await U9(t,e,l,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&uC(t.remoteStore,o),f}async function U9(t,e,n,i,o){t.pu=(E,T,A)=>(async function(U,k,z,j){let H=k.view.ru(z);H.Cs&&(H=await eA(U.localStore,k.query,!1).then((({documents:N})=>k.view.ru(N,H))));const re=j&&j.targetChanges.get(k.targetId),pe=j&&j.targetMismatches.get(k.targetId)!=null,K=k.view.applyChanges(H,U.isPrimaryClient,re,pe);return cA(U,k.targetId,K.au),K.snapshot})(t,E,T,A);const l=await eA(t.localStore,e,!0),u=new D9(e,l.Qs),f=u.ru(l.documents),p=bu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),d=u.applyChanges(f,t.isPrimaryClient,p);cA(t,n,d.au);const y=new M9(e,n,u);return t.Tu.set(e,y),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function O9(t,e,n){const i=qe(t),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter((u=>!gd(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Yg(i.remoteStore,o.targetId),Wm(i,o.targetId)})).catch(Gl)):(Wm(i,o.targetId),await Km(i.localStore,o.targetId,!0))}async function F9(t,e){const n=qe(t),i=n.Tu.get(e),o=n.Iu.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Yg(n.remoteStore,i.targetId))}async function q9(t,e,n){const i=$9(t);try{const o=await(function(u,f){const p=qe(u),d=Nt.now(),y=f.reduce(((A,D)=>A.add(D.key)),et());let E,T;return p.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Hr(),U=et();return p.Ns.getEntries(A,y).next((k=>{D=k,D.forEach(((z,j)=>{j.isValidDocument()||(U=U.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(A,D))).next((k=>{E=k;const z=[];for(const j of f){const H=jO(j,E.get(j.key).overlayedDocument);H!=null&&z.push(new Bo(j.key,H,Ix(H.value.mapValue),Oi.exists(!0)))}return p.mutationQueue.addMutationBatch(A,d,z,f)})).next((k=>{T=k;const z=k.applyToLocalDocumentSet(E,U);return p.documentOverlayCache.saveOverlays(A,k.batchId,z)}))})).then((()=>({batchId:T.batchId,changes:Ox(E)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(u,f,p){let d=u.Vu[u.currentUser.toKey()];d||(d=new kt(Ze)),d=d.insert(f,p),u.Vu[u.currentUser.toKey()]=d})(i,o.batchId,n),await Du(i,o.changes),await Ad(i.remoteStore)}catch(o){const l=Xg(o,"Failed to persist write");n.reject(l)}}async function _C(t,e){const n=qe(t);try{const i=await X6(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=n.Au.get(l);u&&(pt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?pt(u.hu,14607):o.removedDocuments.size>0&&(pt(u.hu,42227),u.hu=!1))})),await Du(n,i,e)}catch(i){await Gl(i)}}function uA(t,e,n){const i=qe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(u,f){const p=qe(u);p.onlineState=f;let d=!1;p.queries.forEach(((y,E)=>{for(const T of E.Sa)T.va(f)&&(d=!0)})),d&&Wg(p)})(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function B9(t,e,n){const i=qe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Au.get(e),l=o&&o.key;if(l){let u=new kt(Ne.comparator);u=u.insert(l,An.newNoDocument(l,Oe.min()));const f=et().add(l),p=new Ed(Oe.min(),new Map,new kt(Ze),u,f);await _C(i,p),i.du=i.du.remove(l),i.Au.delete(e),Zg(i)}else await Km(i.localStore,e,!1).then((()=>Wm(i,e,n))).catch(Gl)}async function z9(t,e){const n=qe(t),i=e.batch.batchId;try{const o=await Q6(n.localStore,e);EC(n,i,null),vC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Du(n,o)}catch(o){await Gl(o)}}async function H9(t,e,n){const i=qe(t);try{const o=await(function(u,f){const p=qe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return p.mutationQueue.lookupMutationBatch(d,f).next((E=>(pt(E!==null,37113),y=E.keys(),p.mutationQueue.removeMutationBatch(d,E)))).next((()=>p.mutationQueue.performConsistencyCheck(d))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(d,y,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>p.localDocuments.getDocuments(d,y)))}))})(i.localStore,e);EC(i,e,n),vC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Du(i,o)}catch(o){await Gl(o)}}function vC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function EC(t,e,n){const i=qe(t);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function Wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((i=>{t.Ru.containsKey(i)||TC(t,i)}))}function TC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Yg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zg(t))}function cA(t,e,n){for(const i of n)i instanceof mC?(t.Ru.addReference(i.key,e),G9(t,i)):i instanceof gC?(xe(jg,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||TC(t,i.key)):ke(19791,{wu:i})}function G9(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(xe(jg,"New document in limbo: "+n),t.Eu.add(i),Zg(t))}function Zg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ne(Ct.fromString(e)),i=t.fu.next();t.Au.set(i,new P9(n)),t.du=t.du.insert(n,i),uC(t.remoteStore,new Io(hr(Px(n.path)),i,"TargetPurposeLimboResolution",hd.ce))}}async function Du(t,e,n){const i=qe(t),o=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,p)=>{u.push(i.pu(p,e,n).then((d=>{var y;if((d||n)&&i.isPrimaryClient){const E=d?!d.fromCache:(y=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(d){o.push(d);const E=Hg.As(p.targetId,d);l.push(E)}})))})),await Promise.all(u),i.Pu.H_(o),await(async function(p,d){const y=qe(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>de.forEach(d,(T=>de.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(E,T.targetId,A))).next((()=>de.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(E,T.targetId,A)))))))))}catch(E){if(!Yl(E))throw E;xe(Gg,"Failed to update sequence numbers: "+E)}for(const E of d){const T=E.targetId;if(!E.fromCache){const A=y.Ms.get(T),D=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(T,U)}}})(i.localStore,l))}async function Y9(t,e){const n=qe(t);if(!n.currentUser.isEqual(e)){xe(jg,"User change. New user:",e.toKey());const i=await oC(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((f=>{f.forEach((p=>{p.reject(new Ae(fe.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Du(n,i.Ls)}}function J9(t,e){const n=qe(t),i=n.Au.get(e);if(i&&i.hu)return et().add(i.key);{let o=et();const l=n.Iu.get(e);if(!l)return o;for(const u of l){const f=n.Tu.get(u);o=o.unionWith(f.view.nu)}return o}}function SC(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_C.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B9.bind(null,e),e.Pu.H_=R9.bind(null,e.eventManager),e.Pu.yu=b9.bind(null,e.eventManager),e}function $9(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H9.bind(null,e),e}class Zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Td(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K6(this.persistence,new Y6,e.initialUser,this.serializer)}Cu(e){return new rC(zg.mi,this.serializer)}Du(e){return new t9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zf.provider={build:()=>new Zf};class K9 extends Zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){pt(this.persistence.referenceDelegate instanceof Wf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new N6(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qn.withCacheSize(this.cacheSizeBytes):qn.DEFAULT;return new rC((i=>Wf.mi(i,n)),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>uA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y9.bind(null,this.syncEngine),await A9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new C9})()}createDatastore(e){const n=Td(e.databaseInfo.databaseId),i=(function(l){return new s9(l)})(e.databaseInfo);return(function(l,u,f,p){return new c9(l,u,f,p)})(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return(function(i,o,l,u,f){return new d9(i,o,l,u,f)})(this.localStore,this.datastore,e.asyncQueue,(n=>uA(this.syncEngine,n,0)),(function(){return iA.v()?new iA:new n9})())}createSyncEngine(e,n){return(function(o,l,u,f,p,d,y){const E=new k9(o,l,u,f,p,d);return y&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=qe(o);xe(Ss,"RemoteStore shutting down."),l.Ea.add(5),await Nu(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="FirestoreClient";class X9{constructor(e,n,i,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{xe(Uo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(xe(Uo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new No;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Xg(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function im(t,e){t.asyncQueue.verifyOperationInProgress(),xe(Uo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async o=>{i.isEqual(o)||(await oC(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function fA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await W9(t);xe(Uo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((i=>oA(e.remoteStore,i))),t.setAppCheckTokenChangeListener(((i,o)=>oA(e.remoteStore,o))),t._onlineComponents=e}async function W9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe(Uo,"Using user provided OfflineComponentProvider");try{await im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Dl("Error using user provided cache. Falling back to memory cache: "+n),await im(t,new Zf)}}else xe(Uo,"Using default OfflineComponentProvider"),await im(t,new K9(void 0));return t._offlineComponents}async function AC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe(Uo,"Using user provided OnlineComponentProvider"),await fA(t,t._uninitializedComponentsProvider._online)):(xe(Uo,"Using default OnlineComponentProvider"),await fA(t,new jm))),t._onlineComponents}function j9(t){return AC(t).then((e=>e.syncEngine))}async function Z9(t){const e=await AC(t),n=e.eventManager;return n.onListen=V9.bind(null,e.syncEngine),n.onUnlisten=O9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=L9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F9.bind(null,e.syncEngine),n}function eF(t,e,n={}){const i=new No;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,p,d){const y=new Q9({next:T=>{y.Nu(),u.enqueueAndForget((()=>w9(l,E))),T.fromCache&&p.source==="server"?d.reject(new Ae(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(T)},error:T=>d.reject(T)}),E=new N9(f,y,{includeMetadataChanges:!0,qa:!0});return I9(l,E)})(await Z9(t),t.asyncQueue,e,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firestore.googleapis.com",hA=!0;class pA{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CC,this.ssl=hA}else this.host=e.host,this.ssl=e.ssl??hA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R6)throw new Ae(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ae(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new nO;switch(i.type){case"firstParty":return new sO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ae(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=dA.get(n);i&&(xe("ComponentProvider","Removing Datastore"),dA.delete(n),i.terminate())})(this),Promise.resolve()}}function tF(t,e,n,i={}){var d;t=Ts(t,xd);const o=wg(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},f=`${e}:${n}`;o&&(bU(`https://${f}`),PU("Firestore",!0)),l.host!==CC&&l.host!==f&&Dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!qf(p,u)&&(t._setSettings(p),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=Sn.MOCK_USER;else{y=NU(i.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new Ae(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Sn(T)}t._authCredentials=new iO(new px(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class rn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Do(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}toJSON(){return{type:rn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(Iu(n,rn._jsonSchema))return new rn(e,i||null,new Ne(Ct.fromString(n.referencePath)))}}rn._jsonSchemaVersion="firestore/documentReference/1.0",rn._jsonSchema={type:Zt("string",rn._jsonSchemaVersion),referencePath:Zt("string")};class Do extends $l{constructor(e,n,i){super(e,n,Px(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new Ne(e))}withConverter(e){return new Do(this.firestore,e,this._path)}}function ey(t,e,...n){if(t=qr(t),mx("collection","path",e),t instanceof xd){const i=Ct.fromString(e,...n);return wS(i),new Do(t,null,i)}{if(!(t instanceof rn||t instanceof Do))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return wS(i),new Do(t.firestore,null,i)}}function Mu(t,e,...n){if(t=qr(t),arguments.length===1&&(e=Ng.newId()),mx("doc","path",e),t instanceof xd){const i=Ct.fromString(e,...n);return IS(i),new rn(t,null,new Ne(i))}{if(!(t instanceof rn||t instanceof Do))throw new Ae(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ct.fromString(e,...n));return IS(i),new rn(t.firestore,t instanceof Do?t.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="AsyncQueue";class gA{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lC(this,"async_queue_retry"),this._c=()=>{const i=nm();i&&xe(mA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new No;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yl(e))throw e;xe(mA,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",yA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Qg.createAndSchedule(this,e,n,i,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&ke(47125,{Pc:yA(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Pu extends xd{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new gA,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gA(e),this._firestoreClient=void 0,await e}}}function nF(t,e){const n=typeof t=="object"?t:H5(),i=typeof t=="string"?t:Gf,o=O5(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=wU("firestore");l&&tF(o,...l)}return o}function IC(t){if(t._terminated)throw new Ae(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||iF(t),t._firestoreClient}function iF(t){var i,o,l;const e=t._freezeSettings(),n=(function(f,p,d,y){return new AO(f,p,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,xC(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ei(_n.fromBase64String(e))}catch(n){throw new Ae(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ei(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Ei._jsonSchema))return Ei.fromBase64String(e.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:Zt("string",Ei._jsonSchemaVersion),bytes:Zt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ae(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ae(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ae(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ze(this._lat,e._lat)||Ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:Zt("string",mr._jsonSchemaVersion),latitude:Zt("number"),longitude:Zt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new gr(e.vectorValues);throw new Ae(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:Zt("string",gr._jsonSchemaVersion),vectorValues:Zt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=/^__.*__$/;class oF{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class wC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{Ac:t})}}class ny{constructor(e,n,i,o,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ny({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ed(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RC(this.Ac)&&rF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sF{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Td(e)}Cc(e,n,i,o=!1){return new ny({Ac:e,methodName:n,Dc:i,path:yn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iy(t){const e=t._freezeSettings(),n=Td(t._databaseId);return new sF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lF(t,e,n,i,o,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,o);ry("Data must be an object, but it was:",u,i);const f=bC(i,u);let p,d;if(l.merge)p=new ni(u.fieldMask),d=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=Zm(e,E,n);if(!u.contains(T))throw new Ae(fe.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DC(y,T)||y.push(T)}p=new ni(y),d=u.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,d=u.fieldTransforms;return new oF(new Bn(f),p,d)}class Id extends ty{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Id}}function aF(t,e,n,i){const o=t.Cc(1,e,n);ry("Data must be an object, but it was:",o,i);const l=[],u=Bn.empty();qo(i,((p,d)=>{const y=oy(e,p,n);d=qr(d);const E=o.yc(y);if(d instanceof Id)l.push(y);else{const T=ku(d,E);T!=null&&(l.push(y),u.set(y,T))}}));const f=new ni(l);return new wC(u,f,o.fieldTransforms)}function uF(t,e,n,i,o,l){const u=t.Cc(1,e,n),f=[Zm(e,i,n)],p=[o];if(l.length%2!=0)throw new Ae(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Zm(e,l[T])),p.push(l[T+1]);const d=[],y=Bn.empty();for(let T=f.length-1;T>=0;--T)if(!DC(d,f[T])){const A=f[T];let D=p[T];D=qr(D);const U=u.yc(A);if(D instanceof Id)d.push(A);else{const k=ku(D,U);k!=null&&(d.push(A),y.set(A,k))}}const E=new ni(d);return new wC(y,E,u.fieldTransforms)}function cF(t,e,n,i=!1){return ku(n,t.Cc(i?4:3,e))}function ku(t,e){if(NC(t=qr(t)))return ry("Unsupported field value:",e,t),bC(t,e);if(t instanceof ty)return(function(i,o){if(!RC(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,o){const l=[];let u=0;for(const f of i){let p=ku(f,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(t,e)}return(function(i,o){if((i=qr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JO(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:Xf(o.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xf(o.serializer,l)}}if(i instanceof mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ei)return{bytesValue:Xx(o.serializer,i._byteString)};if(i instanceof rn){const l=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:qg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof gr)return(function(u,f){return{mapValue:{fields:{[xx]:{stringValue:Cx},[Yf]:{arrayValue:{values:u.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return Lg(f.serializer,d)}))}}}}}})(i,o);throw o.Sc(`Unsupported field value: ${dd(i)}`)})(t,e)}function bC(t,e){const n={};return _x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(t,((i,o)=>{const l=ku(o,e.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function NC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nt||t instanceof mr||t instanceof Ei||t instanceof rn||t instanceof ty||t instanceof gr)}function ry(t,e,n){if(!NC(n)||!gx(n)){const i=dd(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Zm(t,e,n){if((e=qr(e))instanceof Cd)return e._internalPath;if(typeof e=="string")return oy(t,e);throw ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const fF=new RegExp("[~\\*/\\[\\]]");function oy(t,e,n){if(e.search(fF)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ed(t,e,n,i,o){const l=i&&!i.isEmpty(),u=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${i}`),u&&(p+=` in document ${o}`),p+=")"),new Ae(fe.INVALID_ARGUMENT,f+t+p)}function DC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,i,o,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class dF extends MC{data(){return super.data()}}function PC(t,e){return typeof e=="string"?oy(t,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ae(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class pF extends sy{}function mF(t,e,...n){let i=[];e instanceof sy&&i.push(e),i=i.concat(n),(function(l){const u=l.filter((p=>p instanceof ay)).length,f=l.filter((p=>p instanceof ly)).length;if(u>1||u>0&&f>0)throw new Ae(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)t=o._apply(t);return t}class ly extends pF{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new ly(e,n,i)}_apply(e){const n=this._parse(e);return kC(e._query,n),new $l(e.firestore,e.converter,zm(e._query,n))}_parse(e){const n=iy(e.firestore);return(function(l,u,f,p,d,y,E){let T;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){vA(E,y);const D=[];for(const U of E)D.push(_A(p,l,U));T={arrayValue:{values:D}}}else T=_A(p,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||vA(E,y),T=cF(f,u,E,y==="in"||y==="not-in");return jt.create(d,y,T)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ay extends sy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ay(e,n)}_parse(e){const n=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let u=o;const f=l.getFlattenedFilters();for(const p of f)kC(u,p),u=zm(u,p)})(e._query,n),new $l(e.firestore,e.converter,zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _A(t,e,n){if(typeof(n=qr(n))=="string"){if(n==="")throw new Ae(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(e)&&n.indexOf("/")!==-1)throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ct.fromString(n));if(!Ne.isDocumentKey(i))throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return VS(t,new Ne(i))}if(n instanceof rn)return VS(t,n._key);throw new Ae(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dd(n)}.`)}function vA(t,e){if(!Array.isArray(t)||t.length===0)throw new Ae(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kC(t,e){const n=(function(o,l){for(const u of o)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(t.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class gF{convertValue(e,n="none"){switch(Vo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qo(e,((o,l)=>{i[o]=this.convertValue(l,n)})),i}convertVectorValue(e){var i,o,l;const n=(l=(o=(i=e.fields)==null?void 0:i[Yf].arrayValue)==null?void 0:o.values)==null?void 0:l.map((u=>qt(u.doubleValue)));return new gr(n)}convertGeoPoint(e){return new mr(qt(e.latitude),qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const i=md(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=Po(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ct.fromString(e);pt(nC(i),9688,{name:e});const o=new Eu(i.get(1),i.get(3)),l=new Ne(i.popFirst(5));return o.isEqual(n)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class vf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bl extends MC{constructor(e,n,i,o,l,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(PC("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=bl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}bl._jsonSchemaVersion="firestore/documentSnapshot/1.0",bl._jsonSchema={type:Zt("string",bl._jsonSchemaVersion),bundleSource:Zt("string","DocumentSnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class Nf extends bl{data(e={}){return super.data(e)}}class Nl{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vf(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((i=>{e.call(n,new Nf(this._firestore,this._userDataWriter,i.key,i,new vf(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ae(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((f=>{const p=new Nf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vf(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new Nf(o._firestore,o._userDataWriter,f.doc.key,f.doc,new vf(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let d=-1,y=-1;return f.type!==0&&(d=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:_F(f.type),doc:p,oldIndex:d,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Nl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _F(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}Nl._jsonSchemaVersion="firestore/querySnapshot/1.0",Nl._jsonSchema={type:Zt("string",Nl._jsonSchemaVersion),bundleSource:Zt("string","QuerySnapshot"),bundleName:Zt("string"),bundle:Zt("string")};class vF extends gF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,n)}}function EF(t){t=Ts(t,$l);const e=Ts(t.firestore,Pu),n=IC(e),i=new vF(e);return hF(t._query),eF(n,t._query).then((o=>new Nl(e,i,t,o)))}function VC(t,e,n,...i){t=Ts(t,rn);const o=Ts(t.firestore,Pu),l=iy(o);let u;return u=typeof(e=qr(e))=="string"||e instanceof Cd?uF(l,"updateDoc",t._key,e,n,i):aF(l,"updateDoc",t._key,e),uy(o,[u.toMutation(t._key,Oi.exists(!0))])}function LC(t){return uy(Ts(t.firestore,Pu),[new Ug(t._key,Oi.none())])}function UC(t,e){const n=Ts(t.firestore,Pu),i=Mu(t),o=yF(t.converter,e);return uy(n,[lF(iy(t.firestore),"addDoc",i._key,o,t.converter!==null,{}).toMutation(i._key,Oi.exists(!1))]).then((()=>i))}function uy(t,e){return(function(i,o){const l=new No;return i.asyncQueue.enqueueAndForget((async()=>q9(await j9(i),o,l))),l.promise})(IC(t),e)}(function(e,n=!0){(function(o){Hl=o})(z5),zf(new gu("firestore",((i,{instanceIdentifier:o,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Pu(new rO(i.getProvider("auth-internal")),new lO(u,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Ae(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(d.options.projectId,y)})(u,o),u);return l={useFetchStreams:n,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),wl(SS,AS,e),wl(SS,AS,"esm2020")})();const TF={apiKey:"AIzaSyDgdUYq80uSRJLQcJYMzQM6nk77D4ql5Rg",authDomain:"tabibfaqih.firebaseapp.com",projectId:"tabibfaqih",storageBucket:"tabibfaqih.firebasestorage.app",messagingSenderId:"202460803784",appId:"1:202460803784:web:9c6cd0a97b622206f4abfd",measurementId:"G-KMCRY4YDWN"},SF=rx(TF),ws=nF(SF),wd="fatwas",cy="lataif",AF=async()=>{try{const t=mF(ey(ws,wd)),e=await EF(t),n=[];return e.forEach(i=>{const o=i.data();n.push({...o,_firestoreId:i.id})}),n}catch(t){return console.error("Error fetching fatwas: ",t),[]}},xF=async t=>{try{return(await UC(ey(ws,wd),t)).id}catch(e){return console.error("Error adding fatwa: ",e),null}},CF=async t=>{try{return await LC(Mu(ws,wd,t)),!0}catch(e){return console.error("Error deleting fatwa: ",e),!1}},IF=async t=>{if(!t._firestoreId)return!1;try{const e=Mu(ws,wd,t._firestoreId),{_firestoreId:n,...i}=t;return await VC(e,i),!0}catch(e){return console.error("Error updating fatwa: ",e),!1}},wF=async t=>{try{const e=JSON.parse(JSON.stringify(t));return(await UC(ey(ws,cy),e)).id}catch(e){return console.error("Error adding latifa: ",e),null}},RF=async t=>{if(!t._firestoreId)return!1;try{const e=Mu(ws,cy,t._firestoreId),{_firestoreId:n,...i}=t;return await VC(e,i),!0}catch(e){return console.error("Error updating latifa: ",e),!1}},bF=async t=>{try{return await LC(Mu(ws,cy,t)),!0}catch(e){return console.error("Error deleting latifa: ",e),!1}},NF=[{id:1,text:"        ",author:" "},{id:2,text:"            ",author:" "}],EA=t=>t?t.replace(/(||)/g,"").replace(//g,"").replace(//g,"").replace(/[\u064B-\u065F]/g,"").replace(/[^\w\s\u0600-\u06FF]/g," ").toLowerCase().trim().replace(/(^|\s)/g,"$1"):"",OC="deletedFatwaIds",FC="deletedLatifaIds",qC=()=>{try{const t=localStorage.getItem(OC);return t?JSON.parse(t):[]}catch{return[]}},DF=t=>{const e=qC();e.includes(t)||(e.push(t),localStorage.setItem(OC,JSON.stringify(e)))},BC=()=>{try{const t=localStorage.getItem(FC);return t?JSON.parse(t):[]}catch{return[]}},MF=t=>{const e=BC();e.includes(t)||(e.push(t),localStorage.setItem(FC,JSON.stringify(e)))},PF=()=>{const[t,e]=Le.useState("chat"),[n,i]=Le.useState(null),[o,l]=Le.useState(Jv),[u,f]=Le.useState(Pp),[p,d]=Le.useState(""),[y,E]=Le.useState([]),[T,A]=Le.useState(!1),[D,U]=Le.useState(!1),[k,z]=Le.useState(null),j=Le.useRef(null),H=()=>{var B;t==="chat"&&((B=j.current)==null||B.scrollIntoView({behavior:"smooth"}))};Le.useEffect(()=>{(async()=>{const te=qC(),he=BC(),Se=await AF(),O=Jv.filter(ie=>!te.includes(ie.id));l([...O,...Se]);const Y=Pp.filter(ie=>!he.includes(ie.id));f(Y)})()},[]),Le.useEffect(()=>{H()},[y,T,t]);const re=async B=>{const te=await xF(B);l(te?he=>[...he,{...B,_firestoreId:te}]:he=>[...he,B])},pe=async B=>{const te=o.find(he=>he.id===B);te&&te._firestoreId?await CF(te._firestoreId)?l(Se=>Se.filter(O=>O.id!==B)):alert("      ."):(DF(B),l(he=>he.filter(Se=>Se.id!==B)))},K=async B=>{B._firestoreId&&(await IF(B)||alert("     ")),l(te=>te.map(he=>he.id===B.id?B:he))},N=async B=>{const te=Math.max(...Pp.map(O=>O.id),...u.map(O=>O.id))+1,he={...B,id:te},Se=await wF(he);Se?f(O=>[...O,{...he,_firestoreId:Se}]):alert("     ")},M=async B=>{if(B._firestoreId&&!await RF(B)){alert("     ");return}f(te=>te.map(he=>he.id===B.id?B:he))},b=async B=>{const te=u.find(he=>he.id===B);if(!te){alert("  ");return}if(te._firestoreId){if(!await bF(te._firestoreId)){alert("    ");return}}else MF(B);f(he=>he.filter(Se=>Se.id!==B))},F=()=>{if(!p.trim())return;t!=="chat"&&e("chat");const B={role:"user",content:p,timestamp:new Date,isFatwa:!1};E(te=>[...te,B]),A(!0),setTimeout(()=>{const he=EA(p).split(/\s+/).filter(Boolean),Se=o.filter(O=>{const Y=[O.title,O.question,...O.tags].map(ie=>EA(ie||"")).join(" ");return he.every(ie=>Y.includes(ie))});if(Se.length>0){const O={role:"model",content:Se,timestamp:new Date,isFatwa:!0};E(Y=>[...Y,O])}else{const O={role:"model",content:"             .        .",timestamp:new Date,isFatwa:!1};E(Y=>[...Y,O])}A(!1)},600),d("")},L=B=>{B.key==="Enter"&&F()},q=B=>{i(B),e("details"),U(!1)},V=B=>{z(te=>te===B?null:B)},ge=()=>{e("chat"),i(null)},me=o.reduce((B,te)=>(B[te.category]||(B[te.category]=[]),B[te.category].push(te),B),{});return I.jsxs("div",{className:"h-full flex flex-col bg-gray-50/50 relative font-cairo text-right",children:[I.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar w-full max-w-3xl mx-auto px-4 pt-6 pb-4",children:[I.jsxs("div",{className:"flex flex-col items-center mb-3",children:[I.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[I.jsx(sm,{className:"w-6 h-6 text-teal-600"}),I.jsx("h1",{className:"text-2xl font-extrabold text-gray-800 tracking-tight",children:" "}),I.jsx(sm,{className:"w-6 h-6 text-teal-600 transform scale-x-[-1]"})]}),I.jsx("p",{className:"text-teal-600 font-medium text-xs",children:"(  )"})]}),t==="admin"?I.jsx(mU,{onClose:()=>e("chat"),onAddFatwa:re,onDeleteFatwa:pe,onUpdateFatwa:K,currentFatwas:o,currentLataif:u,onAddLatifa:N,onUpdateLatifa:M,onDeleteLatifa:b}):t==="details"&&n?I.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-8 duration-500",children:[I.jsxs("button",{onClick:ge,className:"mb-4 flex items-center gap-2 text-gray-500 hover:text-teal-600 transition-colors font-bold text-sm bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm",children:[I.jsx(Fw,{className:"w-4 h-4"}),I.jsx("span",{children:"  "})]}),I.jsx(Sf,{fatwa:n})]}):I.jsx(I.Fragment,{children:y.length===0?I.jsxs("div",{className:"w-full flex flex-col items-center animate-in fade-in duration-500",children:[I.jsx(gU,{data:u}),I.jsx("div",{className:"bg-white p-3 rounded-full shadow-sm mb-4 animate-pulse",children:I.jsx(uR,{className:"w-8 h-8 text-teal-600"})}),I.jsxs("div",{className:"text-center mb-4",children:[I.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-1",children:"  "}),I.jsx("p",{className:"text-gray-500 text-xs",children:"        "})]}),I.jsx("div",{className:"w-full space-y-3 mb-2",children:NF.map(B=>I.jsx(LR,{quote:B},B.id))})]}):I.jsxs("div",{className:"w-full space-y-6 mb-4",children:[y.map((B,te)=>I.jsx("div",{className:`flex w-full ${B.role==="user"?"justify-start":"justify-end"}`,children:B.isFatwa&&Array.isArray(B.content)?I.jsxs("div",{className:"w-full max-w-2xl space-y-4 animate-in slide-in-from-bottom-4 fade-in",children:[I.jsxs("div",{className:"bg-teal-50 border border-teal-100 p-3 rounded-xl text-teal-800 text-sm font-bold flex items-center gap-2",children:[I.jsx(om,{className:"w-4 h-4"}),I.jsxs("span",{children:["   ",B.content.length,"   :"]})]}),B.content.map((he,Se)=>I.jsx(Sf,{fatwa:he},he.id||Se))]}):B.isFatwa&&!Array.isArray(B.content)&&typeof B.content!="string"?I.jsx("div",{className:"w-full max-w-2xl",children:I.jsx(Sf,{fatwa:B.content})}):I.jsx("div",{className:`max-w-[85%] rounded-2xl p-4 shadow-sm text-base ${B.role==="user"?"bg-teal-600 text-white rounded-tr-none":"bg-white border border-gray-100 text-gray-800 rounded-tl-none"}`,children:B.role==="model"?I.jsx("div",{className:"prose prose-sm max-w-none text-right font-medium leading-7 dir-rtl",children:I.jsx(r1,{children:B.content})}):I.jsx("p",{className:"font-medium",children:B.content})})},te)),T&&I.jsx("div",{className:"flex justify-end w-full",children:I.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center gap-2",children:[I.jsx(tg,{className:"w-4 h-4 text-teal-500 animate-spin"}),I.jsx("span",{className:"text-sm text-gray-400",children:"   ..."})]})}),I.jsx("div",{ref:j})]})})]}),t!=="admin"&&I.jsx("footer",{className:"flex-shrink-0 w-full bg-white border-t border-gray-200 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:I.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-2 flex flex-col gap-2",children:[I.jsxs("div",{className:"w-full relative",children:[I.jsxs("button",{onClick:()=>U(!D),className:`w-full border rounded-lg py-2 px-3 flex items-center justify-between font-semibold transition-colors text-xs ${D?"bg-teal-50 border-teal-200 text-teal-700":"bg-sky-50 border-sky-100 text-gray-700 hover:bg-sky-100"}`,children:[I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx(Bw,{className:"w-3.5 h-3.5"}),I.jsx("span",{className:"text-sm",children:" "})]}),I.jsx(zv,{className:`w-3.5 h-3.5 transition-transform duration-300 ${D?"rotate-180":""}`})]}),D&&I.jsxs("div",{className:"absolute z-50 bottom-full mb-2 w-full bg-white rounded-xl shadow-2xl border border-gray-200 max-h-[60vh] overflow-y-auto custom-scrollbar",children:[I.jsx("div",{className:"p-2 border-b border-gray-100 sticky top-0 bg-white rounded-t-xl",children:I.jsxs("a",{href:"   .pdf",download:!0,className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-orange-50 hover:from-amber-100 hover:to-orange-100 text-amber-800 rounded-lg text-xs font-bold transition-colors border border-amber-200",children:[I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[I.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),I.jsx("polyline",{points:"14 2 14 8 20 8"})]}),I.jsx("span",{children:"            -  "})]})}),su.map(B=>{const te=me[B.id];if(!te||te.length===0)return null;const he=k===B.id;return I.jsxs("div",{className:"border-b border-gray-100 last:border-0",children:[I.jsxs("button",{onClick:()=>V(B.id),className:`w-full flex items-center justify-between p-2 text-right hover:bg-gray-50 transition-colors ${he?"bg-gray-50":""}`,children:[I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx("span",{className:`w-2 h-6 rounded-full ${B.color.replace("text-","bg-").split(" ")[0]}`}),I.jsx("span",{className:"text-xs font-bold text-gray-700",children:B.name}),I.jsx("span",{className:"text-[10px] bg-gray-100 text-gray-500 px-1.5 py-0.5 rounded-full",children:te.length})]}),I.jsx(zv,{className:`w-3.5 h-3.5 text-gray-400 transition-transform duration-300 ${he?"rotate-180":""}`})]}),I.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${he?"max-h-[3000px] opacity-100":"max-h-0 opacity-0"}`,children:I.jsx("div",{className:"bg-gray-50/50 p-1.5 space-y-0.5",children:te.map(Se=>I.jsxs("button",{onClick:()=>q(Se),className:"w-full text-right px-3 py-2 text-xs text-gray-600 hover:bg-white hover:text-teal-700 hover:shadow-sm rounded-lg transition-all duration-200 flex items-center gap-1.5 group",children:[I.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-300 group-hover:bg-teal-500 transition-colors"}),I.jsx("span",{className:"truncate",children:Se.title})]},Se.id))})})]},B.id)})]})]}),I.jsxs("div",{className:"w-full relative",children:[I.jsx("input",{type:"text",value:p,onChange:B=>d(B.target.value),onKeyDown:L,placeholder:"      ",className:"w-full bg-gray-50 border-2 border-gray-100 hover:border-teal-200 focus:border-teal-500 rounded-full py-2 pr-5 pl-12 text-base text-gray-700 placeholder-gray-400 outline-none transition-all shadow-sm focus:bg-white"}),I.jsx("button",{onClick:F,disabled:T||!p.trim(),className:"absolute left-1.5 top-1/2 -translate-y-1/2 p-1.5 bg-transparent hover:bg-teal-50 rounded-full transition-colors disabled:opacity-50",children:I.jsx(CR,{className:`w-4 h-4 ${p.trim()?"text-teal-600":"text-gray-300"}`})})]}),I.jsx("div",{className:"text-center pt-1",children:I.jsx("p",{className:"text-gray-400 text-xs font-medium leading-tight",children:"(         -   )"})}),I.jsxs("div",{className:"flex justify-between items-center w-full pb-0.5 pt-0.5",children:[I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx("span",{className:"text-[9px] font-bold text-teal-700",children:" :"}),I.jsxs("div",{className:"flex items-center gap-1.5",children:[I.jsx("a",{href:"https://www.facebook.com/share/17XjZt9zR5/?mibextid=wwXIfr",target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white p-0.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:I.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:I.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),I.jsx("a",{href:"https://t.me/El_Faioumy",target:"_blank",rel:"noopener noreferrer",className:"bg-sky-500 text-white p-0.5 rounded-full hover:scale-110 transition-transform flex items-center justify-center",children:I.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[I.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),I.jsx("path",{d:"M22 2 11 13"})]})})]})]}),I.jsx("button",{onClick:()=>e("admin"),className:"w-8 h-8 bg-teal-600 hover:bg-teal-700 text-white rounded-full shadow-md flex items-center justify-center transition-transform hover:scale-105 active:scale-95",children:I.jsx(wR,{className:"w-4 h-4 animate-[spin_10s_linear_infinite]"})})]})]})})]})},zC=document.getElementById("root");if(!zC)throw new Error("Could not find root element to mount to");const kF=Nw.createRoot(zC);kF.render(I.jsx(Sw.StrictMode,{children:I.jsx(PF,{})}));
